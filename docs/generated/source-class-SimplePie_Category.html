<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="generator" content="ApiGen 2.8.0" />
	<meta name="robots" content="noindex" />

	<title>File Native5/Lib/SimplePie.compiled.php | Native5 Client SDK</title>

	<script type="text/javascript" src="resources/combined.js?554516056"></script>
	<script type="text/javascript" src="elementlist.js?1017732660"></script>
	<link rel="stylesheet" type="text/css" media="all" href="resources/style.css?3505392360" />

</head>

<body>
<div id="left">
	<div id="menu">
		<a href="index.html" title="Overview"><span>Overview</span></a>


		<div id="groups">
			<h3>Namespaces</h3>
			<ul>
				<li><a href="namespace-Native5.html">Native5<span></span></a>
						<ul>
				<li><a href="namespace-Native5.Accounts.html">Accounts</a>
						</li>
				<li><a href="namespace-Native5.Connectors.html">Connectors<span></span></a>
						<ul>
				<li><a href="namespace-Native5.Connectors.Database.html">Database</a>
						</li>
							</ul></li>
				<li><a href="namespace-Native5.Control.html">Control</a>
						</li>
				<li><a href="namespace-Native5.Identity.html">Identity</a>
						</li>
				<li><a href="namespace-Native5.Messaging.html">Messaging<span></span></a>
						<ul>
				<li><a href="namespace-Native5.Messaging.Gateways.html">Gateways</a>
						</li>
				<li><a href="namespace-Native5.Messaging.Mail.html">Mail</a>
						</li>
				<li><a href="namespace-Native5.Messaging.SMS.html">SMS</a>
						</li>
				<li><a href="namespace-Native5.Messaging.Voice.html">Voice</a>
						</li>
							</ul></li>
				<li><a href="namespace-Native5.Route.html">Route</a>
						</li>
				<li><a href="namespace-Native5.Scheduler.html">Scheduler</a>
						</li>
				<li><a href="namespace-Native5.Security.html">Security</a>
						</li>
				<li><a href="namespace-Native5.Sessions.html">Sessions</a>
						</li>
				<li><a href="namespace-Native5.UI.html">UI</a>
						</li>
				<li><a href="namespace-Native5.Users.html">Users</a>
						</li>
				<li><a href="namespace-Native5.Util.html">Util</a>
						</li>
							</ul></li>
				<li class="active"><a href="namespace-None.html">None</a>
						</li>
			</ul>
		</div>

		<hr />


		<div id="elements">
			<h3>Classes</h3>
			<ul>
				<li><a href="class-AbstractConnector.html">AbstractConnector</a></li>
				<li><a href="class-Article.html">Article</a></li>
				<li><a href="class-ArticleImage.html">ArticleImage</a></li>
				<li><a href="class-BaseTemplate.html">BaseTemplate</a></li>
				<li><a href="class-DumpTest.html">DumpTest</a></li>
				<li><a href="class-IndentTest.html">IndentTest</a></li>
				<li><a href="class-LDAPIdentityManager.html">LDAPIdentityManager</a></li>
				<li><a href="class-Log.html">Log</a></li>
				<li><a href="class-Log_composite.html">Log_composite</a></li>
				<li><a href="class-Log_console.html">Log_console</a></li>
				<li><a href="class-Log_daemon.html">Log_daemon</a></li>
				<li><a href="class-Log_display.html">Log_display</a></li>
				<li><a href="class-Log_error_log.html">Log_error_log</a></li>
				<li><a href="class-Log_file.html">Log_file</a></li>
				<li><a href="class-Log_firebug.html">Log_firebug</a></li>
				<li><a href="class-Log_mail.html">Log_mail</a></li>
				<li><a href="class-Log_mcal.html">Log_mcal</a></li>
				<li><a href="class-Log_mdb2.html">Log_mdb2</a></li>
				<li><a href="class-Log_null.html">Log_null</a></li>
				<li><a href="class-Log_observer.html">Log_observer</a></li>
				<li><a href="class-Log_sql.html">Log_sql</a></li>
				<li><a href="class-Log_sqlite.html">Log_sqlite</a></li>
				<li><a href="class-Log_syslog.html">Log_syslog</a></li>
				<li><a href="class-Log_win.html">Log_win</a></li>
				<li><a href="class-Logger.html">Logger</a></li>
				<li><a href="class-ParseTest.html">ParseTest</a></li>
				<li><a href="class-Reader.html">Reader</a></li>
				<li><a href="class-RequestChecker.html">RequestChecker</a></li>
				<li><a href="class-RoundTripTest.html">RoundTripTest</a></li>
				<li><a href="class-SimplePie.html">SimplePie</a></li>
				<li><a href="class-SimplePie_Author.html">SimplePie_Author</a></li>
				<li><a href="class-SimplePie_Cache.html">SimplePie_Cache</a></li>
				<li><a href="class-SimplePie_Cache_DB.html">SimplePie_Cache_DB</a></li>
				<li><a href="class-SimplePie_Cache_File.html">SimplePie_Cache_File</a></li>
				<li><a href="class-SimplePie_Cache_Memcache.html">SimplePie_Cache_Memcache</a></li>
				<li><a href="class-SimplePie_Cache_MySQL.html">SimplePie_Cache_MySQL</a></li>
				<li><a href="class-SimplePie_Caption.html">SimplePie_Caption</a></li>
				<li class="active"><a href="class-SimplePie_Category.html">SimplePie_Category</a></li>
				<li><a href="class-SimplePie_Content_Type_Sniffer.html">SimplePie_Content_Type_Sniffer</a></li>
				<li><a href="class-SimplePie_Copyright.html">SimplePie_Copyright</a></li>
				<li><a href="class-SimplePie_Core.html">SimplePie_Core</a></li>
				<li><a href="class-SimplePie_Credit.html">SimplePie_Credit</a></li>
				<li><a href="class-SimplePie_Enclosure.html">SimplePie_Enclosure</a></li>
				<li><a href="class-SimplePie_File.html">SimplePie_File</a></li>
				<li><a href="class-SimplePie_gzdecode.html">SimplePie_gzdecode</a></li>
				<li><a href="class-SimplePie_HTTP_Parser.html">SimplePie_HTTP_Parser</a></li>
				<li><a href="class-SimplePie_IRI.html">SimplePie_IRI</a></li>
				<li><a href="class-SimplePie_Item.html">SimplePie_Item</a></li>
				<li><a href="class-SimplePie_Locator.html">SimplePie_Locator</a></li>
				<li><a href="class-SimplePie_Misc.html">SimplePie_Misc</a></li>
				<li><a href="class-SimplePie_Net_IPv6.html">SimplePie_Net_IPv6</a></li>
				<li><a href="class-SimplePie_Parse_Date.html">SimplePie_Parse_Date</a></li>
				<li><a href="class-SimplePie_Parser.html">SimplePie_Parser</a></li>
				<li><a href="class-SimplePie_Rating.html">SimplePie_Rating</a></li>
				<li><a href="class-SimplePie_Registry.html">SimplePie_Registry</a></li>
				<li><a href="class-SimplePie_Restriction.html">SimplePie_Restriction</a></li>
				<li><a href="class-SimplePie_Sanitize.html">SimplePie_Sanitize</a></li>
				<li><a href="class-SimplePie_Source.html">SimplePie_Source</a></li>
				<li><a href="class-SimplePie_XML_Declaration_Parser.html">SimplePie_XML_Declaration_Parser</a></li>
				<li><a href="class-Spyc.html">Spyc</a></li>
				<li><a href="class-UA.html">UA</a></li>
			</ul>

			<h3>Interfaces</h3>
			<ul>
				<li><a href="class-iSecure.html">iSecure</a></li>
				<li><a href="class-SimplePie_Cache_Base.html">SimplePie_Cache_Base</a></li>
			</ul>




			<h3>Functions</h3>
			<ul>
				<li><a href="function-json_decode.html">json_decode</a></li>
				<li><a href="function-json_encode.html">json_encode</a></li>
				<li><a href="function-php5to4.html">php5to4</a></li>
				<li><a href="function-roundTrip.html">roundTrip</a></li>
				<li><a href="function-spyc_load.html">spyc_load</a></li>
				<li><a href="function-spyc_load_file.html">spyc_load_file</a></li>
			</ul>
		</div>
	</div>
</div>

<div id="splitter"></div>

<div id="right">
<div id="rightInner">
	<form id="search">
		<input type="hidden" name="cx" value="" />
		<input type="hidden" name="ie" value="UTF-8" />
		<input type="text" name="q" class="text" />
		<input type="submit" value="Search" />
	</form>

	<div id="navigation">
		<ul>
			<li>
				<a href="index.html" title="Overview"><span>Overview</span></a>
			</li>
			<li>
				<a href="namespace-None.html" title="Summary of None"><span>Namespace</span></a>
			</li>
			<li>
				<a href="class-SimplePie_Category.html" title="Summary of SimplePie_Category"><span>Class</span></a>
			</li>
		</ul>
		<ul>
			<li>
				<a href="tree.html" title="Tree view of classes, interfaces, traits and exceptions"><span>Tree</span></a>
			</li>
		</ul>
		<ul>
		</ul>
	</div>

<pre><code><span id="1" class="l"><a class="l" href="#1">    1: </a><span class="xlang">&lt;?php</span>
</span><span id="2" class="l"><a class="l" href="#2">    2: </a><span class="php-comment">/**
</span></span><span id="3" class="l"><a class="l" href="#3">    3: </a><span class="php-comment"> * SimplePie
</span></span><span id="4" class="l"><a class="l" href="#4">    4: </a><span class="php-comment"> *
</span></span><span id="5" class="l"><a class="l" href="#5">    5: </a><span class="php-comment"> * A PHP-Based RSS and Atom Feed Framework.
</span></span><span id="6" class="l"><a class="l" href="#6">    6: </a><span class="php-comment"> * Takes the hard work out of managing a complete RSS/Atom solution.
</span></span><span id="7" class="l"><a class="l" href="#7">    7: </a><span class="php-comment"> *
</span></span><span id="8" class="l"><a class="l" href="#8">    8: </a><span class="php-comment"> * Please note: This file is automatically generated by a build script. The
</span></span><span id="9" class="l"><a class="l" href="#9">    9: </a><span class="php-comment"> * full original source is always available from http://simplepie.org/
</span></span><span id="10" class="l"><a class="l" href="#10">   10: </a><span class="php-comment"> *
</span></span><span id="11" class="l"><a class="l" href="#11">   11: </a><span class="php-comment"> * Copyright (c) 2004-2012, Ryan Parman, Geoffrey Sneddon, Ryan McCue, and contributors
</span></span><span id="12" class="l"><a class="l" href="#12">   12: </a><span class="php-comment"> * All rights reserved.
</span></span><span id="13" class="l"><a class="l" href="#13">   13: </a><span class="php-comment"> *
</span></span><span id="14" class="l"><a class="l" href="#14">   14: </a><span class="php-comment"> * Redistribution and use in source and binary forms, with or without modification, are
</span></span><span id="15" class="l"><a class="l" href="#15">   15: </a><span class="php-comment"> * permitted provided that the following conditions are met:
</span></span><span id="16" class="l"><a class="l" href="#16">   16: </a><span class="php-comment"> *
</span></span><span id="17" class="l"><a class="l" href="#17">   17: </a><span class="php-comment"> *  * Redistributions of source code must retain the above copyright notice, this list of
</span></span><span id="18" class="l"><a class="l" href="#18">   18: </a><span class="php-comment"> *    conditions and the following disclaimer.
</span></span><span id="19" class="l"><a class="l" href="#19">   19: </a><span class="php-comment"> *
</span></span><span id="20" class="l"><a class="l" href="#20">   20: </a><span class="php-comment"> *  * Redistributions in binary form must reproduce the above copyright notice, this list
</span></span><span id="21" class="l"><a class="l" href="#21">   21: </a><span class="php-comment"> *    of conditions and the following disclaimer in the documentation and/or other materials
</span></span><span id="22" class="l"><a class="l" href="#22">   22: </a><span class="php-comment"> *    provided with the distribution.
</span></span><span id="23" class="l"><a class="l" href="#23">   23: </a><span class="php-comment"> *
</span></span><span id="24" class="l"><a class="l" href="#24">   24: </a><span class="php-comment"> *  * Neither the name of the SimplePie Team nor the names of its contributors may be used
</span></span><span id="25" class="l"><a class="l" href="#25">   25: </a><span class="php-comment"> *    to endorse or promote products derived from this software without specific prior
</span></span><span id="26" class="l"><a class="l" href="#26">   26: </a><span class="php-comment"> *    written permission.
</span></span><span id="27" class="l"><a class="l" href="#27">   27: </a><span class="php-comment"> *
</span></span><span id="28" class="l"><a class="l" href="#28">   28: </a><span class="php-comment"> * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS &quot;AS IS&quot; AND ANY EXPRESS
</span></span><span id="29" class="l"><a class="l" href="#29">   29: </a><span class="php-comment"> * OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY
</span></span><span id="30" class="l"><a class="l" href="#30">   30: </a><span class="php-comment"> * AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDERS
</span></span><span id="31" class="l"><a class="l" href="#31">   31: </a><span class="php-comment"> * AND CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
</span></span><span id="32" class="l"><a class="l" href="#32">   32: </a><span class="php-comment"> * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR
</span></span><span id="33" class="l"><a class="l" href="#33">   33: </a><span class="php-comment"> * SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
</span></span><span id="34" class="l"><a class="l" href="#34">   34: </a><span class="php-comment"> * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR
</span></span><span id="35" class="l"><a class="l" href="#35">   35: </a><span class="php-comment"> * OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
</span></span><span id="36" class="l"><a class="l" href="#36">   36: </a><span class="php-comment"> * POSSIBILITY OF SUCH DAMAGE.
</span></span><span id="37" class="l"><a class="l" href="#37">   37: </a><span class="php-comment"> *
</span></span><span id="38" class="l"><a class="l" href="#38">   38: </a><span class="php-comment"> * @package SimplePie
</span></span><span id="39" class="l"><a class="l" href="#39">   39: </a><span class="php-comment"> * @version 1.3-dev
</span></span><span id="40" class="l"><a class="l" href="#40">   40: </a><span class="php-comment"> * @copyright 2004-2012 Ryan Parman, Geoffrey Sneddon, Ryan McCue
</span></span><span id="41" class="l"><a class="l" href="#41">   41: </a><span class="php-comment"> * @author Ryan Parman
</span></span><span id="42" class="l"><a class="l" href="#42">   42: </a><span class="php-comment"> * @author Geoffrey Sneddon
</span></span><span id="43" class="l"><a class="l" href="#43">   43: </a><span class="php-comment"> * @author Ryan McCue
</span></span><span id="44" class="l"><a class="l" href="#44">   44: </a><span class="php-comment"> * @link http://simplepie.org/ SimplePie
</span></span><span id="45" class="l"><a class="l" href="#45">   45: </a><span class="php-comment"> * @license http://www.opensource.org/licenses/bsd-license.php BSD License
</span></span><span id="46" class="l"><a class="l" href="#46">   46: </a><span class="php-comment"> */</span>
</span><span id="47" class="l"><a class="l" href="#47">   47: </a>
</span><span id="48" class="l"><a class="l" href="#48">   48: </a><span class="php-comment">/**
</span></span><span id="49" class="l"><a class="l" href="#49">   49: </a><span class="php-comment"> * SimplePie class.
</span></span><span id="50" class="l"><a class="l" href="#50">   50: </a><span class="php-comment"> *
</span></span><span id="51" class="l"><a class="l" href="#51">   51: </a><span class="php-comment"> * Class for backward compatibility.
</span></span><span id="52" class="l"><a class="l" href="#52">   52: </a><span class="php-comment"> *
</span></span><span id="53" class="l"><a class="l" href="#53">   53: </a><span class="php-comment"> * @package SimplePie
</span></span><span id="54" class="l"><a class="l" href="#54">   54: </a><span class="php-comment"> */</span>
</span><span id="55" class="l"><a class="l" href="#55">   55: </a><span class="php-keyword1">class</span> <a id="SimplePie" href="#SimplePie">SimplePie</a> <span class="php-keyword1">extends</span> SimplePie_Core
</span><span id="56" class="l"><a class="l" href="#56">   56: </a>{
</span><span id="57" class="l"><a class="l" href="#57">   57: </a>
</span><span id="58" class="l"><a class="l" href="#58">   58: </a>}
</span><span id="59" class="l"><a class="l" href="#59">   59: </a>
</span><span id="60" class="l"><a class="l" href="#60">   60: </a><span class="php-comment">/**
</span></span><span id="61" class="l"><a class="l" href="#61">   61: </a><span class="php-comment"> * Manages all author-related data
</span></span><span id="62" class="l"><a class="l" href="#62">   62: </a><span class="php-comment"> *
</span></span><span id="63" class="l"><a class="l" href="#63">   63: </a><span class="php-comment"> * Used by {@see SimplePie_Item::get_author()} and {@see SimplePie::get_authors()}
</span></span><span id="64" class="l"><a class="l" href="#64">   64: </a><span class="php-comment"> *
</span></span><span id="65" class="l"><a class="l" href="#65">   65: </a><span class="php-comment"> * This class can be overloaded with {@see SimplePie::set_author_class()}
</span></span><span id="66" class="l"><a class="l" href="#66">   66: </a><span class="php-comment"> *
</span></span><span id="67" class="l"><a class="l" href="#67">   67: </a><span class="php-comment"> * @package SimplePie
</span></span><span id="68" class="l"><a class="l" href="#68">   68: </a><span class="php-comment"> */</span>
</span><span id="69" class="l"><a class="l" href="#69">   69: </a><span class="php-keyword1">class</span> <a id="SimplePie_Author" href="#SimplePie_Author">SimplePie_Author</a>
</span><span id="70" class="l"><a class="l" href="#70">   70: </a>{
</span><span id="71" class="l"><a class="l" href="#71">   71: </a>    <span class="php-comment">/**
</span></span><span id="72" class="l"><a class="l" href="#72">   72: </a><span class="php-comment">     * Author's name
</span></span><span id="73" class="l"><a class="l" href="#73">   73: </a><span class="php-comment">     *
</span></span><span id="74" class="l"><a class="l" href="#74">   74: </a><span class="php-comment">     * @var string
</span></span><span id="75" class="l"><a class="l" href="#75">   75: </a><span class="php-comment">     * @see get_name()
</span></span><span id="76" class="l"><a class="l" href="#76">   76: </a><span class="php-comment">     */</span>
</span><span id="77" class="l"><a class="l" href="#77">   77: </a>    <span class="php-keyword1">var</span> <span class="php-var"><a id="$name" href="#$name">$name</a></span>;
</span><span id="78" class="l"><a class="l" href="#78">   78: </a>
</span><span id="79" class="l"><a class="l" href="#79">   79: </a>    <span class="php-comment">/**
</span></span><span id="80" class="l"><a class="l" href="#80">   80: </a><span class="php-comment">     * Author's link
</span></span><span id="81" class="l"><a class="l" href="#81">   81: </a><span class="php-comment">     *
</span></span><span id="82" class="l"><a class="l" href="#82">   82: </a><span class="php-comment">     * @var string
</span></span><span id="83" class="l"><a class="l" href="#83">   83: </a><span class="php-comment">     * @see get_link()
</span></span><span id="84" class="l"><a class="l" href="#84">   84: </a><span class="php-comment">     */</span>
</span><span id="85" class="l"><a class="l" href="#85">   85: </a>    <span class="php-keyword1">var</span> <span class="php-var"><a id="$link" href="#$link">$link</a></span>;
</span><span id="86" class="l"><a class="l" href="#86">   86: </a>
</span><span id="87" class="l"><a class="l" href="#87">   87: </a>    <span class="php-comment">/**
</span></span><span id="88" class="l"><a class="l" href="#88">   88: </a><span class="php-comment">     * Author's email address
</span></span><span id="89" class="l"><a class="l" href="#89">   89: </a><span class="php-comment">     *
</span></span><span id="90" class="l"><a class="l" href="#90">   90: </a><span class="php-comment">     * @var string
</span></span><span id="91" class="l"><a class="l" href="#91">   91: </a><span class="php-comment">     * @see get_email()
</span></span><span id="92" class="l"><a class="l" href="#92">   92: </a><span class="php-comment">     */</span>
</span><span id="93" class="l"><a class="l" href="#93">   93: </a>    <span class="php-keyword1">var</span> <span class="php-var"><a id="$email" href="#$email">$email</a></span>;
</span><span id="94" class="l"><a class="l" href="#94">   94: </a>
</span><span id="95" class="l"><a class="l" href="#95">   95: </a>    <span class="php-comment">/**
</span></span><span id="96" class="l"><a class="l" href="#96">   96: </a><span class="php-comment">     * Constructor, used to input the data
</span></span><span id="97" class="l"><a class="l" href="#97">   97: </a><span class="php-comment">     *
</span></span><span id="98" class="l"><a class="l" href="#98">   98: </a><span class="php-comment">     * @param string $name
</span></span><span id="99" class="l"><a class="l" href="#99">   99: </a><span class="php-comment">     * @param string $link
</span></span><span id="100" class="l"><a class="l" href="#100">  100: </a><span class="php-comment">     * @param string $email
</span></span><span id="101" class="l"><a class="l" href="#101">  101: </a><span class="php-comment">     */</span>
</span><span id="102" class="l"><a class="l" href="#102">  102: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="___construct" href="#___construct">__construct</a>(<span class="php-var">$name</span> = <span class="php-keyword1">null</span>, <span class="php-var">$link</span> = <span class="php-keyword1">null</span>, <span class="php-var">$email</span> = <span class="php-keyword1">null</span>)
</span><span id="103" class="l"><a class="l" href="#103">  103: </a>    {
</span><span id="104" class="l"><a class="l" href="#104">  104: </a>        <span class="php-var">$this</span>-&gt;name = <span class="php-var">$name</span>;
</span><span id="105" class="l"><a class="l" href="#105">  105: </a>        <span class="php-var">$this</span>-&gt;<span class="php-keyword2">link</span> = <span class="php-var">$link</span>;
</span><span id="106" class="l"><a class="l" href="#106">  106: </a>        <span class="php-var">$this</span>-&gt;email = <span class="php-var">$email</span>;
</span><span id="107" class="l"><a class="l" href="#107">  107: </a>    }
</span><span id="108" class="l"><a class="l" href="#108">  108: </a>
</span><span id="109" class="l"><a class="l" href="#109">  109: </a>    <span class="php-comment">/**
</span></span><span id="110" class="l"><a class="l" href="#110">  110: </a><span class="php-comment">     * String-ified version
</span></span><span id="111" class="l"><a class="l" href="#111">  111: </a><span class="php-comment">     *
</span></span><span id="112" class="l"><a class="l" href="#112">  112: </a><span class="php-comment">     * @return string
</span></span><span id="113" class="l"><a class="l" href="#113">  113: </a><span class="php-comment">     */</span>
</span><span id="114" class="l"><a class="l" href="#114">  114: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="___toString" href="#___toString">__toString</a>()
</span><span id="115" class="l"><a class="l" href="#115">  115: </a>    {
</span><span id="116" class="l"><a class="l" href="#116">  116: </a>        <span class="php-comment">// There is no $this-&gt;data here</span>
</span><span id="117" class="l"><a class="l" href="#117">  117: </a>        <span class="php-keyword1">return</span> <span class="php-keyword2">md5</span>(<span class="php-keyword2">serialize</span>(<span class="php-var">$this</span>));
</span><span id="118" class="l"><a class="l" href="#118">  118: </a>    }
</span><span id="119" class="l"><a class="l" href="#119">  119: </a>
</span><span id="120" class="l"><a class="l" href="#120">  120: </a>    <span class="php-comment">/**
</span></span><span id="121" class="l"><a class="l" href="#121">  121: </a><span class="php-comment">     * Author's name
</span></span><span id="122" class="l"><a class="l" href="#122">  122: </a><span class="php-comment">     *
</span></span><span id="123" class="l"><a class="l" href="#123">  123: </a><span class="php-comment">     * @return string|null
</span></span><span id="124" class="l"><a class="l" href="#124">  124: </a><span class="php-comment">     */</span>
</span><span id="125" class="l"><a class="l" href="#125">  125: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_get_name" href="#_get_name">get_name</a>()
</span><span id="126" class="l"><a class="l" href="#126">  126: </a>    {
</span><span id="127" class="l"><a class="l" href="#127">  127: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$this</span>-&gt;name !== <span class="php-keyword1">null</span>)
</span><span id="128" class="l"><a class="l" href="#128">  128: </a>        {
</span><span id="129" class="l"><a class="l" href="#129">  129: </a>            <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;name;
</span><span id="130" class="l"><a class="l" href="#130">  130: </a>        }
</span><span id="131" class="l"><a class="l" href="#131">  131: </a>        <span class="php-keyword1">else</span>
</span><span id="132" class="l"><a class="l" href="#132">  132: </a>        {
</span><span id="133" class="l"><a class="l" href="#133">  133: </a>            <span class="php-keyword1">return</span> <span class="php-keyword1">null</span>;
</span><span id="134" class="l"><a class="l" href="#134">  134: </a>        }
</span><span id="135" class="l"><a class="l" href="#135">  135: </a>    }
</span><span id="136" class="l"><a class="l" href="#136">  136: </a>
</span><span id="137" class="l"><a class="l" href="#137">  137: </a>    <span class="php-comment">/**
</span></span><span id="138" class="l"><a class="l" href="#138">  138: </a><span class="php-comment">     * Author's link
</span></span><span id="139" class="l"><a class="l" href="#139">  139: </a><span class="php-comment">     *
</span></span><span id="140" class="l"><a class="l" href="#140">  140: </a><span class="php-comment">     * @return string|null
</span></span><span id="141" class="l"><a class="l" href="#141">  141: </a><span class="php-comment">     */</span>
</span><span id="142" class="l"><a class="l" href="#142">  142: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_get_link" href="#_get_link">get_link</a>()
</span><span id="143" class="l"><a class="l" href="#143">  143: </a>    {
</span><span id="144" class="l"><a class="l" href="#144">  144: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$this</span>-&gt;<span class="php-keyword2">link</span> !== <span class="php-keyword1">null</span>)
</span><span id="145" class="l"><a class="l" href="#145">  145: </a>        {
</span><span id="146" class="l"><a class="l" href="#146">  146: </a>            <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;<span class="php-keyword2">link</span>;
</span><span id="147" class="l"><a class="l" href="#147">  147: </a>        }
</span><span id="148" class="l"><a class="l" href="#148">  148: </a>        <span class="php-keyword1">else</span>
</span><span id="149" class="l"><a class="l" href="#149">  149: </a>        {
</span><span id="150" class="l"><a class="l" href="#150">  150: </a>            <span class="php-keyword1">return</span> <span class="php-keyword1">null</span>;
</span><span id="151" class="l"><a class="l" href="#151">  151: </a>        }
</span><span id="152" class="l"><a class="l" href="#152">  152: </a>    }
</span><span id="153" class="l"><a class="l" href="#153">  153: </a>
</span><span id="154" class="l"><a class="l" href="#154">  154: </a>    <span class="php-comment">/**
</span></span><span id="155" class="l"><a class="l" href="#155">  155: </a><span class="php-comment">     * Author's email address
</span></span><span id="156" class="l"><a class="l" href="#156">  156: </a><span class="php-comment">     *
</span></span><span id="157" class="l"><a class="l" href="#157">  157: </a><span class="php-comment">     * @return string|null
</span></span><span id="158" class="l"><a class="l" href="#158">  158: </a><span class="php-comment">     */</span>
</span><span id="159" class="l"><a class="l" href="#159">  159: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_get_email" href="#_get_email">get_email</a>()
</span><span id="160" class="l"><a class="l" href="#160">  160: </a>    {
</span><span id="161" class="l"><a class="l" href="#161">  161: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$this</span>-&gt;email !== <span class="php-keyword1">null</span>)
</span><span id="162" class="l"><a class="l" href="#162">  162: </a>        {
</span><span id="163" class="l"><a class="l" href="#163">  163: </a>            <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;email;
</span><span id="164" class="l"><a class="l" href="#164">  164: </a>        }
</span><span id="165" class="l"><a class="l" href="#165">  165: </a>        <span class="php-keyword1">else</span>
</span><span id="166" class="l"><a class="l" href="#166">  166: </a>        {
</span><span id="167" class="l"><a class="l" href="#167">  167: </a>            <span class="php-keyword1">return</span> <span class="php-keyword1">null</span>;
</span><span id="168" class="l"><a class="l" href="#168">  168: </a>        }
</span><span id="169" class="l"><a class="l" href="#169">  169: </a>    }
</span><span id="170" class="l"><a class="l" href="#170">  170: </a>}
</span><span id="171" class="l"><a class="l" href="#171">  171: </a>
</span><span id="172" class="l"><a class="l" href="#172">  172: </a><span class="php-comment">/**
</span></span><span id="173" class="l"><a class="l" href="#173">  173: </a><span class="php-comment"> * Base for cache objects
</span></span><span id="174" class="l"><a class="l" href="#174">  174: </a><span class="php-comment"> *
</span></span><span id="175" class="l"><a class="l" href="#175">  175: </a><span class="php-comment"> * Classes to be used with {@see SimplePie_Cache::register()} are expected
</span></span><span id="176" class="l"><a class="l" href="#176">  176: </a><span class="php-comment"> * to implement this interface.
</span></span><span id="177" class="l"><a class="l" href="#177">  177: </a><span class="php-comment"> *
</span></span><span id="178" class="l"><a class="l" href="#178">  178: </a><span class="php-comment"> * @package SimplePie
</span></span><span id="179" class="l"><a class="l" href="#179">  179: </a><span class="php-comment"> */</span>
</span><span id="180" class="l"><a class="l" href="#180">  180: </a><span class="php-keyword1">interface</span> <a id="SimplePie_Cache_Base" href="#SimplePie_Cache_Base">SimplePie_Cache_Base</a>
</span><span id="181" class="l"><a class="l" href="#181">  181: </a>{
</span><span id="182" class="l"><a class="l" href="#182">  182: </a>    <span class="php-comment">/**
</span></span><span id="183" class="l"><a class="l" href="#183">  183: </a><span class="php-comment">     * Feed cache type
</span></span><span id="184" class="l"><a class="l" href="#184">  184: </a><span class="php-comment">     *
</span></span><span id="185" class="l"><a class="l" href="#185">  185: </a><span class="php-comment">     * @var string
</span></span><span id="186" class="l"><a class="l" href="#186">  186: </a><span class="php-comment">     */</span>
</span><span id="187" class="l"><a class="l" href="#187">  187: </a>    <span class="php-keyword1">const</span> <a id="TYPE_FEED" href="#TYPE_FEED">TYPE_FEED</a> = <span class="php-quote">'spc'</span>;
</span><span id="188" class="l"><a class="l" href="#188">  188: </a>
</span><span id="189" class="l"><a class="l" href="#189">  189: </a>    <span class="php-comment">/**
</span></span><span id="190" class="l"><a class="l" href="#190">  190: </a><span class="php-comment">     * Image cache type
</span></span><span id="191" class="l"><a class="l" href="#191">  191: </a><span class="php-comment">     *
</span></span><span id="192" class="l"><a class="l" href="#192">  192: </a><span class="php-comment">     * @var string
</span></span><span id="193" class="l"><a class="l" href="#193">  193: </a><span class="php-comment">     */</span>
</span><span id="194" class="l"><a class="l" href="#194">  194: </a>    <span class="php-keyword1">const</span> <a id="TYPE_IMAGE" href="#TYPE_IMAGE">TYPE_IMAGE</a> = <span class="php-quote">'spi'</span>;
</span><span id="195" class="l"><a class="l" href="#195">  195: </a>
</span><span id="196" class="l"><a class="l" href="#196">  196: </a>    <span class="php-comment">/**
</span></span><span id="197" class="l"><a class="l" href="#197">  197: </a><span class="php-comment">     * Create a new cache object
</span></span><span id="198" class="l"><a class="l" href="#198">  198: </a><span class="php-comment">     *
</span></span><span id="199" class="l"><a class="l" href="#199">  199: </a><span class="php-comment">     * @param string $location Location string (from SimplePie::$cache_location)
</span></span><span id="200" class="l"><a class="l" href="#200">  200: </a><span class="php-comment">     * @param string $name Unique ID for the cache
</span></span><span id="201" class="l"><a class="l" href="#201">  201: </a><span class="php-comment">     * @param string $type Either TYPE_FEED for SimplePie data, or TYPE_IMAGE for image data
</span></span><span id="202" class="l"><a class="l" href="#202">  202: </a><span class="php-comment">     */</span>
</span><span id="203" class="l"><a class="l" href="#203">  203: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="___construct" href="#___construct">__construct</a>(<span class="php-var">$location</span>, <span class="php-var">$name</span>, <span class="php-var">$type</span>);
</span><span id="204" class="l"><a class="l" href="#204">  204: </a>
</span><span id="205" class="l"><a class="l" href="#205">  205: </a>    <span class="php-comment">/**
</span></span><span id="206" class="l"><a class="l" href="#206">  206: </a><span class="php-comment">     * Save data to the cache
</span></span><span id="207" class="l"><a class="l" href="#207">  207: </a><span class="php-comment">     *
</span></span><span id="208" class="l"><a class="l" href="#208">  208: </a><span class="php-comment">     * @param array|SimplePie $data Data to store in the cache. If passed a SimplePie object, only cache the $data property
</span></span><span id="209" class="l"><a class="l" href="#209">  209: </a><span class="php-comment">     * @return bool Successfulness
</span></span><span id="210" class="l"><a class="l" href="#210">  210: </a><span class="php-comment">     */</span>
</span><span id="211" class="l"><a class="l" href="#211">  211: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_save" href="#_save">save</a>(<span class="php-var">$data</span>);
</span><span id="212" class="l"><a class="l" href="#212">  212: </a>
</span><span id="213" class="l"><a class="l" href="#213">  213: </a>    <span class="php-comment">/**
</span></span><span id="214" class="l"><a class="l" href="#214">  214: </a><span class="php-comment">     * Retrieve the data saved to the cache
</span></span><span id="215" class="l"><a class="l" href="#215">  215: </a><span class="php-comment">     *
</span></span><span id="216" class="l"><a class="l" href="#216">  216: </a><span class="php-comment">     * @return array Data for SimplePie::$data
</span></span><span id="217" class="l"><a class="l" href="#217">  217: </a><span class="php-comment">     */</span>
</span><span id="218" class="l"><a class="l" href="#218">  218: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_load" href="#_load">load</a>();
</span><span id="219" class="l"><a class="l" href="#219">  219: </a>
</span><span id="220" class="l"><a class="l" href="#220">  220: </a>    <span class="php-comment">/**
</span></span><span id="221" class="l"><a class="l" href="#221">  221: </a><span class="php-comment">     * Retrieve the last modified time for the cache
</span></span><span id="222" class="l"><a class="l" href="#222">  222: </a><span class="php-comment">     *
</span></span><span id="223" class="l"><a class="l" href="#223">  223: </a><span class="php-comment">     * @return int Timestamp
</span></span><span id="224" class="l"><a class="l" href="#224">  224: </a><span class="php-comment">     */</span>
</span><span id="225" class="l"><a class="l" href="#225">  225: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_mtime" href="#_mtime">mtime</a>();
</span><span id="226" class="l"><a class="l" href="#226">  226: </a>
</span><span id="227" class="l"><a class="l" href="#227">  227: </a>    <span class="php-comment">/**
</span></span><span id="228" class="l"><a class="l" href="#228">  228: </a><span class="php-comment">     * Set the last modified time to the current time
</span></span><span id="229" class="l"><a class="l" href="#229">  229: </a><span class="php-comment">     *
</span></span><span id="230" class="l"><a class="l" href="#230">  230: </a><span class="php-comment">     * @return bool Success status
</span></span><span id="231" class="l"><a class="l" href="#231">  231: </a><span class="php-comment">     */</span>
</span><span id="232" class="l"><a class="l" href="#232">  232: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <span class="php-keyword2">touch</span>();
</span><span id="233" class="l"><a class="l" href="#233">  233: </a>
</span><span id="234" class="l"><a class="l" href="#234">  234: </a>    <span class="php-comment">/**
</span></span><span id="235" class="l"><a class="l" href="#235">  235: </a><span class="php-comment">     * Remove the cache
</span></span><span id="236" class="l"><a class="l" href="#236">  236: </a><span class="php-comment">     *
</span></span><span id="237" class="l"><a class="l" href="#237">  237: </a><span class="php-comment">     * @return bool Success status
</span></span><span id="238" class="l"><a class="l" href="#238">  238: </a><span class="php-comment">     */</span>
</span><span id="239" class="l"><a class="l" href="#239">  239: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <span class="php-keyword2">unlink</span>();
</span><span id="240" class="l"><a class="l" href="#240">  240: </a>}
</span><span id="241" class="l"><a class="l" href="#241">  241: </a>
</span><span id="242" class="l"><a class="l" href="#242">  242: </a><span class="php-comment">/**
</span></span><span id="243" class="l"><a class="l" href="#243">  243: </a><span class="php-comment"> * Base class for database-based caches
</span></span><span id="244" class="l"><a class="l" href="#244">  244: </a><span class="php-comment"> *
</span></span><span id="245" class="l"><a class="l" href="#245">  245: </a><span class="php-comment"> * @package SimplePie
</span></span><span id="246" class="l"><a class="l" href="#246">  246: </a><span class="php-comment"> */</span>
</span><span id="247" class="l"><a class="l" href="#247">  247: </a><span class="php-keyword1">abstract</span> <span class="php-keyword1">class</span> <a id="SimplePie_Cache_DB" href="#SimplePie_Cache_DB">SimplePie_Cache_DB</a> <span class="php-keyword1">implements</span> SimplePie_Cache_Base
</span><span id="248" class="l"><a class="l" href="#248">  248: </a>{
</span><span id="249" class="l"><a class="l" href="#249">  249: </a>    <span class="php-comment">/**
</span></span><span id="250" class="l"><a class="l" href="#250">  250: </a><span class="php-comment">     * Helper for database conversion
</span></span><span id="251" class="l"><a class="l" href="#251">  251: </a><span class="php-comment">     *
</span></span><span id="252" class="l"><a class="l" href="#252">  252: </a><span class="php-comment">     * Converts a given {@see SimplePie} object into data to be stored
</span></span><span id="253" class="l"><a class="l" href="#253">  253: </a><span class="php-comment">     *
</span></span><span id="254" class="l"><a class="l" href="#254">  254: </a><span class="php-comment">     * @param SimplePie $data
</span></span><span id="255" class="l"><a class="l" href="#255">  255: </a><span class="php-comment">     * @return array First item is the serialized data for storage, second item is the unique ID for this item
</span></span><span id="256" class="l"><a class="l" href="#256">  256: </a><span class="php-comment">     */</span>
</span><span id="257" class="l"><a class="l" href="#257">  257: </a>    <span class="php-keyword1">protected</span> <span class="php-keyword1">static</span> <span class="php-keyword1">function</span> <a id="_prepare_simplepie_object_for_cache" href="#_prepare_simplepie_object_for_cache">prepare_simplepie_object_for_cache</a>(&amp;<span class="php-var">$data</span>)
</span><span id="258" class="l"><a class="l" href="#258">  258: </a>    {
</span><span id="259" class="l"><a class="l" href="#259">  259: </a>        <span class="php-var">$items</span> = <span class="php-var">$data</span>-&gt;get_items();
</span><span id="260" class="l"><a class="l" href="#260">  260: </a>        <span class="php-var">$items_by_id</span> = <span class="php-keyword1">array</span>();
</span><span id="261" class="l"><a class="l" href="#261">  261: </a>
</span><span id="262" class="l"><a class="l" href="#262">  262: </a>        <span class="php-keyword1">if</span> (!<span class="php-keyword1">empty</span>(<span class="php-var">$items</span>))
</span><span id="263" class="l"><a class="l" href="#263">  263: </a>        {
</span><span id="264" class="l"><a class="l" href="#264">  264: </a>            <span class="php-keyword1">foreach</span> (<span class="php-var">$items</span> <span class="php-keyword1">as</span> <span class="php-var">$item</span>)
</span><span id="265" class="l"><a class="l" href="#265">  265: </a>            {
</span><span id="266" class="l"><a class="l" href="#266">  266: </a>                <span class="php-var">$items_by_id</span>[<span class="php-var">$item</span>-&gt;get_id()] = <span class="php-var">$item</span>;
</span><span id="267" class="l"><a class="l" href="#267">  267: </a>            }
</span><span id="268" class="l"><a class="l" href="#268">  268: </a>
</span><span id="269" class="l"><a class="l" href="#269">  269: </a>            <span class="php-keyword1">if</span> (<span class="php-keyword2">count</span>(<span class="php-var">$items_by_id</span>) !== <span class="php-keyword2">count</span>(<span class="php-var">$items</span>))
</span><span id="270" class="l"><a class="l" href="#270">  270: </a>            {
</span><span id="271" class="l"><a class="l" href="#271">  271: </a>                <span class="php-var">$items_by_id</span> = <span class="php-keyword1">array</span>();
</span><span id="272" class="l"><a class="l" href="#272">  272: </a>                <span class="php-keyword1">foreach</span> (<span class="php-var">$items</span> <span class="php-keyword1">as</span> <span class="php-var">$item</span>)
</span><span id="273" class="l"><a class="l" href="#273">  273: </a>                {
</span><span id="274" class="l"><a class="l" href="#274">  274: </a>                    <span class="php-var">$items_by_id</span>[<span class="php-var">$item</span>-&gt;get_id(<span class="php-keyword1">true</span>)] = <span class="php-var">$item</span>;
</span><span id="275" class="l"><a class="l" href="#275">  275: </a>                }
</span><span id="276" class="l"><a class="l" href="#276">  276: </a>            }
</span><span id="277" class="l"><a class="l" href="#277">  277: </a>
</span><span id="278" class="l"><a class="l" href="#278">  278: </a>            <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$data</span>-&gt;data[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_ATOM_10][<span class="php-quote">'feed'</span>][<span class="php-num">0</span>]))
</span><span id="279" class="l"><a class="l" href="#279">  279: </a>            {
</span><span id="280" class="l"><a class="l" href="#280">  280: </a>                <span class="php-var">$channel</span> =&amp; <span class="php-var">$data</span>-&gt;data[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_ATOM_10][<span class="php-quote">'feed'</span>][<span class="php-num">0</span>];
</span><span id="281" class="l"><a class="l" href="#281">  281: </a>            }
</span><span id="282" class="l"><a class="l" href="#282">  282: </a>            <span class="php-keyword1">elseif</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$data</span>-&gt;data[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_ATOM_03][<span class="php-quote">'feed'</span>][<span class="php-num">0</span>]))
</span><span id="283" class="l"><a class="l" href="#283">  283: </a>            {
</span><span id="284" class="l"><a class="l" href="#284">  284: </a>                <span class="php-var">$channel</span> =&amp; <span class="php-var">$data</span>-&gt;data[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_ATOM_03][<span class="php-quote">'feed'</span>][<span class="php-num">0</span>];
</span><span id="285" class="l"><a class="l" href="#285">  285: </a>            }
</span><span id="286" class="l"><a class="l" href="#286">  286: </a>            <span class="php-keyword1">elseif</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$data</span>-&gt;data[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_RDF][<span class="php-quote">'RDF'</span>][<span class="php-num">0</span>]))
</span><span id="287" class="l"><a class="l" href="#287">  287: </a>            {
</span><span id="288" class="l"><a class="l" href="#288">  288: </a>                <span class="php-var">$channel</span> =&amp; <span class="php-var">$data</span>-&gt;data[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_RDF][<span class="php-quote">'RDF'</span>][<span class="php-num">0</span>];
</span><span id="289" class="l"><a class="l" href="#289">  289: </a>            }
</span><span id="290" class="l"><a class="l" href="#290">  290: </a>            <span class="php-keyword1">elseif</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$data</span>-&gt;data[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_RSS_20][<span class="php-quote">'rss'</span>][<span class="php-num">0</span>][<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_RSS_20][<span class="php-quote">'channel'</span>][<span class="php-num">0</span>]))
</span><span id="291" class="l"><a class="l" href="#291">  291: </a>            {
</span><span id="292" class="l"><a class="l" href="#292">  292: </a>                <span class="php-var">$channel</span> =&amp; <span class="php-var">$data</span>-&gt;data[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_RSS_20][<span class="php-quote">'rss'</span>][<span class="php-num">0</span>][<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_RSS_20][<span class="php-quote">'channel'</span>][<span class="php-num">0</span>];
</span><span id="293" class="l"><a class="l" href="#293">  293: </a>            }
</span><span id="294" class="l"><a class="l" href="#294">  294: </a>            <span class="php-keyword1">else</span>
</span><span id="295" class="l"><a class="l" href="#295">  295: </a>            {
</span><span id="296" class="l"><a class="l" href="#296">  296: </a>                <span class="php-var">$channel</span> = <span class="php-keyword1">null</span>;
</span><span id="297" class="l"><a class="l" href="#297">  297: </a>            }
</span><span id="298" class="l"><a class="l" href="#298">  298: </a>
</span><span id="299" class="l"><a class="l" href="#299">  299: </a>            <span class="php-keyword1">if</span> (<span class="php-var">$channel</span> !== <span class="php-keyword1">null</span>)
</span><span id="300" class="l"><a class="l" href="#300">  300: </a>            {
</span><span id="301" class="l"><a class="l" href="#301">  301: </a>                <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$channel</span>[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_ATOM_10][<span class="php-quote">'entry'</span>]))
</span><span id="302" class="l"><a class="l" href="#302">  302: </a>                {
</span><span id="303" class="l"><a class="l" href="#303">  303: </a>                    <span class="php-keyword1">unset</span>(<span class="php-var">$channel</span>[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_ATOM_10][<span class="php-quote">'entry'</span>]);
</span><span id="304" class="l"><a class="l" href="#304">  304: </a>                }
</span><span id="305" class="l"><a class="l" href="#305">  305: </a>                <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$channel</span>[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_ATOM_03][<span class="php-quote">'entry'</span>]))
</span><span id="306" class="l"><a class="l" href="#306">  306: </a>                {
</span><span id="307" class="l"><a class="l" href="#307">  307: </a>                    <span class="php-keyword1">unset</span>(<span class="php-var">$channel</span>[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_ATOM_03][<span class="php-quote">'entry'</span>]);
</span><span id="308" class="l"><a class="l" href="#308">  308: </a>                }
</span><span id="309" class="l"><a class="l" href="#309">  309: </a>                <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$channel</span>[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_RSS_10][<span class="php-quote">'item'</span>]))
</span><span id="310" class="l"><a class="l" href="#310">  310: </a>                {
</span><span id="311" class="l"><a class="l" href="#311">  311: </a>                    <span class="php-keyword1">unset</span>(<span class="php-var">$channel</span>[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_RSS_10][<span class="php-quote">'item'</span>]);
</span><span id="312" class="l"><a class="l" href="#312">  312: </a>                }
</span><span id="313" class="l"><a class="l" href="#313">  313: </a>                <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$channel</span>[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_RSS_090][<span class="php-quote">'item'</span>]))
</span><span id="314" class="l"><a class="l" href="#314">  314: </a>                {
</span><span id="315" class="l"><a class="l" href="#315">  315: </a>                    <span class="php-keyword1">unset</span>(<span class="php-var">$channel</span>[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_RSS_090][<span class="php-quote">'item'</span>]);
</span><span id="316" class="l"><a class="l" href="#316">  316: </a>                }
</span><span id="317" class="l"><a class="l" href="#317">  317: </a>                <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$channel</span>[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_RSS_20][<span class="php-quote">'item'</span>]))
</span><span id="318" class="l"><a class="l" href="#318">  318: </a>                {
</span><span id="319" class="l"><a class="l" href="#319">  319: </a>                    <span class="php-keyword1">unset</span>(<span class="php-var">$channel</span>[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_RSS_20][<span class="php-quote">'item'</span>]);
</span><span id="320" class="l"><a class="l" href="#320">  320: </a>                }
</span><span id="321" class="l"><a class="l" href="#321">  321: </a>            }
</span><span id="322" class="l"><a class="l" href="#322">  322: </a>            <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$data</span>-&gt;data[<span class="php-quote">'items'</span>]))
</span><span id="323" class="l"><a class="l" href="#323">  323: </a>            {
</span><span id="324" class="l"><a class="l" href="#324">  324: </a>                <span class="php-keyword1">unset</span>(<span class="php-var">$data</span>-&gt;data[<span class="php-quote">'items'</span>]);
</span><span id="325" class="l"><a class="l" href="#325">  325: </a>            }
</span><span id="326" class="l"><a class="l" href="#326">  326: </a>            <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$data</span>-&gt;data[<span class="php-quote">'ordered_items'</span>]))
</span><span id="327" class="l"><a class="l" href="#327">  327: </a>            {
</span><span id="328" class="l"><a class="l" href="#328">  328: </a>                <span class="php-keyword1">unset</span>(<span class="php-var">$data</span>-&gt;data[<span class="php-quote">'ordered_items'</span>]);
</span><span id="329" class="l"><a class="l" href="#329">  329: </a>            }
</span><span id="330" class="l"><a class="l" href="#330">  330: </a>        }
</span><span id="331" class="l"><a class="l" href="#331">  331: </a>        <span class="php-keyword1">return</span> <span class="php-keyword1">array</span>(<span class="php-keyword2">serialize</span>(<span class="php-var">$data</span>-&gt;data), <span class="php-var">$items_by_id</span>);
</span><span id="332" class="l"><a class="l" href="#332">  332: </a>    }
</span><span id="333" class="l"><a class="l" href="#333">  333: </a>}
</span><span id="334" class="l"><a class="l" href="#334">  334: </a>
</span><span id="335" class="l"><a class="l" href="#335">  335: </a><span class="php-comment">/**
</span></span><span id="336" class="l"><a class="l" href="#336">  336: </a><span class="php-comment"> * Caches data to the filesystem
</span></span><span id="337" class="l"><a class="l" href="#337">  337: </a><span class="php-comment"> *
</span></span><span id="338" class="l"><a class="l" href="#338">  338: </a><span class="php-comment"> * @package SimplePie
</span></span><span id="339" class="l"><a class="l" href="#339">  339: </a><span class="php-comment"> */</span>
</span><span id="340" class="l"><a class="l" href="#340">  340: </a><span class="php-keyword1">class</span> <a id="SimplePie_Cache_File" href="#SimplePie_Cache_File">SimplePie_Cache_File</a> <span class="php-keyword1">implements</span> SimplePie_Cache_Base
</span><span id="341" class="l"><a class="l" href="#341">  341: </a>{
</span><span id="342" class="l"><a class="l" href="#342">  342: </a>    <span class="php-comment">/**
</span></span><span id="343" class="l"><a class="l" href="#343">  343: </a><span class="php-comment">     * Location string
</span></span><span id="344" class="l"><a class="l" href="#344">  344: </a><span class="php-comment">     *
</span></span><span id="345" class="l"><a class="l" href="#345">  345: </a><span class="php-comment">     * @see SimplePie::$cache_location
</span></span><span id="346" class="l"><a class="l" href="#346">  346: </a><span class="php-comment">     * @var string
</span></span><span id="347" class="l"><a class="l" href="#347">  347: </a><span class="php-comment">     */</span>
</span><span id="348" class="l"><a class="l" href="#348">  348: </a>    <span class="php-keyword1">protected</span> <span class="php-var"><a id="$location" href="#$location">$location</a></span>;
</span><span id="349" class="l"><a class="l" href="#349">  349: </a>
</span><span id="350" class="l"><a class="l" href="#350">  350: </a>    <span class="php-comment">/**
</span></span><span id="351" class="l"><a class="l" href="#351">  351: </a><span class="php-comment">     * Filename
</span></span><span id="352" class="l"><a class="l" href="#352">  352: </a><span class="php-comment">     *
</span></span><span id="353" class="l"><a class="l" href="#353">  353: </a><span class="php-comment">     * @var string
</span></span><span id="354" class="l"><a class="l" href="#354">  354: </a><span class="php-comment">     */</span>
</span><span id="355" class="l"><a class="l" href="#355">  355: </a>    <span class="php-keyword1">protected</span> <span class="php-var"><a id="$filename" href="#$filename">$filename</a></span>;
</span><span id="356" class="l"><a class="l" href="#356">  356: </a>
</span><span id="357" class="l"><a class="l" href="#357">  357: </a>    <span class="php-comment">/**
</span></span><span id="358" class="l"><a class="l" href="#358">  358: </a><span class="php-comment">     * File extension
</span></span><span id="359" class="l"><a class="l" href="#359">  359: </a><span class="php-comment">     *
</span></span><span id="360" class="l"><a class="l" href="#360">  360: </a><span class="php-comment">     * @var string
</span></span><span id="361" class="l"><a class="l" href="#361">  361: </a><span class="php-comment">     */</span>
</span><span id="362" class="l"><a class="l" href="#362">  362: </a>    <span class="php-keyword1">protected</span> <span class="php-var"><a id="$extension" href="#$extension">$extension</a></span>;
</span><span id="363" class="l"><a class="l" href="#363">  363: </a>
</span><span id="364" class="l"><a class="l" href="#364">  364: </a>    <span class="php-comment">/**
</span></span><span id="365" class="l"><a class="l" href="#365">  365: </a><span class="php-comment">     * File path
</span></span><span id="366" class="l"><a class="l" href="#366">  366: </a><span class="php-comment">     *
</span></span><span id="367" class="l"><a class="l" href="#367">  367: </a><span class="php-comment">     * @var string
</span></span><span id="368" class="l"><a class="l" href="#368">  368: </a><span class="php-comment">     */</span>
</span><span id="369" class="l"><a class="l" href="#369">  369: </a>    <span class="php-keyword1">protected</span> <span class="php-var"><a id="$name" href="#$name">$name</a></span>;
</span><span id="370" class="l"><a class="l" href="#370">  370: </a>
</span><span id="371" class="l"><a class="l" href="#371">  371: </a>    <span class="php-comment">/**
</span></span><span id="372" class="l"><a class="l" href="#372">  372: </a><span class="php-comment">     * Create a new cache object
</span></span><span id="373" class="l"><a class="l" href="#373">  373: </a><span class="php-comment">     *
</span></span><span id="374" class="l"><a class="l" href="#374">  374: </a><span class="php-comment">     * @param string $location Location string (from SimplePie::$cache_location)
</span></span><span id="375" class="l"><a class="l" href="#375">  375: </a><span class="php-comment">     * @param string $name Unique ID for the cache
</span></span><span id="376" class="l"><a class="l" href="#376">  376: </a><span class="php-comment">     * @param string $type Either TYPE_FEED for SimplePie data, or TYPE_IMAGE for image data
</span></span><span id="377" class="l"><a class="l" href="#377">  377: </a><span class="php-comment">     */</span>
</span><span id="378" class="l"><a class="l" href="#378">  378: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="___construct" href="#___construct">__construct</a>(<span class="php-var">$location</span>, <span class="php-var">$name</span>, <span class="php-var">$type</span>)
</span><span id="379" class="l"><a class="l" href="#379">  379: </a>    {
</span><span id="380" class="l"><a class="l" href="#380">  380: </a>        <span class="php-var">$this</span>-&gt;location = <span class="php-var">$location</span>;
</span><span id="381" class="l"><a class="l" href="#381">  381: </a>        <span class="php-var">$this</span>-&gt;filename = <span class="php-var">$name</span>;
</span><span id="382" class="l"><a class="l" href="#382">  382: </a>        <span class="php-var">$this</span>-&gt;extension = <span class="php-var">$type</span>;
</span><span id="383" class="l"><a class="l" href="#383">  383: </a>        <span class="php-var">$this</span>-&gt;name = <span class="php-quote">&quot;</span><span class="php-var">$this</span><span class="php-quote">-&gt;location/</span><span class="php-var">$this</span><span class="php-quote">-&gt;filename.</span><span class="php-var">$this</span><span class="php-quote">-&gt;extension&quot;</span>;
</span><span id="384" class="l"><a class="l" href="#384">  384: </a>    }
</span><span id="385" class="l"><a class="l" href="#385">  385: </a>
</span><span id="386" class="l"><a class="l" href="#386">  386: </a>    <span class="php-comment">/**
</span></span><span id="387" class="l"><a class="l" href="#387">  387: </a><span class="php-comment">     * Save data to the cache
</span></span><span id="388" class="l"><a class="l" href="#388">  388: </a><span class="php-comment">     *
</span></span><span id="389" class="l"><a class="l" href="#389">  389: </a><span class="php-comment">     * @param array|SimplePie $data Data to store in the cache. If passed a SimplePie object, only cache the $data property
</span></span><span id="390" class="l"><a class="l" href="#390">  390: </a><span class="php-comment">     * @return bool Successfulness
</span></span><span id="391" class="l"><a class="l" href="#391">  391: </a><span class="php-comment">     */</span>
</span><span id="392" class="l"><a class="l" href="#392">  392: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_save" href="#_save">save</a>(<span class="php-var">$data</span>)
</span><span id="393" class="l"><a class="l" href="#393">  393: </a>    {
</span><span id="394" class="l"><a class="l" href="#394">  394: </a>        <span class="php-keyword1">if</span> (<span class="php-keyword2">file_exists</span>(<span class="php-var">$this</span>-&gt;name) &amp;&amp; <span class="php-keyword2">is_writeable</span>(<span class="php-var">$this</span>-&gt;name) || <span class="php-keyword2">file_exists</span>(<span class="php-var">$this</span>-&gt;location) &amp;&amp; <span class="php-keyword2">is_writeable</span>(<span class="php-var">$this</span>-&gt;location))
</span><span id="395" class="l"><a class="l" href="#395">  395: </a>        {
</span><span id="396" class="l"><a class="l" href="#396">  396: </a>            <span class="php-keyword1">if</span> (<span class="php-var">$data</span> <span class="php-keyword1">instanceof</span> SimplePie)
</span><span id="397" class="l"><a class="l" href="#397">  397: </a>            {
</span><span id="398" class="l"><a class="l" href="#398">  398: </a>                <span class="php-var">$data</span> = <span class="php-var">$data</span>-&gt;data;
</span><span id="399" class="l"><a class="l" href="#399">  399: </a>            }
</span><span id="400" class="l"><a class="l" href="#400">  400: </a>
</span><span id="401" class="l"><a class="l" href="#401">  401: </a>            <span class="php-var">$data</span> = <span class="php-keyword2">serialize</span>(<span class="php-var">$data</span>);
</span><span id="402" class="l"><a class="l" href="#402">  402: </a>            <span class="php-keyword1">return</span> (bool) <span class="php-keyword2">file_put_contents</span>(<span class="php-var">$this</span>-&gt;name, <span class="php-var">$data</span>);
</span><span id="403" class="l"><a class="l" href="#403">  403: </a>        }
</span><span id="404" class="l"><a class="l" href="#404">  404: </a>        <span class="php-keyword1">return</span> <span class="php-keyword1">false</span>;
</span><span id="405" class="l"><a class="l" href="#405">  405: </a>    }
</span><span id="406" class="l"><a class="l" href="#406">  406: </a>
</span><span id="407" class="l"><a class="l" href="#407">  407: </a>    <span class="php-comment">/**
</span></span><span id="408" class="l"><a class="l" href="#408">  408: </a><span class="php-comment">     * Retrieve the data saved to the cache
</span></span><span id="409" class="l"><a class="l" href="#409">  409: </a><span class="php-comment">     *
</span></span><span id="410" class="l"><a class="l" href="#410">  410: </a><span class="php-comment">     * @return array Data for SimplePie::$data
</span></span><span id="411" class="l"><a class="l" href="#411">  411: </a><span class="php-comment">     */</span>
</span><span id="412" class="l"><a class="l" href="#412">  412: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_load" href="#_load">load</a>()
</span><span id="413" class="l"><a class="l" href="#413">  413: </a>    {
</span><span id="414" class="l"><a class="l" href="#414">  414: </a>        <span class="php-keyword1">if</span> (<span class="php-keyword2">file_exists</span>(<span class="php-var">$this</span>-&gt;name) &amp;&amp; <span class="php-keyword2">is_readable</span>(<span class="php-var">$this</span>-&gt;name))
</span><span id="415" class="l"><a class="l" href="#415">  415: </a>        {
</span><span id="416" class="l"><a class="l" href="#416">  416: </a>            <span class="php-keyword1">return</span> <span class="php-keyword2">unserialize</span>(<span class="php-keyword2">file_get_contents</span>(<span class="php-var">$this</span>-&gt;name));
</span><span id="417" class="l"><a class="l" href="#417">  417: </a>        }
</span><span id="418" class="l"><a class="l" href="#418">  418: </a>        <span class="php-keyword1">return</span> <span class="php-keyword1">false</span>;
</span><span id="419" class="l"><a class="l" href="#419">  419: </a>    }
</span><span id="420" class="l"><a class="l" href="#420">  420: </a>
</span><span id="421" class="l"><a class="l" href="#421">  421: </a>    <span class="php-comment">/**
</span></span><span id="422" class="l"><a class="l" href="#422">  422: </a><span class="php-comment">     * Retrieve the last modified time for the cache
</span></span><span id="423" class="l"><a class="l" href="#423">  423: </a><span class="php-comment">     *
</span></span><span id="424" class="l"><a class="l" href="#424">  424: </a><span class="php-comment">     * @return int Timestamp
</span></span><span id="425" class="l"><a class="l" href="#425">  425: </a><span class="php-comment">     */</span>
</span><span id="426" class="l"><a class="l" href="#426">  426: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_mtime" href="#_mtime">mtime</a>()
</span><span id="427" class="l"><a class="l" href="#427">  427: </a>    {
</span><span id="428" class="l"><a class="l" href="#428">  428: </a>        <span class="php-keyword1">if</span> (<span class="php-keyword2">file_exists</span>(<span class="php-var">$this</span>-&gt;name))
</span><span id="429" class="l"><a class="l" href="#429">  429: </a>        {
</span><span id="430" class="l"><a class="l" href="#430">  430: </a>            <span class="php-keyword1">return</span> <span class="php-keyword2">filemtime</span>(<span class="php-var">$this</span>-&gt;name);
</span><span id="431" class="l"><a class="l" href="#431">  431: </a>        }
</span><span id="432" class="l"><a class="l" href="#432">  432: </a>        <span class="php-keyword1">return</span> <span class="php-keyword1">false</span>;
</span><span id="433" class="l"><a class="l" href="#433">  433: </a>    }
</span><span id="434" class="l"><a class="l" href="#434">  434: </a>
</span><span id="435" class="l"><a class="l" href="#435">  435: </a>    <span class="php-comment">/**
</span></span><span id="436" class="l"><a class="l" href="#436">  436: </a><span class="php-comment">     * Set the last modified time to the current time
</span></span><span id="437" class="l"><a class="l" href="#437">  437: </a><span class="php-comment">     *
</span></span><span id="438" class="l"><a class="l" href="#438">  438: </a><span class="php-comment">     * @return bool Success status
</span></span><span id="439" class="l"><a class="l" href="#439">  439: </a><span class="php-comment">     */</span>
</span><span id="440" class="l"><a class="l" href="#440">  440: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <span class="php-keyword2">touch</span>()
</span><span id="441" class="l"><a class="l" href="#441">  441: </a>    {
</span><span id="442" class="l"><a class="l" href="#442">  442: </a>        <span class="php-keyword1">if</span> (<span class="php-keyword2">file_exists</span>(<span class="php-var">$this</span>-&gt;name))
</span><span id="443" class="l"><a class="l" href="#443">  443: </a>        {
</span><span id="444" class="l"><a class="l" href="#444">  444: </a>            <span class="php-keyword1">return</span> <span class="php-keyword2">touch</span>(<span class="php-var">$this</span>-&gt;name);
</span><span id="445" class="l"><a class="l" href="#445">  445: </a>        }
</span><span id="446" class="l"><a class="l" href="#446">  446: </a>        <span class="php-keyword1">return</span> <span class="php-keyword1">false</span>;
</span><span id="447" class="l"><a class="l" href="#447">  447: </a>    }
</span><span id="448" class="l"><a class="l" href="#448">  448: </a>
</span><span id="449" class="l"><a class="l" href="#449">  449: </a>    <span class="php-comment">/**
</span></span><span id="450" class="l"><a class="l" href="#450">  450: </a><span class="php-comment">     * Remove the cache
</span></span><span id="451" class="l"><a class="l" href="#451">  451: </a><span class="php-comment">     *
</span></span><span id="452" class="l"><a class="l" href="#452">  452: </a><span class="php-comment">     * @return bool Success status
</span></span><span id="453" class="l"><a class="l" href="#453">  453: </a><span class="php-comment">     */</span>
</span><span id="454" class="l"><a class="l" href="#454">  454: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <span class="php-keyword2">unlink</span>()
</span><span id="455" class="l"><a class="l" href="#455">  455: </a>    {
</span><span id="456" class="l"><a class="l" href="#456">  456: </a>        <span class="php-keyword1">if</span> (<span class="php-keyword2">file_exists</span>(<span class="php-var">$this</span>-&gt;name))
</span><span id="457" class="l"><a class="l" href="#457">  457: </a>        {
</span><span id="458" class="l"><a class="l" href="#458">  458: </a>            <span class="php-keyword1">return</span> <span class="php-keyword2">unlink</span>(<span class="php-var">$this</span>-&gt;name);
</span><span id="459" class="l"><a class="l" href="#459">  459: </a>        }
</span><span id="460" class="l"><a class="l" href="#460">  460: </a>        <span class="php-keyword1">return</span> <span class="php-keyword1">false</span>;
</span><span id="461" class="l"><a class="l" href="#461">  461: </a>    }
</span><span id="462" class="l"><a class="l" href="#462">  462: </a>}
</span><span id="463" class="l"><a class="l" href="#463">  463: </a>
</span><span id="464" class="l"><a class="l" href="#464">  464: </a><span class="php-comment">/**
</span></span><span id="465" class="l"><a class="l" href="#465">  465: </a><span class="php-comment"> * Caches data to memcache
</span></span><span id="466" class="l"><a class="l" href="#466">  466: </a><span class="php-comment"> *
</span></span><span id="467" class="l"><a class="l" href="#467">  467: </a><span class="php-comment"> * Registered for URLs with the &quot;memcache&quot; protocol
</span></span><span id="468" class="l"><a class="l" href="#468">  468: </a><span class="php-comment"> *
</span></span><span id="469" class="l"><a class="l" href="#469">  469: </a><span class="php-comment"> * For example, `memcache://localhost:11211/?timeout=3600^prefix=sp_` will
</span></span><span id="470" class="l"><a class="l" href="#470">  470: </a><span class="php-comment"> * connect to memcache on `localhost` on port 11211. All tables will be
</span></span><span id="471" class="l"><a class="l" href="#471">  471: </a><span class="php-comment"> * prefixed with `sp_` and data will expire after 3600 seconds
</span></span><span id="472" class="l"><a class="l" href="#472">  472: </a><span class="php-comment"> *
</span></span><span id="473" class="l"><a class="l" href="#473">  473: </a><span class="php-comment"> * @package SimplePie
</span></span><span id="474" class="l"><a class="l" href="#474">  474: </a><span class="php-comment"> * @uses Memcache
</span></span><span id="475" class="l"><a class="l" href="#475">  475: </a><span class="php-comment"> */</span>
</span><span id="476" class="l"><a class="l" href="#476">  476: </a><span class="php-keyword1">class</span> <a id="SimplePie_Cache_Memcache" href="#SimplePie_Cache_Memcache">SimplePie_Cache_Memcache</a> <span class="php-keyword1">implements</span> SimplePie_Cache_Base
</span><span id="477" class="l"><a class="l" href="#477">  477: </a>{
</span><span id="478" class="l"><a class="l" href="#478">  478: </a>    <span class="php-comment">/**
</span></span><span id="479" class="l"><a class="l" href="#479">  479: </a><span class="php-comment">     * Memcache instance
</span></span><span id="480" class="l"><a class="l" href="#480">  480: </a><span class="php-comment">     *
</span></span><span id="481" class="l"><a class="l" href="#481">  481: </a><span class="php-comment">     * @var Memcache
</span></span><span id="482" class="l"><a class="l" href="#482">  482: </a><span class="php-comment">     */</span>
</span><span id="483" class="l"><a class="l" href="#483">  483: </a>    <span class="php-keyword1">protected</span> <span class="php-var"><a id="$cache" href="#$cache">$cache</a></span>;
</span><span id="484" class="l"><a class="l" href="#484">  484: </a>
</span><span id="485" class="l"><a class="l" href="#485">  485: </a>    <span class="php-comment">/**
</span></span><span id="486" class="l"><a class="l" href="#486">  486: </a><span class="php-comment">     * Options
</span></span><span id="487" class="l"><a class="l" href="#487">  487: </a><span class="php-comment">     *
</span></span><span id="488" class="l"><a class="l" href="#488">  488: </a><span class="php-comment">     * @var array
</span></span><span id="489" class="l"><a class="l" href="#489">  489: </a><span class="php-comment">     */</span>
</span><span id="490" class="l"><a class="l" href="#490">  490: </a>    <span class="php-keyword1">protected</span> <span class="php-var"><a id="$options" href="#$options">$options</a></span>;
</span><span id="491" class="l"><a class="l" href="#491">  491: </a>
</span><span id="492" class="l"><a class="l" href="#492">  492: </a>    <span class="php-comment">/**
</span></span><span id="493" class="l"><a class="l" href="#493">  493: </a><span class="php-comment">     * Cache name
</span></span><span id="494" class="l"><a class="l" href="#494">  494: </a><span class="php-comment">     *
</span></span><span id="495" class="l"><a class="l" href="#495">  495: </a><span class="php-comment">     * @var string
</span></span><span id="496" class="l"><a class="l" href="#496">  496: </a><span class="php-comment">     */</span>
</span><span id="497" class="l"><a class="l" href="#497">  497: </a>    <span class="php-keyword1">protected</span> <span class="php-var"><a id="$name" href="#$name">$name</a></span>;
</span><span id="498" class="l"><a class="l" href="#498">  498: </a>
</span><span id="499" class="l"><a class="l" href="#499">  499: </a>    <span class="php-comment">/**
</span></span><span id="500" class="l"><a class="l" href="#500">  500: </a><span class="php-comment">     * Create a new cache object
</span></span><span id="501" class="l"><a class="l" href="#501">  501: </a><span class="php-comment">     *
</span></span><span id="502" class="l"><a class="l" href="#502">  502: </a><span class="php-comment">     * @param string $location Location string (from SimplePie::$cache_location)
</span></span><span id="503" class="l"><a class="l" href="#503">  503: </a><span class="php-comment">     * @param string $name Unique ID for the cache
</span></span><span id="504" class="l"><a class="l" href="#504">  504: </a><span class="php-comment">     * @param string $type Either TYPE_FEED for SimplePie data, or TYPE_IMAGE for image data
</span></span><span id="505" class="l"><a class="l" href="#505">  505: </a><span class="php-comment">     */</span>
</span><span id="506" class="l"><a class="l" href="#506">  506: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="___construct" href="#___construct">__construct</a>(<span class="php-var">$location</span>, <span class="php-var">$name</span>, <span class="php-var">$type</span>)
</span><span id="507" class="l"><a class="l" href="#507">  507: </a>    {
</span><span id="508" class="l"><a class="l" href="#508">  508: </a>        <span class="php-var">$this</span>-&gt;options = <span class="php-keyword1">array</span>(
</span><span id="509" class="l"><a class="l" href="#509">  509: </a>            <span class="php-quote">'host'</span> =&gt; <span class="php-quote">'127.0.0.1'</span>,
</span><span id="510" class="l"><a class="l" href="#510">  510: </a>            <span class="php-quote">'port'</span> =&gt; <span class="php-num">11211</span>,
</span><span id="511" class="l"><a class="l" href="#511">  511: </a>            <span class="php-quote">'extras'</span> =&gt; <span class="php-keyword1">array</span>(
</span><span id="512" class="l"><a class="l" href="#512">  512: </a>                <span class="php-quote">'timeout'</span> =&gt; <span class="php-num">3600</span>, <span class="php-comment">// one hour</span>
</span><span id="513" class="l"><a class="l" href="#513">  513: </a>                <span class="php-quote">'prefix'</span> =&gt; <span class="php-quote">'simplepie_'</span>,
</span><span id="514" class="l"><a class="l" href="#514">  514: </a>            ),
</span><span id="515" class="l"><a class="l" href="#515">  515: </a>        );
</span><span id="516" class="l"><a class="l" href="#516">  516: </a>        <span class="php-var">$this</span>-&gt;options = <span class="php-keyword2">array_merge_recursive</span>(<span class="php-var">$this</span>-&gt;options, SimplePie_Cache::<span class="php-keyword2">parse_URL</span>(<span class="php-var">$location</span>));
</span><span id="517" class="l"><a class="l" href="#517">  517: </a>        <span class="php-var">$this</span>-&gt;name = <span class="php-var">$this</span>-&gt;options[<span class="php-quote">'extras'</span>][<span class="php-quote">'prefix'</span>] . <span class="php-keyword2">md5</span>(<span class="php-quote">&quot;</span><span class="php-var">$name</span><span class="php-quote">:</span><span class="php-var">$type</span><span class="php-quote">&quot;</span>);
</span><span id="518" class="l"><a class="l" href="#518">  518: </a>
</span><span id="519" class="l"><a class="l" href="#519">  519: </a>        <span class="php-var">$this</span>-&gt;cache = <span class="php-keyword1">new</span> Memcache();
</span><span id="520" class="l"><a class="l" href="#520">  520: </a>        <span class="php-var">$this</span>-&gt;cache-&gt;addServer(<span class="php-var">$this</span>-&gt;options[<span class="php-quote">'host'</span>], (int) <span class="php-var">$this</span>-&gt;options[<span class="php-quote">'port'</span>]);
</span><span id="521" class="l"><a class="l" href="#521">  521: </a>    }
</span><span id="522" class="l"><a class="l" href="#522">  522: </a>
</span><span id="523" class="l"><a class="l" href="#523">  523: </a>    <span class="php-comment">/**
</span></span><span id="524" class="l"><a class="l" href="#524">  524: </a><span class="php-comment">     * Save data to the cache
</span></span><span id="525" class="l"><a class="l" href="#525">  525: </a><span class="php-comment">     *
</span></span><span id="526" class="l"><a class="l" href="#526">  526: </a><span class="php-comment">     * @param array|SimplePie $data Data to store in the cache. If passed a SimplePie object, only cache the $data property
</span></span><span id="527" class="l"><a class="l" href="#527">  527: </a><span class="php-comment">     * @return bool Successfulness
</span></span><span id="528" class="l"><a class="l" href="#528">  528: </a><span class="php-comment">     */</span>
</span><span id="529" class="l"><a class="l" href="#529">  529: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_save" href="#_save">save</a>(<span class="php-var">$data</span>)
</span><span id="530" class="l"><a class="l" href="#530">  530: </a>    {
</span><span id="531" class="l"><a class="l" href="#531">  531: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$data</span> <span class="php-keyword1">instanceof</span> SimplePie)
</span><span id="532" class="l"><a class="l" href="#532">  532: </a>        {
</span><span id="533" class="l"><a class="l" href="#533">  533: </a>            <span class="php-var">$data</span> = <span class="php-var">$data</span>-&gt;data;
</span><span id="534" class="l"><a class="l" href="#534">  534: </a>        }
</span><span id="535" class="l"><a class="l" href="#535">  535: </a>        <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;cache-&gt;set(<span class="php-var">$this</span>-&gt;name, <span class="php-keyword2">serialize</span>(<span class="php-var">$data</span>), MEMCACHE_COMPRESSED, (int) <span class="php-var">$this</span>-&gt;options[<span class="php-quote">'extras'</span>][<span class="php-quote">'timeout'</span>]);
</span><span id="536" class="l"><a class="l" href="#536">  536: </a>    }
</span><span id="537" class="l"><a class="l" href="#537">  537: </a>
</span><span id="538" class="l"><a class="l" href="#538">  538: </a>    <span class="php-comment">/**
</span></span><span id="539" class="l"><a class="l" href="#539">  539: </a><span class="php-comment">     * Retrieve the data saved to the cache
</span></span><span id="540" class="l"><a class="l" href="#540">  540: </a><span class="php-comment">     *
</span></span><span id="541" class="l"><a class="l" href="#541">  541: </a><span class="php-comment">     * @return array Data for SimplePie::$data
</span></span><span id="542" class="l"><a class="l" href="#542">  542: </a><span class="php-comment">     */</span>
</span><span id="543" class="l"><a class="l" href="#543">  543: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_load" href="#_load">load</a>()
</span><span id="544" class="l"><a class="l" href="#544">  544: </a>    {
</span><span id="545" class="l"><a class="l" href="#545">  545: </a>        <span class="php-var">$data</span> = <span class="php-var">$this</span>-&gt;cache-&gt;get(<span class="php-var">$this</span>-&gt;name);
</span><span id="546" class="l"><a class="l" href="#546">  546: </a>
</span><span id="547" class="l"><a class="l" href="#547">  547: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$data</span> !== <span class="php-keyword1">false</span>)
</span><span id="548" class="l"><a class="l" href="#548">  548: </a>        {
</span><span id="549" class="l"><a class="l" href="#549">  549: </a>            <span class="php-keyword1">return</span> <span class="php-keyword2">unserialize</span>(<span class="php-var">$data</span>);
</span><span id="550" class="l"><a class="l" href="#550">  550: </a>        }
</span><span id="551" class="l"><a class="l" href="#551">  551: </a>        <span class="php-keyword1">return</span> <span class="php-keyword1">false</span>;
</span><span id="552" class="l"><a class="l" href="#552">  552: </a>    }
</span><span id="553" class="l"><a class="l" href="#553">  553: </a>
</span><span id="554" class="l"><a class="l" href="#554">  554: </a>    <span class="php-comment">/**
</span></span><span id="555" class="l"><a class="l" href="#555">  555: </a><span class="php-comment">     * Retrieve the last modified time for the cache
</span></span><span id="556" class="l"><a class="l" href="#556">  556: </a><span class="php-comment">     *
</span></span><span id="557" class="l"><a class="l" href="#557">  557: </a><span class="php-comment">     * @return int Timestamp
</span></span><span id="558" class="l"><a class="l" href="#558">  558: </a><span class="php-comment">     */</span>
</span><span id="559" class="l"><a class="l" href="#559">  559: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_mtime" href="#_mtime">mtime</a>()
</span><span id="560" class="l"><a class="l" href="#560">  560: </a>    {
</span><span id="561" class="l"><a class="l" href="#561">  561: </a>        <span class="php-var">$data</span> = <span class="php-var">$this</span>-&gt;cache-&gt;get(<span class="php-var">$this</span>-&gt;name);
</span><span id="562" class="l"><a class="l" href="#562">  562: </a>
</span><span id="563" class="l"><a class="l" href="#563">  563: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$data</span> !== <span class="php-keyword1">false</span>)
</span><span id="564" class="l"><a class="l" href="#564">  564: </a>        {
</span><span id="565" class="l"><a class="l" href="#565">  565: </a>            <span class="php-comment">// essentially ignore the mtime because Memcache expires on it's own</span>
</span><span id="566" class="l"><a class="l" href="#566">  566: </a>            <span class="php-keyword1">return</span> <span class="php-keyword2">time</span>();
</span><span id="567" class="l"><a class="l" href="#567">  567: </a>        }
</span><span id="568" class="l"><a class="l" href="#568">  568: </a>
</span><span id="569" class="l"><a class="l" href="#569">  569: </a>        <span class="php-keyword1">return</span> <span class="php-keyword1">false</span>;
</span><span id="570" class="l"><a class="l" href="#570">  570: </a>    }
</span><span id="571" class="l"><a class="l" href="#571">  571: </a>
</span><span id="572" class="l"><a class="l" href="#572">  572: </a>    <span class="php-comment">/**
</span></span><span id="573" class="l"><a class="l" href="#573">  573: </a><span class="php-comment">     * Set the last modified time to the current time
</span></span><span id="574" class="l"><a class="l" href="#574">  574: </a><span class="php-comment">     *
</span></span><span id="575" class="l"><a class="l" href="#575">  575: </a><span class="php-comment">     * @return bool Success status
</span></span><span id="576" class="l"><a class="l" href="#576">  576: </a><span class="php-comment">     */</span>
</span><span id="577" class="l"><a class="l" href="#577">  577: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <span class="php-keyword2">touch</span>()
</span><span id="578" class="l"><a class="l" href="#578">  578: </a>    {
</span><span id="579" class="l"><a class="l" href="#579">  579: </a>        <span class="php-var">$data</span> = <span class="php-var">$this</span>-&gt;cache-&gt;get(<span class="php-var">$this</span>-&gt;name);
</span><span id="580" class="l"><a class="l" href="#580">  580: </a>
</span><span id="581" class="l"><a class="l" href="#581">  581: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$data</span> !== <span class="php-keyword1">false</span>)
</span><span id="582" class="l"><a class="l" href="#582">  582: </a>        {
</span><span id="583" class="l"><a class="l" href="#583">  583: </a>            <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;cache-&gt;set(<span class="php-var">$this</span>-&gt;name, <span class="php-var">$data</span>, MEMCACHE_COMPRESSED, (int) <span class="php-var">$this</span>-&gt;duration);
</span><span id="584" class="l"><a class="l" href="#584">  584: </a>        }
</span><span id="585" class="l"><a class="l" href="#585">  585: </a>
</span><span id="586" class="l"><a class="l" href="#586">  586: </a>        <span class="php-keyword1">return</span> <span class="php-keyword1">false</span>;
</span><span id="587" class="l"><a class="l" href="#587">  587: </a>    }
</span><span id="588" class="l"><a class="l" href="#588">  588: </a>
</span><span id="589" class="l"><a class="l" href="#589">  589: </a>    <span class="php-comment">/**
</span></span><span id="590" class="l"><a class="l" href="#590">  590: </a><span class="php-comment">     * Remove the cache
</span></span><span id="591" class="l"><a class="l" href="#591">  591: </a><span class="php-comment">     *
</span></span><span id="592" class="l"><a class="l" href="#592">  592: </a><span class="php-comment">     * @return bool Success status
</span></span><span id="593" class="l"><a class="l" href="#593">  593: </a><span class="php-comment">     */</span>
</span><span id="594" class="l"><a class="l" href="#594">  594: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <span class="php-keyword2">unlink</span>()
</span><span id="595" class="l"><a class="l" href="#595">  595: </a>    {
</span><span id="596" class="l"><a class="l" href="#596">  596: </a>        <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;cache-&gt;<span class="php-keyword2">delete</span>(<span class="php-var">$this</span>-&gt;name, <span class="php-num">0</span>);
</span><span id="597" class="l"><a class="l" href="#597">  597: </a>    }
</span><span id="598" class="l"><a class="l" href="#598">  598: </a>}
</span><span id="599" class="l"><a class="l" href="#599">  599: </a>
</span><span id="600" class="l"><a class="l" href="#600">  600: </a><span class="php-comment">/**
</span></span><span id="601" class="l"><a class="l" href="#601">  601: </a><span class="php-comment"> * Caches data to a MySQL database
</span></span><span id="602" class="l"><a class="l" href="#602">  602: </a><span class="php-comment"> *
</span></span><span id="603" class="l"><a class="l" href="#603">  603: </a><span class="php-comment"> * Registered for URLs with the &quot;mysql&quot; protocol
</span></span><span id="604" class="l"><a class="l" href="#604">  604: </a><span class="php-comment"> *
</span></span><span id="605" class="l"><a class="l" href="#605">  605: </a><span class="php-comment"> * For example, `mysql://root:password@localhost:3306/mydb?prefix=sp_` will
</span></span><span id="606" class="l"><a class="l" href="#606">  606: </a><span class="php-comment"> * connect to the `mydb` database on `localhost` on port 3306, with the user
</span></span><span id="607" class="l"><a class="l" href="#607">  607: </a><span class="php-comment"> * `root` and the password `password`. All tables will be prefixed with `sp_`
</span></span><span id="608" class="l"><a class="l" href="#608">  608: </a><span class="php-comment"> *
</span></span><span id="609" class="l"><a class="l" href="#609">  609: </a><span class="php-comment"> * @package SimplePie
</span></span><span id="610" class="l"><a class="l" href="#610">  610: </a><span class="php-comment"> */</span>
</span><span id="611" class="l"><a class="l" href="#611">  611: </a><span class="php-keyword1">class</span> <a id="SimplePie_Cache_MySQL" href="#SimplePie_Cache_MySQL">SimplePie_Cache_MySQL</a> <span class="php-keyword1">extends</span> SimplePie_Cache_DB
</span><span id="612" class="l"><a class="l" href="#612">  612: </a>{
</span><span id="613" class="l"><a class="l" href="#613">  613: </a>    <span class="php-comment">/**
</span></span><span id="614" class="l"><a class="l" href="#614">  614: </a><span class="php-comment">     * PDO instance
</span></span><span id="615" class="l"><a class="l" href="#615">  615: </a><span class="php-comment">     *
</span></span><span id="616" class="l"><a class="l" href="#616">  616: </a><span class="php-comment">     * @var PDO
</span></span><span id="617" class="l"><a class="l" href="#617">  617: </a><span class="php-comment">     */</span>
</span><span id="618" class="l"><a class="l" href="#618">  618: </a>    <span class="php-keyword1">protected</span> <span class="php-var"><a id="$mysql" href="#$mysql">$mysql</a></span>;
</span><span id="619" class="l"><a class="l" href="#619">  619: </a>
</span><span id="620" class="l"><a class="l" href="#620">  620: </a>    <span class="php-comment">/**
</span></span><span id="621" class="l"><a class="l" href="#621">  621: </a><span class="php-comment">     * Options
</span></span><span id="622" class="l"><a class="l" href="#622">  622: </a><span class="php-comment">     *
</span></span><span id="623" class="l"><a class="l" href="#623">  623: </a><span class="php-comment">     * @var array
</span></span><span id="624" class="l"><a class="l" href="#624">  624: </a><span class="php-comment">     */</span>
</span><span id="625" class="l"><a class="l" href="#625">  625: </a>    <span class="php-keyword1">protected</span> <span class="php-var"><a id="$options" href="#$options">$options</a></span>;
</span><span id="626" class="l"><a class="l" href="#626">  626: </a>
</span><span id="627" class="l"><a class="l" href="#627">  627: </a>    <span class="php-comment">/**
</span></span><span id="628" class="l"><a class="l" href="#628">  628: </a><span class="php-comment">     * Cache ID
</span></span><span id="629" class="l"><a class="l" href="#629">  629: </a><span class="php-comment">     *
</span></span><span id="630" class="l"><a class="l" href="#630">  630: </a><span class="php-comment">     * @var string
</span></span><span id="631" class="l"><a class="l" href="#631">  631: </a><span class="php-comment">     */</span>
</span><span id="632" class="l"><a class="l" href="#632">  632: </a>    <span class="php-keyword1">protected</span> <span class="php-var"><a id="$id" href="#$id">$id</a></span>;
</span><span id="633" class="l"><a class="l" href="#633">  633: </a>
</span><span id="634" class="l"><a class="l" href="#634">  634: </a>    <span class="php-comment">/**
</span></span><span id="635" class="l"><a class="l" href="#635">  635: </a><span class="php-comment">     * Create a new cache object
</span></span><span id="636" class="l"><a class="l" href="#636">  636: </a><span class="php-comment">     *
</span></span><span id="637" class="l"><a class="l" href="#637">  637: </a><span class="php-comment">     * @param string $location Location string (from SimplePie::$cache_location)
</span></span><span id="638" class="l"><a class="l" href="#638">  638: </a><span class="php-comment">     * @param string $name Unique ID for the cache
</span></span><span id="639" class="l"><a class="l" href="#639">  639: </a><span class="php-comment">     * @param string $type Either TYPE_FEED for SimplePie data, or TYPE_IMAGE for image data
</span></span><span id="640" class="l"><a class="l" href="#640">  640: </a><span class="php-comment">     */</span>
</span><span id="641" class="l"><a class="l" href="#641">  641: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="___construct" href="#___construct">__construct</a>(<span class="php-var">$location</span>, <span class="php-var">$name</span>, <span class="php-var">$type</span>)
</span><span id="642" class="l"><a class="l" href="#642">  642: </a>    {
</span><span id="643" class="l"><a class="l" href="#643">  643: </a>        <span class="php-var">$this</span>-&gt;options = <span class="php-keyword1">array</span>(
</span><span id="644" class="l"><a class="l" href="#644">  644: </a>            <span class="php-quote">'user'</span> =&gt; <span class="php-keyword1">null</span>,
</span><span id="645" class="l"><a class="l" href="#645">  645: </a>            <span class="php-quote">'pass'</span> =&gt; <span class="php-keyword1">null</span>,
</span><span id="646" class="l"><a class="l" href="#646">  646: </a>            <span class="php-quote">'host'</span> =&gt; <span class="php-quote">'127.0.0.1'</span>,
</span><span id="647" class="l"><a class="l" href="#647">  647: </a>            <span class="php-quote">'port'</span> =&gt; <span class="php-quote">'3306'</span>,
</span><span id="648" class="l"><a class="l" href="#648">  648: </a>            <span class="php-quote">'path'</span> =&gt; <span class="php-quote">''</span>,
</span><span id="649" class="l"><a class="l" href="#649">  649: </a>            <span class="php-quote">'extras'</span> =&gt; <span class="php-keyword1">array</span>(
</span><span id="650" class="l"><a class="l" href="#650">  650: </a>                <span class="php-quote">'prefix'</span> =&gt; <span class="php-quote">''</span>,
</span><span id="651" class="l"><a class="l" href="#651">  651: </a>            ),
</span><span id="652" class="l"><a class="l" href="#652">  652: </a>        );
</span><span id="653" class="l"><a class="l" href="#653">  653: </a>        <span class="php-var">$this</span>-&gt;options = <span class="php-keyword2">array_merge_recursive</span>(<span class="php-var">$this</span>-&gt;options, SimplePie_Cache::<span class="php-keyword2">parse_URL</span>(<span class="php-var">$location</span>));
</span><span id="654" class="l"><a class="l" href="#654">  654: </a>
</span><span id="655" class="l"><a class="l" href="#655">  655: </a>        <span class="php-comment">// Path is prefixed with a &quot;/&quot;</span>
</span><span id="656" class="l"><a class="l" href="#656">  656: </a>        <span class="php-var">$this</span>-&gt;options[<span class="php-quote">'dbname'</span>] = <span class="php-keyword2">substr</span>(<span class="php-var">$this</span>-&gt;options[<span class="php-quote">'path'</span>], <span class="php-num">1</span>);
</span><span id="657" class="l"><a class="l" href="#657">  657: </a>
</span><span id="658" class="l"><a class="l" href="#658">  658: </a>        <span class="php-keyword1">try</span>
</span><span id="659" class="l"><a class="l" href="#659">  659: </a>        {
</span><span id="660" class="l"><a class="l" href="#660">  660: </a>            <span class="php-var">$this</span>-&gt;<span class="php-keyword2">mysql</span> = <span class="php-keyword1">new</span> PDO(<span class="php-quote">&quot;mysql:dbname=</span><span class="php-var">{$this-&gt;options['dbname']}</span><span class="php-quote">;host=</span><span class="php-var">{$this-&gt;options['host']}</span><span class="php-quote">;port=</span><span class="php-var">{$this-&gt;options['port']}</span><span class="php-quote">&quot;</span>, <span class="php-var">$this</span>-&gt;options[<span class="php-quote">'user'</span>], <span class="php-var">$this</span>-&gt;options[<span class="php-quote">'pass'</span>], <span class="php-keyword1">array</span>(PDO::MYSQL_ATTR_INIT_COMMAND =&gt; <span class="php-quote">'SET NAMES utf8'</span>));
</span><span id="661" class="l"><a class="l" href="#661">  661: </a>        }
</span><span id="662" class="l"><a class="l" href="#662">  662: </a>        <span class="php-keyword1">catch</span> (PDOException <span class="php-var">$e</span>)
</span><span id="663" class="l"><a class="l" href="#663">  663: </a>        {
</span><span id="664" class="l"><a class="l" href="#664">  664: </a>            <span class="php-var">$this</span>-&gt;<span class="php-keyword2">mysql</span> = <span class="php-keyword1">null</span>;
</span><span id="665" class="l"><a class="l" href="#665">  665: </a>            <span class="php-keyword1">return</span>;
</span><span id="666" class="l"><a class="l" href="#666">  666: </a>        }
</span><span id="667" class="l"><a class="l" href="#667">  667: </a>
</span><span id="668" class="l"><a class="l" href="#668">  668: </a>        <span class="php-var">$this</span>-&gt;id = <span class="php-var">$name</span> . <span class="php-var">$type</span>;
</span><span id="669" class="l"><a class="l" href="#669">  669: </a>
</span><span id="670" class="l"><a class="l" href="#670">  670: </a>        <span class="php-keyword1">if</span> (!<span class="php-var">$query</span> = <span class="php-var">$this</span>-&gt;<span class="php-keyword2">mysql</span>-&gt;query(<span class="php-quote">'SHOW TABLES'</span>))
</span><span id="671" class="l"><a class="l" href="#671">  671: </a>        {
</span><span id="672" class="l"><a class="l" href="#672">  672: </a>            <span class="php-var">$this</span>-&gt;<span class="php-keyword2">mysql</span> = <span class="php-keyword1">null</span>;
</span><span id="673" class="l"><a class="l" href="#673">  673: </a>            <span class="php-keyword1">return</span>;
</span><span id="674" class="l"><a class="l" href="#674">  674: </a>        }
</span><span id="675" class="l"><a class="l" href="#675">  675: </a>
</span><span id="676" class="l"><a class="l" href="#676">  676: </a>        <span class="php-var">$db</span> = <span class="php-keyword1">array</span>();
</span><span id="677" class="l"><a class="l" href="#677">  677: </a>        <span class="php-keyword1">while</span> (<span class="php-var">$row</span> = <span class="php-var">$query</span>-&gt;fetchColumn())
</span><span id="678" class="l"><a class="l" href="#678">  678: </a>        {
</span><span id="679" class="l"><a class="l" href="#679">  679: </a>            <span class="php-var">$db</span>[] = <span class="php-var">$row</span>;
</span><span id="680" class="l"><a class="l" href="#680">  680: </a>        }
</span><span id="681" class="l"><a class="l" href="#681">  681: </a>
</span><span id="682" class="l"><a class="l" href="#682">  682: </a>        <span class="php-keyword1">if</span> (!<span class="php-keyword2">in_array</span>(<span class="php-var">$this</span>-&gt;options[<span class="php-quote">'extras'</span>][<span class="php-quote">'prefix'</span>] . <span class="php-quote">'cache_data'</span>, <span class="php-var">$db</span>))
</span><span id="683" class="l"><a class="l" href="#683">  683: </a>        {
</span><span id="684" class="l"><a class="l" href="#684">  684: </a>            <span class="php-var">$query</span> = <span class="php-var">$this</span>-&gt;<span class="php-keyword2">mysql</span>-&gt;<span class="php-keyword2">exec</span>(<span class="php-quote">'CREATE TABLE `'</span> . <span class="php-var">$this</span>-&gt;options[<span class="php-quote">'extras'</span>][<span class="php-quote">'prefix'</span>] . <span class="php-quote">'cache_data` (`id` TEXT CHARACTER SET utf8 NOT NULL, `items` SMALLINT NOT NULL DEFAULT 0, `data` BLOB NOT NULL, `mtime` INT UNSIGNED NOT NULL, UNIQUE (`id`(125)))'</span>);
</span><span id="685" class="l"><a class="l" href="#685">  685: </a>            <span class="php-keyword1">if</span> (<span class="php-var">$query</span> === <span class="php-keyword1">false</span>)
</span><span id="686" class="l"><a class="l" href="#686">  686: </a>            {
</span><span id="687" class="l"><a class="l" href="#687">  687: </a>                <span class="php-var">$this</span>-&gt;<span class="php-keyword2">mysql</span> = <span class="php-keyword1">null</span>;
</span><span id="688" class="l"><a class="l" href="#688">  688: </a>            }
</span><span id="689" class="l"><a class="l" href="#689">  689: </a>        }
</span><span id="690" class="l"><a class="l" href="#690">  690: </a>
</span><span id="691" class="l"><a class="l" href="#691">  691: </a>        <span class="php-keyword1">if</span> (!<span class="php-keyword2">in_array</span>(<span class="php-var">$this</span>-&gt;options[<span class="php-quote">'extras'</span>][<span class="php-quote">'prefix'</span>] . <span class="php-quote">'items'</span>, <span class="php-var">$db</span>))
</span><span id="692" class="l"><a class="l" href="#692">  692: </a>        {
</span><span id="693" class="l"><a class="l" href="#693">  693: </a>            <span class="php-var">$query</span> = <span class="php-var">$this</span>-&gt;<span class="php-keyword2">mysql</span>-&gt;<span class="php-keyword2">exec</span>(<span class="php-quote">'CREATE TABLE `'</span> . <span class="php-var">$this</span>-&gt;options[<span class="php-quote">'extras'</span>][<span class="php-quote">'prefix'</span>] . <span class="php-quote">'items` (`feed_id` TEXT CHARACTER SET utf8 NOT NULL, `id` TEXT CHARACTER SET utf8 NOT NULL, `data` TEXT CHARACTER SET utf8 NOT NULL, `posted` INT UNSIGNED NOT NULL, INDEX `feed_id` (`feed_id`(125)))'</span>);
</span><span id="694" class="l"><a class="l" href="#694">  694: </a>            <span class="php-keyword1">if</span> (<span class="php-var">$query</span> === <span class="php-keyword1">false</span>)
</span><span id="695" class="l"><a class="l" href="#695">  695: </a>            {
</span><span id="696" class="l"><a class="l" href="#696">  696: </a>                <span class="php-var">$this</span>-&gt;<span class="php-keyword2">mysql</span> = <span class="php-keyword1">null</span>;
</span><span id="697" class="l"><a class="l" href="#697">  697: </a>            }
</span><span id="698" class="l"><a class="l" href="#698">  698: </a>        }
</span><span id="699" class="l"><a class="l" href="#699">  699: </a>    }
</span><span id="700" class="l"><a class="l" href="#700">  700: </a>
</span><span id="701" class="l"><a class="l" href="#701">  701: </a>    <span class="php-comment">/**
</span></span><span id="702" class="l"><a class="l" href="#702">  702: </a><span class="php-comment">     * Save data to the cache
</span></span><span id="703" class="l"><a class="l" href="#703">  703: </a><span class="php-comment">     *
</span></span><span id="704" class="l"><a class="l" href="#704">  704: </a><span class="php-comment">     * @param array|SimplePie $data Data to store in the cache. If passed a SimplePie object, only cache the $data property
</span></span><span id="705" class="l"><a class="l" href="#705">  705: </a><span class="php-comment">     * @return bool Successfulness
</span></span><span id="706" class="l"><a class="l" href="#706">  706: </a><span class="php-comment">     */</span>
</span><span id="707" class="l"><a class="l" href="#707">  707: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_save" href="#_save">save</a>(<span class="php-var">$data</span>)
</span><span id="708" class="l"><a class="l" href="#708">  708: </a>    {
</span><span id="709" class="l"><a class="l" href="#709">  709: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$this</span>-&gt;<span class="php-keyword2">mysql</span> === <span class="php-keyword1">null</span>)
</span><span id="710" class="l"><a class="l" href="#710">  710: </a>        {
</span><span id="711" class="l"><a class="l" href="#711">  711: </a>            <span class="php-keyword1">return</span> <span class="php-keyword1">false</span>;
</span><span id="712" class="l"><a class="l" href="#712">  712: </a>        }
</span><span id="713" class="l"><a class="l" href="#713">  713: </a>
</span><span id="714" class="l"><a class="l" href="#714">  714: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$data</span> <span class="php-keyword1">instanceof</span> SimplePie)
</span><span id="715" class="l"><a class="l" href="#715">  715: </a>        {
</span><span id="716" class="l"><a class="l" href="#716">  716: </a>            <span class="php-var">$data</span> = <span class="php-keyword1">clone</span> <span class="php-var">$data</span>;
</span><span id="717" class="l"><a class="l" href="#717">  717: </a>
</span><span id="718" class="l"><a class="l" href="#718">  718: </a>            <span class="php-var">$prepared</span> = self::prepare_simplepie_object_for_cache(<span class="php-var">$data</span>);
</span><span id="719" class="l"><a class="l" href="#719">  719: </a>
</span><span id="720" class="l"><a class="l" href="#720">  720: </a>            <span class="php-var">$query</span> = <span class="php-var">$this</span>-&gt;<span class="php-keyword2">mysql</span>-&gt;prepare(<span class="php-quote">'SELECT COUNT(*) FROM `'</span> . <span class="php-var">$this</span>-&gt;options[<span class="php-quote">'extras'</span>][<span class="php-quote">'prefix'</span>] . <span class="php-quote">'cache_data` WHERE `id` = :feed'</span>);
</span><span id="721" class="l"><a class="l" href="#721">  721: </a>            <span class="php-var">$query</span>-&gt;bindValue(<span class="php-quote">':feed'</span>, <span class="php-var">$this</span>-&gt;id);
</span><span id="722" class="l"><a class="l" href="#722">  722: </a>            <span class="php-keyword1">if</span> (<span class="php-var">$query</span>-&gt;execute())
</span><span id="723" class="l"><a class="l" href="#723">  723: </a>            {
</span><span id="724" class="l"><a class="l" href="#724">  724: </a>                <span class="php-keyword1">if</span> (<span class="php-var">$query</span>-&gt;fetchColumn() &gt; <span class="php-num">0</span>)
</span><span id="725" class="l"><a class="l" href="#725">  725: </a>                {
</span><span id="726" class="l"><a class="l" href="#726">  726: </a>                    <span class="php-var">$items</span> = <span class="php-keyword2">count</span>(<span class="php-var">$prepared</span>[<span class="php-num">1</span>]);
</span><span id="727" class="l"><a class="l" href="#727">  727: </a>                    <span class="php-keyword1">if</span> (<span class="php-var">$items</span>)
</span><span id="728" class="l"><a class="l" href="#728">  728: </a>                    {
</span><span id="729" class="l"><a class="l" href="#729">  729: </a>                        <span class="php-var">$sql</span> = <span class="php-quote">'UPDATE `'</span> . <span class="php-var">$this</span>-&gt;options[<span class="php-quote">'extras'</span>][<span class="php-quote">'prefix'</span>] . <span class="php-quote">'cache_data` SET `items` = :items, `data` = :data, `mtime` = :time WHERE `id` = :feed'</span>;
</span><span id="730" class="l"><a class="l" href="#730">  730: </a>                        <span class="php-var">$query</span> = <span class="php-var">$this</span>-&gt;<span class="php-keyword2">mysql</span>-&gt;prepare(<span class="php-var">$sql</span>);
</span><span id="731" class="l"><a class="l" href="#731">  731: </a>                        <span class="php-var">$query</span>-&gt;bindValue(<span class="php-quote">':items'</span>, <span class="php-var">$items</span>);
</span><span id="732" class="l"><a class="l" href="#732">  732: </a>                    }
</span><span id="733" class="l"><a class="l" href="#733">  733: </a>                    <span class="php-keyword1">else</span>
</span><span id="734" class="l"><a class="l" href="#734">  734: </a>                    {
</span><span id="735" class="l"><a class="l" href="#735">  735: </a>                        <span class="php-var">$sql</span> = <span class="php-quote">'UPDATE `'</span> . <span class="php-var">$this</span>-&gt;options[<span class="php-quote">'extras'</span>][<span class="php-quote">'prefix'</span>] . <span class="php-quote">'cache_data` SET `data` = :data, `mtime` = :time WHERE `id` = :feed'</span>;
</span><span id="736" class="l"><a class="l" href="#736">  736: </a>                        <span class="php-var">$query</span> = <span class="php-var">$this</span>-&gt;<span class="php-keyword2">mysql</span>-&gt;prepare(<span class="php-var">$sql</span>);
</span><span id="737" class="l"><a class="l" href="#737">  737: </a>                    }
</span><span id="738" class="l"><a class="l" href="#738">  738: </a>
</span><span id="739" class="l"><a class="l" href="#739">  739: </a>                    <span class="php-var">$query</span>-&gt;bindValue(<span class="php-quote">':data'</span>, <span class="php-var">$prepared</span>[<span class="php-num">0</span>]);
</span><span id="740" class="l"><a class="l" href="#740">  740: </a>                    <span class="php-var">$query</span>-&gt;bindValue(<span class="php-quote">':time'</span>, <span class="php-keyword2">time</span>());
</span><span id="741" class="l"><a class="l" href="#741">  741: </a>                    <span class="php-var">$query</span>-&gt;bindValue(<span class="php-quote">':feed'</span>, <span class="php-var">$this</span>-&gt;id);
</span><span id="742" class="l"><a class="l" href="#742">  742: </a>                    <span class="php-keyword1">if</span> (!<span class="php-var">$query</span>-&gt;execute())
</span><span id="743" class="l"><a class="l" href="#743">  743: </a>                    {
</span><span id="744" class="l"><a class="l" href="#744">  744: </a>                        <span class="php-keyword1">return</span> <span class="php-keyword1">false</span>;
</span><span id="745" class="l"><a class="l" href="#745">  745: </a>                    }
</span><span id="746" class="l"><a class="l" href="#746">  746: </a>                }
</span><span id="747" class="l"><a class="l" href="#747">  747: </a>                <span class="php-keyword1">else</span>
</span><span id="748" class="l"><a class="l" href="#748">  748: </a>                {
</span><span id="749" class="l"><a class="l" href="#749">  749: </a>                    <span class="php-var">$query</span> = <span class="php-var">$this</span>-&gt;<span class="php-keyword2">mysql</span>-&gt;prepare(<span class="php-quote">'INSERT INTO `'</span> . <span class="php-var">$this</span>-&gt;options[<span class="php-quote">'extras'</span>][<span class="php-quote">'prefix'</span>] . <span class="php-quote">'cache_data` (`id`, `items`, `data`, `mtime`) VALUES(:feed, :count, :data, :time)'</span>);
</span><span id="750" class="l"><a class="l" href="#750">  750: </a>                    <span class="php-var">$query</span>-&gt;bindValue(<span class="php-quote">':feed'</span>, <span class="php-var">$this</span>-&gt;id);
</span><span id="751" class="l"><a class="l" href="#751">  751: </a>                    <span class="php-var">$query</span>-&gt;bindValue(<span class="php-quote">':count'</span>, <span class="php-keyword2">count</span>(<span class="php-var">$prepared</span>[<span class="php-num">1</span>]));
</span><span id="752" class="l"><a class="l" href="#752">  752: </a>                    <span class="php-var">$query</span>-&gt;bindValue(<span class="php-quote">':data'</span>, <span class="php-var">$prepared</span>[<span class="php-num">0</span>]);
</span><span id="753" class="l"><a class="l" href="#753">  753: </a>                    <span class="php-var">$query</span>-&gt;bindValue(<span class="php-quote">':time'</span>, <span class="php-keyword2">time</span>());
</span><span id="754" class="l"><a class="l" href="#754">  754: </a>                    <span class="php-keyword1">if</span> (!<span class="php-var">$query</span>-&gt;execute())
</span><span id="755" class="l"><a class="l" href="#755">  755: </a>                    {
</span><span id="756" class="l"><a class="l" href="#756">  756: </a>                        <span class="php-keyword1">return</span> <span class="php-keyword1">false</span>;
</span><span id="757" class="l"><a class="l" href="#757">  757: </a>                    }
</span><span id="758" class="l"><a class="l" href="#758">  758: </a>                }
</span><span id="759" class="l"><a class="l" href="#759">  759: </a>
</span><span id="760" class="l"><a class="l" href="#760">  760: </a>                <span class="php-var">$ids</span> = <span class="php-keyword2">array_keys</span>(<span class="php-var">$prepared</span>[<span class="php-num">1</span>]);
</span><span id="761" class="l"><a class="l" href="#761">  761: </a>                <span class="php-keyword1">if</span> (!<span class="php-keyword1">empty</span>(<span class="php-var">$ids</span>))
</span><span id="762" class="l"><a class="l" href="#762">  762: </a>                {
</span><span id="763" class="l"><a class="l" href="#763">  763: </a>                    <span class="php-keyword1">foreach</span> (<span class="php-var">$ids</span> <span class="php-keyword1">as</span> <span class="php-var">$id</span>)
</span><span id="764" class="l"><a class="l" href="#764">  764: </a>                    {
</span><span id="765" class="l"><a class="l" href="#765">  765: </a>                        <span class="php-var">$database_ids</span>[] = <span class="php-var">$this</span>-&gt;<span class="php-keyword2">mysql</span>-&gt;quote(<span class="php-var">$id</span>);
</span><span id="766" class="l"><a class="l" href="#766">  766: </a>                    }
</span><span id="767" class="l"><a class="l" href="#767">  767: </a>
</span><span id="768" class="l"><a class="l" href="#768">  768: </a>                    <span class="php-var">$query</span> = <span class="php-var">$this</span>-&gt;<span class="php-keyword2">mysql</span>-&gt;prepare(<span class="php-quote">'SELECT `id` FROM `'</span> . <span class="php-var">$this</span>-&gt;options[<span class="php-quote">'extras'</span>][<span class="php-quote">'prefix'</span>] . <span class="php-quote">'items` WHERE `id` = '</span> . <span class="php-keyword2">implode</span>(<span class="php-quote">' OR `id` = '</span>, <span class="php-var">$database_ids</span>) . <span class="php-quote">' AND `feed_id` = :feed'</span>);
</span><span id="769" class="l"><a class="l" href="#769">  769: </a>                    <span class="php-var">$query</span>-&gt;bindValue(<span class="php-quote">':feed'</span>, <span class="php-var">$this</span>-&gt;id);
</span><span id="770" class="l"><a class="l" href="#770">  770: </a>
</span><span id="771" class="l"><a class="l" href="#771">  771: </a>                    <span class="php-keyword1">if</span> (<span class="php-var">$query</span>-&gt;execute())
</span><span id="772" class="l"><a class="l" href="#772">  772: </a>                    {
</span><span id="773" class="l"><a class="l" href="#773">  773: </a>                        <span class="php-var">$existing_ids</span> = <span class="php-keyword1">array</span>();
</span><span id="774" class="l"><a class="l" href="#774">  774: </a>                        <span class="php-keyword1">while</span> (<span class="php-var">$row</span> = <span class="php-var">$query</span>-&gt;fetchColumn())
</span><span id="775" class="l"><a class="l" href="#775">  775: </a>                        {
</span><span id="776" class="l"><a class="l" href="#776">  776: </a>                            <span class="php-var">$existing_ids</span>[] = <span class="php-var">$row</span>;
</span><span id="777" class="l"><a class="l" href="#777">  777: </a>                        }
</span><span id="778" class="l"><a class="l" href="#778">  778: </a>
</span><span id="779" class="l"><a class="l" href="#779">  779: </a>                        <span class="php-var">$new_ids</span> = <span class="php-keyword2">array_diff</span>(<span class="php-var">$ids</span>, <span class="php-var">$existing_ids</span>);
</span><span id="780" class="l"><a class="l" href="#780">  780: </a>
</span><span id="781" class="l"><a class="l" href="#781">  781: </a>                        <span class="php-keyword1">foreach</span> (<span class="php-var">$new_ids</span> <span class="php-keyword1">as</span> <span class="php-var">$new_id</span>)
</span><span id="782" class="l"><a class="l" href="#782">  782: </a>                        {
</span><span id="783" class="l"><a class="l" href="#783">  783: </a>                            <span class="php-keyword1">if</span> (!(<span class="php-var">$date</span> = <span class="php-var">$prepared</span>[<span class="php-num">1</span>][<span class="php-var">$new_id</span>]-&gt;get_date(<span class="php-quote">'U'</span>)))
</span><span id="784" class="l"><a class="l" href="#784">  784: </a>                            {
</span><span id="785" class="l"><a class="l" href="#785">  785: </a>                                <span class="php-var">$date</span> = <span class="php-keyword2">time</span>();
</span><span id="786" class="l"><a class="l" href="#786">  786: </a>                            }
</span><span id="787" class="l"><a class="l" href="#787">  787: </a>
</span><span id="788" class="l"><a class="l" href="#788">  788: </a>                            <span class="php-var">$query</span> = <span class="php-var">$this</span>-&gt;<span class="php-keyword2">mysql</span>-&gt;prepare(<span class="php-quote">'INSERT INTO `'</span> . <span class="php-var">$this</span>-&gt;options[<span class="php-quote">'extras'</span>][<span class="php-quote">'prefix'</span>] . <span class="php-quote">'items` (`feed_id`, `id`, `data`, `posted`) VALUES(:feed, :id, :data, :date)'</span>);
</span><span id="789" class="l"><a class="l" href="#789">  789: </a>                            <span class="php-var">$query</span>-&gt;bindValue(<span class="php-quote">':feed'</span>, <span class="php-var">$this</span>-&gt;id);
</span><span id="790" class="l"><a class="l" href="#790">  790: </a>                            <span class="php-var">$query</span>-&gt;bindValue(<span class="php-quote">':id'</span>, <span class="php-var">$new_id</span>);
</span><span id="791" class="l"><a class="l" href="#791">  791: </a>                            <span class="php-var">$query</span>-&gt;bindValue(<span class="php-quote">':data'</span>, <span class="php-keyword2">serialize</span>(<span class="php-var">$prepared</span>[<span class="php-num">1</span>][<span class="php-var">$new_id</span>]-&gt;data));
</span><span id="792" class="l"><a class="l" href="#792">  792: </a>                            <span class="php-var">$query</span>-&gt;bindValue(<span class="php-quote">':date'</span>, <span class="php-var">$date</span>);
</span><span id="793" class="l"><a class="l" href="#793">  793: </a>                            <span class="php-keyword1">if</span> (!<span class="php-var">$query</span>-&gt;execute())
</span><span id="794" class="l"><a class="l" href="#794">  794: </a>                            {
</span><span id="795" class="l"><a class="l" href="#795">  795: </a>                                <span class="php-keyword1">return</span> <span class="php-keyword1">false</span>;
</span><span id="796" class="l"><a class="l" href="#796">  796: </a>                            }
</span><span id="797" class="l"><a class="l" href="#797">  797: </a>                        }
</span><span id="798" class="l"><a class="l" href="#798">  798: </a>                        <span class="php-keyword1">return</span> <span class="php-keyword1">true</span>;
</span><span id="799" class="l"><a class="l" href="#799">  799: </a>                    }
</span><span id="800" class="l"><a class="l" href="#800">  800: </a>                }
</span><span id="801" class="l"><a class="l" href="#801">  801: </a>                <span class="php-keyword1">else</span>
</span><span id="802" class="l"><a class="l" href="#802">  802: </a>                {
</span><span id="803" class="l"><a class="l" href="#803">  803: </a>                    <span class="php-keyword1">return</span> <span class="php-keyword1">true</span>;
</span><span id="804" class="l"><a class="l" href="#804">  804: </a>                }
</span><span id="805" class="l"><a class="l" href="#805">  805: </a>            }
</span><span id="806" class="l"><a class="l" href="#806">  806: </a>        }
</span><span id="807" class="l"><a class="l" href="#807">  807: </a>        <span class="php-keyword1">else</span>
</span><span id="808" class="l"><a class="l" href="#808">  808: </a>        {
</span><span id="809" class="l"><a class="l" href="#809">  809: </a>            <span class="php-var">$query</span> = <span class="php-var">$this</span>-&gt;<span class="php-keyword2">mysql</span>-&gt;prepare(<span class="php-quote">'SELECT `id` FROM `'</span> . <span class="php-var">$this</span>-&gt;options[<span class="php-quote">'extras'</span>][<span class="php-quote">'prefix'</span>] . <span class="php-quote">'cache_data` WHERE `id` = :feed'</span>);
</span><span id="810" class="l"><a class="l" href="#810">  810: </a>            <span class="php-var">$query</span>-&gt;bindValue(<span class="php-quote">':feed'</span>, <span class="php-var">$this</span>-&gt;id);
</span><span id="811" class="l"><a class="l" href="#811">  811: </a>            <span class="php-keyword1">if</span> (<span class="php-var">$query</span>-&gt;execute())
</span><span id="812" class="l"><a class="l" href="#812">  812: </a>            {
</span><span id="813" class="l"><a class="l" href="#813">  813: </a>                <span class="php-keyword1">if</span> (<span class="php-var">$query</span>-&gt;rowCount() &gt; <span class="php-num">0</span>)
</span><span id="814" class="l"><a class="l" href="#814">  814: </a>                {
</span><span id="815" class="l"><a class="l" href="#815">  815: </a>                    <span class="php-var">$query</span> = <span class="php-var">$this</span>-&gt;<span class="php-keyword2">mysql</span>-&gt;prepare(<span class="php-quote">'UPDATE `'</span> . <span class="php-var">$this</span>-&gt;options[<span class="php-quote">'extras'</span>][<span class="php-quote">'prefix'</span>] . <span class="php-quote">'cache_data` SET `items` = 0, `data` = :data, `mtime` = :time WHERE `id` = :feed'</span>);
</span><span id="816" class="l"><a class="l" href="#816">  816: </a>                    <span class="php-var">$query</span>-&gt;bindValue(<span class="php-quote">':data'</span>, <span class="php-keyword2">serialize</span>(<span class="php-var">$data</span>));
</span><span id="817" class="l"><a class="l" href="#817">  817: </a>                    <span class="php-var">$query</span>-&gt;bindValue(<span class="php-quote">':time'</span>, <span class="php-keyword2">time</span>());
</span><span id="818" class="l"><a class="l" href="#818">  818: </a>                    <span class="php-var">$query</span>-&gt;bindValue(<span class="php-quote">':feed'</span>, <span class="php-var">$this</span>-&gt;id);
</span><span id="819" class="l"><a class="l" href="#819">  819: </a>                    <span class="php-keyword1">if</span> (<span class="php-var">$this</span>-&gt;execute())
</span><span id="820" class="l"><a class="l" href="#820">  820: </a>                    {
</span><span id="821" class="l"><a class="l" href="#821">  821: </a>                        <span class="php-keyword1">return</span> <span class="php-keyword1">true</span>;
</span><span id="822" class="l"><a class="l" href="#822">  822: </a>                    }
</span><span id="823" class="l"><a class="l" href="#823">  823: </a>                }
</span><span id="824" class="l"><a class="l" href="#824">  824: </a>                <span class="php-keyword1">else</span>
</span><span id="825" class="l"><a class="l" href="#825">  825: </a>                {
</span><span id="826" class="l"><a class="l" href="#826">  826: </a>                    <span class="php-var">$query</span> = <span class="php-var">$this</span>-&gt;<span class="php-keyword2">mysql</span>-&gt;prepare(<span class="php-quote">'INSERT INTO `'</span> . <span class="php-var">$this</span>-&gt;options[<span class="php-quote">'extras'</span>][<span class="php-quote">'prefix'</span>] . <span class="php-quote">'cache_data` (`id`, `items`, `data`, `mtime`) VALUES(:id, 0, :data, :time)'</span>);
</span><span id="827" class="l"><a class="l" href="#827">  827: </a>                    <span class="php-var">$query</span>-&gt;bindValue(<span class="php-quote">':id'</span>, <span class="php-var">$this</span>-&gt;id);
</span><span id="828" class="l"><a class="l" href="#828">  828: </a>                    <span class="php-var">$query</span>-&gt;bindValue(<span class="php-quote">':data'</span>, <span class="php-keyword2">serialize</span>(<span class="php-var">$data</span>));
</span><span id="829" class="l"><a class="l" href="#829">  829: </a>                    <span class="php-var">$query</span>-&gt;bindValue(<span class="php-quote">':time'</span>, <span class="php-keyword2">time</span>());
</span><span id="830" class="l"><a class="l" href="#830">  830: </a>                    <span class="php-keyword1">if</span> (<span class="php-var">$query</span>-&gt;execute())
</span><span id="831" class="l"><a class="l" href="#831">  831: </a>                    {
</span><span id="832" class="l"><a class="l" href="#832">  832: </a>                        <span class="php-keyword1">return</span> <span class="php-keyword1">true</span>;
</span><span id="833" class="l"><a class="l" href="#833">  833: </a>                    }
</span><span id="834" class="l"><a class="l" href="#834">  834: </a>                }
</span><span id="835" class="l"><a class="l" href="#835">  835: </a>            }
</span><span id="836" class="l"><a class="l" href="#836">  836: </a>        }
</span><span id="837" class="l"><a class="l" href="#837">  837: </a>        <span class="php-keyword1">return</span> <span class="php-keyword1">false</span>;
</span><span id="838" class="l"><a class="l" href="#838">  838: </a>    }
</span><span id="839" class="l"><a class="l" href="#839">  839: </a>
</span><span id="840" class="l"><a class="l" href="#840">  840: </a>    <span class="php-comment">/**
</span></span><span id="841" class="l"><a class="l" href="#841">  841: </a><span class="php-comment">     * Retrieve the data saved to the cache
</span></span><span id="842" class="l"><a class="l" href="#842">  842: </a><span class="php-comment">     *
</span></span><span id="843" class="l"><a class="l" href="#843">  843: </a><span class="php-comment">     * @return array Data for SimplePie::$data
</span></span><span id="844" class="l"><a class="l" href="#844">  844: </a><span class="php-comment">     */</span>
</span><span id="845" class="l"><a class="l" href="#845">  845: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_load" href="#_load">load</a>()
</span><span id="846" class="l"><a class="l" href="#846">  846: </a>    {
</span><span id="847" class="l"><a class="l" href="#847">  847: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$this</span>-&gt;<span class="php-keyword2">mysql</span> === <span class="php-keyword1">null</span>)
</span><span id="848" class="l"><a class="l" href="#848">  848: </a>        {
</span><span id="849" class="l"><a class="l" href="#849">  849: </a>            <span class="php-keyword1">return</span> <span class="php-keyword1">false</span>;
</span><span id="850" class="l"><a class="l" href="#850">  850: </a>        }
</span><span id="851" class="l"><a class="l" href="#851">  851: </a>
</span><span id="852" class="l"><a class="l" href="#852">  852: </a>        <span class="php-var">$query</span> = <span class="php-var">$this</span>-&gt;<span class="php-keyword2">mysql</span>-&gt;prepare(<span class="php-quote">'SELECT `items`, `data` FROM `'</span> . <span class="php-var">$this</span>-&gt;options[<span class="php-quote">'extras'</span>][<span class="php-quote">'prefix'</span>] . <span class="php-quote">'cache_data` WHERE `id` = :id'</span>);
</span><span id="853" class="l"><a class="l" href="#853">  853: </a>        <span class="php-var">$query</span>-&gt;bindValue(<span class="php-quote">':id'</span>, <span class="php-var">$this</span>-&gt;id);
</span><span id="854" class="l"><a class="l" href="#854">  854: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$query</span>-&gt;execute() &amp;&amp; (<span class="php-var">$row</span> = <span class="php-var">$query</span>-&gt;fetch()))
</span><span id="855" class="l"><a class="l" href="#855">  855: </a>        {
</span><span id="856" class="l"><a class="l" href="#856">  856: </a>            <span class="php-var">$data</span> = <span class="php-keyword2">unserialize</span>(<span class="php-var">$row</span>[<span class="php-num">1</span>]);
</span><span id="857" class="l"><a class="l" href="#857">  857: </a>
</span><span id="858" class="l"><a class="l" href="#858">  858: </a>            <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$this</span>-&gt;options[<span class="php-quote">'items'</span>][<span class="php-num">0</span>]))
</span><span id="859" class="l"><a class="l" href="#859">  859: </a>            {
</span><span id="860" class="l"><a class="l" href="#860">  860: </a>                <span class="php-var">$items</span> = (int) <span class="php-var">$this</span>-&gt;options[<span class="php-quote">'items'</span>][<span class="php-num">0</span>];
</span><span id="861" class="l"><a class="l" href="#861">  861: </a>            }
</span><span id="862" class="l"><a class="l" href="#862">  862: </a>            <span class="php-keyword1">else</span>
</span><span id="863" class="l"><a class="l" href="#863">  863: </a>            {
</span><span id="864" class="l"><a class="l" href="#864">  864: </a>                <span class="php-var">$items</span> = (int) <span class="php-var">$row</span>[<span class="php-num">0</span>];
</span><span id="865" class="l"><a class="l" href="#865">  865: </a>            }
</span><span id="866" class="l"><a class="l" href="#866">  866: </a>
</span><span id="867" class="l"><a class="l" href="#867">  867: </a>            <span class="php-keyword1">if</span> (<span class="php-var">$items</span> !== <span class="php-num">0</span>)
</span><span id="868" class="l"><a class="l" href="#868">  868: </a>            {
</span><span id="869" class="l"><a class="l" href="#869">  869: </a>                <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$data</span>[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_ATOM_10][<span class="php-quote">'feed'</span>][<span class="php-num">0</span>]))
</span><span id="870" class="l"><a class="l" href="#870">  870: </a>                {
</span><span id="871" class="l"><a class="l" href="#871">  871: </a>                    <span class="php-var">$feed</span> =&amp; <span class="php-var">$data</span>[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_ATOM_10][<span class="php-quote">'feed'</span>][<span class="php-num">0</span>];
</span><span id="872" class="l"><a class="l" href="#872">  872: </a>                }
</span><span id="873" class="l"><a class="l" href="#873">  873: </a>                <span class="php-keyword1">elseif</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$data</span>[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_ATOM_03][<span class="php-quote">'feed'</span>][<span class="php-num">0</span>]))
</span><span id="874" class="l"><a class="l" href="#874">  874: </a>                {
</span><span id="875" class="l"><a class="l" href="#875">  875: </a>                    <span class="php-var">$feed</span> =&amp; <span class="php-var">$data</span>[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_ATOM_03][<span class="php-quote">'feed'</span>][<span class="php-num">0</span>];
</span><span id="876" class="l"><a class="l" href="#876">  876: </a>                }
</span><span id="877" class="l"><a class="l" href="#877">  877: </a>                <span class="php-keyword1">elseif</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$data</span>[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_RDF][<span class="php-quote">'RDF'</span>][<span class="php-num">0</span>]))
</span><span id="878" class="l"><a class="l" href="#878">  878: </a>                {
</span><span id="879" class="l"><a class="l" href="#879">  879: </a>                    <span class="php-var">$feed</span> =&amp; <span class="php-var">$data</span>[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_RDF][<span class="php-quote">'RDF'</span>][<span class="php-num">0</span>];
</span><span id="880" class="l"><a class="l" href="#880">  880: </a>                }
</span><span id="881" class="l"><a class="l" href="#881">  881: </a>                <span class="php-keyword1">elseif</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$data</span>[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_RSS_20][<span class="php-quote">'rss'</span>][<span class="php-num">0</span>]))
</span><span id="882" class="l"><a class="l" href="#882">  882: </a>                {
</span><span id="883" class="l"><a class="l" href="#883">  883: </a>                    <span class="php-var">$feed</span> =&amp; <span class="php-var">$data</span>[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_RSS_20][<span class="php-quote">'rss'</span>][<span class="php-num">0</span>];
</span><span id="884" class="l"><a class="l" href="#884">  884: </a>                }
</span><span id="885" class="l"><a class="l" href="#885">  885: </a>                <span class="php-keyword1">else</span>
</span><span id="886" class="l"><a class="l" href="#886">  886: </a>                {
</span><span id="887" class="l"><a class="l" href="#887">  887: </a>                    <span class="php-var">$feed</span> = <span class="php-keyword1">null</span>;
</span><span id="888" class="l"><a class="l" href="#888">  888: </a>                }
</span><span id="889" class="l"><a class="l" href="#889">  889: </a>
</span><span id="890" class="l"><a class="l" href="#890">  890: </a>                <span class="php-keyword1">if</span> (<span class="php-var">$feed</span> !== <span class="php-keyword1">null</span>)
</span><span id="891" class="l"><a class="l" href="#891">  891: </a>                {
</span><span id="892" class="l"><a class="l" href="#892">  892: </a>                    <span class="php-var">$sql</span> = <span class="php-quote">'SELECT `data` FROM `'</span> . <span class="php-var">$this</span>-&gt;options[<span class="php-quote">'extras'</span>][<span class="php-quote">'prefix'</span>] . <span class="php-quote">'items` WHERE `feed_id` = :feed ORDER BY `posted` DESC'</span>;
</span><span id="893" class="l"><a class="l" href="#893">  893: </a>                    <span class="php-keyword1">if</span> (<span class="php-var">$items</span> &gt; <span class="php-num">0</span>)
</span><span id="894" class="l"><a class="l" href="#894">  894: </a>                    {
</span><span id="895" class="l"><a class="l" href="#895">  895: </a>                        <span class="php-var">$sql</span> .= <span class="php-quote">' LIMIT '</span> . <span class="php-var">$items</span>;
</span><span id="896" class="l"><a class="l" href="#896">  896: </a>                    }
</span><span id="897" class="l"><a class="l" href="#897">  897: </a>
</span><span id="898" class="l"><a class="l" href="#898">  898: </a>                    <span class="php-var">$query</span> = <span class="php-var">$this</span>-&gt;<span class="php-keyword2">mysql</span>-&gt;prepare(<span class="php-var">$sql</span>);
</span><span id="899" class="l"><a class="l" href="#899">  899: </a>                    <span class="php-var">$query</span>-&gt;bindValue(<span class="php-quote">':feed'</span>, <span class="php-var">$this</span>-&gt;id);
</span><span id="900" class="l"><a class="l" href="#900">  900: </a>                    <span class="php-keyword1">if</span> (<span class="php-var">$query</span>-&gt;execute())
</span><span id="901" class="l"><a class="l" href="#901">  901: </a>                    {
</span><span id="902" class="l"><a class="l" href="#902">  902: </a>                        <span class="php-keyword1">while</span> (<span class="php-var">$row</span> = <span class="php-var">$query</span>-&gt;fetchColumn())
</span><span id="903" class="l"><a class="l" href="#903">  903: </a>                        {
</span><span id="904" class="l"><a class="l" href="#904">  904: </a>                            <span class="php-var">$feed</span>[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_ATOM_10][<span class="php-quote">'entry'</span>][] = <span class="php-keyword2">unserialize</span>(<span class="php-var">$row</span>);
</span><span id="905" class="l"><a class="l" href="#905">  905: </a>                        }
</span><span id="906" class="l"><a class="l" href="#906">  906: </a>                    }
</span><span id="907" class="l"><a class="l" href="#907">  907: </a>                    <span class="php-keyword1">else</span>
</span><span id="908" class="l"><a class="l" href="#908">  908: </a>                    {
</span><span id="909" class="l"><a class="l" href="#909">  909: </a>                        <span class="php-keyword1">return</span> <span class="php-keyword1">false</span>;
</span><span id="910" class="l"><a class="l" href="#910">  910: </a>                    }
</span><span id="911" class="l"><a class="l" href="#911">  911: </a>                }
</span><span id="912" class="l"><a class="l" href="#912">  912: </a>            }
</span><span id="913" class="l"><a class="l" href="#913">  913: </a>            <span class="php-keyword1">return</span> <span class="php-var">$data</span>;
</span><span id="914" class="l"><a class="l" href="#914">  914: </a>        }
</span><span id="915" class="l"><a class="l" href="#915">  915: </a>        <span class="php-keyword1">return</span> <span class="php-keyword1">false</span>;
</span><span id="916" class="l"><a class="l" href="#916">  916: </a>    }
</span><span id="917" class="l"><a class="l" href="#917">  917: </a>
</span><span id="918" class="l"><a class="l" href="#918">  918: </a>    <span class="php-comment">/**
</span></span><span id="919" class="l"><a class="l" href="#919">  919: </a><span class="php-comment">     * Retrieve the last modified time for the cache
</span></span><span id="920" class="l"><a class="l" href="#920">  920: </a><span class="php-comment">     *
</span></span><span id="921" class="l"><a class="l" href="#921">  921: </a><span class="php-comment">     * @return int Timestamp
</span></span><span id="922" class="l"><a class="l" href="#922">  922: </a><span class="php-comment">     */</span>
</span><span id="923" class="l"><a class="l" href="#923">  923: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_mtime" href="#_mtime">mtime</a>()
</span><span id="924" class="l"><a class="l" href="#924">  924: </a>    {
</span><span id="925" class="l"><a class="l" href="#925">  925: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$this</span>-&gt;<span class="php-keyword2">mysql</span> === <span class="php-keyword1">null</span>)
</span><span id="926" class="l"><a class="l" href="#926">  926: </a>        {
</span><span id="927" class="l"><a class="l" href="#927">  927: </a>            <span class="php-keyword1">return</span> <span class="php-keyword1">false</span>;
</span><span id="928" class="l"><a class="l" href="#928">  928: </a>        }
</span><span id="929" class="l"><a class="l" href="#929">  929: </a>
</span><span id="930" class="l"><a class="l" href="#930">  930: </a>        <span class="php-var">$query</span> = <span class="php-var">$this</span>-&gt;<span class="php-keyword2">mysql</span>-&gt;prepare(<span class="php-quote">'SELECT `mtime` FROM `'</span> . <span class="php-var">$this</span>-&gt;options[<span class="php-quote">'extras'</span>][<span class="php-quote">'prefix'</span>] . <span class="php-quote">'cache_data` WHERE `id` = :id'</span>);
</span><span id="931" class="l"><a class="l" href="#931">  931: </a>        <span class="php-var">$query</span>-&gt;bindValue(<span class="php-quote">':id'</span>, <span class="php-var">$this</span>-&gt;id);
</span><span id="932" class="l"><a class="l" href="#932">  932: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$query</span>-&gt;execute() &amp;&amp; (<span class="php-var">$time</span> = <span class="php-var">$query</span>-&gt;fetchColumn()))
</span><span id="933" class="l"><a class="l" href="#933">  933: </a>        {
</span><span id="934" class="l"><a class="l" href="#934">  934: </a>            <span class="php-keyword1">return</span> <span class="php-var">$time</span>;
</span><span id="935" class="l"><a class="l" href="#935">  935: </a>        }
</span><span id="936" class="l"><a class="l" href="#936">  936: </a>        <span class="php-keyword1">else</span>
</span><span id="937" class="l"><a class="l" href="#937">  937: </a>        {
</span><span id="938" class="l"><a class="l" href="#938">  938: </a>            <span class="php-keyword1">return</span> <span class="php-keyword1">false</span>;
</span><span id="939" class="l"><a class="l" href="#939">  939: </a>        }
</span><span id="940" class="l"><a class="l" href="#940">  940: </a>    }
</span><span id="941" class="l"><a class="l" href="#941">  941: </a>
</span><span id="942" class="l"><a class="l" href="#942">  942: </a>    <span class="php-comment">/**
</span></span><span id="943" class="l"><a class="l" href="#943">  943: </a><span class="php-comment">     * Set the last modified time to the current time
</span></span><span id="944" class="l"><a class="l" href="#944">  944: </a><span class="php-comment">     *
</span></span><span id="945" class="l"><a class="l" href="#945">  945: </a><span class="php-comment">     * @return bool Success status
</span></span><span id="946" class="l"><a class="l" href="#946">  946: </a><span class="php-comment">     */</span>
</span><span id="947" class="l"><a class="l" href="#947">  947: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <span class="php-keyword2">touch</span>()
</span><span id="948" class="l"><a class="l" href="#948">  948: </a>    {
</span><span id="949" class="l"><a class="l" href="#949">  949: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$this</span>-&gt;<span class="php-keyword2">mysql</span> === <span class="php-keyword1">null</span>)
</span><span id="950" class="l"><a class="l" href="#950">  950: </a>        {
</span><span id="951" class="l"><a class="l" href="#951">  951: </a>            <span class="php-keyword1">return</span> <span class="php-keyword1">false</span>;
</span><span id="952" class="l"><a class="l" href="#952">  952: </a>        }
</span><span id="953" class="l"><a class="l" href="#953">  953: </a>
</span><span id="954" class="l"><a class="l" href="#954">  954: </a>        <span class="php-var">$query</span> = <span class="php-var">$this</span>-&gt;<span class="php-keyword2">mysql</span>-&gt;prepare(<span class="php-quote">'UPDATE `'</span> . <span class="php-var">$this</span>-&gt;options[<span class="php-quote">'extras'</span>][<span class="php-quote">'prefix'</span>] . <span class="php-quote">'cache_data` SET `mtime` = :time WHERE `id` = :id'</span>);
</span><span id="955" class="l"><a class="l" href="#955">  955: </a>        <span class="php-var">$query</span>-&gt;bindValue(<span class="php-quote">':time'</span>, <span class="php-keyword2">time</span>());
</span><span id="956" class="l"><a class="l" href="#956">  956: </a>        <span class="php-var">$query</span>-&gt;bindValue(<span class="php-quote">':id'</span>, <span class="php-var">$this</span>-&gt;id);
</span><span id="957" class="l"><a class="l" href="#957">  957: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$query</span>-&gt;execute() &amp;&amp; <span class="php-var">$query</span>-&gt;rowCount() &gt; <span class="php-num">0</span>)
</span><span id="958" class="l"><a class="l" href="#958">  958: </a>        {
</span><span id="959" class="l"><a class="l" href="#959">  959: </a>            <span class="php-keyword1">return</span> <span class="php-keyword1">true</span>;
</span><span id="960" class="l"><a class="l" href="#960">  960: </a>        }
</span><span id="961" class="l"><a class="l" href="#961">  961: </a>        <span class="php-keyword1">else</span>
</span><span id="962" class="l"><a class="l" href="#962">  962: </a>        {
</span><span id="963" class="l"><a class="l" href="#963">  963: </a>            <span class="php-keyword1">return</span> <span class="php-keyword1">false</span>;
</span><span id="964" class="l"><a class="l" href="#964">  964: </a>        }
</span><span id="965" class="l"><a class="l" href="#965">  965: </a>    }
</span><span id="966" class="l"><a class="l" href="#966">  966: </a>
</span><span id="967" class="l"><a class="l" href="#967">  967: </a>    <span class="php-comment">/**
</span></span><span id="968" class="l"><a class="l" href="#968">  968: </a><span class="php-comment">     * Remove the cache
</span></span><span id="969" class="l"><a class="l" href="#969">  969: </a><span class="php-comment">     *
</span></span><span id="970" class="l"><a class="l" href="#970">  970: </a><span class="php-comment">     * @return bool Success status
</span></span><span id="971" class="l"><a class="l" href="#971">  971: </a><span class="php-comment">     */</span>
</span><span id="972" class="l"><a class="l" href="#972">  972: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <span class="php-keyword2">unlink</span>()
</span><span id="973" class="l"><a class="l" href="#973">  973: </a>    {
</span><span id="974" class="l"><a class="l" href="#974">  974: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$this</span>-&gt;<span class="php-keyword2">mysql</span> === <span class="php-keyword1">null</span>)
</span><span id="975" class="l"><a class="l" href="#975">  975: </a>        {
</span><span id="976" class="l"><a class="l" href="#976">  976: </a>            <span class="php-keyword1">return</span> <span class="php-keyword1">false</span>;
</span><span id="977" class="l"><a class="l" href="#977">  977: </a>        }
</span><span id="978" class="l"><a class="l" href="#978">  978: </a>
</span><span id="979" class="l"><a class="l" href="#979">  979: </a>        <span class="php-var">$query</span> = <span class="php-var">$this</span>-&gt;<span class="php-keyword2">mysql</span>-&gt;prepare(<span class="php-quote">'DELETE FROM `'</span> . <span class="php-var">$this</span>-&gt;options[<span class="php-quote">'extras'</span>][<span class="php-quote">'prefix'</span>] . <span class="php-quote">'cache_data` WHERE `id` = :id'</span>);
</span><span id="980" class="l"><a class="l" href="#980">  980: </a>        <span class="php-var">$query</span>-&gt;bindValue(<span class="php-quote">':id'</span>, <span class="php-var">$this</span>-&gt;id);
</span><span id="981" class="l"><a class="l" href="#981">  981: </a>        <span class="php-var">$query2</span> = <span class="php-var">$this</span>-&gt;<span class="php-keyword2">mysql</span>-&gt;prepare(<span class="php-quote">'DELETE FROM `'</span> . <span class="php-var">$this</span>-&gt;options[<span class="php-quote">'extras'</span>][<span class="php-quote">'prefix'</span>] . <span class="php-quote">'items` WHERE `feed_id` = :id'</span>);
</span><span id="982" class="l"><a class="l" href="#982">  982: </a>        <span class="php-var">$query2</span>-&gt;bindValue(<span class="php-quote">':id'</span>, <span class="php-var">$this</span>-&gt;id);
</span><span id="983" class="l"><a class="l" href="#983">  983: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$query</span>-&gt;execute() &amp;&amp; <span class="php-var">$query2</span>-&gt;execute())
</span><span id="984" class="l"><a class="l" href="#984">  984: </a>        {
</span><span id="985" class="l"><a class="l" href="#985">  985: </a>            <span class="php-keyword1">return</span> <span class="php-keyword1">true</span>;
</span><span id="986" class="l"><a class="l" href="#986">  986: </a>        }
</span><span id="987" class="l"><a class="l" href="#987">  987: </a>        <span class="php-keyword1">else</span>
</span><span id="988" class="l"><a class="l" href="#988">  988: </a>        {
</span><span id="989" class="l"><a class="l" href="#989">  989: </a>            <span class="php-keyword1">return</span> <span class="php-keyword1">false</span>;
</span><span id="990" class="l"><a class="l" href="#990">  990: </a>        }
</span><span id="991" class="l"><a class="l" href="#991">  991: </a>    }
</span><span id="992" class="l"><a class="l" href="#992">  992: </a>}
</span><span id="993" class="l"><a class="l" href="#993">  993: </a>
</span><span id="994" class="l"><a class="l" href="#994">  994: </a><span class="php-comment">/**
</span></span><span id="995" class="l"><a class="l" href="#995">  995: </a><span class="php-comment"> * Used to create cache objects
</span></span><span id="996" class="l"><a class="l" href="#996">  996: </a><span class="php-comment"> *
</span></span><span id="997" class="l"><a class="l" href="#997">  997: </a><span class="php-comment"> * This class can be overloaded with {@see SimplePie::set_cache_class()},
</span></span><span id="998" class="l"><a class="l" href="#998">  998: </a><span class="php-comment"> * although the preferred way is to create your own handler
</span></span><span id="999" class="l"><a class="l" href="#999">  999: </a><span class="php-comment"> * via {@see register()}
</span></span><span id="1000" class="l"><a class="l" href="#1000"> 1000: </a><span class="php-comment"> *
</span></span><span id="1001" class="l"><a class="l" href="#1001"> 1001: </a><span class="php-comment"> * @package SimplePie
</span></span><span id="1002" class="l"><a class="l" href="#1002"> 1002: </a><span class="php-comment"> */</span>
</span><span id="1003" class="l"><a class="l" href="#1003"> 1003: </a><span class="php-keyword1">class</span> <a id="SimplePie_Cache" href="#SimplePie_Cache">SimplePie_Cache</a>
</span><span id="1004" class="l"><a class="l" href="#1004"> 1004: </a>{
</span><span id="1005" class="l"><a class="l" href="#1005"> 1005: </a>    <span class="php-comment">/**
</span></span><span id="1006" class="l"><a class="l" href="#1006"> 1006: </a><span class="php-comment">     * Cache handler classes
</span></span><span id="1007" class="l"><a class="l" href="#1007"> 1007: </a><span class="php-comment">     *
</span></span><span id="1008" class="l"><a class="l" href="#1008"> 1008: </a><span class="php-comment">     * These receive 3 parameters to their constructor, as documented in
</span></span><span id="1009" class="l"><a class="l" href="#1009"> 1009: </a><span class="php-comment">     * {@see register()}
</span></span><span id="1010" class="l"><a class="l" href="#1010"> 1010: </a><span class="php-comment">     * @var array
</span></span><span id="1011" class="l"><a class="l" href="#1011"> 1011: </a><span class="php-comment">     */</span>
</span><span id="1012" class="l"><a class="l" href="#1012"> 1012: </a>    <span class="php-keyword1">protected</span> <span class="php-keyword1">static</span> <span class="php-var"><a id="$handlers" href="#$handlers">$handlers</a></span> = <span class="php-keyword1">array</span>(
</span><span id="1013" class="l"><a class="l" href="#1013"> 1013: </a>        <span class="php-quote">'mysql'</span> =&gt; <span class="php-quote">'SimplePie_Cache_MySQL'</span>,
</span><span id="1014" class="l"><a class="l" href="#1014"> 1014: </a>        <span class="php-quote">'memcache'</span> =&gt; <span class="php-quote">'SimplePie_Cache_Memcache'</span>,
</span><span id="1015" class="l"><a class="l" href="#1015"> 1015: </a>    );
</span><span id="1016" class="l"><a class="l" href="#1016"> 1016: </a>
</span><span id="1017" class="l"><a class="l" href="#1017"> 1017: </a>    <span class="php-comment">/**
</span></span><span id="1018" class="l"><a class="l" href="#1018"> 1018: </a><span class="php-comment">     * Don't call the constructor. Please.
</span></span><span id="1019" class="l"><a class="l" href="#1019"> 1019: </a><span class="php-comment">     */</span>
</span><span id="1020" class="l"><a class="l" href="#1020"> 1020: </a>    <span class="php-keyword1">private</span> <span class="php-keyword1">function</span> <a id="___construct" href="#___construct">__construct</a>() { }
</span><span id="1021" class="l"><a class="l" href="#1021"> 1021: </a>
</span><span id="1022" class="l"><a class="l" href="#1022"> 1022: </a>    <span class="php-comment">/**
</span></span><span id="1023" class="l"><a class="l" href="#1023"> 1023: </a><span class="php-comment">     * Create a new SimplePie_Cache object
</span></span><span id="1024" class="l"><a class="l" href="#1024"> 1024: </a><span class="php-comment">     *
</span></span><span id="1025" class="l"><a class="l" href="#1025"> 1025: </a><span class="php-comment">     * @param string $location URL location (scheme is used to determine handler)
</span></span><span id="1026" class="l"><a class="l" href="#1026"> 1026: </a><span class="php-comment">     * @param string $filename Unique identifier for cache object
</span></span><span id="1027" class="l"><a class="l" href="#1027"> 1027: </a><span class="php-comment">     * @param string $extension 'spi' or 'spc'
</span></span><span id="1028" class="l"><a class="l" href="#1028"> 1028: </a><span class="php-comment">     * @return SimplePie_Cache_Base Type of object depends on scheme of `$location`
</span></span><span id="1029" class="l"><a class="l" href="#1029"> 1029: </a><span class="php-comment">     */</span>
</span><span id="1030" class="l"><a class="l" href="#1030"> 1030: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">static</span> <span class="php-keyword1">function</span> <a id="_create" href="#_create">create</a>(<span class="php-var">$location</span>, <span class="php-var">$filename</span>, <span class="php-var">$extension</span>)
</span><span id="1031" class="l"><a class="l" href="#1031"> 1031: </a>    {
</span><span id="1032" class="l"><a class="l" href="#1032"> 1032: </a>        <span class="php-var">$type</span> = <span class="php-keyword2">explode</span>(<span class="php-quote">':'</span>, <span class="php-var">$location</span>, <span class="php-num">2</span>);
</span><span id="1033" class="l"><a class="l" href="#1033"> 1033: </a>        <span class="php-var">$type</span> = <span class="php-var">$type</span>[<span class="php-num">0</span>];
</span><span id="1034" class="l"><a class="l" href="#1034"> 1034: </a>        <span class="php-keyword1">if</span> (!<span class="php-keyword1">empty</span>(self::<span class="php-var">$handlers</span>[<span class="php-var">$type</span>]))
</span><span id="1035" class="l"><a class="l" href="#1035"> 1035: </a>        {
</span><span id="1036" class="l"><a class="l" href="#1036"> 1036: </a>            <span class="php-var">$class</span> = self::<span class="php-var">$handlers</span>[<span class="php-var">$type</span>];
</span><span id="1037" class="l"><a class="l" href="#1037"> 1037: </a>            <span class="php-keyword1">return</span> <span class="php-keyword1">new</span> <span class="php-var">$class</span>(<span class="php-var">$location</span>, <span class="php-var">$filename</span>, <span class="php-var">$extension</span>);
</span><span id="1038" class="l"><a class="l" href="#1038"> 1038: </a>        }
</span><span id="1039" class="l"><a class="l" href="#1039"> 1039: </a>
</span><span id="1040" class="l"><a class="l" href="#1040"> 1040: </a>        <span class="php-keyword1">return</span> <span class="php-keyword1">new</span> SimplePie_Cache_File(<span class="php-var">$location</span>, <span class="php-var">$filename</span>, <span class="php-var">$extension</span>);
</span><span id="1041" class="l"><a class="l" href="#1041"> 1041: </a>    }
</span><span id="1042" class="l"><a class="l" href="#1042"> 1042: </a>
</span><span id="1043" class="l"><a class="l" href="#1043"> 1043: </a>    <span class="php-comment">/**
</span></span><span id="1044" class="l"><a class="l" href="#1044"> 1044: </a><span class="php-comment">     * Register a handler
</span></span><span id="1045" class="l"><a class="l" href="#1045"> 1045: </a><span class="php-comment">     *
</span></span><span id="1046" class="l"><a class="l" href="#1046"> 1046: </a><span class="php-comment">     * @param string $type DSN type to register for
</span></span><span id="1047" class="l"><a class="l" href="#1047"> 1047: </a><span class="php-comment">     * @param string $class Name of handler class. Must implement SimplePie_Cache_Base
</span></span><span id="1048" class="l"><a class="l" href="#1048"> 1048: </a><span class="php-comment">     */</span>
</span><span id="1049" class="l"><a class="l" href="#1049"> 1049: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">static</span> <span class="php-keyword1">function</span> <a id="_register" href="#_register">register</a>(<span class="php-var">$type</span>, <span class="php-var">$class</span>)
</span><span id="1050" class="l"><a class="l" href="#1050"> 1050: </a>    {
</span><span id="1051" class="l"><a class="l" href="#1051"> 1051: </a>        self::<span class="php-var">$handlers</span>[<span class="php-var">$type</span>] = <span class="php-var">$class</span>;
</span><span id="1052" class="l"><a class="l" href="#1052"> 1052: </a>    }
</span><span id="1053" class="l"><a class="l" href="#1053"> 1053: </a>
</span><span id="1054" class="l"><a class="l" href="#1054"> 1054: </a>    <span class="php-comment">/**
</span></span><span id="1055" class="l"><a class="l" href="#1055"> 1055: </a><span class="php-comment">     * Parse a URL into an array
</span></span><span id="1056" class="l"><a class="l" href="#1056"> 1056: </a><span class="php-comment">     *
</span></span><span id="1057" class="l"><a class="l" href="#1057"> 1057: </a><span class="php-comment">     * @param string $url
</span></span><span id="1058" class="l"><a class="l" href="#1058"> 1058: </a><span class="php-comment">     * @return array
</span></span><span id="1059" class="l"><a class="l" href="#1059"> 1059: </a><span class="php-comment">     */</span>
</span><span id="1060" class="l"><a class="l" href="#1060"> 1060: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">static</span> <span class="php-keyword1">function</span> <span class="php-keyword2">parse_URL</span>(<span class="php-var">$url</span>)
</span><span id="1061" class="l"><a class="l" href="#1061"> 1061: </a>    {
</span><span id="1062" class="l"><a class="l" href="#1062"> 1062: </a>        <span class="php-var">$params</span> = <span class="php-keyword2">parse_url</span>(<span class="php-var">$url</span>);
</span><span id="1063" class="l"><a class="l" href="#1063"> 1063: </a>        <span class="php-var">$params</span>[<span class="php-quote">'extras'</span>] = <span class="php-keyword1">array</span>();
</span><span id="1064" class="l"><a class="l" href="#1064"> 1064: </a>        <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$params</span>[<span class="php-quote">'query'</span>]))
</span><span id="1065" class="l"><a class="l" href="#1065"> 1065: </a>        {
</span><span id="1066" class="l"><a class="l" href="#1066"> 1066: </a>            <span class="php-keyword2">parse_str</span>(<span class="php-var">$params</span>[<span class="php-quote">'query'</span>], <span class="php-var">$params</span>[<span class="php-quote">'extras'</span>]);
</span><span id="1067" class="l"><a class="l" href="#1067"> 1067: </a>        }
</span><span id="1068" class="l"><a class="l" href="#1068"> 1068: </a>        <span class="php-keyword1">return</span> <span class="php-var">$params</span>;
</span><span id="1069" class="l"><a class="l" href="#1069"> 1069: </a>    }
</span><span id="1070" class="l"><a class="l" href="#1070"> 1070: </a>}
</span><span id="1071" class="l"><a class="l" href="#1071"> 1071: </a>
</span><span id="1072" class="l"><a class="l" href="#1072"> 1072: </a><span class="php-comment">/**
</span></span><span id="1073" class="l"><a class="l" href="#1073"> 1073: </a><span class="php-comment"> * Handles `&lt;media:text&gt;` captions as defined in Media RSS.
</span></span><span id="1074" class="l"><a class="l" href="#1074"> 1074: </a><span class="php-comment"> *
</span></span><span id="1075" class="l"><a class="l" href="#1075"> 1075: </a><span class="php-comment"> * Used by {@see SimplePie_Enclosure::get_caption()} and {@see SimplePie_Enclosure::get_captions()}
</span></span><span id="1076" class="l"><a class="l" href="#1076"> 1076: </a><span class="php-comment"> *
</span></span><span id="1077" class="l"><a class="l" href="#1077"> 1077: </a><span class="php-comment"> * This class can be overloaded with {@see SimplePie::set_caption_class()}
</span></span><span id="1078" class="l"><a class="l" href="#1078"> 1078: </a><span class="php-comment"> *
</span></span><span id="1079" class="l"><a class="l" href="#1079"> 1079: </a><span class="php-comment"> * @package SimplePie
</span></span><span id="1080" class="l"><a class="l" href="#1080"> 1080: </a><span class="php-comment"> */</span>
</span><span id="1081" class="l"><a class="l" href="#1081"> 1081: </a><span class="php-keyword1">class</span> <a id="SimplePie_Caption" href="#SimplePie_Caption">SimplePie_Caption</a>
</span><span id="1082" class="l"><a class="l" href="#1082"> 1082: </a>{
</span><span id="1083" class="l"><a class="l" href="#1083"> 1083: </a>    <span class="php-comment">/**
</span></span><span id="1084" class="l"><a class="l" href="#1084"> 1084: </a><span class="php-comment">     * Content type
</span></span><span id="1085" class="l"><a class="l" href="#1085"> 1085: </a><span class="php-comment">     *
</span></span><span id="1086" class="l"><a class="l" href="#1086"> 1086: </a><span class="php-comment">     * @var string
</span></span><span id="1087" class="l"><a class="l" href="#1087"> 1087: </a><span class="php-comment">     * @see get_type()
</span></span><span id="1088" class="l"><a class="l" href="#1088"> 1088: </a><span class="php-comment">     */</span>
</span><span id="1089" class="l"><a class="l" href="#1089"> 1089: </a>    <span class="php-keyword1">var</span> <span class="php-var"><a id="$type" href="#$type">$type</a></span>;
</span><span id="1090" class="l"><a class="l" href="#1090"> 1090: </a>
</span><span id="1091" class="l"><a class="l" href="#1091"> 1091: </a>    <span class="php-comment">/**
</span></span><span id="1092" class="l"><a class="l" href="#1092"> 1092: </a><span class="php-comment">     * Language
</span></span><span id="1093" class="l"><a class="l" href="#1093"> 1093: </a><span class="php-comment">     *
</span></span><span id="1094" class="l"><a class="l" href="#1094"> 1094: </a><span class="php-comment">     * @var string
</span></span><span id="1095" class="l"><a class="l" href="#1095"> 1095: </a><span class="php-comment">     * @see get_language()
</span></span><span id="1096" class="l"><a class="l" href="#1096"> 1096: </a><span class="php-comment">     */</span>
</span><span id="1097" class="l"><a class="l" href="#1097"> 1097: </a>    <span class="php-keyword1">var</span> <span class="php-var"><a id="$lang" href="#$lang">$lang</a></span>;
</span><span id="1098" class="l"><a class="l" href="#1098"> 1098: </a>
</span><span id="1099" class="l"><a class="l" href="#1099"> 1099: </a>    <span class="php-comment">/**
</span></span><span id="1100" class="l"><a class="l" href="#1100"> 1100: </a><span class="php-comment">     * Start time
</span></span><span id="1101" class="l"><a class="l" href="#1101"> 1101: </a><span class="php-comment">     *
</span></span><span id="1102" class="l"><a class="l" href="#1102"> 1102: </a><span class="php-comment">     * @var string
</span></span><span id="1103" class="l"><a class="l" href="#1103"> 1103: </a><span class="php-comment">     * @see get_starttime()
</span></span><span id="1104" class="l"><a class="l" href="#1104"> 1104: </a><span class="php-comment">     */</span>
</span><span id="1105" class="l"><a class="l" href="#1105"> 1105: </a>    <span class="php-keyword1">var</span> <span class="php-var"><a id="$startTime" href="#$startTime">$startTime</a></span>;
</span><span id="1106" class="l"><a class="l" href="#1106"> 1106: </a>
</span><span id="1107" class="l"><a class="l" href="#1107"> 1107: </a>    <span class="php-comment">/**
</span></span><span id="1108" class="l"><a class="l" href="#1108"> 1108: </a><span class="php-comment">     * End time
</span></span><span id="1109" class="l"><a class="l" href="#1109"> 1109: </a><span class="php-comment">     *
</span></span><span id="1110" class="l"><a class="l" href="#1110"> 1110: </a><span class="php-comment">     * @var string
</span></span><span id="1111" class="l"><a class="l" href="#1111"> 1111: </a><span class="php-comment">     * @see get_endtime()
</span></span><span id="1112" class="l"><a class="l" href="#1112"> 1112: </a><span class="php-comment">     */</span>
</span><span id="1113" class="l"><a class="l" href="#1113"> 1113: </a>    <span class="php-keyword1">var</span> <span class="php-var"><a id="$endTime" href="#$endTime">$endTime</a></span>;
</span><span id="1114" class="l"><a class="l" href="#1114"> 1114: </a>
</span><span id="1115" class="l"><a class="l" href="#1115"> 1115: </a>    <span class="php-comment">/**
</span></span><span id="1116" class="l"><a class="l" href="#1116"> 1116: </a><span class="php-comment">     * Caption text
</span></span><span id="1117" class="l"><a class="l" href="#1117"> 1117: </a><span class="php-comment">     *
</span></span><span id="1118" class="l"><a class="l" href="#1118"> 1118: </a><span class="php-comment">     * @var string
</span></span><span id="1119" class="l"><a class="l" href="#1119"> 1119: </a><span class="php-comment">     * @see get_text()
</span></span><span id="1120" class="l"><a class="l" href="#1120"> 1120: </a><span class="php-comment">     */</span>
</span><span id="1121" class="l"><a class="l" href="#1121"> 1121: </a>    <span class="php-keyword1">var</span> <span class="php-var"><a id="$text" href="#$text">$text</a></span>;
</span><span id="1122" class="l"><a class="l" href="#1122"> 1122: </a>
</span><span id="1123" class="l"><a class="l" href="#1123"> 1123: </a>    <span class="php-comment">/**
</span></span><span id="1124" class="l"><a class="l" href="#1124"> 1124: </a><span class="php-comment">     * Constructor, used to input the data
</span></span><span id="1125" class="l"><a class="l" href="#1125"> 1125: </a><span class="php-comment">     *
</span></span><span id="1126" class="l"><a class="l" href="#1126"> 1126: </a><span class="php-comment">     * For documentation on all the parameters, see the corresponding
</span></span><span id="1127" class="l"><a class="l" href="#1127"> 1127: </a><span class="php-comment">     * properties and their accessors
</span></span><span id="1128" class="l"><a class="l" href="#1128"> 1128: </a><span class="php-comment">     */</span>
</span><span id="1129" class="l"><a class="l" href="#1129"> 1129: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="___construct" href="#___construct">__construct</a>(<span class="php-var">$type</span> = <span class="php-keyword1">null</span>, <span class="php-var">$lang</span> = <span class="php-keyword1">null</span>, <span class="php-var">$startTime</span> = <span class="php-keyword1">null</span>, <span class="php-var">$endTime</span> = <span class="php-keyword1">null</span>, <span class="php-var">$text</span> = <span class="php-keyword1">null</span>)
</span><span id="1130" class="l"><a class="l" href="#1130"> 1130: </a>    {
</span><span id="1131" class="l"><a class="l" href="#1131"> 1131: </a>        <span class="php-var">$this</span>-&gt;type = <span class="php-var">$type</span>;
</span><span id="1132" class="l"><a class="l" href="#1132"> 1132: </a>        <span class="php-var">$this</span>-&gt;lang = <span class="php-var">$lang</span>;
</span><span id="1133" class="l"><a class="l" href="#1133"> 1133: </a>        <span class="php-var">$this</span>-&gt;startTime = <span class="php-var">$startTime</span>;
</span><span id="1134" class="l"><a class="l" href="#1134"> 1134: </a>        <span class="php-var">$this</span>-&gt;endTime = <span class="php-var">$endTime</span>;
</span><span id="1135" class="l"><a class="l" href="#1135"> 1135: </a>        <span class="php-var">$this</span>-&gt;text = <span class="php-var">$text</span>;
</span><span id="1136" class="l"><a class="l" href="#1136"> 1136: </a>    }
</span><span id="1137" class="l"><a class="l" href="#1137"> 1137: </a>
</span><span id="1138" class="l"><a class="l" href="#1138"> 1138: </a>    <span class="php-comment">/**
</span></span><span id="1139" class="l"><a class="l" href="#1139"> 1139: </a><span class="php-comment">     * String-ified version
</span></span><span id="1140" class="l"><a class="l" href="#1140"> 1140: </a><span class="php-comment">     *
</span></span><span id="1141" class="l"><a class="l" href="#1141"> 1141: </a><span class="php-comment">     * @return string
</span></span><span id="1142" class="l"><a class="l" href="#1142"> 1142: </a><span class="php-comment">     */</span>
</span><span id="1143" class="l"><a class="l" href="#1143"> 1143: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="___toString" href="#___toString">__toString</a>()
</span><span id="1144" class="l"><a class="l" href="#1144"> 1144: </a>    {
</span><span id="1145" class="l"><a class="l" href="#1145"> 1145: </a>        <span class="php-comment">// There is no $this-&gt;data here</span>
</span><span id="1146" class="l"><a class="l" href="#1146"> 1146: </a>        <span class="php-keyword1">return</span> <span class="php-keyword2">md5</span>(<span class="php-keyword2">serialize</span>(<span class="php-var">$this</span>));
</span><span id="1147" class="l"><a class="l" href="#1147"> 1147: </a>    }
</span><span id="1148" class="l"><a class="l" href="#1148"> 1148: </a>
</span><span id="1149" class="l"><a class="l" href="#1149"> 1149: </a>    <span class="php-comment">/**
</span></span><span id="1150" class="l"><a class="l" href="#1150"> 1150: </a><span class="php-comment">     * Get the end time
</span></span><span id="1151" class="l"><a class="l" href="#1151"> 1151: </a><span class="php-comment">     *
</span></span><span id="1152" class="l"><a class="l" href="#1152"> 1152: </a><span class="php-comment">     * @return string|null Time in the format 'hh:mm:ss.SSS'
</span></span><span id="1153" class="l"><a class="l" href="#1153"> 1153: </a><span class="php-comment">     */</span>
</span><span id="1154" class="l"><a class="l" href="#1154"> 1154: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_get_endtime" href="#_get_endtime">get_endtime</a>()
</span><span id="1155" class="l"><a class="l" href="#1155"> 1155: </a>    {
</span><span id="1156" class="l"><a class="l" href="#1156"> 1156: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$this</span>-&gt;endTime !== <span class="php-keyword1">null</span>)
</span><span id="1157" class="l"><a class="l" href="#1157"> 1157: </a>        {
</span><span id="1158" class="l"><a class="l" href="#1158"> 1158: </a>            <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;endTime;
</span><span id="1159" class="l"><a class="l" href="#1159"> 1159: </a>        }
</span><span id="1160" class="l"><a class="l" href="#1160"> 1160: </a>        <span class="php-keyword1">else</span>
</span><span id="1161" class="l"><a class="l" href="#1161"> 1161: </a>        {
</span><span id="1162" class="l"><a class="l" href="#1162"> 1162: </a>            <span class="php-keyword1">return</span> <span class="php-keyword1">null</span>;
</span><span id="1163" class="l"><a class="l" href="#1163"> 1163: </a>        }
</span><span id="1164" class="l"><a class="l" href="#1164"> 1164: </a>    }
</span><span id="1165" class="l"><a class="l" href="#1165"> 1165: </a>
</span><span id="1166" class="l"><a class="l" href="#1166"> 1166: </a>    <span class="php-comment">/**
</span></span><span id="1167" class="l"><a class="l" href="#1167"> 1167: </a><span class="php-comment">     * Get the language
</span></span><span id="1168" class="l"><a class="l" href="#1168"> 1168: </a><span class="php-comment">     *
</span></span><span id="1169" class="l"><a class="l" href="#1169"> 1169: </a><span class="php-comment">     * @link http://tools.ietf.org/html/rfc3066
</span></span><span id="1170" class="l"><a class="l" href="#1170"> 1170: </a><span class="php-comment">     * @return string|null Language code as per RFC 3066
</span></span><span id="1171" class="l"><a class="l" href="#1171"> 1171: </a><span class="php-comment">     */</span>
</span><span id="1172" class="l"><a class="l" href="#1172"> 1172: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_get_language" href="#_get_language">get_language</a>()
</span><span id="1173" class="l"><a class="l" href="#1173"> 1173: </a>    {
</span><span id="1174" class="l"><a class="l" href="#1174"> 1174: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$this</span>-&gt;lang !== <span class="php-keyword1">null</span>)
</span><span id="1175" class="l"><a class="l" href="#1175"> 1175: </a>        {
</span><span id="1176" class="l"><a class="l" href="#1176"> 1176: </a>            <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;lang;
</span><span id="1177" class="l"><a class="l" href="#1177"> 1177: </a>        }
</span><span id="1178" class="l"><a class="l" href="#1178"> 1178: </a>        <span class="php-keyword1">else</span>
</span><span id="1179" class="l"><a class="l" href="#1179"> 1179: </a>        {
</span><span id="1180" class="l"><a class="l" href="#1180"> 1180: </a>            <span class="php-keyword1">return</span> <span class="php-keyword1">null</span>;
</span><span id="1181" class="l"><a class="l" href="#1181"> 1181: </a>        }
</span><span id="1182" class="l"><a class="l" href="#1182"> 1182: </a>    }
</span><span id="1183" class="l"><a class="l" href="#1183"> 1183: </a>
</span><span id="1184" class="l"><a class="l" href="#1184"> 1184: </a>    <span class="php-comment">/**
</span></span><span id="1185" class="l"><a class="l" href="#1185"> 1185: </a><span class="php-comment">     * Get the start time
</span></span><span id="1186" class="l"><a class="l" href="#1186"> 1186: </a><span class="php-comment">     *
</span></span><span id="1187" class="l"><a class="l" href="#1187"> 1187: </a><span class="php-comment">     * @return string|null Time in the format 'hh:mm:ss.SSS'
</span></span><span id="1188" class="l"><a class="l" href="#1188"> 1188: </a><span class="php-comment">     */</span>
</span><span id="1189" class="l"><a class="l" href="#1189"> 1189: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_get_starttime" href="#_get_starttime">get_starttime</a>()
</span><span id="1190" class="l"><a class="l" href="#1190"> 1190: </a>    {
</span><span id="1191" class="l"><a class="l" href="#1191"> 1191: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$this</span>-&gt;startTime !== <span class="php-keyword1">null</span>)
</span><span id="1192" class="l"><a class="l" href="#1192"> 1192: </a>        {
</span><span id="1193" class="l"><a class="l" href="#1193"> 1193: </a>            <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;startTime;
</span><span id="1194" class="l"><a class="l" href="#1194"> 1194: </a>        }
</span><span id="1195" class="l"><a class="l" href="#1195"> 1195: </a>        <span class="php-keyword1">else</span>
</span><span id="1196" class="l"><a class="l" href="#1196"> 1196: </a>        {
</span><span id="1197" class="l"><a class="l" href="#1197"> 1197: </a>            <span class="php-keyword1">return</span> <span class="php-keyword1">null</span>;
</span><span id="1198" class="l"><a class="l" href="#1198"> 1198: </a>        }
</span><span id="1199" class="l"><a class="l" href="#1199"> 1199: </a>    }
</span><span id="1200" class="l"><a class="l" href="#1200"> 1200: </a>
</span><span id="1201" class="l"><a class="l" href="#1201"> 1201: </a>    <span class="php-comment">/**
</span></span><span id="1202" class="l"><a class="l" href="#1202"> 1202: </a><span class="php-comment">     * Get the text of the caption
</span></span><span id="1203" class="l"><a class="l" href="#1203"> 1203: </a><span class="php-comment">     *
</span></span><span id="1204" class="l"><a class="l" href="#1204"> 1204: </a><span class="php-comment">     * @return string|null
</span></span><span id="1205" class="l"><a class="l" href="#1205"> 1205: </a><span class="php-comment">     */</span>
</span><span id="1206" class="l"><a class="l" href="#1206"> 1206: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_get_text" href="#_get_text">get_text</a>()
</span><span id="1207" class="l"><a class="l" href="#1207"> 1207: </a>    {
</span><span id="1208" class="l"><a class="l" href="#1208"> 1208: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$this</span>-&gt;text !== <span class="php-keyword1">null</span>)
</span><span id="1209" class="l"><a class="l" href="#1209"> 1209: </a>        {
</span><span id="1210" class="l"><a class="l" href="#1210"> 1210: </a>            <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;text;
</span><span id="1211" class="l"><a class="l" href="#1211"> 1211: </a>        }
</span><span id="1212" class="l"><a class="l" href="#1212"> 1212: </a>        <span class="php-keyword1">else</span>
</span><span id="1213" class="l"><a class="l" href="#1213"> 1213: </a>        {
</span><span id="1214" class="l"><a class="l" href="#1214"> 1214: </a>            <span class="php-keyword1">return</span> <span class="php-keyword1">null</span>;
</span><span id="1215" class="l"><a class="l" href="#1215"> 1215: </a>        }
</span><span id="1216" class="l"><a class="l" href="#1216"> 1216: </a>    }
</span><span id="1217" class="l"><a class="l" href="#1217"> 1217: </a>
</span><span id="1218" class="l"><a class="l" href="#1218"> 1218: </a>    <span class="php-comment">/**
</span></span><span id="1219" class="l"><a class="l" href="#1219"> 1219: </a><span class="php-comment">     * Get the content type (not MIME type)
</span></span><span id="1220" class="l"><a class="l" href="#1220"> 1220: </a><span class="php-comment">     *
</span></span><span id="1221" class="l"><a class="l" href="#1221"> 1221: </a><span class="php-comment">     * @return string|null Either 'text' or 'html'
</span></span><span id="1222" class="l"><a class="l" href="#1222"> 1222: </a><span class="php-comment">     */</span>
</span><span id="1223" class="l"><a class="l" href="#1223"> 1223: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_get_type" href="#_get_type">get_type</a>()
</span><span id="1224" class="l"><a class="l" href="#1224"> 1224: </a>    {
</span><span id="1225" class="l"><a class="l" href="#1225"> 1225: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$this</span>-&gt;type !== <span class="php-keyword1">null</span>)
</span><span id="1226" class="l"><a class="l" href="#1226"> 1226: </a>        {
</span><span id="1227" class="l"><a class="l" href="#1227"> 1227: </a>            <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;type;
</span><span id="1228" class="l"><a class="l" href="#1228"> 1228: </a>        }
</span><span id="1229" class="l"><a class="l" href="#1229"> 1229: </a>        <span class="php-keyword1">else</span>
</span><span id="1230" class="l"><a class="l" href="#1230"> 1230: </a>        {
</span><span id="1231" class="l"><a class="l" href="#1231"> 1231: </a>            <span class="php-keyword1">return</span> <span class="php-keyword1">null</span>;
</span><span id="1232" class="l"><a class="l" href="#1232"> 1232: </a>        }
</span><span id="1233" class="l"><a class="l" href="#1233"> 1233: </a>    }
</span><span id="1234" class="l"><a class="l" href="#1234"> 1234: </a>}
</span><span id="1235" class="l"><a class="l" href="#1235"> 1235: </a>
</span><span id="1236" class="l"><a class="l" href="#1236"> 1236: </a><span class="php-comment">/**
</span></span><span id="1237" class="l"><a class="l" href="#1237"> 1237: </a><span class="php-comment"> * Manages all category-related data
</span></span><span id="1238" class="l"><a class="l" href="#1238"> 1238: </a><span class="php-comment"> *
</span></span><span id="1239" class="l"><a class="l" href="#1239"> 1239: </a><span class="php-comment"> * Used by {@see SimplePie_Item::get_category()} and {@see SimplePie_Item::get_categories()}
</span></span><span id="1240" class="l"><a class="l" href="#1240"> 1240: </a><span class="php-comment"> *
</span></span><span id="1241" class="l"><a class="l" href="#1241"> 1241: </a><span class="php-comment"> * This class can be overloaded with {@see SimplePie::set_category_class()}
</span></span><span id="1242" class="l"><a class="l" href="#1242"> 1242: </a><span class="php-comment"> *
</span></span><span id="1243" class="l"><a class="l" href="#1243"> 1243: </a><span class="php-comment"> * @package SimplePie
</span></span><span id="1244" class="l"><a class="l" href="#1244"> 1244: </a><span class="php-comment"> */</span>
</span><span id="1245" class="l"><a class="l" href="#1245"> 1245: </a><span class="php-keyword1">class</span> <a id="SimplePie_Category" href="#SimplePie_Category">SimplePie_Category</a>
</span><span id="1246" class="l"><a class="l" href="#1246"> 1246: </a>{
</span><span id="1247" class="l"><a class="l" href="#1247"> 1247: </a>    <span class="php-comment">/**
</span></span><span id="1248" class="l"><a class="l" href="#1248"> 1248: </a><span class="php-comment">     * Category identifier
</span></span><span id="1249" class="l"><a class="l" href="#1249"> 1249: </a><span class="php-comment">     *
</span></span><span id="1250" class="l"><a class="l" href="#1250"> 1250: </a><span class="php-comment">     * @var string
</span></span><span id="1251" class="l"><a class="l" href="#1251"> 1251: </a><span class="php-comment">     * @see get_term
</span></span><span id="1252" class="l"><a class="l" href="#1252"> 1252: </a><span class="php-comment">     */</span>
</span><span id="1253" class="l"><a class="l" href="#1253"> 1253: </a>    <span class="php-keyword1">var</span> <span class="php-var"><a id="$term" href="#$term">$term</a></span>;
</span><span id="1254" class="l"><a class="l" href="#1254"> 1254: </a>
</span><span id="1255" class="l"><a class="l" href="#1255"> 1255: </a>    <span class="php-comment">/**
</span></span><span id="1256" class="l"><a class="l" href="#1256"> 1256: </a><span class="php-comment">     * Categorization scheme identifier
</span></span><span id="1257" class="l"><a class="l" href="#1257"> 1257: </a><span class="php-comment">     *
</span></span><span id="1258" class="l"><a class="l" href="#1258"> 1258: </a><span class="php-comment">     * @var string
</span></span><span id="1259" class="l"><a class="l" href="#1259"> 1259: </a><span class="php-comment">     * @see get_scheme()
</span></span><span id="1260" class="l"><a class="l" href="#1260"> 1260: </a><span class="php-comment">     */</span>
</span><span id="1261" class="l"><a class="l" href="#1261"> 1261: </a>    <span class="php-keyword1">var</span> <span class="php-var"><a id="$scheme" href="#$scheme">$scheme</a></span>;
</span><span id="1262" class="l"><a class="l" href="#1262"> 1262: </a>
</span><span id="1263" class="l"><a class="l" href="#1263"> 1263: </a>    <span class="php-comment">/**
</span></span><span id="1264" class="l"><a class="l" href="#1264"> 1264: </a><span class="php-comment">     * Human readable label
</span></span><span id="1265" class="l"><a class="l" href="#1265"> 1265: </a><span class="php-comment">     *
</span></span><span id="1266" class="l"><a class="l" href="#1266"> 1266: </a><span class="php-comment">     * @var string
</span></span><span id="1267" class="l"><a class="l" href="#1267"> 1267: </a><span class="php-comment">     * @see get_label()
</span></span><span id="1268" class="l"><a class="l" href="#1268"> 1268: </a><span class="php-comment">     */</span>
</span><span id="1269" class="l"><a class="l" href="#1269"> 1269: </a>    <span class="php-keyword1">var</span> <span class="php-var"><a id="$label" href="#$label">$label</a></span>;
</span><span id="1270" class="l"><a class="l" href="#1270"> 1270: </a>
</span><span id="1271" class="l"><a class="l" href="#1271"> 1271: </a>    <span class="php-comment">/**
</span></span><span id="1272" class="l"><a class="l" href="#1272"> 1272: </a><span class="php-comment">     * Constructor, used to input the data
</span></span><span id="1273" class="l"><a class="l" href="#1273"> 1273: </a><span class="php-comment">     *
</span></span><span id="1274" class="l"><a class="l" href="#1274"> 1274: </a><span class="php-comment">     * @param string $term
</span></span><span id="1275" class="l"><a class="l" href="#1275"> 1275: </a><span class="php-comment">     * @param string $scheme
</span></span><span id="1276" class="l"><a class="l" href="#1276"> 1276: </a><span class="php-comment">     * @param string $label
</span></span><span id="1277" class="l"><a class="l" href="#1277"> 1277: </a><span class="php-comment">     */</span>
</span><span id="1278" class="l"><a class="l" href="#1278"> 1278: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="___construct" href="#___construct">__construct</a>(<span class="php-var">$term</span> = <span class="php-keyword1">null</span>, <span class="php-var">$scheme</span> = <span class="php-keyword1">null</span>, <span class="php-var">$label</span> = <span class="php-keyword1">null</span>)
</span><span id="1279" class="l"><a class="l" href="#1279"> 1279: </a>    {
</span><span id="1280" class="l"><a class="l" href="#1280"> 1280: </a>        <span class="php-var">$this</span>-&gt;term = <span class="php-var">$term</span>;
</span><span id="1281" class="l"><a class="l" href="#1281"> 1281: </a>        <span class="php-var">$this</span>-&gt;scheme = <span class="php-var">$scheme</span>;
</span><span id="1282" class="l"><a class="l" href="#1282"> 1282: </a>        <span class="php-var">$this</span>-&gt;label = <span class="php-var">$label</span>;
</span><span id="1283" class="l"><a class="l" href="#1283"> 1283: </a>    }
</span><span id="1284" class="l"><a class="l" href="#1284"> 1284: </a>
</span><span id="1285" class="l"><a class="l" href="#1285"> 1285: </a>    <span class="php-comment">/**
</span></span><span id="1286" class="l"><a class="l" href="#1286"> 1286: </a><span class="php-comment">     * String-ified version
</span></span><span id="1287" class="l"><a class="l" href="#1287"> 1287: </a><span class="php-comment">     *
</span></span><span id="1288" class="l"><a class="l" href="#1288"> 1288: </a><span class="php-comment">     * @return string
</span></span><span id="1289" class="l"><a class="l" href="#1289"> 1289: </a><span class="php-comment">     */</span>
</span><span id="1290" class="l"><a class="l" href="#1290"> 1290: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="___toString" href="#___toString">__toString</a>()
</span><span id="1291" class="l"><a class="l" href="#1291"> 1291: </a>    {
</span><span id="1292" class="l"><a class="l" href="#1292"> 1292: </a>        <span class="php-comment">// There is no $this-&gt;data here</span>
</span><span id="1293" class="l"><a class="l" href="#1293"> 1293: </a>        <span class="php-keyword1">return</span> <span class="php-keyword2">md5</span>(<span class="php-keyword2">serialize</span>(<span class="php-var">$this</span>));
</span><span id="1294" class="l"><a class="l" href="#1294"> 1294: </a>    }
</span><span id="1295" class="l"><a class="l" href="#1295"> 1295: </a>
</span><span id="1296" class="l"><a class="l" href="#1296"> 1296: </a>    <span class="php-comment">/**
</span></span><span id="1297" class="l"><a class="l" href="#1297"> 1297: </a><span class="php-comment">     * Get the category identifier
</span></span><span id="1298" class="l"><a class="l" href="#1298"> 1298: </a><span class="php-comment">     *
</span></span><span id="1299" class="l"><a class="l" href="#1299"> 1299: </a><span class="php-comment">     * @return string|null
</span></span><span id="1300" class="l"><a class="l" href="#1300"> 1300: </a><span class="php-comment">     */</span>
</span><span id="1301" class="l"><a class="l" href="#1301"> 1301: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_get_term" href="#_get_term">get_term</a>()
</span><span id="1302" class="l"><a class="l" href="#1302"> 1302: </a>    {
</span><span id="1303" class="l"><a class="l" href="#1303"> 1303: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$this</span>-&gt;term !== <span class="php-keyword1">null</span>)
</span><span id="1304" class="l"><a class="l" href="#1304"> 1304: </a>        {
</span><span id="1305" class="l"><a class="l" href="#1305"> 1305: </a>            <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;term;
</span><span id="1306" class="l"><a class="l" href="#1306"> 1306: </a>        }
</span><span id="1307" class="l"><a class="l" href="#1307"> 1307: </a>        <span class="php-keyword1">else</span>
</span><span id="1308" class="l"><a class="l" href="#1308"> 1308: </a>        {
</span><span id="1309" class="l"><a class="l" href="#1309"> 1309: </a>            <span class="php-keyword1">return</span> <span class="php-keyword1">null</span>;
</span><span id="1310" class="l"><a class="l" href="#1310"> 1310: </a>        }
</span><span id="1311" class="l"><a class="l" href="#1311"> 1311: </a>    }
</span><span id="1312" class="l"><a class="l" href="#1312"> 1312: </a>
</span><span id="1313" class="l"><a class="l" href="#1313"> 1313: </a>    <span class="php-comment">/**
</span></span><span id="1314" class="l"><a class="l" href="#1314"> 1314: </a><span class="php-comment">     * Get the categorization scheme identifier
</span></span><span id="1315" class="l"><a class="l" href="#1315"> 1315: </a><span class="php-comment">     *
</span></span><span id="1316" class="l"><a class="l" href="#1316"> 1316: </a><span class="php-comment">     * @return string|null
</span></span><span id="1317" class="l"><a class="l" href="#1317"> 1317: </a><span class="php-comment">     */</span>
</span><span id="1318" class="l"><a class="l" href="#1318"> 1318: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_get_scheme" href="#_get_scheme">get_scheme</a>()
</span><span id="1319" class="l"><a class="l" href="#1319"> 1319: </a>    {
</span><span id="1320" class="l"><a class="l" href="#1320"> 1320: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$this</span>-&gt;scheme !== <span class="php-keyword1">null</span>)
</span><span id="1321" class="l"><a class="l" href="#1321"> 1321: </a>        {
</span><span id="1322" class="l"><a class="l" href="#1322"> 1322: </a>            <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;scheme;
</span><span id="1323" class="l"><a class="l" href="#1323"> 1323: </a>        }
</span><span id="1324" class="l"><a class="l" href="#1324"> 1324: </a>        <span class="php-keyword1">else</span>
</span><span id="1325" class="l"><a class="l" href="#1325"> 1325: </a>        {
</span><span id="1326" class="l"><a class="l" href="#1326"> 1326: </a>            <span class="php-keyword1">return</span> <span class="php-keyword1">null</span>;
</span><span id="1327" class="l"><a class="l" href="#1327"> 1327: </a>        }
</span><span id="1328" class="l"><a class="l" href="#1328"> 1328: </a>    }
</span><span id="1329" class="l"><a class="l" href="#1329"> 1329: </a>
</span><span id="1330" class="l"><a class="l" href="#1330"> 1330: </a>    <span class="php-comment">/**
</span></span><span id="1331" class="l"><a class="l" href="#1331"> 1331: </a><span class="php-comment">     * Get the human readable label
</span></span><span id="1332" class="l"><a class="l" href="#1332"> 1332: </a><span class="php-comment">     *
</span></span><span id="1333" class="l"><a class="l" href="#1333"> 1333: </a><span class="php-comment">     * @return string|null
</span></span><span id="1334" class="l"><a class="l" href="#1334"> 1334: </a><span class="php-comment">     */</span>
</span><span id="1335" class="l"><a class="l" href="#1335"> 1335: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_get_label" href="#_get_label">get_label</a>()
</span><span id="1336" class="l"><a class="l" href="#1336"> 1336: </a>    {
</span><span id="1337" class="l"><a class="l" href="#1337"> 1337: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$this</span>-&gt;label !== <span class="php-keyword1">null</span>)
</span><span id="1338" class="l"><a class="l" href="#1338"> 1338: </a>        {
</span><span id="1339" class="l"><a class="l" href="#1339"> 1339: </a>            <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;label;
</span><span id="1340" class="l"><a class="l" href="#1340"> 1340: </a>        }
</span><span id="1341" class="l"><a class="l" href="#1341"> 1341: </a>        <span class="php-keyword1">else</span>
</span><span id="1342" class="l"><a class="l" href="#1342"> 1342: </a>        {
</span><span id="1343" class="l"><a class="l" href="#1343"> 1343: </a>            <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;get_term();
</span><span id="1344" class="l"><a class="l" href="#1344"> 1344: </a>        }
</span><span id="1345" class="l"><a class="l" href="#1345"> 1345: </a>    }
</span><span id="1346" class="l"><a class="l" href="#1346"> 1346: </a>}
</span><span id="1347" class="l"><a class="l" href="#1347"> 1347: </a>
</span><span id="1348" class="l"><a class="l" href="#1348"> 1348: </a><span class="php-comment">/**
</span></span><span id="1349" class="l"><a class="l" href="#1349"> 1349: </a><span class="php-comment"> * Content-type sniffing
</span></span><span id="1350" class="l"><a class="l" href="#1350"> 1350: </a><span class="php-comment"> *
</span></span><span id="1351" class="l"><a class="l" href="#1351"> 1351: </a><span class="php-comment"> * Based on the rules in http://tools.ietf.org/html/draft-abarth-mime-sniff-06
</span></span><span id="1352" class="l"><a class="l" href="#1352"> 1352: </a><span class="php-comment"> *
</span></span><span id="1353" class="l"><a class="l" href="#1353"> 1353: </a><span class="php-comment"> * This is used since we can't always trust Content-Type headers, and is based
</span></span><span id="1354" class="l"><a class="l" href="#1354"> 1354: </a><span class="php-comment"> * upon the HTML5 parsing rules.
</span></span><span id="1355" class="l"><a class="l" href="#1355"> 1355: </a><span class="php-comment"> *
</span></span><span id="1356" class="l"><a class="l" href="#1356"> 1356: </a><span class="php-comment"> *
</span></span><span id="1357" class="l"><a class="l" href="#1357"> 1357: </a><span class="php-comment"> * This class can be overloaded with {@see SimplePie::set_content_type_sniffer_class()}
</span></span><span id="1358" class="l"><a class="l" href="#1358"> 1358: </a><span class="php-comment"> *
</span></span><span id="1359" class="l"><a class="l" href="#1359"> 1359: </a><span class="php-comment"> * @package SimplePie
</span></span><span id="1360" class="l"><a class="l" href="#1360"> 1360: </a><span class="php-comment"> */</span>
</span><span id="1361" class="l"><a class="l" href="#1361"> 1361: </a><span class="php-keyword1">class</span> <a id="SimplePie_Content_Type_Sniffer" href="#SimplePie_Content_Type_Sniffer">SimplePie_Content_Type_Sniffer</a>
</span><span id="1362" class="l"><a class="l" href="#1362"> 1362: </a>{
</span><span id="1363" class="l"><a class="l" href="#1363"> 1363: </a>    <span class="php-comment">/**
</span></span><span id="1364" class="l"><a class="l" href="#1364"> 1364: </a><span class="php-comment">     * File object
</span></span><span id="1365" class="l"><a class="l" href="#1365"> 1365: </a><span class="php-comment">     *
</span></span><span id="1366" class="l"><a class="l" href="#1366"> 1366: </a><span class="php-comment">     * @var SimplePie_File
</span></span><span id="1367" class="l"><a class="l" href="#1367"> 1367: </a><span class="php-comment">     */</span>
</span><span id="1368" class="l"><a class="l" href="#1368"> 1368: </a>    <span class="php-keyword1">var</span> <span class="php-var"><a id="$file" href="#$file">$file</a></span>;
</span><span id="1369" class="l"><a class="l" href="#1369"> 1369: </a>
</span><span id="1370" class="l"><a class="l" href="#1370"> 1370: </a>    <span class="php-comment">/**
</span></span><span id="1371" class="l"><a class="l" href="#1371"> 1371: </a><span class="php-comment">     * Create an instance of the class with the input file
</span></span><span id="1372" class="l"><a class="l" href="#1372"> 1372: </a><span class="php-comment">     *
</span></span><span id="1373" class="l"><a class="l" href="#1373"> 1373: </a><span class="php-comment">     * @param SimplePie_Content_Type_Sniffer $file Input file
</span></span><span id="1374" class="l"><a class="l" href="#1374"> 1374: </a><span class="php-comment">     */</span>
</span><span id="1375" class="l"><a class="l" href="#1375"> 1375: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="___construct" href="#___construct">__construct</a>(<span class="php-var">$file</span>)
</span><span id="1376" class="l"><a class="l" href="#1376"> 1376: </a>    {
</span><span id="1377" class="l"><a class="l" href="#1377"> 1377: </a>        <span class="php-var">$this</span>-&gt;<span class="php-keyword2">file</span> = <span class="php-var">$file</span>;
</span><span id="1378" class="l"><a class="l" href="#1378"> 1378: </a>    }
</span><span id="1379" class="l"><a class="l" href="#1379"> 1379: </a>
</span><span id="1380" class="l"><a class="l" href="#1380"> 1380: </a>    <span class="php-comment">/**
</span></span><span id="1381" class="l"><a class="l" href="#1381"> 1381: </a><span class="php-comment">     * Get the Content-Type of the specified file
</span></span><span id="1382" class="l"><a class="l" href="#1382"> 1382: </a><span class="php-comment">     *
</span></span><span id="1383" class="l"><a class="l" href="#1383"> 1383: </a><span class="php-comment">     * @return string Actual Content-Type
</span></span><span id="1384" class="l"><a class="l" href="#1384"> 1384: </a><span class="php-comment">     */</span>
</span><span id="1385" class="l"><a class="l" href="#1385"> 1385: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_get_type" href="#_get_type">get_type</a>()
</span><span id="1386" class="l"><a class="l" href="#1386"> 1386: </a>    {
</span><span id="1387" class="l"><a class="l" href="#1387"> 1387: </a>        <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$this</span>-&gt;<span class="php-keyword2">file</span>-&gt;headers[<span class="php-quote">'content-type'</span>]))
</span><span id="1388" class="l"><a class="l" href="#1388"> 1388: </a>        {
</span><span id="1389" class="l"><a class="l" href="#1389"> 1389: </a>            <span class="php-keyword1">if</span> (!<span class="php-keyword1">isset</span>(<span class="php-var">$this</span>-&gt;<span class="php-keyword2">file</span>-&gt;headers[<span class="php-quote">'content-encoding'</span>])
</span><span id="1390" class="l"><a class="l" href="#1390"> 1390: </a>                &amp;&amp; (<span class="php-var">$this</span>-&gt;<span class="php-keyword2">file</span>-&gt;headers[<span class="php-quote">'content-type'</span>] === <span class="php-quote">'text/plain'</span>
</span><span id="1391" class="l"><a class="l" href="#1391"> 1391: </a>                    || <span class="php-var">$this</span>-&gt;<span class="php-keyword2">file</span>-&gt;headers[<span class="php-quote">'content-type'</span>] === <span class="php-quote">'text/plain; charset=ISO-8859-1'</span>
</span><span id="1392" class="l"><a class="l" href="#1392"> 1392: </a>                    || <span class="php-var">$this</span>-&gt;<span class="php-keyword2">file</span>-&gt;headers[<span class="php-quote">'content-type'</span>] === <span class="php-quote">'text/plain; charset=iso-8859-1'</span>
</span><span id="1393" class="l"><a class="l" href="#1393"> 1393: </a>                    || <span class="php-var">$this</span>-&gt;<span class="php-keyword2">file</span>-&gt;headers[<span class="php-quote">'content-type'</span>] === <span class="php-quote">'text/plain; charset=UTF-8'</span>))
</span><span id="1394" class="l"><a class="l" href="#1394"> 1394: </a>            {
</span><span id="1395" class="l"><a class="l" href="#1395"> 1395: </a>                <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;text_or_binary();
</span><span id="1396" class="l"><a class="l" href="#1396"> 1396: </a>            }
</span><span id="1397" class="l"><a class="l" href="#1397"> 1397: </a>
</span><span id="1398" class="l"><a class="l" href="#1398"> 1398: </a>            <span class="php-keyword1">if</span> ((<span class="php-var">$pos</span> = <span class="php-keyword2">strpos</span>(<span class="php-var">$this</span>-&gt;<span class="php-keyword2">file</span>-&gt;headers[<span class="php-quote">'content-type'</span>], <span class="php-quote">';'</span>)) !== <span class="php-keyword1">false</span>)
</span><span id="1399" class="l"><a class="l" href="#1399"> 1399: </a>            {
</span><span id="1400" class="l"><a class="l" href="#1400"> 1400: </a>                <span class="php-var">$official</span> = <span class="php-keyword2">substr</span>(<span class="php-var">$this</span>-&gt;<span class="php-keyword2">file</span>-&gt;headers[<span class="php-quote">'content-type'</span>], <span class="php-num">0</span>, <span class="php-var">$pos</span>);
</span><span id="1401" class="l"><a class="l" href="#1401"> 1401: </a>            }
</span><span id="1402" class="l"><a class="l" href="#1402"> 1402: </a>            <span class="php-keyword1">else</span>
</span><span id="1403" class="l"><a class="l" href="#1403"> 1403: </a>            {
</span><span id="1404" class="l"><a class="l" href="#1404"> 1404: </a>                <span class="php-var">$official</span> = <span class="php-var">$this</span>-&gt;<span class="php-keyword2">file</span>-&gt;headers[<span class="php-quote">'content-type'</span>];
</span><span id="1405" class="l"><a class="l" href="#1405"> 1405: </a>            }
</span><span id="1406" class="l"><a class="l" href="#1406"> 1406: </a>            <span class="php-var">$official</span> = <span class="php-keyword2">trim</span>(<span class="php-keyword2">strtolower</span>(<span class="php-var">$official</span>));
</span><span id="1407" class="l"><a class="l" href="#1407"> 1407: </a>
</span><span id="1408" class="l"><a class="l" href="#1408"> 1408: </a>            <span class="php-keyword1">if</span> (<span class="php-var">$official</span> === <span class="php-quote">'unknown/unknown'</span>
</span><span id="1409" class="l"><a class="l" href="#1409"> 1409: </a>                || <span class="php-var">$official</span> === <span class="php-quote">'application/unknown'</span>)
</span><span id="1410" class="l"><a class="l" href="#1410"> 1410: </a>            {
</span><span id="1411" class="l"><a class="l" href="#1411"> 1411: </a>                <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;unknown();
</span><span id="1412" class="l"><a class="l" href="#1412"> 1412: </a>            }
</span><span id="1413" class="l"><a class="l" href="#1413"> 1413: </a>            <span class="php-keyword1">elseif</span> (<span class="php-keyword2">substr</span>(<span class="php-var">$official</span>, -<span class="php-num">4</span>) === <span class="php-quote">'+xml'</span>
</span><span id="1414" class="l"><a class="l" href="#1414"> 1414: </a>                || <span class="php-var">$official</span> === <span class="php-quote">'text/xml'</span>
</span><span id="1415" class="l"><a class="l" href="#1415"> 1415: </a>                || <span class="php-var">$official</span> === <span class="php-quote">'application/xml'</span>)
</span><span id="1416" class="l"><a class="l" href="#1416"> 1416: </a>            {
</span><span id="1417" class="l"><a class="l" href="#1417"> 1417: </a>                <span class="php-keyword1">return</span> <span class="php-var">$official</span>;
</span><span id="1418" class="l"><a class="l" href="#1418"> 1418: </a>            }
</span><span id="1419" class="l"><a class="l" href="#1419"> 1419: </a>            <span class="php-keyword1">elseif</span> (<span class="php-keyword2">substr</span>(<span class="php-var">$official</span>, <span class="php-num">0</span>, <span class="php-num">6</span>) === <span class="php-quote">'image/'</span>)
</span><span id="1420" class="l"><a class="l" href="#1420"> 1420: </a>            {
</span><span id="1421" class="l"><a class="l" href="#1421"> 1421: </a>                <span class="php-keyword1">if</span> (<span class="php-var">$return</span> = <span class="php-var">$this</span>-&gt;image())
</span><span id="1422" class="l"><a class="l" href="#1422"> 1422: </a>                {
</span><span id="1423" class="l"><a class="l" href="#1423"> 1423: </a>                    <span class="php-keyword1">return</span> <span class="php-var">$return</span>;
</span><span id="1424" class="l"><a class="l" href="#1424"> 1424: </a>                }
</span><span id="1425" class="l"><a class="l" href="#1425"> 1425: </a>                <span class="php-keyword1">else</span>
</span><span id="1426" class="l"><a class="l" href="#1426"> 1426: </a>                {
</span><span id="1427" class="l"><a class="l" href="#1427"> 1427: </a>                    <span class="php-keyword1">return</span> <span class="php-var">$official</span>;
</span><span id="1428" class="l"><a class="l" href="#1428"> 1428: </a>                }
</span><span id="1429" class="l"><a class="l" href="#1429"> 1429: </a>            }
</span><span id="1430" class="l"><a class="l" href="#1430"> 1430: </a>            <span class="php-keyword1">elseif</span> (<span class="php-var">$official</span> === <span class="php-quote">'text/html'</span>)
</span><span id="1431" class="l"><a class="l" href="#1431"> 1431: </a>            {
</span><span id="1432" class="l"><a class="l" href="#1432"> 1432: </a>                <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;feed_or_html();
</span><span id="1433" class="l"><a class="l" href="#1433"> 1433: </a>            }
</span><span id="1434" class="l"><a class="l" href="#1434"> 1434: </a>            <span class="php-keyword1">else</span>
</span><span id="1435" class="l"><a class="l" href="#1435"> 1435: </a>            {
</span><span id="1436" class="l"><a class="l" href="#1436"> 1436: </a>                <span class="php-keyword1">return</span> <span class="php-var">$official</span>;
</span><span id="1437" class="l"><a class="l" href="#1437"> 1437: </a>            }
</span><span id="1438" class="l"><a class="l" href="#1438"> 1438: </a>        }
</span><span id="1439" class="l"><a class="l" href="#1439"> 1439: </a>        <span class="php-keyword1">else</span>
</span><span id="1440" class="l"><a class="l" href="#1440"> 1440: </a>        {
</span><span id="1441" class="l"><a class="l" href="#1441"> 1441: </a>            <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;unknown();
</span><span id="1442" class="l"><a class="l" href="#1442"> 1442: </a>        }
</span><span id="1443" class="l"><a class="l" href="#1443"> 1443: </a>    }
</span><span id="1444" class="l"><a class="l" href="#1444"> 1444: </a>
</span><span id="1445" class="l"><a class="l" href="#1445"> 1445: </a>    <span class="php-comment">/**
</span></span><span id="1446" class="l"><a class="l" href="#1446"> 1446: </a><span class="php-comment">     * Sniff text or binary
</span></span><span id="1447" class="l"><a class="l" href="#1447"> 1447: </a><span class="php-comment">     *
</span></span><span id="1448" class="l"><a class="l" href="#1448"> 1448: </a><span class="php-comment">     * @return string Actual Content-Type
</span></span><span id="1449" class="l"><a class="l" href="#1449"> 1449: </a><span class="php-comment">     */</span>
</span><span id="1450" class="l"><a class="l" href="#1450"> 1450: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_text_or_binary" href="#_text_or_binary">text_or_binary</a>()
</span><span id="1451" class="l"><a class="l" href="#1451"> 1451: </a>    {
</span><span id="1452" class="l"><a class="l" href="#1452"> 1452: </a>        <span class="php-keyword1">if</span> (<span class="php-keyword2">substr</span>(<span class="php-var">$this</span>-&gt;<span class="php-keyword2">file</span>-&gt;body, <span class="php-num">0</span>, <span class="php-num">2</span>) === <span class="php-quote">&quot;\xFE\xFF&quot;</span>
</span><span id="1453" class="l"><a class="l" href="#1453"> 1453: </a>            || <span class="php-keyword2">substr</span>(<span class="php-var">$this</span>-&gt;<span class="php-keyword2">file</span>-&gt;body, <span class="php-num">0</span>, <span class="php-num">2</span>) === <span class="php-quote">&quot;\xFF\xFE&quot;</span>
</span><span id="1454" class="l"><a class="l" href="#1454"> 1454: </a>            || <span class="php-keyword2">substr</span>(<span class="php-var">$this</span>-&gt;<span class="php-keyword2">file</span>-&gt;body, <span class="php-num">0</span>, <span class="php-num">4</span>) === <span class="php-quote">&quot;\x00\x00\xFE\xFF&quot;</span>
</span><span id="1455" class="l"><a class="l" href="#1455"> 1455: </a>            || <span class="php-keyword2">substr</span>(<span class="php-var">$this</span>-&gt;<span class="php-keyword2">file</span>-&gt;body, <span class="php-num">0</span>, <span class="php-num">3</span>) === <span class="php-quote">&quot;\xEF\xBB\xBF&quot;</span>)
</span><span id="1456" class="l"><a class="l" href="#1456"> 1456: </a>        {
</span><span id="1457" class="l"><a class="l" href="#1457"> 1457: </a>            <span class="php-keyword1">return</span> <span class="php-quote">'text/plain'</span>;
</span><span id="1458" class="l"><a class="l" href="#1458"> 1458: </a>        }
</span><span id="1459" class="l"><a class="l" href="#1459"> 1459: </a>        <span class="php-keyword1">elseif</span> (<span class="php-keyword2">preg_match</span>(<span class="php-quote">'/[\x00-\x08\x0E-\x1A\x1C-\x1F]/'</span>, <span class="php-var">$this</span>-&gt;<span class="php-keyword2">file</span>-&gt;body))
</span><span id="1460" class="l"><a class="l" href="#1460"> 1460: </a>        {
</span><span id="1461" class="l"><a class="l" href="#1461"> 1461: </a>            <span class="php-keyword1">return</span> <span class="php-quote">'application/octect-stream'</span>;
</span><span id="1462" class="l"><a class="l" href="#1462"> 1462: </a>        }
</span><span id="1463" class="l"><a class="l" href="#1463"> 1463: </a>        <span class="php-keyword1">else</span>
</span><span id="1464" class="l"><a class="l" href="#1464"> 1464: </a>        {
</span><span id="1465" class="l"><a class="l" href="#1465"> 1465: </a>            <span class="php-keyword1">return</span> <span class="php-quote">'text/plain'</span>;
</span><span id="1466" class="l"><a class="l" href="#1466"> 1466: </a>        }
</span><span id="1467" class="l"><a class="l" href="#1467"> 1467: </a>    }
</span><span id="1468" class="l"><a class="l" href="#1468"> 1468: </a>
</span><span id="1469" class="l"><a class="l" href="#1469"> 1469: </a>    <span class="php-comment">/**
</span></span><span id="1470" class="l"><a class="l" href="#1470"> 1470: </a><span class="php-comment">     * Sniff unknown
</span></span><span id="1471" class="l"><a class="l" href="#1471"> 1471: </a><span class="php-comment">     *
</span></span><span id="1472" class="l"><a class="l" href="#1472"> 1472: </a><span class="php-comment">     * @return string Actual Content-Type
</span></span><span id="1473" class="l"><a class="l" href="#1473"> 1473: </a><span class="php-comment">     */</span>
</span><span id="1474" class="l"><a class="l" href="#1474"> 1474: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_unknown" href="#_unknown">unknown</a>()
</span><span id="1475" class="l"><a class="l" href="#1475"> 1475: </a>    {
</span><span id="1476" class="l"><a class="l" href="#1476"> 1476: </a>        <span class="php-var">$ws</span> = <span class="php-keyword2">strspn</span>(<span class="php-var">$this</span>-&gt;<span class="php-keyword2">file</span>-&gt;body, <span class="php-quote">&quot;\x09\x0A\x0B\x0C\x0D\x20&quot;</span>);
</span><span id="1477" class="l"><a class="l" href="#1477"> 1477: </a>        <span class="php-keyword1">if</span> (<span class="php-keyword2">strtolower</span>(<span class="php-keyword2">substr</span>(<span class="php-var">$this</span>-&gt;<span class="php-keyword2">file</span>-&gt;body, <span class="php-var">$ws</span>, <span class="php-num">14</span>)) === <span class="php-quote">'&lt;!doctype html'</span>
</span><span id="1478" class="l"><a class="l" href="#1478"> 1478: </a>            || <span class="php-keyword2">strtolower</span>(<span class="php-keyword2">substr</span>(<span class="php-var">$this</span>-&gt;<span class="php-keyword2">file</span>-&gt;body, <span class="php-var">$ws</span>, <span class="php-num">5</span>)) === <span class="php-quote">'&lt;html'</span>
</span><span id="1479" class="l"><a class="l" href="#1479"> 1479: </a>            || <span class="php-keyword2">strtolower</span>(<span class="php-keyword2">substr</span>(<span class="php-var">$this</span>-&gt;<span class="php-keyword2">file</span>-&gt;body, <span class="php-var">$ws</span>, <span class="php-num">7</span>)) === <span class="php-quote">'&lt;script'</span>)
</span><span id="1480" class="l"><a class="l" href="#1480"> 1480: </a>        {
</span><span id="1481" class="l"><a class="l" href="#1481"> 1481: </a>            <span class="php-keyword1">return</span> <span class="php-quote">'text/html'</span>;
</span><span id="1482" class="l"><a class="l" href="#1482"> 1482: </a>        }
</span><span id="1483" class="l"><a class="l" href="#1483"> 1483: </a>        <span class="php-keyword1">elseif</span> (<span class="php-keyword2">substr</span>(<span class="php-var">$this</span>-&gt;<span class="php-keyword2">file</span>-&gt;body, <span class="php-num">0</span>, <span class="php-num">5</span>) === <span class="php-quote">'%PDF-'</span>)
</span><span id="1484" class="l"><a class="l" href="#1484"> 1484: </a>        {
</span><span id="1485" class="l"><a class="l" href="#1485"> 1485: </a>            <span class="php-keyword1">return</span> <span class="php-quote">'application/pdf'</span>;
</span><span id="1486" class="l"><a class="l" href="#1486"> 1486: </a>        }
</span><span id="1487" class="l"><a class="l" href="#1487"> 1487: </a>        <span class="php-keyword1">elseif</span> (<span class="php-keyword2">substr</span>(<span class="php-var">$this</span>-&gt;<span class="php-keyword2">file</span>-&gt;body, <span class="php-num">0</span>, <span class="php-num">11</span>) === <span class="php-quote">'%!PS-Adobe-'</span>)
</span><span id="1488" class="l"><a class="l" href="#1488"> 1488: </a>        {
</span><span id="1489" class="l"><a class="l" href="#1489"> 1489: </a>            <span class="php-keyword1">return</span> <span class="php-quote">'application/postscript'</span>;
</span><span id="1490" class="l"><a class="l" href="#1490"> 1490: </a>        }
</span><span id="1491" class="l"><a class="l" href="#1491"> 1491: </a>        <span class="php-keyword1">elseif</span> (<span class="php-keyword2">substr</span>(<span class="php-var">$this</span>-&gt;<span class="php-keyword2">file</span>-&gt;body, <span class="php-num">0</span>, <span class="php-num">6</span>) === <span class="php-quote">'GIF87a'</span>
</span><span id="1492" class="l"><a class="l" href="#1492"> 1492: </a>            || <span class="php-keyword2">substr</span>(<span class="php-var">$this</span>-&gt;<span class="php-keyword2">file</span>-&gt;body, <span class="php-num">0</span>, <span class="php-num">6</span>) === <span class="php-quote">'GIF89a'</span>)
</span><span id="1493" class="l"><a class="l" href="#1493"> 1493: </a>        {
</span><span id="1494" class="l"><a class="l" href="#1494"> 1494: </a>            <span class="php-keyword1">return</span> <span class="php-quote">'image/gif'</span>;
</span><span id="1495" class="l"><a class="l" href="#1495"> 1495: </a>        }
</span><span id="1496" class="l"><a class="l" href="#1496"> 1496: </a>        <span class="php-keyword1">elseif</span> (<span class="php-keyword2">substr</span>(<span class="php-var">$this</span>-&gt;<span class="php-keyword2">file</span>-&gt;body, <span class="php-num">0</span>, <span class="php-num">8</span>) === <span class="php-quote">&quot;\x89\x50\x4E\x47\x0D\x0A\x1A\x0A&quot;</span>)
</span><span id="1497" class="l"><a class="l" href="#1497"> 1497: </a>        {
</span><span id="1498" class="l"><a class="l" href="#1498"> 1498: </a>            <span class="php-keyword1">return</span> <span class="php-quote">'image/png'</span>;
</span><span id="1499" class="l"><a class="l" href="#1499"> 1499: </a>        }
</span><span id="1500" class="l"><a class="l" href="#1500"> 1500: </a>        <span class="php-keyword1">elseif</span> (<span class="php-keyword2">substr</span>(<span class="php-var">$this</span>-&gt;<span class="php-keyword2">file</span>-&gt;body, <span class="php-num">0</span>, <span class="php-num">3</span>) === <span class="php-quote">&quot;\xFF\xD8\xFF&quot;</span>)
</span><span id="1501" class="l"><a class="l" href="#1501"> 1501: </a>        {
</span><span id="1502" class="l"><a class="l" href="#1502"> 1502: </a>            <span class="php-keyword1">return</span> <span class="php-quote">'image/jpeg'</span>;
</span><span id="1503" class="l"><a class="l" href="#1503"> 1503: </a>        }
</span><span id="1504" class="l"><a class="l" href="#1504"> 1504: </a>        <span class="php-keyword1">elseif</span> (<span class="php-keyword2">substr</span>(<span class="php-var">$this</span>-&gt;<span class="php-keyword2">file</span>-&gt;body, <span class="php-num">0</span>, <span class="php-num">2</span>) === <span class="php-quote">&quot;\x42\x4D&quot;</span>)
</span><span id="1505" class="l"><a class="l" href="#1505"> 1505: </a>        {
</span><span id="1506" class="l"><a class="l" href="#1506"> 1506: </a>            <span class="php-keyword1">return</span> <span class="php-quote">'image/bmp'</span>;
</span><span id="1507" class="l"><a class="l" href="#1507"> 1507: </a>        }
</span><span id="1508" class="l"><a class="l" href="#1508"> 1508: </a>        <span class="php-keyword1">elseif</span> (<span class="php-keyword2">substr</span>(<span class="php-var">$this</span>-&gt;<span class="php-keyword2">file</span>-&gt;body, <span class="php-num">0</span>, <span class="php-num">4</span>) === <span class="php-quote">&quot;\x00\x00\x01\x00&quot;</span>)
</span><span id="1509" class="l"><a class="l" href="#1509"> 1509: </a>        {
</span><span id="1510" class="l"><a class="l" href="#1510"> 1510: </a>            <span class="php-keyword1">return</span> <span class="php-quote">'image/vnd.microsoft.icon'</span>;
</span><span id="1511" class="l"><a class="l" href="#1511"> 1511: </a>        }
</span><span id="1512" class="l"><a class="l" href="#1512"> 1512: </a>        <span class="php-keyword1">else</span>
</span><span id="1513" class="l"><a class="l" href="#1513"> 1513: </a>        {
</span><span id="1514" class="l"><a class="l" href="#1514"> 1514: </a>            <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;text_or_binary();
</span><span id="1515" class="l"><a class="l" href="#1515"> 1515: </a>        }
</span><span id="1516" class="l"><a class="l" href="#1516"> 1516: </a>    }
</span><span id="1517" class="l"><a class="l" href="#1517"> 1517: </a>
</span><span id="1518" class="l"><a class="l" href="#1518"> 1518: </a>    <span class="php-comment">/**
</span></span><span id="1519" class="l"><a class="l" href="#1519"> 1519: </a><span class="php-comment">     * Sniff images
</span></span><span id="1520" class="l"><a class="l" href="#1520"> 1520: </a><span class="php-comment">     *
</span></span><span id="1521" class="l"><a class="l" href="#1521"> 1521: </a><span class="php-comment">     * @return string Actual Content-Type
</span></span><span id="1522" class="l"><a class="l" href="#1522"> 1522: </a><span class="php-comment">     */</span>
</span><span id="1523" class="l"><a class="l" href="#1523"> 1523: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_image" href="#_image">image</a>()
</span><span id="1524" class="l"><a class="l" href="#1524"> 1524: </a>    {
</span><span id="1525" class="l"><a class="l" href="#1525"> 1525: </a>        <span class="php-keyword1">if</span> (<span class="php-keyword2">substr</span>(<span class="php-var">$this</span>-&gt;<span class="php-keyword2">file</span>-&gt;body, <span class="php-num">0</span>, <span class="php-num">6</span>) === <span class="php-quote">'GIF87a'</span>
</span><span id="1526" class="l"><a class="l" href="#1526"> 1526: </a>            || <span class="php-keyword2">substr</span>(<span class="php-var">$this</span>-&gt;<span class="php-keyword2">file</span>-&gt;body, <span class="php-num">0</span>, <span class="php-num">6</span>) === <span class="php-quote">'GIF89a'</span>)
</span><span id="1527" class="l"><a class="l" href="#1527"> 1527: </a>        {
</span><span id="1528" class="l"><a class="l" href="#1528"> 1528: </a>            <span class="php-keyword1">return</span> <span class="php-quote">'image/gif'</span>;
</span><span id="1529" class="l"><a class="l" href="#1529"> 1529: </a>        }
</span><span id="1530" class="l"><a class="l" href="#1530"> 1530: </a>        <span class="php-keyword1">elseif</span> (<span class="php-keyword2">substr</span>(<span class="php-var">$this</span>-&gt;<span class="php-keyword2">file</span>-&gt;body, <span class="php-num">0</span>, <span class="php-num">8</span>) === <span class="php-quote">&quot;\x89\x50\x4E\x47\x0D\x0A\x1A\x0A&quot;</span>)
</span><span id="1531" class="l"><a class="l" href="#1531"> 1531: </a>        {
</span><span id="1532" class="l"><a class="l" href="#1532"> 1532: </a>            <span class="php-keyword1">return</span> <span class="php-quote">'image/png'</span>;
</span><span id="1533" class="l"><a class="l" href="#1533"> 1533: </a>        }
</span><span id="1534" class="l"><a class="l" href="#1534"> 1534: </a>        <span class="php-keyword1">elseif</span> (<span class="php-keyword2">substr</span>(<span class="php-var">$this</span>-&gt;<span class="php-keyword2">file</span>-&gt;body, <span class="php-num">0</span>, <span class="php-num">3</span>) === <span class="php-quote">&quot;\xFF\xD8\xFF&quot;</span>)
</span><span id="1535" class="l"><a class="l" href="#1535"> 1535: </a>        {
</span><span id="1536" class="l"><a class="l" href="#1536"> 1536: </a>            <span class="php-keyword1">return</span> <span class="php-quote">'image/jpeg'</span>;
</span><span id="1537" class="l"><a class="l" href="#1537"> 1537: </a>        }
</span><span id="1538" class="l"><a class="l" href="#1538"> 1538: </a>        <span class="php-keyword1">elseif</span> (<span class="php-keyword2">substr</span>(<span class="php-var">$this</span>-&gt;<span class="php-keyword2">file</span>-&gt;body, <span class="php-num">0</span>, <span class="php-num">2</span>) === <span class="php-quote">&quot;\x42\x4D&quot;</span>)
</span><span id="1539" class="l"><a class="l" href="#1539"> 1539: </a>        {
</span><span id="1540" class="l"><a class="l" href="#1540"> 1540: </a>            <span class="php-keyword1">return</span> <span class="php-quote">'image/bmp'</span>;
</span><span id="1541" class="l"><a class="l" href="#1541"> 1541: </a>        }
</span><span id="1542" class="l"><a class="l" href="#1542"> 1542: </a>        <span class="php-keyword1">elseif</span> (<span class="php-keyword2">substr</span>(<span class="php-var">$this</span>-&gt;<span class="php-keyword2">file</span>-&gt;body, <span class="php-num">0</span>, <span class="php-num">4</span>) === <span class="php-quote">&quot;\x00\x00\x01\x00&quot;</span>)
</span><span id="1543" class="l"><a class="l" href="#1543"> 1543: </a>        {
</span><span id="1544" class="l"><a class="l" href="#1544"> 1544: </a>            <span class="php-keyword1">return</span> <span class="php-quote">'image/vnd.microsoft.icon'</span>;
</span><span id="1545" class="l"><a class="l" href="#1545"> 1545: </a>        }
</span><span id="1546" class="l"><a class="l" href="#1546"> 1546: </a>        <span class="php-keyword1">else</span>
</span><span id="1547" class="l"><a class="l" href="#1547"> 1547: </a>        {
</span><span id="1548" class="l"><a class="l" href="#1548"> 1548: </a>            <span class="php-keyword1">return</span> <span class="php-keyword1">false</span>;
</span><span id="1549" class="l"><a class="l" href="#1549"> 1549: </a>        }
</span><span id="1550" class="l"><a class="l" href="#1550"> 1550: </a>    }
</span><span id="1551" class="l"><a class="l" href="#1551"> 1551: </a>
</span><span id="1552" class="l"><a class="l" href="#1552"> 1552: </a>    <span class="php-comment">/**
</span></span><span id="1553" class="l"><a class="l" href="#1553"> 1553: </a><span class="php-comment">     * Sniff HTML
</span></span><span id="1554" class="l"><a class="l" href="#1554"> 1554: </a><span class="php-comment">     *
</span></span><span id="1555" class="l"><a class="l" href="#1555"> 1555: </a><span class="php-comment">     * @return string Actual Content-Type
</span></span><span id="1556" class="l"><a class="l" href="#1556"> 1556: </a><span class="php-comment">     */</span>
</span><span id="1557" class="l"><a class="l" href="#1557"> 1557: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_feed_or_html" href="#_feed_or_html">feed_or_html</a>()
</span><span id="1558" class="l"><a class="l" href="#1558"> 1558: </a>    {
</span><span id="1559" class="l"><a class="l" href="#1559"> 1559: </a>        <span class="php-var">$len</span> = <span class="php-keyword2">strlen</span>(<span class="php-var">$this</span>-&gt;<span class="php-keyword2">file</span>-&gt;body);
</span><span id="1560" class="l"><a class="l" href="#1560"> 1560: </a>        <span class="php-var">$pos</span> = <span class="php-keyword2">strspn</span>(<span class="php-var">$this</span>-&gt;<span class="php-keyword2">file</span>-&gt;body, <span class="php-quote">&quot;\x09\x0A\x0D\x20&quot;</span>);
</span><span id="1561" class="l"><a class="l" href="#1561"> 1561: </a>
</span><span id="1562" class="l"><a class="l" href="#1562"> 1562: </a>        <span class="php-keyword1">while</span> (<span class="php-var">$pos</span> &lt; <span class="php-var">$len</span>)
</span><span id="1563" class="l"><a class="l" href="#1563"> 1563: </a>        {
</span><span id="1564" class="l"><a class="l" href="#1564"> 1564: </a>            <span class="php-keyword1">switch</span> (<span class="php-var">$this</span>-&gt;<span class="php-keyword2">file</span>-&gt;body[<span class="php-var">$pos</span>])
</span><span id="1565" class="l"><a class="l" href="#1565"> 1565: </a>            {
</span><span id="1566" class="l"><a class="l" href="#1566"> 1566: </a>                <span class="php-keyword1">case</span> <span class="php-quote">&quot;\x09&quot;</span>:
</span><span id="1567" class="l"><a class="l" href="#1567"> 1567: </a>                <span class="php-keyword1">case</span> <span class="php-quote">&quot;\x0A&quot;</span>:
</span><span id="1568" class="l"><a class="l" href="#1568"> 1568: </a>                <span class="php-keyword1">case</span> <span class="php-quote">&quot;\x0D&quot;</span>:
</span><span id="1569" class="l"><a class="l" href="#1569"> 1569: </a>                <span class="php-keyword1">case</span> <span class="php-quote">&quot;\x20&quot;</span>:
</span><span id="1570" class="l"><a class="l" href="#1570"> 1570: </a>                    <span class="php-var">$pos</span> += <span class="php-keyword2">strspn</span>(<span class="php-var">$this</span>-&gt;<span class="php-keyword2">file</span>-&gt;body, <span class="php-quote">&quot;\x09\x0A\x0D\x20&quot;</span>, <span class="php-var">$pos</span>);
</span><span id="1571" class="l"><a class="l" href="#1571"> 1571: </a>                    <span class="php-keyword1">continue</span> <span class="php-num">2</span>;
</span><span id="1572" class="l"><a class="l" href="#1572"> 1572: </a>
</span><span id="1573" class="l"><a class="l" href="#1573"> 1573: </a>                <span class="php-keyword1">case</span> <span class="php-quote">'&lt;'</span>:
</span><span id="1574" class="l"><a class="l" href="#1574"> 1574: </a>                    <span class="php-var">$pos</span>++;
</span><span id="1575" class="l"><a class="l" href="#1575"> 1575: </a>                    <span class="php-keyword1">break</span>;
</span><span id="1576" class="l"><a class="l" href="#1576"> 1576: </a>
</span><span id="1577" class="l"><a class="l" href="#1577"> 1577: </a>                <span class="php-keyword1">default</span>:
</span><span id="1578" class="l"><a class="l" href="#1578"> 1578: </a>                    <span class="php-keyword1">return</span> <span class="php-quote">'text/html'</span>;
</span><span id="1579" class="l"><a class="l" href="#1579"> 1579: </a>            }
</span><span id="1580" class="l"><a class="l" href="#1580"> 1580: </a>
</span><span id="1581" class="l"><a class="l" href="#1581"> 1581: </a>            <span class="php-keyword1">if</span> (<span class="php-keyword2">substr</span>(<span class="php-var">$this</span>-&gt;<span class="php-keyword2">file</span>-&gt;body, <span class="php-var">$pos</span>, <span class="php-num">3</span>) === <span class="php-quote">'!--'</span>)
</span><span id="1582" class="l"><a class="l" href="#1582"> 1582: </a>            {
</span><span id="1583" class="l"><a class="l" href="#1583"> 1583: </a>                <span class="php-var">$pos</span> += <span class="php-num">3</span>;
</span><span id="1584" class="l"><a class="l" href="#1584"> 1584: </a>                <span class="php-keyword1">if</span> (<span class="php-var">$pos</span> &lt; <span class="php-var">$len</span> &amp;&amp; (<span class="php-var">$pos</span> = <span class="php-keyword2">strpos</span>(<span class="php-var">$this</span>-&gt;<span class="php-keyword2">file</span>-&gt;body, <span class="php-quote">'--&gt;'</span>, <span class="php-var">$pos</span>)) !== <span class="php-keyword1">false</span>)
</span><span id="1585" class="l"><a class="l" href="#1585"> 1585: </a>                {
</span><span id="1586" class="l"><a class="l" href="#1586"> 1586: </a>                    <span class="php-var">$pos</span> += <span class="php-num">3</span>;
</span><span id="1587" class="l"><a class="l" href="#1587"> 1587: </a>                }
</span><span id="1588" class="l"><a class="l" href="#1588"> 1588: </a>                <span class="php-keyword1">else</span>
</span><span id="1589" class="l"><a class="l" href="#1589"> 1589: </a>                {
</span><span id="1590" class="l"><a class="l" href="#1590"> 1590: </a>                    <span class="php-keyword1">return</span> <span class="php-quote">'text/html'</span>;
</span><span id="1591" class="l"><a class="l" href="#1591"> 1591: </a>                }
</span><span id="1592" class="l"><a class="l" href="#1592"> 1592: </a>            }
</span><span id="1593" class="l"><a class="l" href="#1593"> 1593: </a>            <span class="php-keyword1">elseif</span> (<span class="php-keyword2">substr</span>(<span class="php-var">$this</span>-&gt;<span class="php-keyword2">file</span>-&gt;body, <span class="php-var">$pos</span>, <span class="php-num">1</span>) === <span class="php-quote">'!'</span>)
</span><span id="1594" class="l"><a class="l" href="#1594"> 1594: </a>            {
</span><span id="1595" class="l"><a class="l" href="#1595"> 1595: </a>                <span class="php-keyword1">if</span> (<span class="php-var">$pos</span> &lt; <span class="php-var">$len</span> &amp;&amp; (<span class="php-var">$pos</span> = <span class="php-keyword2">strpos</span>(<span class="php-var">$this</span>-&gt;<span class="php-keyword2">file</span>-&gt;body, <span class="php-quote">'&gt;'</span>, <span class="php-var">$pos</span>)) !== <span class="php-keyword1">false</span>)
</span><span id="1596" class="l"><a class="l" href="#1596"> 1596: </a>                {
</span><span id="1597" class="l"><a class="l" href="#1597"> 1597: </a>                    <span class="php-var">$pos</span>++;
</span><span id="1598" class="l"><a class="l" href="#1598"> 1598: </a>                }
</span><span id="1599" class="l"><a class="l" href="#1599"> 1599: </a>                <span class="php-keyword1">else</span>
</span><span id="1600" class="l"><a class="l" href="#1600"> 1600: </a>                {
</span><span id="1601" class="l"><a class="l" href="#1601"> 1601: </a>                    <span class="php-keyword1">return</span> <span class="php-quote">'text/html'</span>;
</span><span id="1602" class="l"><a class="l" href="#1602"> 1602: </a>                }
</span><span id="1603" class="l"><a class="l" href="#1603"> 1603: </a>            }
</span><span id="1604" class="l"><a class="l" href="#1604"> 1604: </a>            <span class="php-keyword1">elseif</span> (<span class="php-keyword2">substr</span>(<span class="php-var">$this</span>-&gt;<span class="php-keyword2">file</span>-&gt;body, <span class="php-var">$pos</span>, <span class="php-num">1</span>) === <span class="php-quote">'?'</span>)
</span><span id="1605" class="l"><a class="l" href="#1605"> 1605: </a>            {
</span><span id="1606" class="l"><a class="l" href="#1606"> 1606: </a>                <span class="php-keyword1">if</span> (<span class="php-var">$pos</span> &lt; <span class="php-var">$len</span> &amp;&amp; (<span class="php-var">$pos</span> = <span class="php-keyword2">strpos</span>(<span class="php-var">$this</span>-&gt;<span class="php-keyword2">file</span>-&gt;body, <span class="php-quote">'?&gt;'</span>, <span class="php-var">$pos</span>)) !== <span class="php-keyword1">false</span>)
</span><span id="1607" class="l"><a class="l" href="#1607"> 1607: </a>                {
</span><span id="1608" class="l"><a class="l" href="#1608"> 1608: </a>                    <span class="php-var">$pos</span> += <span class="php-num">2</span>;
</span><span id="1609" class="l"><a class="l" href="#1609"> 1609: </a>                }
</span><span id="1610" class="l"><a class="l" href="#1610"> 1610: </a>                <span class="php-keyword1">else</span>
</span><span id="1611" class="l"><a class="l" href="#1611"> 1611: </a>                {
</span><span id="1612" class="l"><a class="l" href="#1612"> 1612: </a>                    <span class="php-keyword1">return</span> <span class="php-quote">'text/html'</span>;
</span><span id="1613" class="l"><a class="l" href="#1613"> 1613: </a>                }
</span><span id="1614" class="l"><a class="l" href="#1614"> 1614: </a>            }
</span><span id="1615" class="l"><a class="l" href="#1615"> 1615: </a>            <span class="php-keyword1">elseif</span> (<span class="php-keyword2">substr</span>(<span class="php-var">$this</span>-&gt;<span class="php-keyword2">file</span>-&gt;body, <span class="php-var">$pos</span>, <span class="php-num">3</span>) === <span class="php-quote">'rss'</span>
</span><span id="1616" class="l"><a class="l" href="#1616"> 1616: </a>                || <span class="php-keyword2">substr</span>(<span class="php-var">$this</span>-&gt;<span class="php-keyword2">file</span>-&gt;body, <span class="php-var">$pos</span>, <span class="php-num">7</span>) === <span class="php-quote">'rdf:RDF'</span>)
</span><span id="1617" class="l"><a class="l" href="#1617"> 1617: </a>            {
</span><span id="1618" class="l"><a class="l" href="#1618"> 1618: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'application/rss+xml'</span>;
</span><span id="1619" class="l"><a class="l" href="#1619"> 1619: </a>            }
</span><span id="1620" class="l"><a class="l" href="#1620"> 1620: </a>            <span class="php-keyword1">elseif</span> (<span class="php-keyword2">substr</span>(<span class="php-var">$this</span>-&gt;<span class="php-keyword2">file</span>-&gt;body, <span class="php-var">$pos</span>, <span class="php-num">4</span>) === <span class="php-quote">'feed'</span>)
</span><span id="1621" class="l"><a class="l" href="#1621"> 1621: </a>            {
</span><span id="1622" class="l"><a class="l" href="#1622"> 1622: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'application/atom+xml'</span>;
</span><span id="1623" class="l"><a class="l" href="#1623"> 1623: </a>            }
</span><span id="1624" class="l"><a class="l" href="#1624"> 1624: </a>            <span class="php-keyword1">else</span>
</span><span id="1625" class="l"><a class="l" href="#1625"> 1625: </a>            {
</span><span id="1626" class="l"><a class="l" href="#1626"> 1626: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'text/html'</span>;
</span><span id="1627" class="l"><a class="l" href="#1627"> 1627: </a>            }
</span><span id="1628" class="l"><a class="l" href="#1628"> 1628: </a>        }
</span><span id="1629" class="l"><a class="l" href="#1629"> 1629: </a>
</span><span id="1630" class="l"><a class="l" href="#1630"> 1630: </a>        <span class="php-keyword1">return</span> <span class="php-quote">'text/html'</span>;
</span><span id="1631" class="l"><a class="l" href="#1631"> 1631: </a>    }
</span><span id="1632" class="l"><a class="l" href="#1632"> 1632: </a>}
</span><span id="1633" class="l"><a class="l" href="#1633"> 1633: </a>
</span><span id="1634" class="l"><a class="l" href="#1634"> 1634: </a><span class="php-comment">/**
</span></span><span id="1635" class="l"><a class="l" href="#1635"> 1635: </a><span class="php-comment"> * Manages `&lt;media:copyright&gt;` copyright tags as defined in Media RSS
</span></span><span id="1636" class="l"><a class="l" href="#1636"> 1636: </a><span class="php-comment"> *
</span></span><span id="1637" class="l"><a class="l" href="#1637"> 1637: </a><span class="php-comment"> * Used by {@see SimplePie_Enclosure::get_copyright()}
</span></span><span id="1638" class="l"><a class="l" href="#1638"> 1638: </a><span class="php-comment"> *
</span></span><span id="1639" class="l"><a class="l" href="#1639"> 1639: </a><span class="php-comment"> * This class can be overloaded with {@see SimplePie::set_copyright_class()}
</span></span><span id="1640" class="l"><a class="l" href="#1640"> 1640: </a><span class="php-comment"> *
</span></span><span id="1641" class="l"><a class="l" href="#1641"> 1641: </a><span class="php-comment"> * @package SimplePie
</span></span><span id="1642" class="l"><a class="l" href="#1642"> 1642: </a><span class="php-comment"> */</span>
</span><span id="1643" class="l"><a class="l" href="#1643"> 1643: </a><span class="php-keyword1">class</span> <a id="SimplePie_Copyright" href="#SimplePie_Copyright">SimplePie_Copyright</a>
</span><span id="1644" class="l"><a class="l" href="#1644"> 1644: </a>{
</span><span id="1645" class="l"><a class="l" href="#1645"> 1645: </a>    <span class="php-comment">/**
</span></span><span id="1646" class="l"><a class="l" href="#1646"> 1646: </a><span class="php-comment">     * Copyright URL
</span></span><span id="1647" class="l"><a class="l" href="#1647"> 1647: </a><span class="php-comment">     *
</span></span><span id="1648" class="l"><a class="l" href="#1648"> 1648: </a><span class="php-comment">     * @var string
</span></span><span id="1649" class="l"><a class="l" href="#1649"> 1649: </a><span class="php-comment">     * @see get_url()
</span></span><span id="1650" class="l"><a class="l" href="#1650"> 1650: </a><span class="php-comment">     */</span>
</span><span id="1651" class="l"><a class="l" href="#1651"> 1651: </a>    <span class="php-keyword1">var</span> <span class="php-var"><a id="$url" href="#$url">$url</a></span>;
</span><span id="1652" class="l"><a class="l" href="#1652"> 1652: </a>
</span><span id="1653" class="l"><a class="l" href="#1653"> 1653: </a>    <span class="php-comment">/**
</span></span><span id="1654" class="l"><a class="l" href="#1654"> 1654: </a><span class="php-comment">     * Attribution
</span></span><span id="1655" class="l"><a class="l" href="#1655"> 1655: </a><span class="php-comment">     *
</span></span><span id="1656" class="l"><a class="l" href="#1656"> 1656: </a><span class="php-comment">     * @var string
</span></span><span id="1657" class="l"><a class="l" href="#1657"> 1657: </a><span class="php-comment">     * @see get_attribution()
</span></span><span id="1658" class="l"><a class="l" href="#1658"> 1658: </a><span class="php-comment">     */</span>
</span><span id="1659" class="l"><a class="l" href="#1659"> 1659: </a>    <span class="php-keyword1">var</span> <span class="php-var"><a id="$label" href="#$label">$label</a></span>;
</span><span id="1660" class="l"><a class="l" href="#1660"> 1660: </a>
</span><span id="1661" class="l"><a class="l" href="#1661"> 1661: </a>    <span class="php-comment">/**
</span></span><span id="1662" class="l"><a class="l" href="#1662"> 1662: </a><span class="php-comment">     * Constructor, used to input the data
</span></span><span id="1663" class="l"><a class="l" href="#1663"> 1663: </a><span class="php-comment">     *
</span></span><span id="1664" class="l"><a class="l" href="#1664"> 1664: </a><span class="php-comment">     * For documentation on all the parameters, see the corresponding
</span></span><span id="1665" class="l"><a class="l" href="#1665"> 1665: </a><span class="php-comment">     * properties and their accessors
</span></span><span id="1666" class="l"><a class="l" href="#1666"> 1666: </a><span class="php-comment">     */</span>
</span><span id="1667" class="l"><a class="l" href="#1667"> 1667: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="___construct" href="#___construct">__construct</a>(<span class="php-var">$url</span> = <span class="php-keyword1">null</span>, <span class="php-var">$label</span> = <span class="php-keyword1">null</span>)
</span><span id="1668" class="l"><a class="l" href="#1668"> 1668: </a>    {
</span><span id="1669" class="l"><a class="l" href="#1669"> 1669: </a>        <span class="php-var">$this</span>-&gt;url = <span class="php-var">$url</span>;
</span><span id="1670" class="l"><a class="l" href="#1670"> 1670: </a>        <span class="php-var">$this</span>-&gt;label = <span class="php-var">$label</span>;
</span><span id="1671" class="l"><a class="l" href="#1671"> 1671: </a>    }
</span><span id="1672" class="l"><a class="l" href="#1672"> 1672: </a>
</span><span id="1673" class="l"><a class="l" href="#1673"> 1673: </a>    <span class="php-comment">/**
</span></span><span id="1674" class="l"><a class="l" href="#1674"> 1674: </a><span class="php-comment">     * String-ified version
</span></span><span id="1675" class="l"><a class="l" href="#1675"> 1675: </a><span class="php-comment">     *
</span></span><span id="1676" class="l"><a class="l" href="#1676"> 1676: </a><span class="php-comment">     * @return string
</span></span><span id="1677" class="l"><a class="l" href="#1677"> 1677: </a><span class="php-comment">     */</span>
</span><span id="1678" class="l"><a class="l" href="#1678"> 1678: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="___toString" href="#___toString">__toString</a>()
</span><span id="1679" class="l"><a class="l" href="#1679"> 1679: </a>    {
</span><span id="1680" class="l"><a class="l" href="#1680"> 1680: </a>        <span class="php-comment">// There is no $this-&gt;data here</span>
</span><span id="1681" class="l"><a class="l" href="#1681"> 1681: </a>        <span class="php-keyword1">return</span> <span class="php-keyword2">md5</span>(<span class="php-keyword2">serialize</span>(<span class="php-var">$this</span>));
</span><span id="1682" class="l"><a class="l" href="#1682"> 1682: </a>    }
</span><span id="1683" class="l"><a class="l" href="#1683"> 1683: </a>
</span><span id="1684" class="l"><a class="l" href="#1684"> 1684: </a>    <span class="php-comment">/**
</span></span><span id="1685" class="l"><a class="l" href="#1685"> 1685: </a><span class="php-comment">     * Get the copyright URL
</span></span><span id="1686" class="l"><a class="l" href="#1686"> 1686: </a><span class="php-comment">     *
</span></span><span id="1687" class="l"><a class="l" href="#1687"> 1687: </a><span class="php-comment">     * @return string|null URL to copyright information
</span></span><span id="1688" class="l"><a class="l" href="#1688"> 1688: </a><span class="php-comment">     */</span>
</span><span id="1689" class="l"><a class="l" href="#1689"> 1689: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_get_url" href="#_get_url">get_url</a>()
</span><span id="1690" class="l"><a class="l" href="#1690"> 1690: </a>    {
</span><span id="1691" class="l"><a class="l" href="#1691"> 1691: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$this</span>-&gt;url !== <span class="php-keyword1">null</span>)
</span><span id="1692" class="l"><a class="l" href="#1692"> 1692: </a>        {
</span><span id="1693" class="l"><a class="l" href="#1693"> 1693: </a>            <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;url;
</span><span id="1694" class="l"><a class="l" href="#1694"> 1694: </a>        }
</span><span id="1695" class="l"><a class="l" href="#1695"> 1695: </a>        <span class="php-keyword1">else</span>
</span><span id="1696" class="l"><a class="l" href="#1696"> 1696: </a>        {
</span><span id="1697" class="l"><a class="l" href="#1697"> 1697: </a>            <span class="php-keyword1">return</span> <span class="php-keyword1">null</span>;
</span><span id="1698" class="l"><a class="l" href="#1698"> 1698: </a>        }
</span><span id="1699" class="l"><a class="l" href="#1699"> 1699: </a>    }
</span><span id="1700" class="l"><a class="l" href="#1700"> 1700: </a>
</span><span id="1701" class="l"><a class="l" href="#1701"> 1701: </a>    <span class="php-comment">/**
</span></span><span id="1702" class="l"><a class="l" href="#1702"> 1702: </a><span class="php-comment">     * Get the attribution text
</span></span><span id="1703" class="l"><a class="l" href="#1703"> 1703: </a><span class="php-comment">     *
</span></span><span id="1704" class="l"><a class="l" href="#1704"> 1704: </a><span class="php-comment">     * @return string|null
</span></span><span id="1705" class="l"><a class="l" href="#1705"> 1705: </a><span class="php-comment">     */</span>
</span><span id="1706" class="l"><a class="l" href="#1706"> 1706: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_get_attribution" href="#_get_attribution">get_attribution</a>()
</span><span id="1707" class="l"><a class="l" href="#1707"> 1707: </a>    {
</span><span id="1708" class="l"><a class="l" href="#1708"> 1708: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$this</span>-&gt;label !== <span class="php-keyword1">null</span>)
</span><span id="1709" class="l"><a class="l" href="#1709"> 1709: </a>        {
</span><span id="1710" class="l"><a class="l" href="#1710"> 1710: </a>            <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;label;
</span><span id="1711" class="l"><a class="l" href="#1711"> 1711: </a>        }
</span><span id="1712" class="l"><a class="l" href="#1712"> 1712: </a>        <span class="php-keyword1">else</span>
</span><span id="1713" class="l"><a class="l" href="#1713"> 1713: </a>        {
</span><span id="1714" class="l"><a class="l" href="#1714"> 1714: </a>            <span class="php-keyword1">return</span> <span class="php-keyword1">null</span>;
</span><span id="1715" class="l"><a class="l" href="#1715"> 1715: </a>        }
</span><span id="1716" class="l"><a class="l" href="#1716"> 1716: </a>    }
</span><span id="1717" class="l"><a class="l" href="#1717"> 1717: </a>}
</span><span id="1718" class="l"><a class="l" href="#1718"> 1718: </a>
</span><span id="1719" class="l"><a class="l" href="#1719"> 1719: </a><span class="php-comment">/**
</span></span><span id="1720" class="l"><a class="l" href="#1720"> 1720: </a><span class="php-comment"> * SimplePie Name
</span></span><span id="1721" class="l"><a class="l" href="#1721"> 1721: </a><span class="php-comment"> */</span>
</span><span id="1722" class="l"><a class="l" href="#1722"> 1722: </a><span class="php-keyword2">define</span>(<span class="php-quote">'SIMPLEPIE_NAME'</span>, <span class="php-quote">'SimplePie'</span>);
</span><span id="1723" class="l"><a class="l" href="#1723"> 1723: </a>
</span><span id="1724" class="l"><a class="l" href="#1724"> 1724: </a><span class="php-comment">/**
</span></span><span id="1725" class="l"><a class="l" href="#1725"> 1725: </a><span class="php-comment"> * SimplePie Version
</span></span><span id="1726" class="l"><a class="l" href="#1726"> 1726: </a><span class="php-comment"> */</span>
</span><span id="1727" class="l"><a class="l" href="#1727"> 1727: </a><span class="php-keyword2">define</span>(<span class="php-quote">'SIMPLEPIE_VERSION'</span>, <span class="php-quote">'1.3-dev'</span>);
</span><span id="1728" class="l"><a class="l" href="#1728"> 1728: </a>
</span><span id="1729" class="l"><a class="l" href="#1729"> 1729: </a><span class="php-comment">/**
</span></span><span id="1730" class="l"><a class="l" href="#1730"> 1730: </a><span class="php-comment"> * SimplePie Build
</span></span><span id="1731" class="l"><a class="l" href="#1731"> 1731: </a><span class="php-comment"> * @todo Hardcode for release (there's no need to have to call SimplePie_Misc::get_build() only every load of simplepie.inc)
</span></span><span id="1732" class="l"><a class="l" href="#1732"> 1732: </a><span class="php-comment"> */</span>
</span><span id="1733" class="l"><a class="l" href="#1733"> 1733: </a><span class="php-keyword2">define</span>(<span class="php-quote">'SIMPLEPIE_BUILD'</span>, <span class="php-quote">'20120411051355'</span>);
</span><span id="1734" class="l"><a class="l" href="#1734"> 1734: </a>
</span><span id="1735" class="l"><a class="l" href="#1735"> 1735: </a><span class="php-comment">/**
</span></span><span id="1736" class="l"><a class="l" href="#1736"> 1736: </a><span class="php-comment"> * SimplePie Website URL
</span></span><span id="1737" class="l"><a class="l" href="#1737"> 1737: </a><span class="php-comment"> */</span>
</span><span id="1738" class="l"><a class="l" href="#1738"> 1738: </a><span class="php-keyword2">define</span>(<span class="php-quote">'SIMPLEPIE_URL'</span>, <span class="php-quote">'http://simplepie.org'</span>);
</span><span id="1739" class="l"><a class="l" href="#1739"> 1739: </a>
</span><span id="1740" class="l"><a class="l" href="#1740"> 1740: </a><span class="php-comment">/**
</span></span><span id="1741" class="l"><a class="l" href="#1741"> 1741: </a><span class="php-comment"> * SimplePie Useragent
</span></span><span id="1742" class="l"><a class="l" href="#1742"> 1742: </a><span class="php-comment"> * @see SimplePie::set_useragent()
</span></span><span id="1743" class="l"><a class="l" href="#1743"> 1743: </a><span class="php-comment"> */</span>
</span><span id="1744" class="l"><a class="l" href="#1744"> 1744: </a><span class="php-keyword2">define</span>(<span class="php-quote">'SIMPLEPIE_USERAGENT'</span>, SIMPLEPIE_NAME . <span class="php-quote">'/'</span> . SIMPLEPIE_VERSION . <span class="php-quote">' (Feed Parser; '</span> . SIMPLEPIE_URL . <span class="php-quote">'; Allow like Gecko) Build/'</span> . SIMPLEPIE_BUILD);
</span><span id="1745" class="l"><a class="l" href="#1745"> 1745: </a>
</span><span id="1746" class="l"><a class="l" href="#1746"> 1746: </a><span class="php-comment">/**
</span></span><span id="1747" class="l"><a class="l" href="#1747"> 1747: </a><span class="php-comment"> * SimplePie Linkback
</span></span><span id="1748" class="l"><a class="l" href="#1748"> 1748: </a><span class="php-comment"> */</span>
</span><span id="1749" class="l"><a class="l" href="#1749"> 1749: </a><span class="php-keyword2">define</span>(<span class="php-quote">'SIMPLEPIE_LINKBACK'</span>, <span class="php-quote">'&lt;a href=&quot;'</span> . SIMPLEPIE_URL . <span class="php-quote">'&quot; title=&quot;'</span> . SIMPLEPIE_NAME . <span class="php-quote">' '</span> . SIMPLEPIE_VERSION . <span class="php-quote">'&quot;&gt;'</span> . SIMPLEPIE_NAME . <span class="php-quote">'&lt;/a&gt;'</span>);
</span><span id="1750" class="l"><a class="l" href="#1750"> 1750: </a>
</span><span id="1751" class="l"><a class="l" href="#1751"> 1751: </a><span class="php-comment">/**
</span></span><span id="1752" class="l"><a class="l" href="#1752"> 1752: </a><span class="php-comment"> * No Autodiscovery
</span></span><span id="1753" class="l"><a class="l" href="#1753"> 1753: </a><span class="php-comment"> * @see SimplePie::set_autodiscovery_level()
</span></span><span id="1754" class="l"><a class="l" href="#1754"> 1754: </a><span class="php-comment"> */</span>
</span><span id="1755" class="l"><a class="l" href="#1755"> 1755: </a><span class="php-keyword2">define</span>(<span class="php-quote">'SIMPLEPIE_LOCATOR_NONE'</span>, <span class="php-num">0</span>);
</span><span id="1756" class="l"><a class="l" href="#1756"> 1756: </a>
</span><span id="1757" class="l"><a class="l" href="#1757"> 1757: </a><span class="php-comment">/**
</span></span><span id="1758" class="l"><a class="l" href="#1758"> 1758: </a><span class="php-comment"> * Feed Link Element Autodiscovery
</span></span><span id="1759" class="l"><a class="l" href="#1759"> 1759: </a><span class="php-comment"> * @see SimplePie::set_autodiscovery_level()
</span></span><span id="1760" class="l"><a class="l" href="#1760"> 1760: </a><span class="php-comment"> */</span>
</span><span id="1761" class="l"><a class="l" href="#1761"> 1761: </a><span class="php-keyword2">define</span>(<span class="php-quote">'SIMPLEPIE_LOCATOR_AUTODISCOVERY'</span>, <span class="php-num">1</span>);
</span><span id="1762" class="l"><a class="l" href="#1762"> 1762: </a>
</span><span id="1763" class="l"><a class="l" href="#1763"> 1763: </a><span class="php-comment">/**
</span></span><span id="1764" class="l"><a class="l" href="#1764"> 1764: </a><span class="php-comment"> * Local Feed Extension Autodiscovery
</span></span><span id="1765" class="l"><a class="l" href="#1765"> 1765: </a><span class="php-comment"> * @see SimplePie::set_autodiscovery_level()
</span></span><span id="1766" class="l"><a class="l" href="#1766"> 1766: </a><span class="php-comment"> */</span>
</span><span id="1767" class="l"><a class="l" href="#1767"> 1767: </a><span class="php-keyword2">define</span>(<span class="php-quote">'SIMPLEPIE_LOCATOR_LOCAL_EXTENSION'</span>, <span class="php-num">2</span>);
</span><span id="1768" class="l"><a class="l" href="#1768"> 1768: </a>
</span><span id="1769" class="l"><a class="l" href="#1769"> 1769: </a><span class="php-comment">/**
</span></span><span id="1770" class="l"><a class="l" href="#1770"> 1770: </a><span class="php-comment"> * Local Feed Body Autodiscovery
</span></span><span id="1771" class="l"><a class="l" href="#1771"> 1771: </a><span class="php-comment"> * @see SimplePie::set_autodiscovery_level()
</span></span><span id="1772" class="l"><a class="l" href="#1772"> 1772: </a><span class="php-comment"> */</span>
</span><span id="1773" class="l"><a class="l" href="#1773"> 1773: </a><span class="php-keyword2">define</span>(<span class="php-quote">'SIMPLEPIE_LOCATOR_LOCAL_BODY'</span>, <span class="php-num">4</span>);
</span><span id="1774" class="l"><a class="l" href="#1774"> 1774: </a>
</span><span id="1775" class="l"><a class="l" href="#1775"> 1775: </a><span class="php-comment">/**
</span></span><span id="1776" class="l"><a class="l" href="#1776"> 1776: </a><span class="php-comment"> * Remote Feed Extension Autodiscovery
</span></span><span id="1777" class="l"><a class="l" href="#1777"> 1777: </a><span class="php-comment"> * @see SimplePie::set_autodiscovery_level()
</span></span><span id="1778" class="l"><a class="l" href="#1778"> 1778: </a><span class="php-comment"> */</span>
</span><span id="1779" class="l"><a class="l" href="#1779"> 1779: </a><span class="php-keyword2">define</span>(<span class="php-quote">'SIMPLEPIE_LOCATOR_REMOTE_EXTENSION'</span>, <span class="php-num">8</span>);
</span><span id="1780" class="l"><a class="l" href="#1780"> 1780: </a>
</span><span id="1781" class="l"><a class="l" href="#1781"> 1781: </a><span class="php-comment">/**
</span></span><span id="1782" class="l"><a class="l" href="#1782"> 1782: </a><span class="php-comment"> * Remote Feed Body Autodiscovery
</span></span><span id="1783" class="l"><a class="l" href="#1783"> 1783: </a><span class="php-comment"> * @see SimplePie::set_autodiscovery_level()
</span></span><span id="1784" class="l"><a class="l" href="#1784"> 1784: </a><span class="php-comment"> */</span>
</span><span id="1785" class="l"><a class="l" href="#1785"> 1785: </a><span class="php-keyword2">define</span>(<span class="php-quote">'SIMPLEPIE_LOCATOR_REMOTE_BODY'</span>, <span class="php-num">16</span>);
</span><span id="1786" class="l"><a class="l" href="#1786"> 1786: </a>
</span><span id="1787" class="l"><a class="l" href="#1787"> 1787: </a><span class="php-comment">/**
</span></span><span id="1788" class="l"><a class="l" href="#1788"> 1788: </a><span class="php-comment"> * All Feed Autodiscovery
</span></span><span id="1789" class="l"><a class="l" href="#1789"> 1789: </a><span class="php-comment"> * @see SimplePie::set_autodiscovery_level()
</span></span><span id="1790" class="l"><a class="l" href="#1790"> 1790: </a><span class="php-comment"> */</span>
</span><span id="1791" class="l"><a class="l" href="#1791"> 1791: </a><span class="php-keyword2">define</span>(<span class="php-quote">'SIMPLEPIE_LOCATOR_ALL'</span>, <span class="php-num">31</span>);
</span><span id="1792" class="l"><a class="l" href="#1792"> 1792: </a>
</span><span id="1793" class="l"><a class="l" href="#1793"> 1793: </a><span class="php-comment">/**
</span></span><span id="1794" class="l"><a class="l" href="#1794"> 1794: </a><span class="php-comment"> * No known feed type
</span></span><span id="1795" class="l"><a class="l" href="#1795"> 1795: </a><span class="php-comment"> */</span>
</span><span id="1796" class="l"><a class="l" href="#1796"> 1796: </a><span class="php-keyword2">define</span>(<span class="php-quote">'SIMPLEPIE_TYPE_NONE'</span>, <span class="php-num">0</span>);
</span><span id="1797" class="l"><a class="l" href="#1797"> 1797: </a>
</span><span id="1798" class="l"><a class="l" href="#1798"> 1798: </a><span class="php-comment">/**
</span></span><span id="1799" class="l"><a class="l" href="#1799"> 1799: </a><span class="php-comment"> * RSS 0.90
</span></span><span id="1800" class="l"><a class="l" href="#1800"> 1800: </a><span class="php-comment"> */</span>
</span><span id="1801" class="l"><a class="l" href="#1801"> 1801: </a><span class="php-keyword2">define</span>(<span class="php-quote">'SIMPLEPIE_TYPE_RSS_090'</span>, <span class="php-num">1</span>);
</span><span id="1802" class="l"><a class="l" href="#1802"> 1802: </a>
</span><span id="1803" class="l"><a class="l" href="#1803"> 1803: </a><span class="php-comment">/**
</span></span><span id="1804" class="l"><a class="l" href="#1804"> 1804: </a><span class="php-comment"> * RSS 0.91 (Netscape)
</span></span><span id="1805" class="l"><a class="l" href="#1805"> 1805: </a><span class="php-comment"> */</span>
</span><span id="1806" class="l"><a class="l" href="#1806"> 1806: </a><span class="php-keyword2">define</span>(<span class="php-quote">'SIMPLEPIE_TYPE_RSS_091_NETSCAPE'</span>, <span class="php-num">2</span>);
</span><span id="1807" class="l"><a class="l" href="#1807"> 1807: </a>
</span><span id="1808" class="l"><a class="l" href="#1808"> 1808: </a><span class="php-comment">/**
</span></span><span id="1809" class="l"><a class="l" href="#1809"> 1809: </a><span class="php-comment"> * RSS 0.91 (Userland)
</span></span><span id="1810" class="l"><a class="l" href="#1810"> 1810: </a><span class="php-comment"> */</span>
</span><span id="1811" class="l"><a class="l" href="#1811"> 1811: </a><span class="php-keyword2">define</span>(<span class="php-quote">'SIMPLEPIE_TYPE_RSS_091_USERLAND'</span>, <span class="php-num">4</span>);
</span><span id="1812" class="l"><a class="l" href="#1812"> 1812: </a>
</span><span id="1813" class="l"><a class="l" href="#1813"> 1813: </a><span class="php-comment">/**
</span></span><span id="1814" class="l"><a class="l" href="#1814"> 1814: </a><span class="php-comment"> * RSS 0.91 (both Netscape and Userland)
</span></span><span id="1815" class="l"><a class="l" href="#1815"> 1815: </a><span class="php-comment"> */</span>
</span><span id="1816" class="l"><a class="l" href="#1816"> 1816: </a><span class="php-keyword2">define</span>(<span class="php-quote">'SIMPLEPIE_TYPE_RSS_091'</span>, <span class="php-num">6</span>);
</span><span id="1817" class="l"><a class="l" href="#1817"> 1817: </a>
</span><span id="1818" class="l"><a class="l" href="#1818"> 1818: </a><span class="php-comment">/**
</span></span><span id="1819" class="l"><a class="l" href="#1819"> 1819: </a><span class="php-comment"> * RSS 0.92
</span></span><span id="1820" class="l"><a class="l" href="#1820"> 1820: </a><span class="php-comment"> */</span>
</span><span id="1821" class="l"><a class="l" href="#1821"> 1821: </a><span class="php-keyword2">define</span>(<span class="php-quote">'SIMPLEPIE_TYPE_RSS_092'</span>, <span class="php-num">8</span>);
</span><span id="1822" class="l"><a class="l" href="#1822"> 1822: </a>
</span><span id="1823" class="l"><a class="l" href="#1823"> 1823: </a><span class="php-comment">/**
</span></span><span id="1824" class="l"><a class="l" href="#1824"> 1824: </a><span class="php-comment"> * RSS 0.93
</span></span><span id="1825" class="l"><a class="l" href="#1825"> 1825: </a><span class="php-comment"> */</span>
</span><span id="1826" class="l"><a class="l" href="#1826"> 1826: </a><span class="php-keyword2">define</span>(<span class="php-quote">'SIMPLEPIE_TYPE_RSS_093'</span>, <span class="php-num">16</span>);
</span><span id="1827" class="l"><a class="l" href="#1827"> 1827: </a>
</span><span id="1828" class="l"><a class="l" href="#1828"> 1828: </a><span class="php-comment">/**
</span></span><span id="1829" class="l"><a class="l" href="#1829"> 1829: </a><span class="php-comment"> * RSS 0.94
</span></span><span id="1830" class="l"><a class="l" href="#1830"> 1830: </a><span class="php-comment"> */</span>
</span><span id="1831" class="l"><a class="l" href="#1831"> 1831: </a><span class="php-keyword2">define</span>(<span class="php-quote">'SIMPLEPIE_TYPE_RSS_094'</span>, <span class="php-num">32</span>);
</span><span id="1832" class="l"><a class="l" href="#1832"> 1832: </a>
</span><span id="1833" class="l"><a class="l" href="#1833"> 1833: </a><span class="php-comment">/**
</span></span><span id="1834" class="l"><a class="l" href="#1834"> 1834: </a><span class="php-comment"> * RSS 1.0
</span></span><span id="1835" class="l"><a class="l" href="#1835"> 1835: </a><span class="php-comment"> */</span>
</span><span id="1836" class="l"><a class="l" href="#1836"> 1836: </a><span class="php-keyword2">define</span>(<span class="php-quote">'SIMPLEPIE_TYPE_RSS_10'</span>, <span class="php-num">64</span>);
</span><span id="1837" class="l"><a class="l" href="#1837"> 1837: </a>
</span><span id="1838" class="l"><a class="l" href="#1838"> 1838: </a><span class="php-comment">/**
</span></span><span id="1839" class="l"><a class="l" href="#1839"> 1839: </a><span class="php-comment"> * RSS 2.0
</span></span><span id="1840" class="l"><a class="l" href="#1840"> 1840: </a><span class="php-comment"> */</span>
</span><span id="1841" class="l"><a class="l" href="#1841"> 1841: </a><span class="php-keyword2">define</span>(<span class="php-quote">'SIMPLEPIE_TYPE_RSS_20'</span>, <span class="php-num">128</span>);
</span><span id="1842" class="l"><a class="l" href="#1842"> 1842: </a>
</span><span id="1843" class="l"><a class="l" href="#1843"> 1843: </a><span class="php-comment">/**
</span></span><span id="1844" class="l"><a class="l" href="#1844"> 1844: </a><span class="php-comment"> * RDF-based RSS
</span></span><span id="1845" class="l"><a class="l" href="#1845"> 1845: </a><span class="php-comment"> */</span>
</span><span id="1846" class="l"><a class="l" href="#1846"> 1846: </a><span class="php-keyword2">define</span>(<span class="php-quote">'SIMPLEPIE_TYPE_RSS_RDF'</span>, <span class="php-num">65</span>);
</span><span id="1847" class="l"><a class="l" href="#1847"> 1847: </a>
</span><span id="1848" class="l"><a class="l" href="#1848"> 1848: </a><span class="php-comment">/**
</span></span><span id="1849" class="l"><a class="l" href="#1849"> 1849: </a><span class="php-comment"> * Non-RDF-based RSS (truly intended as syndication format)
</span></span><span id="1850" class="l"><a class="l" href="#1850"> 1850: </a><span class="php-comment"> */</span>
</span><span id="1851" class="l"><a class="l" href="#1851"> 1851: </a><span class="php-keyword2">define</span>(<span class="php-quote">'SIMPLEPIE_TYPE_RSS_SYNDICATION'</span>, <span class="php-num">190</span>);
</span><span id="1852" class="l"><a class="l" href="#1852"> 1852: </a>
</span><span id="1853" class="l"><a class="l" href="#1853"> 1853: </a><span class="php-comment">/**
</span></span><span id="1854" class="l"><a class="l" href="#1854"> 1854: </a><span class="php-comment"> * All RSS
</span></span><span id="1855" class="l"><a class="l" href="#1855"> 1855: </a><span class="php-comment"> */</span>
</span><span id="1856" class="l"><a class="l" href="#1856"> 1856: </a><span class="php-keyword2">define</span>(<span class="php-quote">'SIMPLEPIE_TYPE_RSS_ALL'</span>, <span class="php-num">255</span>);
</span><span id="1857" class="l"><a class="l" href="#1857"> 1857: </a>
</span><span id="1858" class="l"><a class="l" href="#1858"> 1858: </a><span class="php-comment">/**
</span></span><span id="1859" class="l"><a class="l" href="#1859"> 1859: </a><span class="php-comment"> * Atom 0.3
</span></span><span id="1860" class="l"><a class="l" href="#1860"> 1860: </a><span class="php-comment"> */</span>
</span><span id="1861" class="l"><a class="l" href="#1861"> 1861: </a><span class="php-keyword2">define</span>(<span class="php-quote">'SIMPLEPIE_TYPE_ATOM_03'</span>, <span class="php-num">256</span>);
</span><span id="1862" class="l"><a class="l" href="#1862"> 1862: </a>
</span><span id="1863" class="l"><a class="l" href="#1863"> 1863: </a><span class="php-comment">/**
</span></span><span id="1864" class="l"><a class="l" href="#1864"> 1864: </a><span class="php-comment"> * Atom 1.0
</span></span><span id="1865" class="l"><a class="l" href="#1865"> 1865: </a><span class="php-comment"> */</span>
</span><span id="1866" class="l"><a class="l" href="#1866"> 1866: </a><span class="php-keyword2">define</span>(<span class="php-quote">'SIMPLEPIE_TYPE_ATOM_10'</span>, <span class="php-num">512</span>);
</span><span id="1867" class="l"><a class="l" href="#1867"> 1867: </a>
</span><span id="1868" class="l"><a class="l" href="#1868"> 1868: </a><span class="php-comment">/**
</span></span><span id="1869" class="l"><a class="l" href="#1869"> 1869: </a><span class="php-comment"> * All Atom
</span></span><span id="1870" class="l"><a class="l" href="#1870"> 1870: </a><span class="php-comment"> */</span>
</span><span id="1871" class="l"><a class="l" href="#1871"> 1871: </a><span class="php-keyword2">define</span>(<span class="php-quote">'SIMPLEPIE_TYPE_ATOM_ALL'</span>, <span class="php-num">768</span>);
</span><span id="1872" class="l"><a class="l" href="#1872"> 1872: </a>
</span><span id="1873" class="l"><a class="l" href="#1873"> 1873: </a><span class="php-comment">/**
</span></span><span id="1874" class="l"><a class="l" href="#1874"> 1874: </a><span class="php-comment"> * All feed types
</span></span><span id="1875" class="l"><a class="l" href="#1875"> 1875: </a><span class="php-comment"> */</span>
</span><span id="1876" class="l"><a class="l" href="#1876"> 1876: </a><span class="php-keyword2">define</span>(<span class="php-quote">'SIMPLEPIE_TYPE_ALL'</span>, <span class="php-num">1023</span>);
</span><span id="1877" class="l"><a class="l" href="#1877"> 1877: </a>
</span><span id="1878" class="l"><a class="l" href="#1878"> 1878: </a><span class="php-comment">/**
</span></span><span id="1879" class="l"><a class="l" href="#1879"> 1879: </a><span class="php-comment"> * No construct
</span></span><span id="1880" class="l"><a class="l" href="#1880"> 1880: </a><span class="php-comment"> */</span>
</span><span id="1881" class="l"><a class="l" href="#1881"> 1881: </a><span class="php-keyword2">define</span>(<span class="php-quote">'SIMPLEPIE_CONSTRUCT_NONE'</span>, <span class="php-num">0</span>);
</span><span id="1882" class="l"><a class="l" href="#1882"> 1882: </a>
</span><span id="1883" class="l"><a class="l" href="#1883"> 1883: </a><span class="php-comment">/**
</span></span><span id="1884" class="l"><a class="l" href="#1884"> 1884: </a><span class="php-comment"> * Text construct
</span></span><span id="1885" class="l"><a class="l" href="#1885"> 1885: </a><span class="php-comment"> */</span>
</span><span id="1886" class="l"><a class="l" href="#1886"> 1886: </a><span class="php-keyword2">define</span>(<span class="php-quote">'SIMPLEPIE_CONSTRUCT_TEXT'</span>, <span class="php-num">1</span>);
</span><span id="1887" class="l"><a class="l" href="#1887"> 1887: </a>
</span><span id="1888" class="l"><a class="l" href="#1888"> 1888: </a><span class="php-comment">/**
</span></span><span id="1889" class="l"><a class="l" href="#1889"> 1889: </a><span class="php-comment"> * HTML construct
</span></span><span id="1890" class="l"><a class="l" href="#1890"> 1890: </a><span class="php-comment"> */</span>
</span><span id="1891" class="l"><a class="l" href="#1891"> 1891: </a><span class="php-keyword2">define</span>(<span class="php-quote">'SIMPLEPIE_CONSTRUCT_HTML'</span>, <span class="php-num">2</span>);
</span><span id="1892" class="l"><a class="l" href="#1892"> 1892: </a>
</span><span id="1893" class="l"><a class="l" href="#1893"> 1893: </a><span class="php-comment">/**
</span></span><span id="1894" class="l"><a class="l" href="#1894"> 1894: </a><span class="php-comment"> * XHTML construct
</span></span><span id="1895" class="l"><a class="l" href="#1895"> 1895: </a><span class="php-comment"> */</span>
</span><span id="1896" class="l"><a class="l" href="#1896"> 1896: </a><span class="php-keyword2">define</span>(<span class="php-quote">'SIMPLEPIE_CONSTRUCT_XHTML'</span>, <span class="php-num">4</span>);
</span><span id="1897" class="l"><a class="l" href="#1897"> 1897: </a>
</span><span id="1898" class="l"><a class="l" href="#1898"> 1898: </a><span class="php-comment">/**
</span></span><span id="1899" class="l"><a class="l" href="#1899"> 1899: </a><span class="php-comment"> * base64-encoded construct
</span></span><span id="1900" class="l"><a class="l" href="#1900"> 1900: </a><span class="php-comment"> */</span>
</span><span id="1901" class="l"><a class="l" href="#1901"> 1901: </a><span class="php-keyword2">define</span>(<span class="php-quote">'SIMPLEPIE_CONSTRUCT_BASE64'</span>, <span class="php-num">8</span>);
</span><span id="1902" class="l"><a class="l" href="#1902"> 1902: </a>
</span><span id="1903" class="l"><a class="l" href="#1903"> 1903: </a><span class="php-comment">/**
</span></span><span id="1904" class="l"><a class="l" href="#1904"> 1904: </a><span class="php-comment"> * IRI construct
</span></span><span id="1905" class="l"><a class="l" href="#1905"> 1905: </a><span class="php-comment"> */</span>
</span><span id="1906" class="l"><a class="l" href="#1906"> 1906: </a><span class="php-keyword2">define</span>(<span class="php-quote">'SIMPLEPIE_CONSTRUCT_IRI'</span>, <span class="php-num">16</span>);
</span><span id="1907" class="l"><a class="l" href="#1907"> 1907: </a>
</span><span id="1908" class="l"><a class="l" href="#1908"> 1908: </a><span class="php-comment">/**
</span></span><span id="1909" class="l"><a class="l" href="#1909"> 1909: </a><span class="php-comment"> * A construct that might be HTML
</span></span><span id="1910" class="l"><a class="l" href="#1910"> 1910: </a><span class="php-comment"> */</span>
</span><span id="1911" class="l"><a class="l" href="#1911"> 1911: </a><span class="php-keyword2">define</span>(<span class="php-quote">'SIMPLEPIE_CONSTRUCT_MAYBE_HTML'</span>, <span class="php-num">32</span>);
</span><span id="1912" class="l"><a class="l" href="#1912"> 1912: </a>
</span><span id="1913" class="l"><a class="l" href="#1913"> 1913: </a><span class="php-comment">/**
</span></span><span id="1914" class="l"><a class="l" href="#1914"> 1914: </a><span class="php-comment"> * All constructs
</span></span><span id="1915" class="l"><a class="l" href="#1915"> 1915: </a><span class="php-comment"> */</span>
</span><span id="1916" class="l"><a class="l" href="#1916"> 1916: </a><span class="php-keyword2">define</span>(<span class="php-quote">'SIMPLEPIE_CONSTRUCT_ALL'</span>, <span class="php-num">63</span>);
</span><span id="1917" class="l"><a class="l" href="#1917"> 1917: </a>
</span><span id="1918" class="l"><a class="l" href="#1918"> 1918: </a><span class="php-comment">/**
</span></span><span id="1919" class="l"><a class="l" href="#1919"> 1919: </a><span class="php-comment"> * Don't change case
</span></span><span id="1920" class="l"><a class="l" href="#1920"> 1920: </a><span class="php-comment"> */</span>
</span><span id="1921" class="l"><a class="l" href="#1921"> 1921: </a><span class="php-keyword2">define</span>(<span class="php-quote">'SIMPLEPIE_SAME_CASE'</span>, <span class="php-num">1</span>);
</span><span id="1922" class="l"><a class="l" href="#1922"> 1922: </a>
</span><span id="1923" class="l"><a class="l" href="#1923"> 1923: </a><span class="php-comment">/**
</span></span><span id="1924" class="l"><a class="l" href="#1924"> 1924: </a><span class="php-comment"> * Change to lowercase
</span></span><span id="1925" class="l"><a class="l" href="#1925"> 1925: </a><span class="php-comment"> */</span>
</span><span id="1926" class="l"><a class="l" href="#1926"> 1926: </a><span class="php-keyword2">define</span>(<span class="php-quote">'SIMPLEPIE_LOWERCASE'</span>, <span class="php-num">2</span>);
</span><span id="1927" class="l"><a class="l" href="#1927"> 1927: </a>
</span><span id="1928" class="l"><a class="l" href="#1928"> 1928: </a><span class="php-comment">/**
</span></span><span id="1929" class="l"><a class="l" href="#1929"> 1929: </a><span class="php-comment"> * Change to uppercase
</span></span><span id="1930" class="l"><a class="l" href="#1930"> 1930: </a><span class="php-comment"> */</span>
</span><span id="1931" class="l"><a class="l" href="#1931"> 1931: </a><span class="php-keyword2">define</span>(<span class="php-quote">'SIMPLEPIE_UPPERCASE'</span>, <span class="php-num">4</span>);
</span><span id="1932" class="l"><a class="l" href="#1932"> 1932: </a>
</span><span id="1933" class="l"><a class="l" href="#1933"> 1933: </a><span class="php-comment">/**
</span></span><span id="1934" class="l"><a class="l" href="#1934"> 1934: </a><span class="php-comment"> * PCRE for HTML attributes
</span></span><span id="1935" class="l"><a class="l" href="#1935"> 1935: </a><span class="php-comment"> */</span>
</span><span id="1936" class="l"><a class="l" href="#1936"> 1936: </a><span class="php-keyword2">define</span>(<span class="php-quote">'SIMPLEPIE_PCRE_HTML_ATTRIBUTE'</span>, <span class="php-quote">'((?:[\x09\x0A\x0B\x0C\x0D\x20]+[^\x09\x0A\x0B\x0C\x0D\x20\x2F\x3E][^\x09\x0A\x0B\x0C\x0D\x20\x2F\x3D\x3E]*(?:[\x09\x0A\x0B\x0C\x0D\x20]*=[\x09\x0A\x0B\x0C\x0D\x20]*(?:&quot;(?:[^&quot;]*)&quot;|\'(?:[^\']*)\'|(?:[^\x09\x0A\x0B\x0C\x0D\x20\x22\x27\x3E][^\x09\x0A\x0B\x0C\x0D\x20\x3E]*)?))?)*)[\x09\x0A\x0B\x0C\x0D\x20]*'</span>);
</span><span id="1937" class="l"><a class="l" href="#1937"> 1937: </a>
</span><span id="1938" class="l"><a class="l" href="#1938"> 1938: </a><span class="php-comment">/**
</span></span><span id="1939" class="l"><a class="l" href="#1939"> 1939: </a><span class="php-comment"> * PCRE for XML attributes
</span></span><span id="1940" class="l"><a class="l" href="#1940"> 1940: </a><span class="php-comment"> */</span>
</span><span id="1941" class="l"><a class="l" href="#1941"> 1941: </a><span class="php-keyword2">define</span>(<span class="php-quote">'SIMPLEPIE_PCRE_XML_ATTRIBUTE'</span>, <span class="php-quote">'((?:\s+(?:(?:[^\s:]+:)?[^\s:]+)\s*=\s*(?:&quot;(?:[^&quot;]*)&quot;|\'(?:[^\']*)\'))*)\s*'</span>);
</span><span id="1942" class="l"><a class="l" href="#1942"> 1942: </a>
</span><span id="1943" class="l"><a class="l" href="#1943"> 1943: </a><span class="php-comment">/**
</span></span><span id="1944" class="l"><a class="l" href="#1944"> 1944: </a><span class="php-comment"> * XML Namespace
</span></span><span id="1945" class="l"><a class="l" href="#1945"> 1945: </a><span class="php-comment"> */</span>
</span><span id="1946" class="l"><a class="l" href="#1946"> 1946: </a><span class="php-keyword2">define</span>(<span class="php-quote">'SIMPLEPIE_NAMESPACE_XML'</span>, <span class="php-quote">'http://www.w3.org/XML/1998/namespace'</span>);
</span><span id="1947" class="l"><a class="l" href="#1947"> 1947: </a>
</span><span id="1948" class="l"><a class="l" href="#1948"> 1948: </a><span class="php-comment">/**
</span></span><span id="1949" class="l"><a class="l" href="#1949"> 1949: </a><span class="php-comment"> * Atom 1.0 Namespace
</span></span><span id="1950" class="l"><a class="l" href="#1950"> 1950: </a><span class="php-comment"> */</span>
</span><span id="1951" class="l"><a class="l" href="#1951"> 1951: </a><span class="php-keyword2">define</span>(<span class="php-quote">'SIMPLEPIE_NAMESPACE_ATOM_10'</span>, <span class="php-quote">'http://www.w3.org/2005/Atom'</span>);
</span><span id="1952" class="l"><a class="l" href="#1952"> 1952: </a>
</span><span id="1953" class="l"><a class="l" href="#1953"> 1953: </a><span class="php-comment">/**
</span></span><span id="1954" class="l"><a class="l" href="#1954"> 1954: </a><span class="php-comment"> * Atom 0.3 Namespace
</span></span><span id="1955" class="l"><a class="l" href="#1955"> 1955: </a><span class="php-comment"> */</span>
</span><span id="1956" class="l"><a class="l" href="#1956"> 1956: </a><span class="php-keyword2">define</span>(<span class="php-quote">'SIMPLEPIE_NAMESPACE_ATOM_03'</span>, <span class="php-quote">'http://purl.org/atom/ns#'</span>);
</span><span id="1957" class="l"><a class="l" href="#1957"> 1957: </a>
</span><span id="1958" class="l"><a class="l" href="#1958"> 1958: </a><span class="php-comment">/**
</span></span><span id="1959" class="l"><a class="l" href="#1959"> 1959: </a><span class="php-comment"> * RDF Namespace
</span></span><span id="1960" class="l"><a class="l" href="#1960"> 1960: </a><span class="php-comment"> */</span>
</span><span id="1961" class="l"><a class="l" href="#1961"> 1961: </a><span class="php-keyword2">define</span>(<span class="php-quote">'SIMPLEPIE_NAMESPACE_RDF'</span>, <span class="php-quote">'http://www.w3.org/1999/02/22-rdf-syntax-ns#'</span>);
</span><span id="1962" class="l"><a class="l" href="#1962"> 1962: </a>
</span><span id="1963" class="l"><a class="l" href="#1963"> 1963: </a><span class="php-comment">/**
</span></span><span id="1964" class="l"><a class="l" href="#1964"> 1964: </a><span class="php-comment"> * RSS 0.90 Namespace
</span></span><span id="1965" class="l"><a class="l" href="#1965"> 1965: </a><span class="php-comment"> */</span>
</span><span id="1966" class="l"><a class="l" href="#1966"> 1966: </a><span class="php-keyword2">define</span>(<span class="php-quote">'SIMPLEPIE_NAMESPACE_RSS_090'</span>, <span class="php-quote">'http://my.netscape.com/rdf/simple/0.9/'</span>);
</span><span id="1967" class="l"><a class="l" href="#1967"> 1967: </a>
</span><span id="1968" class="l"><a class="l" href="#1968"> 1968: </a><span class="php-comment">/**
</span></span><span id="1969" class="l"><a class="l" href="#1969"> 1969: </a><span class="php-comment"> * RSS 1.0 Namespace
</span></span><span id="1970" class="l"><a class="l" href="#1970"> 1970: </a><span class="php-comment"> */</span>
</span><span id="1971" class="l"><a class="l" href="#1971"> 1971: </a><span class="php-keyword2">define</span>(<span class="php-quote">'SIMPLEPIE_NAMESPACE_RSS_10'</span>, <span class="php-quote">'http://purl.org/rss/1.0/'</span>);
</span><span id="1972" class="l"><a class="l" href="#1972"> 1972: </a>
</span><span id="1973" class="l"><a class="l" href="#1973"> 1973: </a><span class="php-comment">/**
</span></span><span id="1974" class="l"><a class="l" href="#1974"> 1974: </a><span class="php-comment"> * RSS 1.0 Content Module Namespace
</span></span><span id="1975" class="l"><a class="l" href="#1975"> 1975: </a><span class="php-comment"> */</span>
</span><span id="1976" class="l"><a class="l" href="#1976"> 1976: </a><span class="php-keyword2">define</span>(<span class="php-quote">'SIMPLEPIE_NAMESPACE_RSS_10_MODULES_CONTENT'</span>, <span class="php-quote">'http://purl.org/rss/1.0/modules/content/'</span>);
</span><span id="1977" class="l"><a class="l" href="#1977"> 1977: </a>
</span><span id="1978" class="l"><a class="l" href="#1978"> 1978: </a><span class="php-comment">/**
</span></span><span id="1979" class="l"><a class="l" href="#1979"> 1979: </a><span class="php-comment"> * RSS 2.0 Namespace
</span></span><span id="1980" class="l"><a class="l" href="#1980"> 1980: </a><span class="php-comment"> * (Stupid, I know, but I'm certain it will confuse people less with support.)
</span></span><span id="1981" class="l"><a class="l" href="#1981"> 1981: </a><span class="php-comment"> */</span>
</span><span id="1982" class="l"><a class="l" href="#1982"> 1982: </a><span class="php-keyword2">define</span>(<span class="php-quote">'SIMPLEPIE_NAMESPACE_RSS_20'</span>, <span class="php-quote">''</span>);
</span><span id="1983" class="l"><a class="l" href="#1983"> 1983: </a>
</span><span id="1984" class="l"><a class="l" href="#1984"> 1984: </a><span class="php-comment">/**
</span></span><span id="1985" class="l"><a class="l" href="#1985"> 1985: </a><span class="php-comment"> * DC 1.0 Namespace
</span></span><span id="1986" class="l"><a class="l" href="#1986"> 1986: </a><span class="php-comment"> */</span>
</span><span id="1987" class="l"><a class="l" href="#1987"> 1987: </a><span class="php-keyword2">define</span>(<span class="php-quote">'SIMPLEPIE_NAMESPACE_DC_10'</span>, <span class="php-quote">'http://purl.org/dc/elements/1.0/'</span>);
</span><span id="1988" class="l"><a class="l" href="#1988"> 1988: </a>
</span><span id="1989" class="l"><a class="l" href="#1989"> 1989: </a><span class="php-comment">/**
</span></span><span id="1990" class="l"><a class="l" href="#1990"> 1990: </a><span class="php-comment"> * DC 1.1 Namespace
</span></span><span id="1991" class="l"><a class="l" href="#1991"> 1991: </a><span class="php-comment"> */</span>
</span><span id="1992" class="l"><a class="l" href="#1992"> 1992: </a><span class="php-keyword2">define</span>(<span class="php-quote">'SIMPLEPIE_NAMESPACE_DC_11'</span>, <span class="php-quote">'http://purl.org/dc/elements/1.1/'</span>);
</span><span id="1993" class="l"><a class="l" href="#1993"> 1993: </a>
</span><span id="1994" class="l"><a class="l" href="#1994"> 1994: </a><span class="php-comment">/**
</span></span><span id="1995" class="l"><a class="l" href="#1995"> 1995: </a><span class="php-comment"> * W3C Basic Geo (WGS84 lat/long) Vocabulary Namespace
</span></span><span id="1996" class="l"><a class="l" href="#1996"> 1996: </a><span class="php-comment"> */</span>
</span><span id="1997" class="l"><a class="l" href="#1997"> 1997: </a><span class="php-keyword2">define</span>(<span class="php-quote">'SIMPLEPIE_NAMESPACE_W3C_BASIC_GEO'</span>, <span class="php-quote">'http://www.w3.org/2003/01/geo/wgs84_pos#'</span>);
</span><span id="1998" class="l"><a class="l" href="#1998"> 1998: </a>
</span><span id="1999" class="l"><a class="l" href="#1999"> 1999: </a><span class="php-comment">/**
</span></span><span id="2000" class="l"><a class="l" href="#2000"> 2000: </a><span class="php-comment"> * GeoRSS Namespace
</span></span><span id="2001" class="l"><a class="l" href="#2001"> 2001: </a><span class="php-comment"> */</span>
</span><span id="2002" class="l"><a class="l" href="#2002"> 2002: </a><span class="php-keyword2">define</span>(<span class="php-quote">'SIMPLEPIE_NAMESPACE_GEORSS'</span>, <span class="php-quote">'http://www.georss.org/georss'</span>);
</span><span id="2003" class="l"><a class="l" href="#2003"> 2003: </a>
</span><span id="2004" class="l"><a class="l" href="#2004"> 2004: </a><span class="php-comment">/**
</span></span><span id="2005" class="l"><a class="l" href="#2005"> 2005: </a><span class="php-comment"> * Media RSS Namespace
</span></span><span id="2006" class="l"><a class="l" href="#2006"> 2006: </a><span class="php-comment"> */</span>
</span><span id="2007" class="l"><a class="l" href="#2007"> 2007: </a><span class="php-keyword2">define</span>(<span class="php-quote">'SIMPLEPIE_NAMESPACE_MEDIARSS'</span>, <span class="php-quote">'http://search.yahoo.com/mrss/'</span>);
</span><span id="2008" class="l"><a class="l" href="#2008"> 2008: </a>
</span><span id="2009" class="l"><a class="l" href="#2009"> 2009: </a><span class="php-comment">/**
</span></span><span id="2010" class="l"><a class="l" href="#2010"> 2010: </a><span class="php-comment"> * Wrong Media RSS Namespace. Caused by a long-standing typo in the spec.
</span></span><span id="2011" class="l"><a class="l" href="#2011"> 2011: </a><span class="php-comment"> */</span>
</span><span id="2012" class="l"><a class="l" href="#2012"> 2012: </a><span class="php-keyword2">define</span>(<span class="php-quote">'SIMPLEPIE_NAMESPACE_MEDIARSS_WRONG'</span>, <span class="php-quote">'http://search.yahoo.com/mrss'</span>);
</span><span id="2013" class="l"><a class="l" href="#2013"> 2013: </a>
</span><span id="2014" class="l"><a class="l" href="#2014"> 2014: </a><span class="php-comment">/**
</span></span><span id="2015" class="l"><a class="l" href="#2015"> 2015: </a><span class="php-comment"> * Wrong Media RSS Namespace #2. New namespace introduced in Media RSS 1.5.
</span></span><span id="2016" class="l"><a class="l" href="#2016"> 2016: </a><span class="php-comment"> */</span>
</span><span id="2017" class="l"><a class="l" href="#2017"> 2017: </a><span class="php-keyword2">define</span>(<span class="php-quote">'SIMPLEPIE_NAMESPACE_MEDIARSS_WRONG2'</span>, <span class="php-quote">'http://video.search.yahoo.com/mrss'</span>);
</span><span id="2018" class="l"><a class="l" href="#2018"> 2018: </a>
</span><span id="2019" class="l"><a class="l" href="#2019"> 2019: </a><span class="php-comment">/**
</span></span><span id="2020" class="l"><a class="l" href="#2020"> 2020: </a><span class="php-comment"> * Wrong Media RSS Namespace #3. A possible typo of the Media RSS 1.5 namespace.
</span></span><span id="2021" class="l"><a class="l" href="#2021"> 2021: </a><span class="php-comment"> */</span>
</span><span id="2022" class="l"><a class="l" href="#2022"> 2022: </a><span class="php-keyword2">define</span>(<span class="php-quote">'SIMPLEPIE_NAMESPACE_MEDIARSS_WRONG3'</span>, <span class="php-quote">'http://video.search.yahoo.com/mrss/'</span>);
</span><span id="2023" class="l"><a class="l" href="#2023"> 2023: </a>
</span><span id="2024" class="l"><a class="l" href="#2024"> 2024: </a><span class="php-comment">/**
</span></span><span id="2025" class="l"><a class="l" href="#2025"> 2025: </a><span class="php-comment"> * Wrong Media RSS Namespace #4. New spec location after the RSS Advisory Board takes it over, but not a valid namespace.
</span></span><span id="2026" class="l"><a class="l" href="#2026"> 2026: </a><span class="php-comment"> */</span>
</span><span id="2027" class="l"><a class="l" href="#2027"> 2027: </a><span class="php-keyword2">define</span>(<span class="php-quote">'SIMPLEPIE_NAMESPACE_MEDIARSS_WRONG4'</span>, <span class="php-quote">'http://www.rssboard.org/media-rss'</span>);
</span><span id="2028" class="l"><a class="l" href="#2028"> 2028: </a>
</span><span id="2029" class="l"><a class="l" href="#2029"> 2029: </a><span class="php-comment">/**
</span></span><span id="2030" class="l"><a class="l" href="#2030"> 2030: </a><span class="php-comment"> * Wrong Media RSS Namespace #5. A possible typo of the RSS Advisory Board URL.
</span></span><span id="2031" class="l"><a class="l" href="#2031"> 2031: </a><span class="php-comment"> */</span>
</span><span id="2032" class="l"><a class="l" href="#2032"> 2032: </a><span class="php-keyword2">define</span>(<span class="php-quote">'SIMPLEPIE_NAMESPACE_MEDIARSS_WRONG5'</span>, <span class="php-quote">'http://www.rssboard.org/media-rss/'</span>);
</span><span id="2033" class="l"><a class="l" href="#2033"> 2033: </a>
</span><span id="2034" class="l"><a class="l" href="#2034"> 2034: </a><span class="php-comment">/**
</span></span><span id="2035" class="l"><a class="l" href="#2035"> 2035: </a><span class="php-comment"> * iTunes RSS Namespace
</span></span><span id="2036" class="l"><a class="l" href="#2036"> 2036: </a><span class="php-comment"> */</span>
</span><span id="2037" class="l"><a class="l" href="#2037"> 2037: </a><span class="php-keyword2">define</span>(<span class="php-quote">'SIMPLEPIE_NAMESPACE_ITUNES'</span>, <span class="php-quote">'http://www.itunes.com/dtds/podcast-1.0.dtd'</span>);
</span><span id="2038" class="l"><a class="l" href="#2038"> 2038: </a>
</span><span id="2039" class="l"><a class="l" href="#2039"> 2039: </a><span class="php-comment">/**
</span></span><span id="2040" class="l"><a class="l" href="#2040"> 2040: </a><span class="php-comment"> * XHTML Namespace
</span></span><span id="2041" class="l"><a class="l" href="#2041"> 2041: </a><span class="php-comment"> */</span>
</span><span id="2042" class="l"><a class="l" href="#2042"> 2042: </a><span class="php-keyword2">define</span>(<span class="php-quote">'SIMPLEPIE_NAMESPACE_XHTML'</span>, <span class="php-quote">'http://www.w3.org/1999/xhtml'</span>);
</span><span id="2043" class="l"><a class="l" href="#2043"> 2043: </a>
</span><span id="2044" class="l"><a class="l" href="#2044"> 2044: </a><span class="php-comment">/**
</span></span><span id="2045" class="l"><a class="l" href="#2045"> 2045: </a><span class="php-comment"> * IANA Link Relations Registry
</span></span><span id="2046" class="l"><a class="l" href="#2046"> 2046: </a><span class="php-comment"> */</span>
</span><span id="2047" class="l"><a class="l" href="#2047"> 2047: </a><span class="php-keyword2">define</span>(<span class="php-quote">'SIMPLEPIE_IANA_LINK_RELATIONS_REGISTRY'</span>, <span class="php-quote">'http://www.iana.org/assignments/relation/'</span>);
</span><span id="2048" class="l"><a class="l" href="#2048"> 2048: </a>
</span><span id="2049" class="l"><a class="l" href="#2049"> 2049: </a><span class="php-comment">/**
</span></span><span id="2050" class="l"><a class="l" href="#2050"> 2050: </a><span class="php-comment"> * Whether we're running on PHP5
</span></span><span id="2051" class="l"><a class="l" href="#2051"> 2051: </a><span class="php-comment"> */</span>
</span><span id="2052" class="l"><a class="l" href="#2052"> 2052: </a><span class="php-keyword2">define</span>(<span class="php-quote">'SIMPLEPIE_PHP5'</span>, <span class="php-keyword2">version_compare</span>(PHP_VERSION, <span class="php-quote">'5.0.0'</span>, <span class="php-quote">'&gt;='</span>));
</span><span id="2053" class="l"><a class="l" href="#2053"> 2053: </a>
</span><span id="2054" class="l"><a class="l" href="#2054"> 2054: </a><span class="php-comment">/**
</span></span><span id="2055" class="l"><a class="l" href="#2055"> 2055: </a><span class="php-comment"> * No file source
</span></span><span id="2056" class="l"><a class="l" href="#2056"> 2056: </a><span class="php-comment"> */</span>
</span><span id="2057" class="l"><a class="l" href="#2057"> 2057: </a><span class="php-keyword2">define</span>(<span class="php-quote">'SIMPLEPIE_FILE_SOURCE_NONE'</span>, <span class="php-num">0</span>);
</span><span id="2058" class="l"><a class="l" href="#2058"> 2058: </a>
</span><span id="2059" class="l"><a class="l" href="#2059"> 2059: </a><span class="php-comment">/**
</span></span><span id="2060" class="l"><a class="l" href="#2060"> 2060: </a><span class="php-comment"> * Remote file source
</span></span><span id="2061" class="l"><a class="l" href="#2061"> 2061: </a><span class="php-comment"> */</span>
</span><span id="2062" class="l"><a class="l" href="#2062"> 2062: </a><span class="php-keyword2">define</span>(<span class="php-quote">'SIMPLEPIE_FILE_SOURCE_REMOTE'</span>, <span class="php-num">1</span>);
</span><span id="2063" class="l"><a class="l" href="#2063"> 2063: </a>
</span><span id="2064" class="l"><a class="l" href="#2064"> 2064: </a><span class="php-comment">/**
</span></span><span id="2065" class="l"><a class="l" href="#2065"> 2065: </a><span class="php-comment"> * Local file source
</span></span><span id="2066" class="l"><a class="l" href="#2066"> 2066: </a><span class="php-comment"> */</span>
</span><span id="2067" class="l"><a class="l" href="#2067"> 2067: </a><span class="php-keyword2">define</span>(<span class="php-quote">'SIMPLEPIE_FILE_SOURCE_LOCAL'</span>, <span class="php-num">2</span>);
</span><span id="2068" class="l"><a class="l" href="#2068"> 2068: </a>
</span><span id="2069" class="l"><a class="l" href="#2069"> 2069: </a><span class="php-comment">/**
</span></span><span id="2070" class="l"><a class="l" href="#2070"> 2070: </a><span class="php-comment"> * fsockopen() file source
</span></span><span id="2071" class="l"><a class="l" href="#2071"> 2071: </a><span class="php-comment"> */</span>
</span><span id="2072" class="l"><a class="l" href="#2072"> 2072: </a><span class="php-keyword2">define</span>(<span class="php-quote">'SIMPLEPIE_FILE_SOURCE_FSOCKOPEN'</span>, <span class="php-num">4</span>);
</span><span id="2073" class="l"><a class="l" href="#2073"> 2073: </a>
</span><span id="2074" class="l"><a class="l" href="#2074"> 2074: </a><span class="php-comment">/**
</span></span><span id="2075" class="l"><a class="l" href="#2075"> 2075: </a><span class="php-comment"> * cURL file source
</span></span><span id="2076" class="l"><a class="l" href="#2076"> 2076: </a><span class="php-comment"> */</span>
</span><span id="2077" class="l"><a class="l" href="#2077"> 2077: </a><span class="php-keyword2">define</span>(<span class="php-quote">'SIMPLEPIE_FILE_SOURCE_CURL'</span>, <span class="php-num">8</span>);
</span><span id="2078" class="l"><a class="l" href="#2078"> 2078: </a>
</span><span id="2079" class="l"><a class="l" href="#2079"> 2079: </a><span class="php-comment">/**
</span></span><span id="2080" class="l"><a class="l" href="#2080"> 2080: </a><span class="php-comment"> * file_get_contents() file source
</span></span><span id="2081" class="l"><a class="l" href="#2081"> 2081: </a><span class="php-comment"> */</span>
</span><span id="2082" class="l"><a class="l" href="#2082"> 2082: </a><span class="php-keyword2">define</span>(<span class="php-quote">'SIMPLEPIE_FILE_SOURCE_FILE_GET_CONTENTS'</span>, <span class="php-num">16</span>);
</span><span id="2083" class="l"><a class="l" href="#2083"> 2083: </a>
</span><span id="2084" class="l"><a class="l" href="#2084"> 2084: </a><span class="php-comment">/**
</span></span><span id="2085" class="l"><a class="l" href="#2085"> 2085: </a><span class="php-comment"> * SimplePie
</span></span><span id="2086" class="l"><a class="l" href="#2086"> 2086: </a><span class="php-comment"> *
</span></span><span id="2087" class="l"><a class="l" href="#2087"> 2087: </a><span class="php-comment"> * @package SimplePie
</span></span><span id="2088" class="l"><a class="l" href="#2088"> 2088: </a><span class="php-comment"> */</span>
</span><span id="2089" class="l"><a class="l" href="#2089"> 2089: </a><span class="php-keyword1">class</span> <a id="SimplePie_Core" href="#SimplePie_Core">SimplePie_Core</a>
</span><span id="2090" class="l"><a class="l" href="#2090"> 2090: </a>{
</span><span id="2091" class="l"><a class="l" href="#2091"> 2091: </a>    <span class="php-comment">/**
</span></span><span id="2092" class="l"><a class="l" href="#2092"> 2092: </a><span class="php-comment">     * @var array Raw data
</span></span><span id="2093" class="l"><a class="l" href="#2093"> 2093: </a><span class="php-comment">     * @access private
</span></span><span id="2094" class="l"><a class="l" href="#2094"> 2094: </a><span class="php-comment">     */</span>
</span><span id="2095" class="l"><a class="l" href="#2095"> 2095: </a>    <span class="php-keyword1">public</span> <span class="php-var"><a id="$data" href="#$data">$data</a></span> = <span class="php-keyword1">array</span>();
</span><span id="2096" class="l"><a class="l" href="#2096"> 2096: </a>
</span><span id="2097" class="l"><a class="l" href="#2097"> 2097: </a>    <span class="php-comment">/**
</span></span><span id="2098" class="l"><a class="l" href="#2098"> 2098: </a><span class="php-comment">     * @var mixed Error string
</span></span><span id="2099" class="l"><a class="l" href="#2099"> 2099: </a><span class="php-comment">     * @access private
</span></span><span id="2100" class="l"><a class="l" href="#2100"> 2100: </a><span class="php-comment">     */</span>
</span><span id="2101" class="l"><a class="l" href="#2101"> 2101: </a>    <span class="php-keyword1">public</span> <span class="php-var"><a id="$error" href="#$error">$error</a></span>;
</span><span id="2102" class="l"><a class="l" href="#2102"> 2102: </a>
</span><span id="2103" class="l"><a class="l" href="#2103"> 2103: </a>    <span class="php-comment">/**
</span></span><span id="2104" class="l"><a class="l" href="#2104"> 2104: </a><span class="php-comment">     * @var object Instance of SimplePie_Sanitize (or other class)
</span></span><span id="2105" class="l"><a class="l" href="#2105"> 2105: </a><span class="php-comment">     * @see SimplePie::set_sanitize_class()
</span></span><span id="2106" class="l"><a class="l" href="#2106"> 2106: </a><span class="php-comment">     * @access private
</span></span><span id="2107" class="l"><a class="l" href="#2107"> 2107: </a><span class="php-comment">     */</span>
</span><span id="2108" class="l"><a class="l" href="#2108"> 2108: </a>    <span class="php-keyword1">public</span> <span class="php-var"><a id="$sanitize" href="#$sanitize">$sanitize</a></span>;
</span><span id="2109" class="l"><a class="l" href="#2109"> 2109: </a>
</span><span id="2110" class="l"><a class="l" href="#2110"> 2110: </a>    <span class="php-comment">/**
</span></span><span id="2111" class="l"><a class="l" href="#2111"> 2111: </a><span class="php-comment">     * @var string SimplePie Useragent
</span></span><span id="2112" class="l"><a class="l" href="#2112"> 2112: </a><span class="php-comment">     * @see SimplePie::set_useragent()
</span></span><span id="2113" class="l"><a class="l" href="#2113"> 2113: </a><span class="php-comment">     * @access private
</span></span><span id="2114" class="l"><a class="l" href="#2114"> 2114: </a><span class="php-comment">     */</span>
</span><span id="2115" class="l"><a class="l" href="#2115"> 2115: </a>    <span class="php-keyword1">public</span> <span class="php-var"><a id="$useragent" href="#$useragent">$useragent</a></span> = SIMPLEPIE_USERAGENT;
</span><span id="2116" class="l"><a class="l" href="#2116"> 2116: </a>
</span><span id="2117" class="l"><a class="l" href="#2117"> 2117: </a>    <span class="php-comment">/**
</span></span><span id="2118" class="l"><a class="l" href="#2118"> 2118: </a><span class="php-comment">     * @var string Feed URL
</span></span><span id="2119" class="l"><a class="l" href="#2119"> 2119: </a><span class="php-comment">     * @see SimplePie::set_feed_url()
</span></span><span id="2120" class="l"><a class="l" href="#2120"> 2120: </a><span class="php-comment">     * @access private
</span></span><span id="2121" class="l"><a class="l" href="#2121"> 2121: </a><span class="php-comment">     */</span>
</span><span id="2122" class="l"><a class="l" href="#2122"> 2122: </a>    <span class="php-keyword1">public</span> <span class="php-var"><a id="$feed_url" href="#$feed_url">$feed_url</a></span>;
</span><span id="2123" class="l"><a class="l" href="#2123"> 2123: </a>
</span><span id="2124" class="l"><a class="l" href="#2124"> 2124: </a>    <span class="php-comment">/**
</span></span><span id="2125" class="l"><a class="l" href="#2125"> 2125: </a><span class="php-comment">     * @var object Instance of SimplePie_File to use as a feed
</span></span><span id="2126" class="l"><a class="l" href="#2126"> 2126: </a><span class="php-comment">     * @see SimplePie::set_file()
</span></span><span id="2127" class="l"><a class="l" href="#2127"> 2127: </a><span class="php-comment">     * @access private
</span></span><span id="2128" class="l"><a class="l" href="#2128"> 2128: </a><span class="php-comment">     */</span>
</span><span id="2129" class="l"><a class="l" href="#2129"> 2129: </a>    <span class="php-keyword1">public</span> <span class="php-var"><a id="$file" href="#$file">$file</a></span>;
</span><span id="2130" class="l"><a class="l" href="#2130"> 2130: </a>
</span><span id="2131" class="l"><a class="l" href="#2131"> 2131: </a>    <span class="php-comment">/**
</span></span><span id="2132" class="l"><a class="l" href="#2132"> 2132: </a><span class="php-comment">     * @var string Raw feed data
</span></span><span id="2133" class="l"><a class="l" href="#2133"> 2133: </a><span class="php-comment">     * @see SimplePie::set_raw_data()
</span></span><span id="2134" class="l"><a class="l" href="#2134"> 2134: </a><span class="php-comment">     * @access private
</span></span><span id="2135" class="l"><a class="l" href="#2135"> 2135: </a><span class="php-comment">     */</span>
</span><span id="2136" class="l"><a class="l" href="#2136"> 2136: </a>    <span class="php-keyword1">public</span> <span class="php-var"><a id="$raw_data" href="#$raw_data">$raw_data</a></span>;
</span><span id="2137" class="l"><a class="l" href="#2137"> 2137: </a>
</span><span id="2138" class="l"><a class="l" href="#2138"> 2138: </a>    <span class="php-comment">/**
</span></span><span id="2139" class="l"><a class="l" href="#2139"> 2139: </a><span class="php-comment">     * @var int Timeout for fetching remote files
</span></span><span id="2140" class="l"><a class="l" href="#2140"> 2140: </a><span class="php-comment">     * @see SimplePie::set_timeout()
</span></span><span id="2141" class="l"><a class="l" href="#2141"> 2141: </a><span class="php-comment">     * @access private
</span></span><span id="2142" class="l"><a class="l" href="#2142"> 2142: </a><span class="php-comment">     */</span>
</span><span id="2143" class="l"><a class="l" href="#2143"> 2143: </a>    <span class="php-keyword1">public</span> <span class="php-var"><a id="$timeout" href="#$timeout">$timeout</a></span> = <span class="php-num">10</span>;
</span><span id="2144" class="l"><a class="l" href="#2144"> 2144: </a>
</span><span id="2145" class="l"><a class="l" href="#2145"> 2145: </a>    <span class="php-comment">/**
</span></span><span id="2146" class="l"><a class="l" href="#2146"> 2146: </a><span class="php-comment">     * @var bool Forces fsockopen() to be used for remote files instead
</span></span><span id="2147" class="l"><a class="l" href="#2147"> 2147: </a><span class="php-comment">     * of cURL, even if a new enough version is installed
</span></span><span id="2148" class="l"><a class="l" href="#2148"> 2148: </a><span class="php-comment">     * @see SimplePie::force_fsockopen()
</span></span><span id="2149" class="l"><a class="l" href="#2149"> 2149: </a><span class="php-comment">     * @access private
</span></span><span id="2150" class="l"><a class="l" href="#2150"> 2150: </a><span class="php-comment">     */</span>
</span><span id="2151" class="l"><a class="l" href="#2151"> 2151: </a>    <span class="php-keyword1">public</span> <span class="php-var"><a id="$force_fsockopen" href="#$force_fsockopen">$force_fsockopen</a></span> = <span class="php-keyword1">false</span>;
</span><span id="2152" class="l"><a class="l" href="#2152"> 2152: </a>
</span><span id="2153" class="l"><a class="l" href="#2153"> 2153: </a>    <span class="php-comment">/**
</span></span><span id="2154" class="l"><a class="l" href="#2154"> 2154: </a><span class="php-comment">     * @var bool Force the given data/URL to be treated as a feed no matter what
</span></span><span id="2155" class="l"><a class="l" href="#2155"> 2155: </a><span class="php-comment">     * it appears like
</span></span><span id="2156" class="l"><a class="l" href="#2156"> 2156: </a><span class="php-comment">     * @see SimplePie::force_feed()
</span></span><span id="2157" class="l"><a class="l" href="#2157"> 2157: </a><span class="php-comment">     * @access private
</span></span><span id="2158" class="l"><a class="l" href="#2158"> 2158: </a><span class="php-comment">     */</span>
</span><span id="2159" class="l"><a class="l" href="#2159"> 2159: </a>    <span class="php-keyword1">public</span> <span class="php-var"><a id="$force_feed" href="#$force_feed">$force_feed</a></span> = <span class="php-keyword1">false</span>;
</span><span id="2160" class="l"><a class="l" href="#2160"> 2160: </a>
</span><span id="2161" class="l"><a class="l" href="#2161"> 2161: </a>    <span class="php-comment">/**
</span></span><span id="2162" class="l"><a class="l" href="#2162"> 2162: </a><span class="php-comment">     * @var bool Enable/Disable XML dump
</span></span><span id="2163" class="l"><a class="l" href="#2163"> 2163: </a><span class="php-comment">     * @see SimplePie::enable_xml_dump()
</span></span><span id="2164" class="l"><a class="l" href="#2164"> 2164: </a><span class="php-comment">     * @access private
</span></span><span id="2165" class="l"><a class="l" href="#2165"> 2165: </a><span class="php-comment">     */</span>
</span><span id="2166" class="l"><a class="l" href="#2166"> 2166: </a>    <span class="php-keyword1">public</span> <span class="php-var"><a id="$xml_dump" href="#$xml_dump">$xml_dump</a></span> = <span class="php-keyword1">false</span>;
</span><span id="2167" class="l"><a class="l" href="#2167"> 2167: </a>
</span><span id="2168" class="l"><a class="l" href="#2168"> 2168: </a>    <span class="php-comment">/**
</span></span><span id="2169" class="l"><a class="l" href="#2169"> 2169: </a><span class="php-comment">     * @var bool Enable/Disable Caching
</span></span><span id="2170" class="l"><a class="l" href="#2170"> 2170: </a><span class="php-comment">     * @see SimplePie::enable_cache()
</span></span><span id="2171" class="l"><a class="l" href="#2171"> 2171: </a><span class="php-comment">     * @access private
</span></span><span id="2172" class="l"><a class="l" href="#2172"> 2172: </a><span class="php-comment">     */</span>
</span><span id="2173" class="l"><a class="l" href="#2173"> 2173: </a>    <span class="php-keyword1">public</span> <span class="php-var"><a id="$cache" href="#$cache">$cache</a></span> = <span class="php-keyword1">true</span>;
</span><span id="2174" class="l"><a class="l" href="#2174"> 2174: </a>
</span><span id="2175" class="l"><a class="l" href="#2175"> 2175: </a>    <span class="php-comment">/**
</span></span><span id="2176" class="l"><a class="l" href="#2176"> 2176: </a><span class="php-comment">     * @var int Cache duration (in seconds)
</span></span><span id="2177" class="l"><a class="l" href="#2177"> 2177: </a><span class="php-comment">     * @see SimplePie::set_cache_duration()
</span></span><span id="2178" class="l"><a class="l" href="#2178"> 2178: </a><span class="php-comment">     * @access private
</span></span><span id="2179" class="l"><a class="l" href="#2179"> 2179: </a><span class="php-comment">     */</span>
</span><span id="2180" class="l"><a class="l" href="#2180"> 2180: </a>    <span class="php-keyword1">public</span> <span class="php-var"><a id="$cache_duration" href="#$cache_duration">$cache_duration</a></span> = <span class="php-num">3600</span>;
</span><span id="2181" class="l"><a class="l" href="#2181"> 2181: </a>
</span><span id="2182" class="l"><a class="l" href="#2182"> 2182: </a>    <span class="php-comment">/**
</span></span><span id="2183" class="l"><a class="l" href="#2183"> 2183: </a><span class="php-comment">     * @var int Auto-discovery cache duration (in seconds)
</span></span><span id="2184" class="l"><a class="l" href="#2184"> 2184: </a><span class="php-comment">     * @see SimplePie::set_autodiscovery_cache_duration()
</span></span><span id="2185" class="l"><a class="l" href="#2185"> 2185: </a><span class="php-comment">     * @access private
</span></span><span id="2186" class="l"><a class="l" href="#2186"> 2186: </a><span class="php-comment">     */</span>
</span><span id="2187" class="l"><a class="l" href="#2187"> 2187: </a>    <span class="php-keyword1">public</span> <span class="php-var"><a id="$autodiscovery_cache_duration" href="#$autodiscovery_cache_duration">$autodiscovery_cache_duration</a></span> = <span class="php-num">604800</span>; <span class="php-comment">// 7 Days.</span>
</span><span id="2188" class="l"><a class="l" href="#2188"> 2188: </a>
</span><span id="2189" class="l"><a class="l" href="#2189"> 2189: </a>    <span class="php-comment">/**
</span></span><span id="2190" class="l"><a class="l" href="#2190"> 2190: </a><span class="php-comment">     * @var string Cache location (relative to executing script)
</span></span><span id="2191" class="l"><a class="l" href="#2191"> 2191: </a><span class="php-comment">     * @see SimplePie::set_cache_location()
</span></span><span id="2192" class="l"><a class="l" href="#2192"> 2192: </a><span class="php-comment">     * @access private
</span></span><span id="2193" class="l"><a class="l" href="#2193"> 2193: </a><span class="php-comment">     */</span>
</span><span id="2194" class="l"><a class="l" href="#2194"> 2194: </a>    <span class="php-keyword1">public</span> <span class="php-var"><a id="$cache_location" href="#$cache_location">$cache_location</a></span> = <span class="php-quote">'./cache'</span>;
</span><span id="2195" class="l"><a class="l" href="#2195"> 2195: </a>
</span><span id="2196" class="l"><a class="l" href="#2196"> 2196: </a>    <span class="php-comment">/**
</span></span><span id="2197" class="l"><a class="l" href="#2197"> 2197: </a><span class="php-comment">     * @var string Function that creates the cache filename
</span></span><span id="2198" class="l"><a class="l" href="#2198"> 2198: </a><span class="php-comment">     * @see SimplePie::set_cache_name_function()
</span></span><span id="2199" class="l"><a class="l" href="#2199"> 2199: </a><span class="php-comment">     * @access private
</span></span><span id="2200" class="l"><a class="l" href="#2200"> 2200: </a><span class="php-comment">     */</span>
</span><span id="2201" class="l"><a class="l" href="#2201"> 2201: </a>    <span class="php-keyword1">public</span> <span class="php-var"><a id="$cache_name_function" href="#$cache_name_function">$cache_name_function</a></span> = <span class="php-quote">'md5'</span>;
</span><span id="2202" class="l"><a class="l" href="#2202"> 2202: </a>
</span><span id="2203" class="l"><a class="l" href="#2203"> 2203: </a>    <span class="php-comment">/**
</span></span><span id="2204" class="l"><a class="l" href="#2204"> 2204: </a><span class="php-comment">     * @var bool Reorder feed by date descending
</span></span><span id="2205" class="l"><a class="l" href="#2205"> 2205: </a><span class="php-comment">     * @see SimplePie::enable_order_by_date()
</span></span><span id="2206" class="l"><a class="l" href="#2206"> 2206: </a><span class="php-comment">     * @access private
</span></span><span id="2207" class="l"><a class="l" href="#2207"> 2207: </a><span class="php-comment">     */</span>
</span><span id="2208" class="l"><a class="l" href="#2208"> 2208: </a>    <span class="php-keyword1">public</span> <span class="php-var"><a id="$order_by_date" href="#$order_by_date">$order_by_date</a></span> = <span class="php-keyword1">true</span>;
</span><span id="2209" class="l"><a class="l" href="#2209"> 2209: </a>
</span><span id="2210" class="l"><a class="l" href="#2210"> 2210: </a>    <span class="php-comment">/**
</span></span><span id="2211" class="l"><a class="l" href="#2211"> 2211: </a><span class="php-comment">     * @var mixed Force input encoding to be set to the follow value
</span></span><span id="2212" class="l"><a class="l" href="#2212"> 2212: </a><span class="php-comment">     * (false, or anything type-cast to false, disables this feature)
</span></span><span id="2213" class="l"><a class="l" href="#2213"> 2213: </a><span class="php-comment">     * @see SimplePie::set_input_encoding()
</span></span><span id="2214" class="l"><a class="l" href="#2214"> 2214: </a><span class="php-comment">     * @access private
</span></span><span id="2215" class="l"><a class="l" href="#2215"> 2215: </a><span class="php-comment">     */</span>
</span><span id="2216" class="l"><a class="l" href="#2216"> 2216: </a>    <span class="php-keyword1">public</span> <span class="php-var"><a id="$input_encoding" href="#$input_encoding">$input_encoding</a></span> = <span class="php-keyword1">false</span>;
</span><span id="2217" class="l"><a class="l" href="#2217"> 2217: </a>
</span><span id="2218" class="l"><a class="l" href="#2218"> 2218: </a>    <span class="php-comment">/**
</span></span><span id="2219" class="l"><a class="l" href="#2219"> 2219: </a><span class="php-comment">     * @var int Feed Autodiscovery Level
</span></span><span id="2220" class="l"><a class="l" href="#2220"> 2220: </a><span class="php-comment">     * @see SimplePie::set_autodiscovery_level()
</span></span><span id="2221" class="l"><a class="l" href="#2221"> 2221: </a><span class="php-comment">     * @access private
</span></span><span id="2222" class="l"><a class="l" href="#2222"> 2222: </a><span class="php-comment">     */</span>
</span><span id="2223" class="l"><a class="l" href="#2223"> 2223: </a>    <span class="php-keyword1">public</span> <span class="php-var"><a id="$autodiscovery" href="#$autodiscovery">$autodiscovery</a></span> = SIMPLEPIE_LOCATOR_ALL;
</span><span id="2224" class="l"><a class="l" href="#2224"> 2224: </a>
</span><span id="2225" class="l"><a class="l" href="#2225"> 2225: </a>    <span class="php-keyword1">public</span> <span class="php-var"><a id="$registry" href="#$registry">$registry</a></span>;
</span><span id="2226" class="l"><a class="l" href="#2226"> 2226: </a>
</span><span id="2227" class="l"><a class="l" href="#2227"> 2227: </a>    <span class="php-comment">/**
</span></span><span id="2228" class="l"><a class="l" href="#2228"> 2228: </a><span class="php-comment">     * @var int Maximum number of feeds to check with autodiscovery
</span></span><span id="2229" class="l"><a class="l" href="#2229"> 2229: </a><span class="php-comment">     * @see SimplePie::set_max_checked_feeds()
</span></span><span id="2230" class="l"><a class="l" href="#2230"> 2230: </a><span class="php-comment">     * @access private
</span></span><span id="2231" class="l"><a class="l" href="#2231"> 2231: </a><span class="php-comment">     */</span>
</span><span id="2232" class="l"><a class="l" href="#2232"> 2232: </a>    <span class="php-keyword1">public</span> <span class="php-var"><a id="$max_checked_feeds" href="#$max_checked_feeds">$max_checked_feeds</a></span> = <span class="php-num">10</span>;
</span><span id="2233" class="l"><a class="l" href="#2233"> 2233: </a>
</span><span id="2234" class="l"><a class="l" href="#2234"> 2234: </a>    <span class="php-comment">/**
</span></span><span id="2235" class="l"><a class="l" href="#2235"> 2235: </a><span class="php-comment">     * @var array All the feeds found during the autodiscovery process
</span></span><span id="2236" class="l"><a class="l" href="#2236"> 2236: </a><span class="php-comment">     * @see SimplePie::get_all_discovered_feeds()
</span></span><span id="2237" class="l"><a class="l" href="#2237"> 2237: </a><span class="php-comment">     * @access private
</span></span><span id="2238" class="l"><a class="l" href="#2238"> 2238: </a><span class="php-comment">     */</span>
</span><span id="2239" class="l"><a class="l" href="#2239"> 2239: </a>    <span class="php-keyword1">public</span> <span class="php-var"><a id="$all_discovered_feeds" href="#$all_discovered_feeds">$all_discovered_feeds</a></span> = <span class="php-keyword1">array</span>();
</span><span id="2240" class="l"><a class="l" href="#2240"> 2240: </a>
</span><span id="2241" class="l"><a class="l" href="#2241"> 2241: </a>    <span class="php-comment">/**
</span></span><span id="2242" class="l"><a class="l" href="#2242"> 2242: </a><span class="php-comment">     * @var string Web-accessible path to the handler_image.php file.
</span></span><span id="2243" class="l"><a class="l" href="#2243"> 2243: </a><span class="php-comment">     * @see SimplePie::set_image_handler()
</span></span><span id="2244" class="l"><a class="l" href="#2244"> 2244: </a><span class="php-comment">     * @access private
</span></span><span id="2245" class="l"><a class="l" href="#2245"> 2245: </a><span class="php-comment">     */</span>
</span><span id="2246" class="l"><a class="l" href="#2246"> 2246: </a>    <span class="php-keyword1">public</span> <span class="php-var"><a id="$image_handler" href="#$image_handler">$image_handler</a></span> = <span class="php-quote">''</span>;
</span><span id="2247" class="l"><a class="l" href="#2247"> 2247: </a>
</span><span id="2248" class="l"><a class="l" href="#2248"> 2248: </a>    <span class="php-comment">/**
</span></span><span id="2249" class="l"><a class="l" href="#2249"> 2249: </a><span class="php-comment">     * @var array Stores the URLs when multiple feeds are being initialized.
</span></span><span id="2250" class="l"><a class="l" href="#2250"> 2250: </a><span class="php-comment">     * @see SimplePie::set_feed_url()
</span></span><span id="2251" class="l"><a class="l" href="#2251"> 2251: </a><span class="php-comment">     * @access private
</span></span><span id="2252" class="l"><a class="l" href="#2252"> 2252: </a><span class="php-comment">     */</span>
</span><span id="2253" class="l"><a class="l" href="#2253"> 2253: </a>    <span class="php-keyword1">public</span> <span class="php-var"><a id="$multifeed_url" href="#$multifeed_url">$multifeed_url</a></span> = <span class="php-keyword1">array</span>();
</span><span id="2254" class="l"><a class="l" href="#2254"> 2254: </a>
</span><span id="2255" class="l"><a class="l" href="#2255"> 2255: </a>    <span class="php-comment">/**
</span></span><span id="2256" class="l"><a class="l" href="#2256"> 2256: </a><span class="php-comment">     * @var array Stores SimplePie objects when multiple feeds initialized.
</span></span><span id="2257" class="l"><a class="l" href="#2257"> 2257: </a><span class="php-comment">     * @access private
</span></span><span id="2258" class="l"><a class="l" href="#2258"> 2258: </a><span class="php-comment">     */</span>
</span><span id="2259" class="l"><a class="l" href="#2259"> 2259: </a>    <span class="php-keyword1">public</span> <span class="php-var"><a id="$multifeed_objects" href="#$multifeed_objects">$multifeed_objects</a></span> = <span class="php-keyword1">array</span>();
</span><span id="2260" class="l"><a class="l" href="#2260"> 2260: </a>
</span><span id="2261" class="l"><a class="l" href="#2261"> 2261: </a>    <span class="php-comment">/**
</span></span><span id="2262" class="l"><a class="l" href="#2262"> 2262: </a><span class="php-comment">     * @var array Stores the get_object_vars() array for use with multifeeds.
</span></span><span id="2263" class="l"><a class="l" href="#2263"> 2263: </a><span class="php-comment">     * @see SimplePie::set_feed_url()
</span></span><span id="2264" class="l"><a class="l" href="#2264"> 2264: </a><span class="php-comment">     * @access private
</span></span><span id="2265" class="l"><a class="l" href="#2265"> 2265: </a><span class="php-comment">     */</span>
</span><span id="2266" class="l"><a class="l" href="#2266"> 2266: </a>    <span class="php-keyword1">public</span> <span class="php-var"><a id="$config_settings" href="#$config_settings">$config_settings</a></span> = <span class="php-keyword1">null</span>;
</span><span id="2267" class="l"><a class="l" href="#2267"> 2267: </a>
</span><span id="2268" class="l"><a class="l" href="#2268"> 2268: </a>    <span class="php-comment">/**
</span></span><span id="2269" class="l"><a class="l" href="#2269"> 2269: </a><span class="php-comment">     * @var integer Stores the number of items to return per-feed with multifeeds.
</span></span><span id="2270" class="l"><a class="l" href="#2270"> 2270: </a><span class="php-comment">     * @see SimplePie::set_item_limit()
</span></span><span id="2271" class="l"><a class="l" href="#2271"> 2271: </a><span class="php-comment">     * @access private
</span></span><span id="2272" class="l"><a class="l" href="#2272"> 2272: </a><span class="php-comment">     */</span>
</span><span id="2273" class="l"><a class="l" href="#2273"> 2273: </a>    <span class="php-keyword1">public</span> <span class="php-var"><a id="$item_limit" href="#$item_limit">$item_limit</a></span> = <span class="php-num">0</span>;
</span><span id="2274" class="l"><a class="l" href="#2274"> 2274: </a>
</span><span id="2275" class="l"><a class="l" href="#2275"> 2275: </a>    <span class="php-comment">/**
</span></span><span id="2276" class="l"><a class="l" href="#2276"> 2276: </a><span class="php-comment">     * @var array Stores the default attributes to be stripped by strip_attributes().
</span></span><span id="2277" class="l"><a class="l" href="#2277"> 2277: </a><span class="php-comment">     * @see SimplePie::strip_attributes()
</span></span><span id="2278" class="l"><a class="l" href="#2278"> 2278: </a><span class="php-comment">     * @access private
</span></span><span id="2279" class="l"><a class="l" href="#2279"> 2279: </a><span class="php-comment">     */</span>
</span><span id="2280" class="l"><a class="l" href="#2280"> 2280: </a>    <span class="php-keyword1">public</span> <span class="php-var"><a id="$strip_attributes" href="#$strip_attributes">$strip_attributes</a></span> = <span class="php-keyword1">array</span>(<span class="php-quote">'bgsound'</span>, <span class="php-quote">'class'</span>, <span class="php-quote">'expr'</span>, <span class="php-quote">'id'</span>, <span class="php-quote">'style'</span>, <span class="php-quote">'onclick'</span>, <span class="php-quote">'onerror'</span>, <span class="php-quote">'onfinish'</span>, <span class="php-quote">'onmouseover'</span>, <span class="php-quote">'onmouseout'</span>, <span class="php-quote">'onfocus'</span>, <span class="php-quote">'onblur'</span>, <span class="php-quote">'lowsrc'</span>, <span class="php-quote">'dynsrc'</span>);
</span><span id="2281" class="l"><a class="l" href="#2281"> 2281: </a>
</span><span id="2282" class="l"><a class="l" href="#2282"> 2282: </a>    <span class="php-comment">/**
</span></span><span id="2283" class="l"><a class="l" href="#2283"> 2283: </a><span class="php-comment">     * @var array Stores the default tags to be stripped by strip_htmltags().
</span></span><span id="2284" class="l"><a class="l" href="#2284"> 2284: </a><span class="php-comment">     * @see SimplePie::strip_htmltags()
</span></span><span id="2285" class="l"><a class="l" href="#2285"> 2285: </a><span class="php-comment">     * @access private
</span></span><span id="2286" class="l"><a class="l" href="#2286"> 2286: </a><span class="php-comment">     */</span>
</span><span id="2287" class="l"><a class="l" href="#2287"> 2287: </a>    <span class="php-keyword1">public</span> <span class="php-var"><a id="$strip_htmltags" href="#$strip_htmltags">$strip_htmltags</a></span> = <span class="php-keyword1">array</span>(<span class="php-quote">'base'</span>, <span class="php-quote">'blink'</span>, <span class="php-quote">'body'</span>, <span class="php-quote">'doctype'</span>, <span class="php-quote">'embed'</span>, <span class="php-quote">'font'</span>, <span class="php-quote">'form'</span>, <span class="php-quote">'frame'</span>, <span class="php-quote">'frameset'</span>, <span class="php-quote">'html'</span>, <span class="php-quote">'iframe'</span>, <span class="php-quote">'input'</span>, <span class="php-quote">'marquee'</span>, <span class="php-quote">'meta'</span>, <span class="php-quote">'noscript'</span>, <span class="php-quote">'object'</span>, <span class="php-quote">'param'</span>, <span class="php-quote">'script'</span>, <span class="php-quote">'style'</span>);
</span><span id="2288" class="l"><a class="l" href="#2288"> 2288: </a>
</span><span id="2289" class="l"><a class="l" href="#2289"> 2289: </a>    <span class="php-comment">/**
</span></span><span id="2290" class="l"><a class="l" href="#2290"> 2290: </a><span class="php-comment">     * The SimplePie class contains feed level data and options
</span></span><span id="2291" class="l"><a class="l" href="#2291"> 2291: </a><span class="php-comment">     *
</span></span><span id="2292" class="l"><a class="l" href="#2292"> 2292: </a><span class="php-comment">     * There are two ways that you can create a new SimplePie object. The first
</span></span><span id="2293" class="l"><a class="l" href="#2293"> 2293: </a><span class="php-comment">     * is by passing a feed URL as a parameter to the SimplePie constructor
</span></span><span id="2294" class="l"><a class="l" href="#2294"> 2294: </a><span class="php-comment">     * (as well as optionally setting the cache location and cache expiry). This
</span></span><span id="2295" class="l"><a class="l" href="#2295"> 2295: </a><span class="php-comment">     * will initialise the whole feed with all of the default settings, and you
</span></span><span id="2296" class="l"><a class="l" href="#2296"> 2296: </a><span class="php-comment">     * can begin accessing methods and properties immediately.
</span></span><span id="2297" class="l"><a class="l" href="#2297"> 2297: </a><span class="php-comment">     *
</span></span><span id="2298" class="l"><a class="l" href="#2298"> 2298: </a><span class="php-comment">     * The second way is to create the SimplePie object with no parameters
</span></span><span id="2299" class="l"><a class="l" href="#2299"> 2299: </a><span class="php-comment">     * at all. This will enable you to set configuration options. After setting
</span></span><span id="2300" class="l"><a class="l" href="#2300"> 2300: </a><span class="php-comment">     * them, you must initialise the feed using $feed-&gt;init(). At that point the
</span></span><span id="2301" class="l"><a class="l" href="#2301"> 2301: </a><span class="php-comment">     * object's methods and properties will be available to you. This format is
</span></span><span id="2302" class="l"><a class="l" href="#2302"> 2302: </a><span class="php-comment">     * what is used throughout this documentation.
</span></span><span id="2303" class="l"><a class="l" href="#2303"> 2303: </a><span class="php-comment">     *
</span></span><span id="2304" class="l"><a class="l" href="#2304"> 2304: </a><span class="php-comment">     * @access public
</span></span><span id="2305" class="l"><a class="l" href="#2305"> 2305: </a><span class="php-comment">     * @since 1.0 Preview Release
</span></span><span id="2306" class="l"><a class="l" href="#2306"> 2306: </a><span class="php-comment">     */</span>
</span><span id="2307" class="l"><a class="l" href="#2307"> 2307: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="___construct" href="#___construct">__construct</a>()
</span><span id="2308" class="l"><a class="l" href="#2308"> 2308: </a>    {
</span><span id="2309" class="l"><a class="l" href="#2309"> 2309: </a>        <span class="php-keyword1">if</span> (<span class="php-keyword2">version_compare</span>(PHP_VERSION, <span class="php-quote">'5.0'</span>, <span class="php-quote">'&lt;'</span>))
</span><span id="2310" class="l"><a class="l" href="#2310"> 2310: </a>        {
</span><span id="2311" class="l"><a class="l" href="#2311"> 2311: </a>            <span class="php-keyword2">trigger_error</span>(<span class="php-quote">'PHP 4.x is no longer supported. Please upgrade to PHP 5.2 or newer.'</span>);
</span><span id="2312" class="l"><a class="l" href="#2312"> 2312: </a>            <span class="php-keyword1">die</span>();
</span><span id="2313" class="l"><a class="l" href="#2313"> 2313: </a>        }
</span><span id="2314" class="l"><a class="l" href="#2314"> 2314: </a>
</span><span id="2315" class="l"><a class="l" href="#2315"> 2315: </a>        <span class="php-comment">// Other objects, instances created here so we can set options on them</span>
</span><span id="2316" class="l"><a class="l" href="#2316"> 2316: </a>        <span class="php-var">$this</span>-&gt;sanitize = <span class="php-keyword1">new</span> SimplePie_Sanitize();
</span><span id="2317" class="l"><a class="l" href="#2317"> 2317: </a>        <span class="php-var">$this</span>-&gt;registry = <span class="php-keyword1">new</span> SimplePie_Registry();
</span><span id="2318" class="l"><a class="l" href="#2318"> 2318: </a>
</span><span id="2319" class="l"><a class="l" href="#2319"> 2319: </a>        <span class="php-keyword1">if</span> (<span class="php-keyword2">func_num_args</span>() &gt; <span class="php-num">0</span>)
</span><span id="2320" class="l"><a class="l" href="#2320"> 2320: </a>        {
</span><span id="2321" class="l"><a class="l" href="#2321"> 2321: </a>            <span class="php-keyword2">trigger_error</span>(<span class="php-quote">'Passing parameters to the constructor is no longer supported. Please use set_feed_url(), set_cache_location(), and set_cache_location() directly.'</span>);
</span><span id="2322" class="l"><a class="l" href="#2322"> 2322: </a>        }
</span><span id="2323" class="l"><a class="l" href="#2323"> 2323: </a>    }
</span><span id="2324" class="l"><a class="l" href="#2324"> 2324: </a>
</span><span id="2325" class="l"><a class="l" href="#2325"> 2325: </a>    <span class="php-comment">/**
</span></span><span id="2326" class="l"><a class="l" href="#2326"> 2326: </a><span class="php-comment">     * Used for converting object to a string
</span></span><span id="2327" class="l"><a class="l" href="#2327"> 2327: </a><span class="php-comment">     */</span>
</span><span id="2328" class="l"><a class="l" href="#2328"> 2328: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="___toString" href="#___toString">__toString</a>()
</span><span id="2329" class="l"><a class="l" href="#2329"> 2329: </a>    {
</span><span id="2330" class="l"><a class="l" href="#2330"> 2330: </a>        <span class="php-keyword1">return</span> <span class="php-keyword2">md5</span>(<span class="php-keyword2">serialize</span>(<span class="php-var">$this</span>-&gt;data));
</span><span id="2331" class="l"><a class="l" href="#2331"> 2331: </a>    }
</span><span id="2332" class="l"><a class="l" href="#2332"> 2332: </a>
</span><span id="2333" class="l"><a class="l" href="#2333"> 2333: </a>    <span class="php-comment">/**
</span></span><span id="2334" class="l"><a class="l" href="#2334"> 2334: </a><span class="php-comment">     * Remove items that link back to this before destroying this object
</span></span><span id="2335" class="l"><a class="l" href="#2335"> 2335: </a><span class="php-comment">     */</span>
</span><span id="2336" class="l"><a class="l" href="#2336"> 2336: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="___destruct" href="#___destruct">__destruct</a>()
</span><span id="2337" class="l"><a class="l" href="#2337"> 2337: </a>    {
</span><span id="2338" class="l"><a class="l" href="#2338"> 2338: </a>        <span class="php-keyword1">if</span> ((<span class="php-keyword2">version_compare</span>(PHP_VERSION, <span class="php-quote">'5.3'</span>, <span class="php-quote">'&lt;'</span>) || !<span class="php-keyword2">gc_enabled</span>()) &amp;&amp; !<span class="php-keyword2">ini_get</span>(<span class="php-quote">'zend.ze1_compatibility_mode'</span>))
</span><span id="2339" class="l"><a class="l" href="#2339"> 2339: </a>        {
</span><span id="2340" class="l"><a class="l" href="#2340"> 2340: </a>            <span class="php-keyword1">if</span> (!<span class="php-keyword1">empty</span>(<span class="php-var">$this</span>-&gt;data[<span class="php-quote">'items'</span>]))
</span><span id="2341" class="l"><a class="l" href="#2341"> 2341: </a>            {
</span><span id="2342" class="l"><a class="l" href="#2342"> 2342: </a>                <span class="php-keyword1">foreach</span> (<span class="php-var">$this</span>-&gt;data[<span class="php-quote">'items'</span>] <span class="php-keyword1">as</span> <span class="php-var">$item</span>)
</span><span id="2343" class="l"><a class="l" href="#2343"> 2343: </a>                {
</span><span id="2344" class="l"><a class="l" href="#2344"> 2344: </a>                    <span class="php-var">$item</span>-&gt;__destruct();
</span><span id="2345" class="l"><a class="l" href="#2345"> 2345: </a>                }
</span><span id="2346" class="l"><a class="l" href="#2346"> 2346: </a>                <span class="php-keyword1">unset</span>(<span class="php-var">$item</span>, <span class="php-var">$this</span>-&gt;data[<span class="php-quote">'items'</span>]);
</span><span id="2347" class="l"><a class="l" href="#2347"> 2347: </a>            }
</span><span id="2348" class="l"><a class="l" href="#2348"> 2348: </a>            <span class="php-keyword1">if</span> (!<span class="php-keyword1">empty</span>(<span class="php-var">$this</span>-&gt;data[<span class="php-quote">'ordered_items'</span>]))
</span><span id="2349" class="l"><a class="l" href="#2349"> 2349: </a>            {
</span><span id="2350" class="l"><a class="l" href="#2350"> 2350: </a>                <span class="php-keyword1">foreach</span> (<span class="php-var">$this</span>-&gt;data[<span class="php-quote">'ordered_items'</span>] <span class="php-keyword1">as</span> <span class="php-var">$item</span>)
</span><span id="2351" class="l"><a class="l" href="#2351"> 2351: </a>                {
</span><span id="2352" class="l"><a class="l" href="#2352"> 2352: </a>                    <span class="php-var">$item</span>-&gt;__destruct();
</span><span id="2353" class="l"><a class="l" href="#2353"> 2353: </a>                }
</span><span id="2354" class="l"><a class="l" href="#2354"> 2354: </a>                <span class="php-keyword1">unset</span>(<span class="php-var">$item</span>, <span class="php-var">$this</span>-&gt;data[<span class="php-quote">'ordered_items'</span>]);
</span><span id="2355" class="l"><a class="l" href="#2355"> 2355: </a>            }
</span><span id="2356" class="l"><a class="l" href="#2356"> 2356: </a>        }
</span><span id="2357" class="l"><a class="l" href="#2357"> 2357: </a>    }
</span><span id="2358" class="l"><a class="l" href="#2358"> 2358: </a>
</span><span id="2359" class="l"><a class="l" href="#2359"> 2359: </a>    <span class="php-comment">/**
</span></span><span id="2360" class="l"><a class="l" href="#2360"> 2360: </a><span class="php-comment">     * Force the given data/URL to be treated as a feed no matter what it
</span></span><span id="2361" class="l"><a class="l" href="#2361"> 2361: </a><span class="php-comment">     * appears like
</span></span><span id="2362" class="l"><a class="l" href="#2362"> 2362: </a><span class="php-comment">     *
</span></span><span id="2363" class="l"><a class="l" href="#2363"> 2363: </a><span class="php-comment">     * @access public
</span></span><span id="2364" class="l"><a class="l" href="#2364"> 2364: </a><span class="php-comment">     * @since 1.1
</span></span><span id="2365" class="l"><a class="l" href="#2365"> 2365: </a><span class="php-comment">     * @param bool $enable Force the given data/URL to be treated as a feed
</span></span><span id="2366" class="l"><a class="l" href="#2366"> 2366: </a><span class="php-comment">     */</span>
</span><span id="2367" class="l"><a class="l" href="#2367"> 2367: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_force_feed" href="#_force_feed">force_feed</a>(<span class="php-var">$enable</span> = <span class="php-keyword1">false</span>)
</span><span id="2368" class="l"><a class="l" href="#2368"> 2368: </a>    {
</span><span id="2369" class="l"><a class="l" href="#2369"> 2369: </a>        <span class="php-var">$this</span>-&gt;force_feed = (bool) <span class="php-var">$enable</span>;
</span><span id="2370" class="l"><a class="l" href="#2370"> 2370: </a>    }
</span><span id="2371" class="l"><a class="l" href="#2371"> 2371: </a>
</span><span id="2372" class="l"><a class="l" href="#2372"> 2372: </a>    <span class="php-comment">/**
</span></span><span id="2373" class="l"><a class="l" href="#2373"> 2373: </a><span class="php-comment">     * This is the URL of the feed you want to parse.
</span></span><span id="2374" class="l"><a class="l" href="#2374"> 2374: </a><span class="php-comment">     *
</span></span><span id="2375" class="l"><a class="l" href="#2375"> 2375: </a><span class="php-comment">     * This allows you to enter the URL of the feed you want to parse, or the
</span></span><span id="2376" class="l"><a class="l" href="#2376"> 2376: </a><span class="php-comment">     * website you want to try to use auto-discovery on. This takes priority
</span></span><span id="2377" class="l"><a class="l" href="#2377"> 2377: </a><span class="php-comment">     * over any set raw data.
</span></span><span id="2378" class="l"><a class="l" href="#2378"> 2378: </a><span class="php-comment">     *
</span></span><span id="2379" class="l"><a class="l" href="#2379"> 2379: </a><span class="php-comment">     * You can set multiple feeds to mash together by passing an array instead
</span></span><span id="2380" class="l"><a class="l" href="#2380"> 2380: </a><span class="php-comment">     * of a string for the $url. Remember that with each additional feed comes
</span></span><span id="2381" class="l"><a class="l" href="#2381"> 2381: </a><span class="php-comment">     * additional processing and resources.
</span></span><span id="2382" class="l"><a class="l" href="#2382"> 2382: </a><span class="php-comment">     *
</span></span><span id="2383" class="l"><a class="l" href="#2383"> 2383: </a><span class="php-comment">     * @access public
</span></span><span id="2384" class="l"><a class="l" href="#2384"> 2384: </a><span class="php-comment">     * @since 1.0 Preview Release
</span></span><span id="2385" class="l"><a class="l" href="#2385"> 2385: </a><span class="php-comment">     * @param mixed $url This is the URL (or array of URLs) that you want to parse.
</span></span><span id="2386" class="l"><a class="l" href="#2386"> 2386: </a><span class="php-comment">     * @see SimplePie::set_raw_data()
</span></span><span id="2387" class="l"><a class="l" href="#2387"> 2387: </a><span class="php-comment">     */</span>
</span><span id="2388" class="l"><a class="l" href="#2388"> 2388: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_set_feed_url" href="#_set_feed_url">set_feed_url</a>(<span class="php-var">$url</span>)
</span><span id="2389" class="l"><a class="l" href="#2389"> 2389: </a>    {
</span><span id="2390" class="l"><a class="l" href="#2390"> 2390: </a>        <span class="php-var">$this</span>-&gt;multifeed_url = <span class="php-keyword1">array</span>();
</span><span id="2391" class="l"><a class="l" href="#2391"> 2391: </a>        <span class="php-keyword1">if</span> (<span class="php-keyword2">is_array</span>(<span class="php-var">$url</span>))
</span><span id="2392" class="l"><a class="l" href="#2392"> 2392: </a>        {
</span><span id="2393" class="l"><a class="l" href="#2393"> 2393: </a>            <span class="php-keyword1">foreach</span> (<span class="php-var">$url</span> <span class="php-keyword1">as</span> <span class="php-var">$value</span>)
</span><span id="2394" class="l"><a class="l" href="#2394"> 2394: </a>            {
</span><span id="2395" class="l"><a class="l" href="#2395"> 2395: </a>                <span class="php-var">$this</span>-&gt;multifeed_url[] = <span class="php-var">$this</span>-&gt;registry-&gt;call(<span class="php-quote">'Misc'</span>, <span class="php-quote">'fix_protocol'</span>, <span class="php-keyword1">array</span>(<span class="php-var">$value</span>, <span class="php-num">1</span>));
</span><span id="2396" class="l"><a class="l" href="#2396"> 2396: </a>            }
</span><span id="2397" class="l"><a class="l" href="#2397"> 2397: </a>        }
</span><span id="2398" class="l"><a class="l" href="#2398"> 2398: </a>        <span class="php-keyword1">else</span>
</span><span id="2399" class="l"><a class="l" href="#2399"> 2399: </a>        {
</span><span id="2400" class="l"><a class="l" href="#2400"> 2400: </a>            <span class="php-var">$this</span>-&gt;feed_url = <span class="php-var">$this</span>-&gt;registry-&gt;call(<span class="php-quote">'Misc'</span>, <span class="php-quote">'fix_protocol'</span>, <span class="php-keyword1">array</span>(<span class="php-var">$url</span>, <span class="php-num">1</span>));
</span><span id="2401" class="l"><a class="l" href="#2401"> 2401: </a>        }
</span><span id="2402" class="l"><a class="l" href="#2402"> 2402: </a>    }
</span><span id="2403" class="l"><a class="l" href="#2403"> 2403: </a>
</span><span id="2404" class="l"><a class="l" href="#2404"> 2404: </a>    <span class="php-comment">/**
</span></span><span id="2405" class="l"><a class="l" href="#2405"> 2405: </a><span class="php-comment">     * Provides an instance of SimplePie_File to use as a feed
</span></span><span id="2406" class="l"><a class="l" href="#2406"> 2406: </a><span class="php-comment">     *
</span></span><span id="2407" class="l"><a class="l" href="#2407"> 2407: </a><span class="php-comment">     * @access public
</span></span><span id="2408" class="l"><a class="l" href="#2408"> 2408: </a><span class="php-comment">     * @param object &amp;$file Instance of SimplePie_File (or subclass)
</span></span><span id="2409" class="l"><a class="l" href="#2409"> 2409: </a><span class="php-comment">     * @return bool True on success, false on failure
</span></span><span id="2410" class="l"><a class="l" href="#2410"> 2410: </a><span class="php-comment">     */</span>
</span><span id="2411" class="l"><a class="l" href="#2411"> 2411: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_set_file" href="#_set_file">set_file</a>(&amp;<span class="php-var">$file</span>)
</span><span id="2412" class="l"><a class="l" href="#2412"> 2412: </a>    {
</span><span id="2413" class="l"><a class="l" href="#2413"> 2413: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$file</span> <span class="php-keyword1">instanceof</span> SimplePie_File)
</span><span id="2414" class="l"><a class="l" href="#2414"> 2414: </a>        {
</span><span id="2415" class="l"><a class="l" href="#2415"> 2415: </a>            <span class="php-var">$this</span>-&gt;feed_url = <span class="php-var">$file</span>-&gt;url;
</span><span id="2416" class="l"><a class="l" href="#2416"> 2416: </a>            <span class="php-var">$this</span>-&gt;<span class="php-keyword2">file</span> =&amp; <span class="php-var">$file</span>;
</span><span id="2417" class="l"><a class="l" href="#2417"> 2417: </a>            <span class="php-keyword1">return</span> <span class="php-keyword1">true</span>;
</span><span id="2418" class="l"><a class="l" href="#2418"> 2418: </a>        }
</span><span id="2419" class="l"><a class="l" href="#2419"> 2419: </a>        <span class="php-keyword1">return</span> <span class="php-keyword1">false</span>;
</span><span id="2420" class="l"><a class="l" href="#2420"> 2420: </a>    }
</span><span id="2421" class="l"><a class="l" href="#2421"> 2421: </a>
</span><span id="2422" class="l"><a class="l" href="#2422"> 2422: </a>    <span class="php-comment">/**
</span></span><span id="2423" class="l"><a class="l" href="#2423"> 2423: </a><span class="php-comment">     * Allows you to use a string of RSS/Atom data instead of a remote feed.
</span></span><span id="2424" class="l"><a class="l" href="#2424"> 2424: </a><span class="php-comment">     *
</span></span><span id="2425" class="l"><a class="l" href="#2425"> 2425: </a><span class="php-comment">     * If you have a feed available as a string in PHP, you can tell SimplePie
</span></span><span id="2426" class="l"><a class="l" href="#2426"> 2426: </a><span class="php-comment">     * to parse that data string instead of a remote feed. Any set feed URL
</span></span><span id="2427" class="l"><a class="l" href="#2427"> 2427: </a><span class="php-comment">     * takes precedence.
</span></span><span id="2428" class="l"><a class="l" href="#2428"> 2428: </a><span class="php-comment">     *
</span></span><span id="2429" class="l"><a class="l" href="#2429"> 2429: </a><span class="php-comment">     * @access public
</span></span><span id="2430" class="l"><a class="l" href="#2430"> 2430: </a><span class="php-comment">     * @since 1.0 Beta 3
</span></span><span id="2431" class="l"><a class="l" href="#2431"> 2431: </a><span class="php-comment">     * @param string $data RSS or Atom data as a string.
</span></span><span id="2432" class="l"><a class="l" href="#2432"> 2432: </a><span class="php-comment">     * @see SimplePie::set_feed_url()
</span></span><span id="2433" class="l"><a class="l" href="#2433"> 2433: </a><span class="php-comment">     */</span>
</span><span id="2434" class="l"><a class="l" href="#2434"> 2434: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_set_raw_data" href="#_set_raw_data">set_raw_data</a>(<span class="php-var">$data</span>)
</span><span id="2435" class="l"><a class="l" href="#2435"> 2435: </a>    {
</span><span id="2436" class="l"><a class="l" href="#2436"> 2436: </a>        <span class="php-var">$this</span>-&gt;raw_data = <span class="php-var">$data</span>;
</span><span id="2437" class="l"><a class="l" href="#2437"> 2437: </a>    }
</span><span id="2438" class="l"><a class="l" href="#2438"> 2438: </a>
</span><span id="2439" class="l"><a class="l" href="#2439"> 2439: </a>    <span class="php-comment">/**
</span></span><span id="2440" class="l"><a class="l" href="#2440"> 2440: </a><span class="php-comment">     * Allows you to override the default timeout for fetching remote feeds.
</span></span><span id="2441" class="l"><a class="l" href="#2441"> 2441: </a><span class="php-comment">     *
</span></span><span id="2442" class="l"><a class="l" href="#2442"> 2442: </a><span class="php-comment">     * This allows you to change the maximum time the feed's server to respond
</span></span><span id="2443" class="l"><a class="l" href="#2443"> 2443: </a><span class="php-comment">     * and send the feed back.
</span></span><span id="2444" class="l"><a class="l" href="#2444"> 2444: </a><span class="php-comment">     *
</span></span><span id="2445" class="l"><a class="l" href="#2445"> 2445: </a><span class="php-comment">     * @access public
</span></span><span id="2446" class="l"><a class="l" href="#2446"> 2446: </a><span class="php-comment">     * @since 1.0 Beta 3
</span></span><span id="2447" class="l"><a class="l" href="#2447"> 2447: </a><span class="php-comment">     * @param int $timeout The maximum number of seconds to spend waiting to retrieve a feed.
</span></span><span id="2448" class="l"><a class="l" href="#2448"> 2448: </a><span class="php-comment">     */</span>
</span><span id="2449" class="l"><a class="l" href="#2449"> 2449: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_set_timeout" href="#_set_timeout">set_timeout</a>(<span class="php-var">$timeout</span> = <span class="php-num">10</span>)
</span><span id="2450" class="l"><a class="l" href="#2450"> 2450: </a>    {
</span><span id="2451" class="l"><a class="l" href="#2451"> 2451: </a>        <span class="php-var">$this</span>-&gt;timeout = (int) <span class="php-var">$timeout</span>;
</span><span id="2452" class="l"><a class="l" href="#2452"> 2452: </a>    }
</span><span id="2453" class="l"><a class="l" href="#2453"> 2453: </a>
</span><span id="2454" class="l"><a class="l" href="#2454"> 2454: </a>    <span class="php-comment">/**
</span></span><span id="2455" class="l"><a class="l" href="#2455"> 2455: </a><span class="php-comment">     * Forces SimplePie to use fsockopen() instead of the preferred cURL
</span></span><span id="2456" class="l"><a class="l" href="#2456"> 2456: </a><span class="php-comment">     * functions.
</span></span><span id="2457" class="l"><a class="l" href="#2457"> 2457: </a><span class="php-comment">     *
</span></span><span id="2458" class="l"><a class="l" href="#2458"> 2458: </a><span class="php-comment">     * @access public
</span></span><span id="2459" class="l"><a class="l" href="#2459"> 2459: </a><span class="php-comment">     * @since 1.0 Beta 3
</span></span><span id="2460" class="l"><a class="l" href="#2460"> 2460: </a><span class="php-comment">     * @param bool $enable Force fsockopen() to be used
</span></span><span id="2461" class="l"><a class="l" href="#2461"> 2461: </a><span class="php-comment">     */</span>
</span><span id="2462" class="l"><a class="l" href="#2462"> 2462: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_force_fsockopen" href="#_force_fsockopen">force_fsockopen</a>(<span class="php-var">$enable</span> = <span class="php-keyword1">false</span>)
</span><span id="2463" class="l"><a class="l" href="#2463"> 2463: </a>    {
</span><span id="2464" class="l"><a class="l" href="#2464"> 2464: </a>        <span class="php-var">$this</span>-&gt;force_fsockopen = (bool) <span class="php-var">$enable</span>;
</span><span id="2465" class="l"><a class="l" href="#2465"> 2465: </a>    }
</span><span id="2466" class="l"><a class="l" href="#2466"> 2466: </a>
</span><span id="2467" class="l"><a class="l" href="#2467"> 2467: </a>    <span class="php-comment">/**
</span></span><span id="2468" class="l"><a class="l" href="#2468"> 2468: </a><span class="php-comment">     * Enables/disables caching in SimplePie.
</span></span><span id="2469" class="l"><a class="l" href="#2469"> 2469: </a><span class="php-comment">     *
</span></span><span id="2470" class="l"><a class="l" href="#2470"> 2470: </a><span class="php-comment">     * This option allows you to disable caching all-together in SimplePie.
</span></span><span id="2471" class="l"><a class="l" href="#2471"> 2471: </a><span class="php-comment">     * However, disabling the cache can lead to longer load times.
</span></span><span id="2472" class="l"><a class="l" href="#2472"> 2472: </a><span class="php-comment">     *
</span></span><span id="2473" class="l"><a class="l" href="#2473"> 2473: </a><span class="php-comment">     * @access public
</span></span><span id="2474" class="l"><a class="l" href="#2474"> 2474: </a><span class="php-comment">     * @since 1.0 Preview Release
</span></span><span id="2475" class="l"><a class="l" href="#2475"> 2475: </a><span class="php-comment">     * @param bool $enable Enable caching
</span></span><span id="2476" class="l"><a class="l" href="#2476"> 2476: </a><span class="php-comment">     */</span>
</span><span id="2477" class="l"><a class="l" href="#2477"> 2477: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_enable_cache" href="#_enable_cache">enable_cache</a>(<span class="php-var">$enable</span> = <span class="php-keyword1">true</span>)
</span><span id="2478" class="l"><a class="l" href="#2478"> 2478: </a>    {
</span><span id="2479" class="l"><a class="l" href="#2479"> 2479: </a>        <span class="php-var">$this</span>-&gt;cache = (bool) <span class="php-var">$enable</span>;
</span><span id="2480" class="l"><a class="l" href="#2480"> 2480: </a>    }
</span><span id="2481" class="l"><a class="l" href="#2481"> 2481: </a>
</span><span id="2482" class="l"><a class="l" href="#2482"> 2482: </a>    <span class="php-comment">/**
</span></span><span id="2483" class="l"><a class="l" href="#2483"> 2483: </a><span class="php-comment">     * Set the length of time (in seconds) that the contents of a feed
</span></span><span id="2484" class="l"><a class="l" href="#2484"> 2484: </a><span class="php-comment">     * will be cached.
</span></span><span id="2485" class="l"><a class="l" href="#2485"> 2485: </a><span class="php-comment">     *
</span></span><span id="2486" class="l"><a class="l" href="#2486"> 2486: </a><span class="php-comment">     * @access public
</span></span><span id="2487" class="l"><a class="l" href="#2487"> 2487: </a><span class="php-comment">     * @param int $seconds The feed content cache duration.
</span></span><span id="2488" class="l"><a class="l" href="#2488"> 2488: </a><span class="php-comment">     */</span>
</span><span id="2489" class="l"><a class="l" href="#2489"> 2489: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_set_cache_duration" href="#_set_cache_duration">set_cache_duration</a>(<span class="php-var">$seconds</span> = <span class="php-num">3600</span>)
</span><span id="2490" class="l"><a class="l" href="#2490"> 2490: </a>    {
</span><span id="2491" class="l"><a class="l" href="#2491"> 2491: </a>        <span class="php-var">$this</span>-&gt;cache_duration = (int) <span class="php-var">$seconds</span>;
</span><span id="2492" class="l"><a class="l" href="#2492"> 2492: </a>    }
</span><span id="2493" class="l"><a class="l" href="#2493"> 2493: </a>
</span><span id="2494" class="l"><a class="l" href="#2494"> 2494: </a>    <span class="php-comment">/**
</span></span><span id="2495" class="l"><a class="l" href="#2495"> 2495: </a><span class="php-comment">     * Set the length of time (in seconds) that the autodiscovered feed
</span></span><span id="2496" class="l"><a class="l" href="#2496"> 2496: </a><span class="php-comment">     * URL will be cached.
</span></span><span id="2497" class="l"><a class="l" href="#2497"> 2497: </a><span class="php-comment">     *
</span></span><span id="2498" class="l"><a class="l" href="#2498"> 2498: </a><span class="php-comment">     * @access public
</span></span><span id="2499" class="l"><a class="l" href="#2499"> 2499: </a><span class="php-comment">     * @param int $seconds The autodiscovered feed URL cache duration.
</span></span><span id="2500" class="l"><a class="l" href="#2500"> 2500: </a><span class="php-comment">     */</span>
</span><span id="2501" class="l"><a class="l" href="#2501"> 2501: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_set_autodiscovery_cache_duration" href="#_set_autodiscovery_cache_duration">set_autodiscovery_cache_duration</a>(<span class="php-var">$seconds</span> = <span class="php-num">604800</span>)
</span><span id="2502" class="l"><a class="l" href="#2502"> 2502: </a>    {
</span><span id="2503" class="l"><a class="l" href="#2503"> 2503: </a>        <span class="php-var">$this</span>-&gt;autodiscovery_cache_duration = (int) <span class="php-var">$seconds</span>;
</span><span id="2504" class="l"><a class="l" href="#2504"> 2504: </a>    }
</span><span id="2505" class="l"><a class="l" href="#2505"> 2505: </a>
</span><span id="2506" class="l"><a class="l" href="#2506"> 2506: </a>    <span class="php-comment">/**
</span></span><span id="2507" class="l"><a class="l" href="#2507"> 2507: </a><span class="php-comment">     * Set the file system location where the cached files should be stored.
</span></span><span id="2508" class="l"><a class="l" href="#2508"> 2508: </a><span class="php-comment">     *
</span></span><span id="2509" class="l"><a class="l" href="#2509"> 2509: </a><span class="php-comment">     * @access public
</span></span><span id="2510" class="l"><a class="l" href="#2510"> 2510: </a><span class="php-comment">     * @param string $location The file system location.
</span></span><span id="2511" class="l"><a class="l" href="#2511"> 2511: </a><span class="php-comment">     */</span>
</span><span id="2512" class="l"><a class="l" href="#2512"> 2512: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_set_cache_location" href="#_set_cache_location">set_cache_location</a>(<span class="php-var">$location</span> = <span class="php-quote">'./cache'</span>)
</span><span id="2513" class="l"><a class="l" href="#2513"> 2513: </a>    {
</span><span id="2514" class="l"><a class="l" href="#2514"> 2514: </a>        <span class="php-var">$this</span>-&gt;cache_location = (string) <span class="php-var">$location</span>;
</span><span id="2515" class="l"><a class="l" href="#2515"> 2515: </a>    }
</span><span id="2516" class="l"><a class="l" href="#2516"> 2516: </a>
</span><span id="2517" class="l"><a class="l" href="#2517"> 2517: </a>    <span class="php-comment">/**
</span></span><span id="2518" class="l"><a class="l" href="#2518"> 2518: </a><span class="php-comment">     * Determines whether feed items should be sorted into reverse chronological order.
</span></span><span id="2519" class="l"><a class="l" href="#2519"> 2519: </a><span class="php-comment">     *
</span></span><span id="2520" class="l"><a class="l" href="#2520"> 2520: </a><span class="php-comment">     * @access public
</span></span><span id="2521" class="l"><a class="l" href="#2521"> 2521: </a><span class="php-comment">     * @param bool $enable Sort as reverse chronological order.
</span></span><span id="2522" class="l"><a class="l" href="#2522"> 2522: </a><span class="php-comment">     */</span>
</span><span id="2523" class="l"><a class="l" href="#2523"> 2523: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_enable_order_by_date" href="#_enable_order_by_date">enable_order_by_date</a>(<span class="php-var">$enable</span> = <span class="php-keyword1">true</span>)
</span><span id="2524" class="l"><a class="l" href="#2524"> 2524: </a>    {
</span><span id="2525" class="l"><a class="l" href="#2525"> 2525: </a>        <span class="php-var">$this</span>-&gt;order_by_date = (bool) <span class="php-var">$enable</span>;
</span><span id="2526" class="l"><a class="l" href="#2526"> 2526: </a>    }
</span><span id="2527" class="l"><a class="l" href="#2527"> 2527: </a>
</span><span id="2528" class="l"><a class="l" href="#2528"> 2528: </a>    <span class="php-comment">/**
</span></span><span id="2529" class="l"><a class="l" href="#2529"> 2529: </a><span class="php-comment">     * Allows you to override the character encoding reported by the feed.
</span></span><span id="2530" class="l"><a class="l" href="#2530"> 2530: </a><span class="php-comment">     *
</span></span><span id="2531" class="l"><a class="l" href="#2531"> 2531: </a><span class="php-comment">     * @access public
</span></span><span id="2532" class="l"><a class="l" href="#2532"> 2532: </a><span class="php-comment">     * @param string $encoding Character encoding.
</span></span><span id="2533" class="l"><a class="l" href="#2533"> 2533: </a><span class="php-comment">     */</span>
</span><span id="2534" class="l"><a class="l" href="#2534"> 2534: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_set_input_encoding" href="#_set_input_encoding">set_input_encoding</a>(<span class="php-var">$encoding</span> = <span class="php-keyword1">false</span>)
</span><span id="2535" class="l"><a class="l" href="#2535"> 2535: </a>    {
</span><span id="2536" class="l"><a class="l" href="#2536"> 2536: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$encoding</span>)
</span><span id="2537" class="l"><a class="l" href="#2537"> 2537: </a>        {
</span><span id="2538" class="l"><a class="l" href="#2538"> 2538: </a>            <span class="php-var">$this</span>-&gt;input_encoding = (string) <span class="php-var">$encoding</span>;
</span><span id="2539" class="l"><a class="l" href="#2539"> 2539: </a>        }
</span><span id="2540" class="l"><a class="l" href="#2540"> 2540: </a>        <span class="php-keyword1">else</span>
</span><span id="2541" class="l"><a class="l" href="#2541"> 2541: </a>        {
</span><span id="2542" class="l"><a class="l" href="#2542"> 2542: </a>            <span class="php-var">$this</span>-&gt;input_encoding = <span class="php-keyword1">false</span>;
</span><span id="2543" class="l"><a class="l" href="#2543"> 2543: </a>        }
</span><span id="2544" class="l"><a class="l" href="#2544"> 2544: </a>    }
</span><span id="2545" class="l"><a class="l" href="#2545"> 2545: </a>
</span><span id="2546" class="l"><a class="l" href="#2546"> 2546: </a>    <span class="php-comment">/**
</span></span><span id="2547" class="l"><a class="l" href="#2547"> 2547: </a><span class="php-comment">     * Set how much feed autodiscovery to do
</span></span><span id="2548" class="l"><a class="l" href="#2548"> 2548: </a><span class="php-comment">     *
</span></span><span id="2549" class="l"><a class="l" href="#2549"> 2549: </a><span class="php-comment">     * @access public
</span></span><span id="2550" class="l"><a class="l" href="#2550"> 2550: </a><span class="php-comment">     * @see SIMPLEPIE_LOCATOR_NONE
</span></span><span id="2551" class="l"><a class="l" href="#2551"> 2551: </a><span class="php-comment">     * @see SIMPLEPIE_LOCATOR_AUTODISCOVERY
</span></span><span id="2552" class="l"><a class="l" href="#2552"> 2552: </a><span class="php-comment">     * @see SIMPLEPIE_LOCATOR_LOCAL_EXTENSION
</span></span><span id="2553" class="l"><a class="l" href="#2553"> 2553: </a><span class="php-comment">     * @see SIMPLEPIE_LOCATOR_LOCAL_BODY
</span></span><span id="2554" class="l"><a class="l" href="#2554"> 2554: </a><span class="php-comment">     * @see SIMPLEPIE_LOCATOR_REMOTE_EXTENSION
</span></span><span id="2555" class="l"><a class="l" href="#2555"> 2555: </a><span class="php-comment">     * @see SIMPLEPIE_LOCATOR_REMOTE_BODY
</span></span><span id="2556" class="l"><a class="l" href="#2556"> 2556: </a><span class="php-comment">     * @see SIMPLEPIE_LOCATOR_ALL
</span></span><span id="2557" class="l"><a class="l" href="#2557"> 2557: </a><span class="php-comment">     * @param int $level Feed Autodiscovery Level (level can be a
</span></span><span id="2558" class="l"><a class="l" href="#2558"> 2558: </a><span class="php-comment">     * combination of the above constants, see bitwise OR operator)
</span></span><span id="2559" class="l"><a class="l" href="#2559"> 2559: </a><span class="php-comment">     */</span>
</span><span id="2560" class="l"><a class="l" href="#2560"> 2560: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_set_autodiscovery_level" href="#_set_autodiscovery_level">set_autodiscovery_level</a>(<span class="php-var">$level</span> = SIMPLEPIE_LOCATOR_ALL)
</span><span id="2561" class="l"><a class="l" href="#2561"> 2561: </a>    {
</span><span id="2562" class="l"><a class="l" href="#2562"> 2562: </a>        <span class="php-var">$this</span>-&gt;autodiscovery = (int) <span class="php-var">$level</span>;
</span><span id="2563" class="l"><a class="l" href="#2563"> 2563: </a>    }
</span><span id="2564" class="l"><a class="l" href="#2564"> 2564: </a>
</span><span id="2565" class="l"><a class="l" href="#2565"> 2565: </a>    <span class="php-comment">/**
</span></span><span id="2566" class="l"><a class="l" href="#2566"> 2566: </a><span class="php-comment">     * Get the class registry
</span></span><span id="2567" class="l"><a class="l" href="#2567"> 2567: </a><span class="php-comment">     *
</span></span><span id="2568" class="l"><a class="l" href="#2568"> 2568: </a><span class="php-comment">     * Use this to override SimplePie's default classes
</span></span><span id="2569" class="l"><a class="l" href="#2569"> 2569: </a><span class="php-comment">     * @see SimplePie_Registry
</span></span><span id="2570" class="l"><a class="l" href="#2570"> 2570: </a><span class="php-comment">     * @return SimplePie_Registry
</span></span><span id="2571" class="l"><a class="l" href="#2571"> 2571: </a><span class="php-comment">     */</span>
</span><span id="2572" class="l"><a class="l" href="#2572"> 2572: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> &amp;get_registry()
</span><span id="2573" class="l"><a class="l" href="#2573"> 2573: </a>    {
</span><span id="2574" class="l"><a class="l" href="#2574"> 2574: </a>        <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;registry;
</span><span id="2575" class="l"><a class="l" href="#2575"> 2575: </a>    }
</span><span id="2576" class="l"><a class="l" href="#2576"> 2576: </a>
</span><span id="2577" class="l"><a class="l" href="#2577"> 2577: </a>    <span class="php-comment">/**#@+
</span></span><span id="2578" class="l"><a class="l" href="#2578"> 2578: </a><span class="php-comment">     * Useful when you are overloading or extending SimplePie's default classes.
</span></span><span id="2579" class="l"><a class="l" href="#2579"> 2579: </a><span class="php-comment">     *
</span></span><span id="2580" class="l"><a class="l" href="#2580"> 2580: </a><span class="php-comment">     * @deprecated Use {@see get_registry()} instead
</span></span><span id="2581" class="l"><a class="l" href="#2581"> 2581: </a><span class="php-comment">     * @param string $class Name of custom class.
</span></span><span id="2582" class="l"><a class="l" href="#2582"> 2582: </a><span class="php-comment">     * @link http://php.net/manual/en/language.oop5.basic.php#language.oop5.basic.extends PHP5 extends documentation
</span></span><span id="2583" class="l"><a class="l" href="#2583"> 2583: </a><span class="php-comment">     */</span>
</span><span id="2584" class="l"><a class="l" href="#2584"> 2584: </a>    <span class="php-comment">/**
</span></span><span id="2585" class="l"><a class="l" href="#2585"> 2585: </a><span class="php-comment">     * Allows you to change which class SimplePie uses for caching.
</span></span><span id="2586" class="l"><a class="l" href="#2586"> 2586: </a><span class="php-comment">     */</span>
</span><span id="2587" class="l"><a class="l" href="#2587"> 2587: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_set_cache_class" href="#_set_cache_class">set_cache_class</a>(<span class="php-var">$class</span> = <span class="php-quote">'SimplePie_Cache'</span>)
</span><span id="2588" class="l"><a class="l" href="#2588"> 2588: </a>    {
</span><span id="2589" class="l"><a class="l" href="#2589"> 2589: </a>        <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;registry-&gt;register(<span class="php-quote">'Cache'</span>, <span class="php-var">$class</span>, <span class="php-keyword1">true</span>);
</span><span id="2590" class="l"><a class="l" href="#2590"> 2590: </a>    }
</span><span id="2591" class="l"><a class="l" href="#2591"> 2591: </a>
</span><span id="2592" class="l"><a class="l" href="#2592"> 2592: </a>    <span class="php-comment">/**
</span></span><span id="2593" class="l"><a class="l" href="#2593"> 2593: </a><span class="php-comment">     * Allows you to change which class SimplePie uses for auto-discovery.
</span></span><span id="2594" class="l"><a class="l" href="#2594"> 2594: </a><span class="php-comment">     */</span>
</span><span id="2595" class="l"><a class="l" href="#2595"> 2595: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_set_locator_class" href="#_set_locator_class">set_locator_class</a>(<span class="php-var">$class</span> = <span class="php-quote">'SimplePie_Locator'</span>)
</span><span id="2596" class="l"><a class="l" href="#2596"> 2596: </a>    {
</span><span id="2597" class="l"><a class="l" href="#2597"> 2597: </a>        <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;registry-&gt;register(<span class="php-quote">'Locator'</span>, <span class="php-var">$class</span>, <span class="php-keyword1">true</span>);
</span><span id="2598" class="l"><a class="l" href="#2598"> 2598: </a>    }
</span><span id="2599" class="l"><a class="l" href="#2599"> 2599: </a>
</span><span id="2600" class="l"><a class="l" href="#2600"> 2600: </a>    <span class="php-comment">/**
</span></span><span id="2601" class="l"><a class="l" href="#2601"> 2601: </a><span class="php-comment">     * Allows you to change which class SimplePie uses for XML parsing.
</span></span><span id="2602" class="l"><a class="l" href="#2602"> 2602: </a><span class="php-comment">     */</span>
</span><span id="2603" class="l"><a class="l" href="#2603"> 2603: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_set_parser_class" href="#_set_parser_class">set_parser_class</a>(<span class="php-var">$class</span> = <span class="php-quote">'SimplePie_Parser'</span>)
</span><span id="2604" class="l"><a class="l" href="#2604"> 2604: </a>    {
</span><span id="2605" class="l"><a class="l" href="#2605"> 2605: </a>        <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;registry-&gt;register(<span class="php-quote">'Parser'</span>, <span class="php-var">$class</span>, <span class="php-keyword1">true</span>);
</span><span id="2606" class="l"><a class="l" href="#2606"> 2606: </a>    }
</span><span id="2607" class="l"><a class="l" href="#2607"> 2607: </a>
</span><span id="2608" class="l"><a class="l" href="#2608"> 2608: </a>    <span class="php-comment">/**
</span></span><span id="2609" class="l"><a class="l" href="#2609"> 2609: </a><span class="php-comment">     * Allows you to change which class SimplePie uses for remote file fetching.
</span></span><span id="2610" class="l"><a class="l" href="#2610"> 2610: </a><span class="php-comment">     */</span>
</span><span id="2611" class="l"><a class="l" href="#2611"> 2611: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_set_file_class" href="#_set_file_class">set_file_class</a>(<span class="php-var">$class</span> = <span class="php-quote">'SimplePie_File'</span>)
</span><span id="2612" class="l"><a class="l" href="#2612"> 2612: </a>    {
</span><span id="2613" class="l"><a class="l" href="#2613"> 2613: </a>        <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;registry-&gt;register(<span class="php-quote">'File'</span>, <span class="php-var">$class</span>, <span class="php-keyword1">true</span>);
</span><span id="2614" class="l"><a class="l" href="#2614"> 2614: </a>    }
</span><span id="2615" class="l"><a class="l" href="#2615"> 2615: </a>
</span><span id="2616" class="l"><a class="l" href="#2616"> 2616: </a>    <span class="php-comment">/**
</span></span><span id="2617" class="l"><a class="l" href="#2617"> 2617: </a><span class="php-comment">     * Allows you to change which class SimplePie uses for data sanitization.
</span></span><span id="2618" class="l"><a class="l" href="#2618"> 2618: </a><span class="php-comment">     */</span>
</span><span id="2619" class="l"><a class="l" href="#2619"> 2619: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_set_sanitize_class" href="#_set_sanitize_class">set_sanitize_class</a>(<span class="php-var">$class</span> = <span class="php-quote">'SimplePie_Sanitize'</span>)
</span><span id="2620" class="l"><a class="l" href="#2620"> 2620: </a>    {
</span><span id="2621" class="l"><a class="l" href="#2621"> 2621: </a>        <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;registry-&gt;register(<span class="php-quote">'Sanitize'</span>, <span class="php-var">$class</span>, <span class="php-keyword1">true</span>);
</span><span id="2622" class="l"><a class="l" href="#2622"> 2622: </a>    }
</span><span id="2623" class="l"><a class="l" href="#2623"> 2623: </a>
</span><span id="2624" class="l"><a class="l" href="#2624"> 2624: </a>    <span class="php-comment">/**
</span></span><span id="2625" class="l"><a class="l" href="#2625"> 2625: </a><span class="php-comment">     * Allows you to change which class SimplePie uses for handling feed items.
</span></span><span id="2626" class="l"><a class="l" href="#2626"> 2626: </a><span class="php-comment">     */</span>
</span><span id="2627" class="l"><a class="l" href="#2627"> 2627: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_set_item_class" href="#_set_item_class">set_item_class</a>(<span class="php-var">$class</span> = <span class="php-quote">'SimplePie_Item'</span>)
</span><span id="2628" class="l"><a class="l" href="#2628"> 2628: </a>    {
</span><span id="2629" class="l"><a class="l" href="#2629"> 2629: </a>        <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;registry-&gt;register(<span class="php-quote">'Item'</span>, <span class="php-var">$class</span>, <span class="php-keyword1">true</span>);
</span><span id="2630" class="l"><a class="l" href="#2630"> 2630: </a>    }
</span><span id="2631" class="l"><a class="l" href="#2631"> 2631: </a>
</span><span id="2632" class="l"><a class="l" href="#2632"> 2632: </a>    <span class="php-comment">/**
</span></span><span id="2633" class="l"><a class="l" href="#2633"> 2633: </a><span class="php-comment">     * Allows you to change which class SimplePie uses for handling author data.
</span></span><span id="2634" class="l"><a class="l" href="#2634"> 2634: </a><span class="php-comment">     */</span>
</span><span id="2635" class="l"><a class="l" href="#2635"> 2635: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_set_author_class" href="#_set_author_class">set_author_class</a>(<span class="php-var">$class</span> = <span class="php-quote">'SimplePie_Author'</span>)
</span><span id="2636" class="l"><a class="l" href="#2636"> 2636: </a>    {
</span><span id="2637" class="l"><a class="l" href="#2637"> 2637: </a>        <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;registry-&gt;register(<span class="php-quote">'Author'</span>, <span class="php-var">$class</span>, <span class="php-keyword1">true</span>);
</span><span id="2638" class="l"><a class="l" href="#2638"> 2638: </a>    }
</span><span id="2639" class="l"><a class="l" href="#2639"> 2639: </a>
</span><span id="2640" class="l"><a class="l" href="#2640"> 2640: </a>    <span class="php-comment">/**
</span></span><span id="2641" class="l"><a class="l" href="#2641"> 2641: </a><span class="php-comment">     * Allows you to change which class SimplePie uses for handling category data.
</span></span><span id="2642" class="l"><a class="l" href="#2642"> 2642: </a><span class="php-comment">     */</span>
</span><span id="2643" class="l"><a class="l" href="#2643"> 2643: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_set_category_class" href="#_set_category_class">set_category_class</a>(<span class="php-var">$class</span> = <span class="php-quote">'SimplePie_Category'</span>)
</span><span id="2644" class="l"><a class="l" href="#2644"> 2644: </a>    {
</span><span id="2645" class="l"><a class="l" href="#2645"> 2645: </a>        <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;registry-&gt;register(<span class="php-quote">'Category'</span>, <span class="php-var">$class</span>, <span class="php-keyword1">true</span>);
</span><span id="2646" class="l"><a class="l" href="#2646"> 2646: </a>    }
</span><span id="2647" class="l"><a class="l" href="#2647"> 2647: </a>
</span><span id="2648" class="l"><a class="l" href="#2648"> 2648: </a>    <span class="php-comment">/**
</span></span><span id="2649" class="l"><a class="l" href="#2649"> 2649: </a><span class="php-comment">     * Allows you to change which class SimplePie uses for feed enclosures.
</span></span><span id="2650" class="l"><a class="l" href="#2650"> 2650: </a><span class="php-comment">     */</span>
</span><span id="2651" class="l"><a class="l" href="#2651"> 2651: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_set_enclosure_class" href="#_set_enclosure_class">set_enclosure_class</a>(<span class="php-var">$class</span> = <span class="php-quote">'SimplePie_Enclosure'</span>)
</span><span id="2652" class="l"><a class="l" href="#2652"> 2652: </a>    {
</span><span id="2653" class="l"><a class="l" href="#2653"> 2653: </a>        <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;registry-&gt;register(<span class="php-quote">'Enclosure'</span>, <span class="php-var">$class</span>, <span class="php-keyword1">true</span>);
</span><span id="2654" class="l"><a class="l" href="#2654"> 2654: </a>    }
</span><span id="2655" class="l"><a class="l" href="#2655"> 2655: </a>
</span><span id="2656" class="l"><a class="l" href="#2656"> 2656: </a>    <span class="php-comment">/**
</span></span><span id="2657" class="l"><a class="l" href="#2657"> 2657: </a><span class="php-comment">     * Allows you to change which class SimplePie uses for &lt;media:text&gt; captions
</span></span><span id="2658" class="l"><a class="l" href="#2658"> 2658: </a><span class="php-comment">     */</span>
</span><span id="2659" class="l"><a class="l" href="#2659"> 2659: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_set_caption_class" href="#_set_caption_class">set_caption_class</a>(<span class="php-var">$class</span> = <span class="php-quote">'SimplePie_Caption'</span>)
</span><span id="2660" class="l"><a class="l" href="#2660"> 2660: </a>    {
</span><span id="2661" class="l"><a class="l" href="#2661"> 2661: </a>        <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;registry-&gt;register(<span class="php-quote">'Caption'</span>, <span class="php-var">$class</span>, <span class="php-keyword1">true</span>);
</span><span id="2662" class="l"><a class="l" href="#2662"> 2662: </a>    }
</span><span id="2663" class="l"><a class="l" href="#2663"> 2663: </a>
</span><span id="2664" class="l"><a class="l" href="#2664"> 2664: </a>    <span class="php-comment">/**
</span></span><span id="2665" class="l"><a class="l" href="#2665"> 2665: </a><span class="php-comment">     * Allows you to change which class SimplePie uses for &lt;media:copyright&gt;
</span></span><span id="2666" class="l"><a class="l" href="#2666"> 2666: </a><span class="php-comment">     */</span>
</span><span id="2667" class="l"><a class="l" href="#2667"> 2667: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_set_copyright_class" href="#_set_copyright_class">set_copyright_class</a>(<span class="php-var">$class</span> = <span class="php-quote">'SimplePie_Copyright'</span>)
</span><span id="2668" class="l"><a class="l" href="#2668"> 2668: </a>    {
</span><span id="2669" class="l"><a class="l" href="#2669"> 2669: </a>        <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;registry-&gt;register(<span class="php-quote">'Copyright'</span>, <span class="php-var">$class</span>, <span class="php-keyword1">true</span>);
</span><span id="2670" class="l"><a class="l" href="#2670"> 2670: </a>    }
</span><span id="2671" class="l"><a class="l" href="#2671"> 2671: </a>
</span><span id="2672" class="l"><a class="l" href="#2672"> 2672: </a>    <span class="php-comment">/**
</span></span><span id="2673" class="l"><a class="l" href="#2673"> 2673: </a><span class="php-comment">     * Allows you to change which class SimplePie uses for &lt;media:credit&gt;
</span></span><span id="2674" class="l"><a class="l" href="#2674"> 2674: </a><span class="php-comment">     */</span>
</span><span id="2675" class="l"><a class="l" href="#2675"> 2675: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_set_credit_class" href="#_set_credit_class">set_credit_class</a>(<span class="php-var">$class</span> = <span class="php-quote">'SimplePie_Credit'</span>)
</span><span id="2676" class="l"><a class="l" href="#2676"> 2676: </a>    {
</span><span id="2677" class="l"><a class="l" href="#2677"> 2677: </a>        <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;registry-&gt;register(<span class="php-quote">'Credit'</span>, <span class="php-var">$class</span>, <span class="php-keyword1">true</span>);
</span><span id="2678" class="l"><a class="l" href="#2678"> 2678: </a>    }
</span><span id="2679" class="l"><a class="l" href="#2679"> 2679: </a>
</span><span id="2680" class="l"><a class="l" href="#2680"> 2680: </a>    <span class="php-comment">/**
</span></span><span id="2681" class="l"><a class="l" href="#2681"> 2681: </a><span class="php-comment">     * Allows you to change which class SimplePie uses for &lt;media:rating&gt;
</span></span><span id="2682" class="l"><a class="l" href="#2682"> 2682: </a><span class="php-comment">     */</span>
</span><span id="2683" class="l"><a class="l" href="#2683"> 2683: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_set_rating_class" href="#_set_rating_class">set_rating_class</a>(<span class="php-var">$class</span> = <span class="php-quote">'SimplePie_Rating'</span>)
</span><span id="2684" class="l"><a class="l" href="#2684"> 2684: </a>    {
</span><span id="2685" class="l"><a class="l" href="#2685"> 2685: </a>        <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;registry-&gt;register(<span class="php-quote">'Rating'</span>, <span class="php-var">$class</span>, <span class="php-keyword1">true</span>);
</span><span id="2686" class="l"><a class="l" href="#2686"> 2686: </a>    }
</span><span id="2687" class="l"><a class="l" href="#2687"> 2687: </a>
</span><span id="2688" class="l"><a class="l" href="#2688"> 2688: </a>    <span class="php-comment">/**
</span></span><span id="2689" class="l"><a class="l" href="#2689"> 2689: </a><span class="php-comment">     * Allows you to change which class SimplePie uses for &lt;media:restriction&gt;
</span></span><span id="2690" class="l"><a class="l" href="#2690"> 2690: </a><span class="php-comment">     */</span>
</span><span id="2691" class="l"><a class="l" href="#2691"> 2691: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_set_restriction_class" href="#_set_restriction_class">set_restriction_class</a>(<span class="php-var">$class</span> = <span class="php-quote">'SimplePie_Restriction'</span>)
</span><span id="2692" class="l"><a class="l" href="#2692"> 2692: </a>    {
</span><span id="2693" class="l"><a class="l" href="#2693"> 2693: </a>        <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;registry-&gt;register(<span class="php-quote">'Restriction'</span>, <span class="php-var">$class</span>, <span class="php-keyword1">true</span>);
</span><span id="2694" class="l"><a class="l" href="#2694"> 2694: </a>    }
</span><span id="2695" class="l"><a class="l" href="#2695"> 2695: </a>
</span><span id="2696" class="l"><a class="l" href="#2696"> 2696: </a>    <span class="php-comment">/**
</span></span><span id="2697" class="l"><a class="l" href="#2697"> 2697: </a><span class="php-comment">     * Allows you to change which class SimplePie uses for content-type sniffing.
</span></span><span id="2698" class="l"><a class="l" href="#2698"> 2698: </a><span class="php-comment">     */</span>
</span><span id="2699" class="l"><a class="l" href="#2699"> 2699: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_set_content_type_sniffer_class" href="#_set_content_type_sniffer_class">set_content_type_sniffer_class</a>(<span class="php-var">$class</span> = <span class="php-quote">'SimplePie_Content_Type_Sniffer'</span>)
</span><span id="2700" class="l"><a class="l" href="#2700"> 2700: </a>    {
</span><span id="2701" class="l"><a class="l" href="#2701"> 2701: </a>        <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;registry-&gt;register(<span class="php-quote">'Content_Type_Sniffer'</span>, <span class="php-var">$class</span>, <span class="php-keyword1">true</span>);
</span><span id="2702" class="l"><a class="l" href="#2702"> 2702: </a>    }
</span><span id="2703" class="l"><a class="l" href="#2703"> 2703: </a>
</span><span id="2704" class="l"><a class="l" href="#2704"> 2704: </a>    <span class="php-comment">/**
</span></span><span id="2705" class="l"><a class="l" href="#2705"> 2705: </a><span class="php-comment">     * Allows you to change which class SimplePie uses item sources.
</span></span><span id="2706" class="l"><a class="l" href="#2706"> 2706: </a><span class="php-comment">     */</span>
</span><span id="2707" class="l"><a class="l" href="#2707"> 2707: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_set_source_class" href="#_set_source_class">set_source_class</a>(<span class="php-var">$class</span> = <span class="php-quote">'SimplePie_Source'</span>)
</span><span id="2708" class="l"><a class="l" href="#2708"> 2708: </a>    {
</span><span id="2709" class="l"><a class="l" href="#2709"> 2709: </a>        <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;registry-&gt;register(<span class="php-quote">'Source'</span>, <span class="php-var">$class</span>, <span class="php-keyword1">true</span>);
</span><span id="2710" class="l"><a class="l" href="#2710"> 2710: </a>    }
</span><span id="2711" class="l"><a class="l" href="#2711"> 2711: </a>    <span class="php-comment">/**#@-*/</span>
</span><span id="2712" class="l"><a class="l" href="#2712"> 2712: </a>
</span><span id="2713" class="l"><a class="l" href="#2713"> 2713: </a>    <span class="php-comment">/**
</span></span><span id="2714" class="l"><a class="l" href="#2714"> 2714: </a><span class="php-comment">     * Allows you to override the default user agent string.
</span></span><span id="2715" class="l"><a class="l" href="#2715"> 2715: </a><span class="php-comment">     *
</span></span><span id="2716" class="l"><a class="l" href="#2716"> 2716: </a><span class="php-comment">     * @access public
</span></span><span id="2717" class="l"><a class="l" href="#2717"> 2717: </a><span class="php-comment">     * @param string $ua New user agent string.
</span></span><span id="2718" class="l"><a class="l" href="#2718"> 2718: </a><span class="php-comment">     */</span>
</span><span id="2719" class="l"><a class="l" href="#2719"> 2719: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_set_useragent" href="#_set_useragent">set_useragent</a>(<span class="php-var">$ua</span> = SIMPLEPIE_USERAGENT)
</span><span id="2720" class="l"><a class="l" href="#2720"> 2720: </a>    {
</span><span id="2721" class="l"><a class="l" href="#2721"> 2721: </a>        <span class="php-var">$this</span>-&gt;useragent = (string) <span class="php-var">$ua</span>;
</span><span id="2722" class="l"><a class="l" href="#2722"> 2722: </a>    }
</span><span id="2723" class="l"><a class="l" href="#2723"> 2723: </a>
</span><span id="2724" class="l"><a class="l" href="#2724"> 2724: </a>    <span class="php-comment">/**
</span></span><span id="2725" class="l"><a class="l" href="#2725"> 2725: </a><span class="php-comment">     * Set callback function to create cache filename with
</span></span><span id="2726" class="l"><a class="l" href="#2726"> 2726: </a><span class="php-comment">     *
</span></span><span id="2727" class="l"><a class="l" href="#2727"> 2727: </a><span class="php-comment">     * @access public
</span></span><span id="2728" class="l"><a class="l" href="#2728"> 2728: </a><span class="php-comment">     * @param mixed $function Callback function
</span></span><span id="2729" class="l"><a class="l" href="#2729"> 2729: </a><span class="php-comment">     */</span>
</span><span id="2730" class="l"><a class="l" href="#2730"> 2730: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_set_cache_name_function" href="#_set_cache_name_function">set_cache_name_function</a>(<span class="php-var">$function</span> = <span class="php-quote">'md5'</span>)
</span><span id="2731" class="l"><a class="l" href="#2731"> 2731: </a>    {
</span><span id="2732" class="l"><a class="l" href="#2732"> 2732: </a>        <span class="php-keyword1">if</span> (<span class="php-keyword2">is_callable</span>(<span class="php-var">$function</span>))
</span><span id="2733" class="l"><a class="l" href="#2733"> 2733: </a>        {
</span><span id="2734" class="l"><a class="l" href="#2734"> 2734: </a>            <span class="php-var">$this</span>-&gt;cache_name_function = <span class="php-var">$function</span>;
</span><span id="2735" class="l"><a class="l" href="#2735"> 2735: </a>        }
</span><span id="2736" class="l"><a class="l" href="#2736"> 2736: </a>    }
</span><span id="2737" class="l"><a class="l" href="#2737"> 2737: </a>
</span><span id="2738" class="l"><a class="l" href="#2738"> 2738: </a>    <span class="php-comment">/**
</span></span><span id="2739" class="l"><a class="l" href="#2739"> 2739: </a><span class="php-comment">     * Set options to make SP as fast as possible.  Forgoes a
</span></span><span id="2740" class="l"><a class="l" href="#2740"> 2740: </a><span class="php-comment">     * substantial amount of data sanitization in favor of speed.
</span></span><span id="2741" class="l"><a class="l" href="#2741"> 2741: </a><span class="php-comment">     *
</span></span><span id="2742" class="l"><a class="l" href="#2742"> 2742: </a><span class="php-comment">     * @access public
</span></span><span id="2743" class="l"><a class="l" href="#2743"> 2743: </a><span class="php-comment">     * @param bool $set Whether to set them or not
</span></span><span id="2744" class="l"><a class="l" href="#2744"> 2744: </a><span class="php-comment">     */</span>
</span><span id="2745" class="l"><a class="l" href="#2745"> 2745: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_set_stupidly_fast" href="#_set_stupidly_fast">set_stupidly_fast</a>(<span class="php-var">$set</span> = <span class="php-keyword1">false</span>)
</span><span id="2746" class="l"><a class="l" href="#2746"> 2746: </a>    {
</span><span id="2747" class="l"><a class="l" href="#2747"> 2747: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$set</span>)
</span><span id="2748" class="l"><a class="l" href="#2748"> 2748: </a>        {
</span><span id="2749" class="l"><a class="l" href="#2749"> 2749: </a>            <span class="php-var">$this</span>-&gt;enable_order_by_date(<span class="php-keyword1">false</span>);
</span><span id="2750" class="l"><a class="l" href="#2750"> 2750: </a>            <span class="php-var">$this</span>-&gt;remove_div(<span class="php-keyword1">false</span>);
</span><span id="2751" class="l"><a class="l" href="#2751"> 2751: </a>            <span class="php-var">$this</span>-&gt;strip_comments(<span class="php-keyword1">false</span>);
</span><span id="2752" class="l"><a class="l" href="#2752"> 2752: </a>            <span class="php-var">$this</span>-&gt;strip_htmltags(<span class="php-keyword1">false</span>);
</span><span id="2753" class="l"><a class="l" href="#2753"> 2753: </a>            <span class="php-var">$this</span>-&gt;strip_attributes(<span class="php-keyword1">false</span>);
</span><span id="2754" class="l"><a class="l" href="#2754"> 2754: </a>            <span class="php-var">$this</span>-&gt;set_image_handler(<span class="php-keyword1">false</span>);
</span><span id="2755" class="l"><a class="l" href="#2755"> 2755: </a>        }
</span><span id="2756" class="l"><a class="l" href="#2756"> 2756: </a>    }
</span><span id="2757" class="l"><a class="l" href="#2757"> 2757: </a>
</span><span id="2758" class="l"><a class="l" href="#2758"> 2758: </a>    <span class="php-comment">/**
</span></span><span id="2759" class="l"><a class="l" href="#2759"> 2759: </a><span class="php-comment">     * Set maximum number of feeds to check with autodiscovery
</span></span><span id="2760" class="l"><a class="l" href="#2760"> 2760: </a><span class="php-comment">     *
</span></span><span id="2761" class="l"><a class="l" href="#2761"> 2761: </a><span class="php-comment">     * @access public
</span></span><span id="2762" class="l"><a class="l" href="#2762"> 2762: </a><span class="php-comment">     * @param int $max Maximum number of feeds to check
</span></span><span id="2763" class="l"><a class="l" href="#2763"> 2763: </a><span class="php-comment">     */</span>
</span><span id="2764" class="l"><a class="l" href="#2764"> 2764: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_set_max_checked_feeds" href="#_set_max_checked_feeds">set_max_checked_feeds</a>(<span class="php-var">$max</span> = <span class="php-num">10</span>)
</span><span id="2765" class="l"><a class="l" href="#2765"> 2765: </a>    {
</span><span id="2766" class="l"><a class="l" href="#2766"> 2766: </a>        <span class="php-var">$this</span>-&gt;max_checked_feeds = (int) <span class="php-var">$max</span>;
</span><span id="2767" class="l"><a class="l" href="#2767"> 2767: </a>    }
</span><span id="2768" class="l"><a class="l" href="#2768"> 2768: </a>
</span><span id="2769" class="l"><a class="l" href="#2769"> 2769: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_remove_div" href="#_remove_div">remove_div</a>(<span class="php-var">$enable</span> = <span class="php-keyword1">true</span>)
</span><span id="2770" class="l"><a class="l" href="#2770"> 2770: </a>    {
</span><span id="2771" class="l"><a class="l" href="#2771"> 2771: </a>        <span class="php-var">$this</span>-&gt;sanitize-&gt;remove_div(<span class="php-var">$enable</span>);
</span><span id="2772" class="l"><a class="l" href="#2772"> 2772: </a>    }
</span><span id="2773" class="l"><a class="l" href="#2773"> 2773: </a>
</span><span id="2774" class="l"><a class="l" href="#2774"> 2774: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_strip_htmltags" href="#_strip_htmltags">strip_htmltags</a>(<span class="php-var">$tags</span> = <span class="php-quote">''</span>, <span class="php-var">$encode</span> = <span class="php-keyword1">null</span>)
</span><span id="2775" class="l"><a class="l" href="#2775"> 2775: </a>    {
</span><span id="2776" class="l"><a class="l" href="#2776"> 2776: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$tags</span> === <span class="php-quote">''</span>)
</span><span id="2777" class="l"><a class="l" href="#2777"> 2777: </a>        {
</span><span id="2778" class="l"><a class="l" href="#2778"> 2778: </a>            <span class="php-var">$tags</span> = <span class="php-var">$this</span>-&gt;strip_htmltags;
</span><span id="2779" class="l"><a class="l" href="#2779"> 2779: </a>        }
</span><span id="2780" class="l"><a class="l" href="#2780"> 2780: </a>        <span class="php-var">$this</span>-&gt;sanitize-&gt;strip_htmltags(<span class="php-var">$tags</span>);
</span><span id="2781" class="l"><a class="l" href="#2781"> 2781: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$encode</span> !== <span class="php-keyword1">null</span>)
</span><span id="2782" class="l"><a class="l" href="#2782"> 2782: </a>        {
</span><span id="2783" class="l"><a class="l" href="#2783"> 2783: </a>            <span class="php-var">$this</span>-&gt;sanitize-&gt;encode_instead_of_strip(<span class="php-var">$tags</span>);
</span><span id="2784" class="l"><a class="l" href="#2784"> 2784: </a>        }
</span><span id="2785" class="l"><a class="l" href="#2785"> 2785: </a>    }
</span><span id="2786" class="l"><a class="l" href="#2786"> 2786: </a>
</span><span id="2787" class="l"><a class="l" href="#2787"> 2787: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_encode_instead_of_strip" href="#_encode_instead_of_strip">encode_instead_of_strip</a>(<span class="php-var">$enable</span> = <span class="php-keyword1">true</span>)
</span><span id="2788" class="l"><a class="l" href="#2788"> 2788: </a>    {
</span><span id="2789" class="l"><a class="l" href="#2789"> 2789: </a>        <span class="php-var">$this</span>-&gt;sanitize-&gt;encode_instead_of_strip(<span class="php-var">$enable</span>);
</span><span id="2790" class="l"><a class="l" href="#2790"> 2790: </a>    }
</span><span id="2791" class="l"><a class="l" href="#2791"> 2791: </a>
</span><span id="2792" class="l"><a class="l" href="#2792"> 2792: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_strip_attributes" href="#_strip_attributes">strip_attributes</a>(<span class="php-var">$attribs</span> = <span class="php-quote">''</span>)
</span><span id="2793" class="l"><a class="l" href="#2793"> 2793: </a>    {
</span><span id="2794" class="l"><a class="l" href="#2794"> 2794: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$attribs</span> === <span class="php-quote">''</span>)
</span><span id="2795" class="l"><a class="l" href="#2795"> 2795: </a>        {
</span><span id="2796" class="l"><a class="l" href="#2796"> 2796: </a>            <span class="php-var">$attribs</span> = <span class="php-var">$this</span>-&gt;strip_attributes;
</span><span id="2797" class="l"><a class="l" href="#2797"> 2797: </a>        }
</span><span id="2798" class="l"><a class="l" href="#2798"> 2798: </a>        <span class="php-var">$this</span>-&gt;sanitize-&gt;strip_attributes(<span class="php-var">$attribs</span>);
</span><span id="2799" class="l"><a class="l" href="#2799"> 2799: </a>    }
</span><span id="2800" class="l"><a class="l" href="#2800"> 2800: </a>
</span><span id="2801" class="l"><a class="l" href="#2801"> 2801: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_set_output_encoding" href="#_set_output_encoding">set_output_encoding</a>(<span class="php-var">$encoding</span> = <span class="php-quote">'UTF-8'</span>)
</span><span id="2802" class="l"><a class="l" href="#2802"> 2802: </a>    {
</span><span id="2803" class="l"><a class="l" href="#2803"> 2803: </a>        <span class="php-var">$this</span>-&gt;sanitize-&gt;set_output_encoding(<span class="php-var">$encoding</span>);
</span><span id="2804" class="l"><a class="l" href="#2804"> 2804: </a>    }
</span><span id="2805" class="l"><a class="l" href="#2805"> 2805: </a>
</span><span id="2806" class="l"><a class="l" href="#2806"> 2806: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_strip_comments" href="#_strip_comments">strip_comments</a>(<span class="php-var">$strip</span> = <span class="php-keyword1">false</span>)
</span><span id="2807" class="l"><a class="l" href="#2807"> 2807: </a>    {
</span><span id="2808" class="l"><a class="l" href="#2808"> 2808: </a>        <span class="php-var">$this</span>-&gt;sanitize-&gt;strip_comments(<span class="php-var">$strip</span>);
</span><span id="2809" class="l"><a class="l" href="#2809"> 2809: </a>    }
</span><span id="2810" class="l"><a class="l" href="#2810"> 2810: </a>
</span><span id="2811" class="l"><a class="l" href="#2811"> 2811: </a>    <span class="php-comment">/**
</span></span><span id="2812" class="l"><a class="l" href="#2812"> 2812: </a><span class="php-comment">     * Set element/attribute key/value pairs of HTML attributes
</span></span><span id="2813" class="l"><a class="l" href="#2813"> 2813: </a><span class="php-comment">     * containing URLs that need to be resolved relative to the feed
</span></span><span id="2814" class="l"><a class="l" href="#2814"> 2814: </a><span class="php-comment">     *
</span></span><span id="2815" class="l"><a class="l" href="#2815"> 2815: </a><span class="php-comment">     * @access public
</span></span><span id="2816" class="l"><a class="l" href="#2816"> 2816: </a><span class="php-comment">     * @since 1.0
</span></span><span id="2817" class="l"><a class="l" href="#2817"> 2817: </a><span class="php-comment">     * @param array $element_attribute Element/attribute key/value pairs
</span></span><span id="2818" class="l"><a class="l" href="#2818"> 2818: </a><span class="php-comment">     */</span>
</span><span id="2819" class="l"><a class="l" href="#2819"> 2819: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_set_url_replacements" href="#_set_url_replacements">set_url_replacements</a>(<span class="php-var">$element_attribute</span> = <span class="php-keyword1">array</span>(<span class="php-quote">'a'</span> =&gt; <span class="php-quote">'href'</span>, <span class="php-quote">'area'</span> =&gt; <span class="php-quote">'href'</span>, <span class="php-quote">'blockquote'</span> =&gt; <span class="php-quote">'cite'</span>, <span class="php-quote">'del'</span> =&gt; <span class="php-quote">'cite'</span>, <span class="php-quote">'form'</span> =&gt; <span class="php-quote">'action'</span>, <span class="php-quote">'img'</span> =&gt; <span class="php-keyword1">array</span>(<span class="php-quote">'longdesc'</span>, <span class="php-quote">'src'</span>), <span class="php-quote">'input'</span> =&gt; <span class="php-quote">'src'</span>, <span class="php-quote">'ins'</span> =&gt; <span class="php-quote">'cite'</span>, <span class="php-quote">'q'</span> =&gt; <span class="php-quote">'cite'</span>))
</span><span id="2820" class="l"><a class="l" href="#2820"> 2820: </a>    {
</span><span id="2821" class="l"><a class="l" href="#2821"> 2821: </a>        <span class="php-var">$this</span>-&gt;sanitize-&gt;set_url_replacements(<span class="php-var">$element_attribute</span>);
</span><span id="2822" class="l"><a class="l" href="#2822"> 2822: </a>    }
</span><span id="2823" class="l"><a class="l" href="#2823"> 2823: </a>
</span><span id="2824" class="l"><a class="l" href="#2824"> 2824: </a>    <span class="php-comment">/**
</span></span><span id="2825" class="l"><a class="l" href="#2825"> 2825: </a><span class="php-comment">     * Set the handler to enable the display of cached images.
</span></span><span id="2826" class="l"><a class="l" href="#2826"> 2826: </a><span class="php-comment">     *
</span></span><span id="2827" class="l"><a class="l" href="#2827"> 2827: </a><span class="php-comment">     * @access public
</span></span><span id="2828" class="l"><a class="l" href="#2828"> 2828: </a><span class="php-comment">     * @param str $page Web-accessible path to the handler_image.php file.
</span></span><span id="2829" class="l"><a class="l" href="#2829"> 2829: </a><span class="php-comment">     * @param str $qs The query string that the value should be passed to.
</span></span><span id="2830" class="l"><a class="l" href="#2830"> 2830: </a><span class="php-comment">     */</span>
</span><span id="2831" class="l"><a class="l" href="#2831"> 2831: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_set_image_handler" href="#_set_image_handler">set_image_handler</a>(<span class="php-var">$page</span> = <span class="php-keyword1">false</span>, <span class="php-var">$qs</span> = <span class="php-quote">'i'</span>)
</span><span id="2832" class="l"><a class="l" href="#2832"> 2832: </a>    {
</span><span id="2833" class="l"><a class="l" href="#2833"> 2833: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$page</span> !== <span class="php-keyword1">false</span>)
</span><span id="2834" class="l"><a class="l" href="#2834"> 2834: </a>        {
</span><span id="2835" class="l"><a class="l" href="#2835"> 2835: </a>            <span class="php-var">$this</span>-&gt;sanitize-&gt;set_image_handler(<span class="php-var">$page</span> . <span class="php-quote">'?'</span> . <span class="php-var">$qs</span> . <span class="php-quote">'='</span>);
</span><span id="2836" class="l"><a class="l" href="#2836"> 2836: </a>        }
</span><span id="2837" class="l"><a class="l" href="#2837"> 2837: </a>        <span class="php-keyword1">else</span>
</span><span id="2838" class="l"><a class="l" href="#2838"> 2838: </a>        {
</span><span id="2839" class="l"><a class="l" href="#2839"> 2839: </a>            <span class="php-var">$this</span>-&gt;image_handler = <span class="php-quote">''</span>;
</span><span id="2840" class="l"><a class="l" href="#2840"> 2840: </a>        }
</span><span id="2841" class="l"><a class="l" href="#2841"> 2841: </a>    }
</span><span id="2842" class="l"><a class="l" href="#2842"> 2842: </a>
</span><span id="2843" class="l"><a class="l" href="#2843"> 2843: </a>    <span class="php-comment">/**
</span></span><span id="2844" class="l"><a class="l" href="#2844"> 2844: </a><span class="php-comment">     * Set the limit for items returned per-feed with multifeeds.
</span></span><span id="2845" class="l"><a class="l" href="#2845"> 2845: </a><span class="php-comment">     *
</span></span><span id="2846" class="l"><a class="l" href="#2846"> 2846: </a><span class="php-comment">     * @access public
</span></span><span id="2847" class="l"><a class="l" href="#2847"> 2847: </a><span class="php-comment">     * @param integer $limit The maximum number of items to return.
</span></span><span id="2848" class="l"><a class="l" href="#2848"> 2848: </a><span class="php-comment">     */</span>
</span><span id="2849" class="l"><a class="l" href="#2849"> 2849: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_set_item_limit" href="#_set_item_limit">set_item_limit</a>(<span class="php-var">$limit</span> = <span class="php-num">0</span>)
</span><span id="2850" class="l"><a class="l" href="#2850"> 2850: </a>    {
</span><span id="2851" class="l"><a class="l" href="#2851"> 2851: </a>        <span class="php-var">$this</span>-&gt;item_limit = (int) <span class="php-var">$limit</span>;
</span><span id="2852" class="l"><a class="l" href="#2852"> 2852: </a>    }
</span><span id="2853" class="l"><a class="l" href="#2853"> 2853: </a>
</span><span id="2854" class="l"><a class="l" href="#2854"> 2854: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_init" href="#_init">init</a>()
</span><span id="2855" class="l"><a class="l" href="#2855"> 2855: </a>    {
</span><span id="2856" class="l"><a class="l" href="#2856"> 2856: </a>        <span class="php-comment">// Check absolute bare minimum requirements.</span>
</span><span id="2857" class="l"><a class="l" href="#2857"> 2857: </a>        <span class="php-keyword1">if</span> ((<span class="php-keyword2">function_exists</span>(<span class="php-quote">'version_compare'</span>) &amp;&amp; <span class="php-keyword2">version_compare</span>(PHP_VERSION, <span class="php-quote">'5.0'</span>, <span class="php-quote">'&lt;'</span>)) || !<span class="php-keyword2">extension_loaded</span>(<span class="php-quote">'xml'</span>) || !<span class="php-keyword2">extension_loaded</span>(<span class="php-quote">'pcre'</span>))
</span><span id="2858" class="l"><a class="l" href="#2858"> 2858: </a>        {
</span><span id="2859" class="l"><a class="l" href="#2859"> 2859: </a>            <span class="php-keyword1">return</span> <span class="php-keyword1">false</span>;
</span><span id="2860" class="l"><a class="l" href="#2860"> 2860: </a>        }
</span><span id="2861" class="l"><a class="l" href="#2861"> 2861: </a>        <span class="php-comment">// Then check the xml extension is sane (i.e., libxml 2.7.x issue on PHP &lt; 5.2.9 and libxml 2.7.0 to 2.7.2 on any version) if we don't have xmlreader.</span>
</span><span id="2862" class="l"><a class="l" href="#2862"> 2862: </a>        <span class="php-keyword1">elseif</span> (!<span class="php-keyword2">extension_loaded</span>(<span class="php-quote">'xmlreader'</span>))
</span><span id="2863" class="l"><a class="l" href="#2863"> 2863: </a>        {
</span><span id="2864" class="l"><a class="l" href="#2864"> 2864: </a>            <span class="php-keyword1">static</span> <span class="php-var"><a id="$xml_is_sane" href="#$xml_is_sane">$xml_is_sane</a></span> = <span class="php-keyword1">null</span>;
</span><span id="2865" class="l"><a class="l" href="#2865"> 2865: </a>            <span class="php-keyword1">if</span> (<span class="php-var">$xml_is_sane</span> === <span class="php-keyword1">null</span>)
</span><span id="2866" class="l"><a class="l" href="#2866"> 2866: </a>            {
</span><span id="2867" class="l"><a class="l" href="#2867"> 2867: </a>                <span class="php-var">$parser_check</span> = <span class="php-keyword2">xml_parser_create</span>();
</span><span id="2868" class="l"><a class="l" href="#2868"> 2868: </a>                <span class="php-keyword2">xml_parse_into_struct</span>(<span class="php-var">$parser_check</span>, <span class="php-quote">'&lt;foo&gt;&amp;amp;&lt;/foo&gt;'</span>, <span class="php-var">$values</span>);
</span><span id="2869" class="l"><a class="l" href="#2869"> 2869: </a>                <span class="php-keyword2">xml_parser_free</span>(<span class="php-var">$parser_check</span>);
</span><span id="2870" class="l"><a class="l" href="#2870"> 2870: </a>                <span class="php-var">$xml_is_sane</span> = <span class="php-keyword1">isset</span>(<span class="php-var">$values</span>[<span class="php-num">0</span>][<span class="php-quote">'value'</span>]);
</span><span id="2871" class="l"><a class="l" href="#2871"> 2871: </a>            }
</span><span id="2872" class="l"><a class="l" href="#2872"> 2872: </a>            <span class="php-keyword1">if</span> (!<span class="php-var">$xml_is_sane</span>)
</span><span id="2873" class="l"><a class="l" href="#2873"> 2873: </a>            {
</span><span id="2874" class="l"><a class="l" href="#2874"> 2874: </a>                <span class="php-keyword1">return</span> <span class="php-keyword1">false</span>;
</span><span id="2875" class="l"><a class="l" href="#2875"> 2875: </a>            }
</span><span id="2876" class="l"><a class="l" href="#2876"> 2876: </a>        }
</span><span id="2877" class="l"><a class="l" href="#2877"> 2877: </a>
</span><span id="2878" class="l"><a class="l" href="#2878"> 2878: </a>        <span class="php-keyword1">if</span> (<span class="php-keyword2">method_exists</span>(<span class="php-var">$this</span>-&gt;sanitize, <span class="php-quote">'set_registry'</span>))
</span><span id="2879" class="l"><a class="l" href="#2879"> 2879: </a>        {
</span><span id="2880" class="l"><a class="l" href="#2880"> 2880: </a>            <span class="php-var">$this</span>-&gt;sanitize-&gt;set_registry(<span class="php-var">$this</span>-&gt;registry);
</span><span id="2881" class="l"><a class="l" href="#2881"> 2881: </a>        }
</span><span id="2882" class="l"><a class="l" href="#2882"> 2882: </a>
</span><span id="2883" class="l"><a class="l" href="#2883"> 2883: </a>        <span class="php-comment">// Pass whatever was set with config options over to the sanitizer.</span>
</span><span id="2884" class="l"><a class="l" href="#2884"> 2884: </a>        <span class="php-comment">// Pass the classes in for legacy support; new classes should use the registry instead</span>
</span><span id="2885" class="l"><a class="l" href="#2885"> 2885: </a>        <span class="php-comment">//$this-&gt;sanitize-&gt;pass_cache_data($this-&gt;cache, $this-&gt;cache_location, $this-&gt;cache_name_function, $this-&gt;registry-&gt;get_class('Cache'));</span>
</span><span id="2886" class="l"><a class="l" href="#2886"> 2886: </a>        <span class="php-var">$this</span>-&gt;sanitize-&gt;pass_file_data(<span class="php-var">$this</span>-&gt;registry-&gt;<span class="php-keyword2">get_class</span>(<span class="php-quote">'File'</span>), <span class="php-var">$this</span>-&gt;timeout, <span class="php-var">$this</span>-&gt;useragent, <span class="php-var">$this</span>-&gt;force_fsockopen);
</span><span id="2887" class="l"><a class="l" href="#2887"> 2887: </a>
</span><span id="2888" class="l"><a class="l" href="#2888"> 2888: </a>        <span class="php-keyword1">if</span> (!<span class="php-keyword1">empty</span>(<span class="php-var">$this</span>-&gt;multifeed_url))
</span><span id="2889" class="l"><a class="l" href="#2889"> 2889: </a>        {
</span><span id="2890" class="l"><a class="l" href="#2890"> 2890: </a>            <span class="php-var">$i</span> = <span class="php-num">0</span>;
</span><span id="2891" class="l"><a class="l" href="#2891"> 2891: </a>            <span class="php-var">$success</span> = <span class="php-num">0</span>;
</span><span id="2892" class="l"><a class="l" href="#2892"> 2892: </a>            <span class="php-var">$this</span>-&gt;multifeed_objects = <span class="php-keyword1">array</span>();
</span><span id="2893" class="l"><a class="l" href="#2893"> 2893: </a>            <span class="php-keyword1">foreach</span> (<span class="php-var">$this</span>-&gt;multifeed_url <span class="php-keyword1">as</span> <span class="php-var">$url</span>)
</span><span id="2894" class="l"><a class="l" href="#2894"> 2894: </a>            {
</span><span id="2895" class="l"><a class="l" href="#2895"> 2895: </a>                <span class="php-var">$this</span>-&gt;multifeed_objects[<span class="php-var">$i</span>] = <span class="php-keyword1">clone</span> <span class="php-var">$this</span>;
</span><span id="2896" class="l"><a class="l" href="#2896"> 2896: </a>                <span class="php-var">$this</span>-&gt;multifeed_objects[<span class="php-var">$i</span>]-&gt;set_feed_url(<span class="php-var">$url</span>);
</span><span id="2897" class="l"><a class="l" href="#2897"> 2897: </a>                <span class="php-var">$success</span> |= <span class="php-var">$this</span>-&gt;multifeed_objects[<span class="php-var">$i</span>]-&gt;init();
</span><span id="2898" class="l"><a class="l" href="#2898"> 2898: </a>                <span class="php-var">$i</span>++;
</span><span id="2899" class="l"><a class="l" href="#2899"> 2899: </a>            }
</span><span id="2900" class="l"><a class="l" href="#2900"> 2900: </a>            <span class="php-keyword1">return</span> (bool) <span class="php-var">$success</span>;
</span><span id="2901" class="l"><a class="l" href="#2901"> 2901: </a>        }
</span><span id="2902" class="l"><a class="l" href="#2902"> 2902: </a>        <span class="php-keyword1">elseif</span> (<span class="php-var">$this</span>-&gt;feed_url === <span class="php-keyword1">null</span> &amp;&amp; <span class="php-var">$this</span>-&gt;raw_data === <span class="php-keyword1">null</span>)
</span><span id="2903" class="l"><a class="l" href="#2903"> 2903: </a>        {
</span><span id="2904" class="l"><a class="l" href="#2904"> 2904: </a>            <span class="php-keyword1">return</span> <span class="php-keyword1">false</span>;
</span><span id="2905" class="l"><a class="l" href="#2905"> 2905: </a>        }
</span><span id="2906" class="l"><a class="l" href="#2906"> 2906: </a>
</span><span id="2907" class="l"><a class="l" href="#2907"> 2907: </a>        <span class="php-var">$this</span>-&gt;error = <span class="php-keyword1">null</span>;
</span><span id="2908" class="l"><a class="l" href="#2908"> 2908: </a>        <span class="php-var">$this</span>-&gt;data = <span class="php-keyword1">array</span>();
</span><span id="2909" class="l"><a class="l" href="#2909"> 2909: </a>        <span class="php-var">$this</span>-&gt;multifeed_objects = <span class="php-keyword1">array</span>();
</span><span id="2910" class="l"><a class="l" href="#2910"> 2910: </a>        <span class="php-var">$cache</span> = <span class="php-keyword1">false</span>;
</span><span id="2911" class="l"><a class="l" href="#2911"> 2911: </a>
</span><span id="2912" class="l"><a class="l" href="#2912"> 2912: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$this</span>-&gt;feed_url !== <span class="php-keyword1">null</span>)
</span><span id="2913" class="l"><a class="l" href="#2913"> 2913: </a>        {
</span><span id="2914" class="l"><a class="l" href="#2914"> 2914: </a>            <span class="php-var">$parsed_feed_url</span> = <span class="php-var">$this</span>-&gt;registry-&gt;call(<span class="php-quote">'Misc'</span>, <span class="php-quote">'parse_url'</span>, <span class="php-keyword1">array</span>(<span class="php-var">$this</span>-&gt;feed_url));
</span><span id="2915" class="l"><a class="l" href="#2915"> 2915: </a>            <span class="php-comment">// Decide whether to enable caching</span>
</span><span id="2916" class="l"><a class="l" href="#2916"> 2916: </a>            <span class="php-keyword1">if</span> (<span class="php-var">$this</span>-&gt;cache &amp;&amp; <span class="php-var">$parsed_feed_url</span>[<span class="php-quote">'scheme'</span>] !== <span class="php-quote">''</span>)
</span><span id="2917" class="l"><a class="l" href="#2917"> 2917: </a>            {
</span><span id="2918" class="l"><a class="l" href="#2918"> 2918: </a>                <span class="php-var">$cache</span> = <span class="php-var">$this</span>-&gt;registry-&gt;call(<span class="php-quote">'Cache'</span>, <span class="php-quote">'create'</span>, <span class="php-keyword1">array</span>(<span class="php-var">$this</span>-&gt;cache_location, <span class="php-keyword2">call_user_func</span>(<span class="php-var">$this</span>-&gt;cache_name_function, <span class="php-var">$this</span>-&gt;feed_url), <span class="php-quote">'spc'</span>));
</span><span id="2919" class="l"><a class="l" href="#2919"> 2919: </a>            }
</span><span id="2920" class="l"><a class="l" href="#2920"> 2920: </a>            <span class="php-comment">// If it's enabled and we don't want an XML dump, use the cache</span>
</span><span id="2921" class="l"><a class="l" href="#2921"> 2921: </a>            <span class="php-keyword1">if</span> (<span class="php-var">$cache</span> &amp;&amp; !<span class="php-var">$this</span>-&gt;xml_dump)
</span><span id="2922" class="l"><a class="l" href="#2922"> 2922: </a>            {
</span><span id="2923" class="l"><a class="l" href="#2923"> 2923: </a>                <span class="php-comment">// Load the Cache</span>
</span><span id="2924" class="l"><a class="l" href="#2924"> 2924: </a>                <span class="php-var">$this</span>-&gt;data = <span class="php-var">$cache</span>-&gt;load();
</span><span id="2925" class="l"><a class="l" href="#2925"> 2925: </a>                <span class="php-keyword1">if</span> (!<span class="php-keyword1">empty</span>(<span class="php-var">$this</span>-&gt;data))
</span><span id="2926" class="l"><a class="l" href="#2926"> 2926: </a>                {
</span><span id="2927" class="l"><a class="l" href="#2927"> 2927: </a>                    <span class="php-comment">// If the cache is for an outdated build of SimplePie</span>
</span><span id="2928" class="l"><a class="l" href="#2928"> 2928: </a>                    <span class="php-keyword1">if</span> (!<span class="php-keyword1">isset</span>(<span class="php-var">$this</span>-&gt;data[<span class="php-quote">'build'</span>]) || <span class="php-var">$this</span>-&gt;data[<span class="php-quote">'build'</span>] !== SIMPLEPIE_BUILD)
</span><span id="2929" class="l"><a class="l" href="#2929"> 2929: </a>                    {
</span><span id="2930" class="l"><a class="l" href="#2930"> 2930: </a>                        <span class="php-var">$cache</span>-&gt;<span class="php-keyword2">unlink</span>();
</span><span id="2931" class="l"><a class="l" href="#2931"> 2931: </a>                        <span class="php-var">$this</span>-&gt;data = <span class="php-keyword1">array</span>();
</span><span id="2932" class="l"><a class="l" href="#2932"> 2932: </a>                    }
</span><span id="2933" class="l"><a class="l" href="#2933"> 2933: </a>                    <span class="php-comment">// If we've hit a collision just rerun it with caching disabled</span>
</span><span id="2934" class="l"><a class="l" href="#2934"> 2934: </a>                    <span class="php-keyword1">elseif</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$this</span>-&gt;data[<span class="php-quote">'url'</span>]) &amp;&amp; <span class="php-var">$this</span>-&gt;data[<span class="php-quote">'url'</span>] !== <span class="php-var">$this</span>-&gt;feed_url)
</span><span id="2935" class="l"><a class="l" href="#2935"> 2935: </a>                    {
</span><span id="2936" class="l"><a class="l" href="#2936"> 2936: </a>                        <span class="php-var">$cache</span> = <span class="php-keyword1">false</span>;
</span><span id="2937" class="l"><a class="l" href="#2937"> 2937: </a>                        <span class="php-var">$this</span>-&gt;data = <span class="php-keyword1">array</span>();
</span><span id="2938" class="l"><a class="l" href="#2938"> 2938: </a>                    }
</span><span id="2939" class="l"><a class="l" href="#2939"> 2939: </a>                    <span class="php-comment">// If we've got a non feed_url stored (if the page isn't actually a feed, or is a redirect) use that URL.</span>
</span><span id="2940" class="l"><a class="l" href="#2940"> 2940: </a>                    <span class="php-keyword1">elseif</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$this</span>-&gt;data[<span class="php-quote">'feed_url'</span>]))
</span><span id="2941" class="l"><a class="l" href="#2941"> 2941: </a>                    {
</span><span id="2942" class="l"><a class="l" href="#2942"> 2942: </a>                        <span class="php-comment">// If the autodiscovery cache is still valid use it.</span>
</span><span id="2943" class="l"><a class="l" href="#2943"> 2943: </a>                        <span class="php-keyword1">if</span> (<span class="php-var">$cache</span>-&gt;mtime() + <span class="php-var">$this</span>-&gt;autodiscovery_cache_duration &gt; <span class="php-keyword2">time</span>())
</span><span id="2944" class="l"><a class="l" href="#2944"> 2944: </a>                        {
</span><span id="2945" class="l"><a class="l" href="#2945"> 2945: </a>                            <span class="php-comment">// Do not need to do feed autodiscovery yet.</span>
</span><span id="2946" class="l"><a class="l" href="#2946"> 2946: </a>                            <span class="php-keyword1">if</span> (<span class="php-var">$this</span>-&gt;data[<span class="php-quote">'feed_url'</span>] !== <span class="php-var">$this</span>-&gt;data[<span class="php-quote">'url'</span>]) {
</span><span id="2947" class="l"><a class="l" href="#2947"> 2947: </a>                                <span class="php-var">$this</span>-&gt;set_feed_url(<span class="php-var">$this</span>-&gt;data[<span class="php-quote">'feed_url'</span>]);
</span><span id="2948" class="l"><a class="l" href="#2948"> 2948: </a>                                <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;init();
</span><span id="2949" class="l"><a class="l" href="#2949"> 2949: </a>                            }
</span><span id="2950" class="l"><a class="l" href="#2950"> 2950: </a>
</span><span id="2951" class="l"><a class="l" href="#2951"> 2951: </a>                            <span class="php-var">$cache</span>-&gt;<span class="php-keyword2">unlink</span>();
</span><span id="2952" class="l"><a class="l" href="#2952"> 2952: </a>                            <span class="php-var">$this</span>-&gt;data = <span class="php-keyword1">array</span>();
</span><span id="2953" class="l"><a class="l" href="#2953"> 2953: </a>                        }
</span><span id="2954" class="l"><a class="l" href="#2954"> 2954: </a>                    }
</span><span id="2955" class="l"><a class="l" href="#2955"> 2955: </a>                    <span class="php-comment">// Check if the cache has been updated</span>
</span><span id="2956" class="l"><a class="l" href="#2956"> 2956: </a>                    <span class="php-keyword1">elseif</span> (<span class="php-var">$cache</span>-&gt;mtime() + <span class="php-var">$this</span>-&gt;cache_duration &lt; <span class="php-keyword2">time</span>())
</span><span id="2957" class="l"><a class="l" href="#2957"> 2957: </a>                    {
</span><span id="2958" class="l"><a class="l" href="#2958"> 2958: </a>                        <span class="php-comment">// If we have last-modified and/or etag set</span>
</span><span id="2959" class="l"><a class="l" href="#2959"> 2959: </a>                        <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$this</span>-&gt;data[<span class="php-quote">'headers'</span>][<span class="php-quote">'last-modified'</span>]) || <span class="php-keyword1">isset</span>(<span class="php-var">$this</span>-&gt;data[<span class="php-quote">'headers'</span>][<span class="php-quote">'etag'</span>]))
</span><span id="2960" class="l"><a class="l" href="#2960"> 2960: </a>                        {
</span><span id="2961" class="l"><a class="l" href="#2961"> 2961: </a>                            <span class="php-var">$headers</span> = <span class="php-keyword1">array</span>(
</span><span id="2962" class="l"><a class="l" href="#2962"> 2962: </a>                                <span class="php-quote">'Accept'</span> =&gt; <span class="php-quote">'application/atom+xml, application/rss+xml, application/rdf+xml;q=0.9, application/xml;q=0.8, text/xml;q=0.8, text/html;q=0.7, unknown/unknown;q=0.1, application/unknown;q=0.1, */*;q=0.1'</span>,
</span><span id="2963" class="l"><a class="l" href="#2963"> 2963: </a>                            );
</span><span id="2964" class="l"><a class="l" href="#2964"> 2964: </a>                            <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$this</span>-&gt;data[<span class="php-quote">'headers'</span>][<span class="php-quote">'last-modified'</span>]))
</span><span id="2965" class="l"><a class="l" href="#2965"> 2965: </a>                            {
</span><span id="2966" class="l"><a class="l" href="#2966"> 2966: </a>                                <span class="php-var">$headers</span>[<span class="php-quote">'if-modified-since'</span>] = <span class="php-var">$this</span>-&gt;data[<span class="php-quote">'headers'</span>][<span class="php-quote">'last-modified'</span>];
</span><span id="2967" class="l"><a class="l" href="#2967"> 2967: </a>                            }
</span><span id="2968" class="l"><a class="l" href="#2968"> 2968: </a>                            <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$this</span>-&gt;data[<span class="php-quote">'headers'</span>][<span class="php-quote">'etag'</span>]))
</span><span id="2969" class="l"><a class="l" href="#2969"> 2969: </a>                            {
</span><span id="2970" class="l"><a class="l" href="#2970"> 2970: </a>                                <span class="php-var">$headers</span>[<span class="php-quote">'if-none-match'</span>] = <span class="php-var">$this</span>-&gt;data[<span class="php-quote">'headers'</span>][<span class="php-quote">'etag'</span>];
</span><span id="2971" class="l"><a class="l" href="#2971"> 2971: </a>                            }
</span><span id="2972" class="l"><a class="l" href="#2972"> 2972: </a>
</span><span id="2973" class="l"><a class="l" href="#2973"> 2973: </a>                            <span class="php-var">$file</span> = <span class="php-var">$this</span>-&gt;registry-&gt;create(<span class="php-quote">'File'</span>, <span class="php-keyword1">array</span>(<span class="php-var">$this</span>-&gt;feed_url, <span class="php-var">$this</span>-&gt;timeout/<span class="php-num">10</span>, <span class="php-num">5</span>, <span class="php-var">$headers</span>, <span class="php-var">$this</span>-&gt;useragent, <span class="php-var">$this</span>-&gt;force_fsockopen));
</span><span id="2974" class="l"><a class="l" href="#2974"> 2974: </a>
</span><span id="2975" class="l"><a class="l" href="#2975"> 2975: </a>                            <span class="php-keyword1">if</span> (<span class="php-var">$file</span>-&gt;success)
</span><span id="2976" class="l"><a class="l" href="#2976"> 2976: </a>                            {
</span><span id="2977" class="l"><a class="l" href="#2977"> 2977: </a>                                <span class="php-keyword1">if</span> (<span class="php-var">$file</span>-&gt;status_code === <span class="php-num">304</span>)
</span><span id="2978" class="l"><a class="l" href="#2978"> 2978: </a>                                {
</span><span id="2979" class="l"><a class="l" href="#2979"> 2979: </a>                                    <span class="php-var">$cache</span>-&gt;<span class="php-keyword2">touch</span>();
</span><span id="2980" class="l"><a class="l" href="#2980"> 2980: </a>                                    <span class="php-keyword1">return</span> <span class="php-keyword1">true</span>;
</span><span id="2981" class="l"><a class="l" href="#2981"> 2981: </a>                                }
</span><span id="2982" class="l"><a class="l" href="#2982"> 2982: </a>
</span><span id="2983" class="l"><a class="l" href="#2983"> 2983: </a>                                <span class="php-var">$headers</span> = <span class="php-var">$file</span>-&gt;headers;
</span><span id="2984" class="l"><a class="l" href="#2984"> 2984: </a>                            }
</span><span id="2985" class="l"><a class="l" href="#2985"> 2985: </a>                            <span class="php-keyword1">else</span>
</span><span id="2986" class="l"><a class="l" href="#2986"> 2986: </a>                            {
</span><span id="2987" class="l"><a class="l" href="#2987"> 2987: </a>                                <span class="php-keyword1">unset</span>(<span class="php-var">$file</span>);
</span><span id="2988" class="l"><a class="l" href="#2988"> 2988: </a>                            }
</span><span id="2989" class="l"><a class="l" href="#2989"> 2989: </a>                        }
</span><span id="2990" class="l"><a class="l" href="#2990"> 2990: </a>                    }
</span><span id="2991" class="l"><a class="l" href="#2991"> 2991: </a>                    <span class="php-comment">// If the cache is still valid, just return true</span>
</span><span id="2992" class="l"><a class="l" href="#2992"> 2992: </a>                    <span class="php-keyword1">else</span>
</span><span id="2993" class="l"><a class="l" href="#2993"> 2993: </a>                    {
</span><span id="2994" class="l"><a class="l" href="#2994"> 2994: </a>                        <span class="php-var">$this</span>-&gt;raw_data = <span class="php-keyword1">false</span>;
</span><span id="2995" class="l"><a class="l" href="#2995"> 2995: </a>                        <span class="php-keyword1">return</span> <span class="php-keyword1">true</span>;
</span><span id="2996" class="l"><a class="l" href="#2996"> 2996: </a>                    }
</span><span id="2997" class="l"><a class="l" href="#2997"> 2997: </a>                }
</span><span id="2998" class="l"><a class="l" href="#2998"> 2998: </a>                <span class="php-comment">// If the cache is empty, delete it</span>
</span><span id="2999" class="l"><a class="l" href="#2999"> 2999: </a>                <span class="php-keyword1">else</span>
</span><span id="3000" class="l"><a class="l" href="#3000"> 3000: </a>                {
</span><span id="3001" class="l"><a class="l" href="#3001"> 3001: </a>                    <span class="php-var">$cache</span>-&gt;<span class="php-keyword2">unlink</span>();
</span><span id="3002" class="l"><a class="l" href="#3002"> 3002: </a>                    <span class="php-var">$this</span>-&gt;data = <span class="php-keyword1">array</span>();
</span><span id="3003" class="l"><a class="l" href="#3003"> 3003: </a>                }
</span><span id="3004" class="l"><a class="l" href="#3004"> 3004: </a>            }
</span><span id="3005" class="l"><a class="l" href="#3005"> 3005: </a>            <span class="php-comment">// If we don't already have the file (it'll only exist if we've opened it to check if the cache has been modified), open it.</span>
</span><span id="3006" class="l"><a class="l" href="#3006"> 3006: </a>            <span class="php-keyword1">if</span> (!<span class="php-keyword1">isset</span>(<span class="php-var">$file</span>))
</span><span id="3007" class="l"><a class="l" href="#3007"> 3007: </a>            {
</span><span id="3008" class="l"><a class="l" href="#3008"> 3008: </a>                <span class="php-keyword1">if</span> (<span class="php-var">$this</span>-&gt;<span class="php-keyword2">file</span> <span class="php-keyword1">instanceof</span> SimplePie_File &amp;&amp; <span class="php-var">$this</span>-&gt;<span class="php-keyword2">file</span>-&gt;url === <span class="php-var">$this</span>-&gt;feed_url)
</span><span id="3009" class="l"><a class="l" href="#3009"> 3009: </a>                {
</span><span id="3010" class="l"><a class="l" href="#3010"> 3010: </a>                    <span class="php-var">$file</span> =&amp; <span class="php-var">$this</span>-&gt;<span class="php-keyword2">file</span>;
</span><span id="3011" class="l"><a class="l" href="#3011"> 3011: </a>                }
</span><span id="3012" class="l"><a class="l" href="#3012"> 3012: </a>                <span class="php-keyword1">else</span>
</span><span id="3013" class="l"><a class="l" href="#3013"> 3013: </a>                {
</span><span id="3014" class="l"><a class="l" href="#3014"> 3014: </a>                    <span class="php-var">$headers</span> = <span class="php-keyword1">array</span>(
</span><span id="3015" class="l"><a class="l" href="#3015"> 3015: </a>                        <span class="php-quote">'Accept'</span> =&gt; <span class="php-quote">'application/atom+xml, application/rss+xml, application/rdf+xml;q=0.9, application/xml;q=0.8, text/xml;q=0.8, text/html;q=0.7, unknown/unknown;q=0.1, application/unknown;q=0.1, */*;q=0.1'</span>,
</span><span id="3016" class="l"><a class="l" href="#3016"> 3016: </a>                    );
</span><span id="3017" class="l"><a class="l" href="#3017"> 3017: </a>                    <span class="php-var">$file</span> = <span class="php-var">$this</span>-&gt;registry-&gt;create(<span class="php-quote">'File'</span>, <span class="php-keyword1">array</span>(<span class="php-var">$this</span>-&gt;feed_url, <span class="php-var">$this</span>-&gt;timeout, <span class="php-num">5</span>, <span class="php-var">$headers</span>, <span class="php-var">$this</span>-&gt;useragent, <span class="php-var">$this</span>-&gt;force_fsockopen));
</span><span id="3018" class="l"><a class="l" href="#3018"> 3018: </a>                }
</span><span id="3019" class="l"><a class="l" href="#3019"> 3019: </a>            }
</span><span id="3020" class="l"><a class="l" href="#3020"> 3020: </a>            <span class="php-comment">// If the file connection has an error, set SimplePie::error to that and quit</span>
</span><span id="3021" class="l"><a class="l" href="#3021"> 3021: </a>            <span class="php-keyword1">if</span> (!<span class="php-var">$file</span>-&gt;success &amp;&amp; !(<span class="php-var">$file</span>-&gt;method &amp; SIMPLEPIE_FILE_SOURCE_REMOTE === <span class="php-num">0</span> || (<span class="php-var">$file</span>-&gt;status_code === <span class="php-num">200</span> || <span class="php-var">$file</span>-&gt;status_code &gt; <span class="php-num">206</span> &amp;&amp; <span class="php-var">$file</span>-&gt;status_code &lt; <span class="php-num">300</span>)))
</span><span id="3022" class="l"><a class="l" href="#3022"> 3022: </a>            {
</span><span id="3023" class="l"><a class="l" href="#3023"> 3023: </a>                <span class="php-var">$this</span>-&gt;error = <span class="php-var">$file</span>-&gt;error;
</span><span id="3024" class="l"><a class="l" href="#3024"> 3024: </a>                <span class="php-keyword1">return</span> !<span class="php-keyword1">empty</span>(<span class="php-var">$this</span>-&gt;data);
</span><span id="3025" class="l"><a class="l" href="#3025"> 3025: </a>            }
</span><span id="3026" class="l"><a class="l" href="#3026"> 3026: </a>
</span><span id="3027" class="l"><a class="l" href="#3027"> 3027: </a>            <span class="php-keyword1">if</span> (!<span class="php-var">$this</span>-&gt;force_feed)
</span><span id="3028" class="l"><a class="l" href="#3028"> 3028: </a>            {
</span><span id="3029" class="l"><a class="l" href="#3029"> 3029: </a>                <span class="php-comment">// Check if the supplied URL is a feed, if it isn't, look for it.</span>
</span><span id="3030" class="l"><a class="l" href="#3030"> 3030: </a>                <span class="php-var">$locate</span> = <span class="php-var">$this</span>-&gt;registry-&gt;create(<span class="php-quote">'Locator'</span>, <span class="php-keyword1">array</span>(&amp;<span class="php-var">$file</span>, <span class="php-var">$this</span>-&gt;timeout, <span class="php-var">$this</span>-&gt;useragent, <span class="php-var">$this</span>-&gt;max_checked_feeds));
</span><span id="3031" class="l"><a class="l" href="#3031"> 3031: </a>
</span><span id="3032" class="l"><a class="l" href="#3032"> 3032: </a>                <span class="php-keyword1">if</span> (!<span class="php-var">$locate</span>-&gt;is_feed(<span class="php-var">$file</span>))
</span><span id="3033" class="l"><a class="l" href="#3033"> 3033: </a>                {
</span><span id="3034" class="l"><a class="l" href="#3034"> 3034: </a>                    <span class="php-comment">// We need to unset this so that if SimplePie::set_file() has been called that object is untouched</span>
</span><span id="3035" class="l"><a class="l" href="#3035"> 3035: </a>                    <span class="php-keyword1">unset</span>(<span class="php-var">$file</span>);
</span><span id="3036" class="l"><a class="l" href="#3036"> 3036: </a>                    <span class="php-keyword1">if</span> (!(<span class="php-var">$file</span> = <span class="php-var">$locate</span>-&gt;find(<span class="php-var">$this</span>-&gt;autodiscovery, <span class="php-var">$this</span>-&gt;all_discovered_feeds)))
</span><span id="3037" class="l"><a class="l" href="#3037"> 3037: </a>                    {
</span><span id="3038" class="l"><a class="l" href="#3038"> 3038: </a>                        <span class="php-var">$this</span>-&gt;error = <span class="php-quote">&quot;A feed could not be found at </span><span class="php-var">$this</span><span class="php-quote">-&gt;feed_url. A feed with an invalid mime type may fall victim to this error, or &quot;</span> . SIMPLEPIE_NAME . <span class="php-quote">&quot; was unable to auto-discover it.. Use force_feed() if you are certain this URL is a real feed.&quot;</span>;
</span><span id="3039" class="l"><a class="l" href="#3039"> 3039: </a>                        <span class="php-var">$this</span>-&gt;registry-&gt;call(<span class="php-quote">'Misc'</span>, <span class="php-quote">'error'</span>, <span class="php-keyword1">array</span>(<span class="php-var">$this</span>-&gt;error, E_USER_NOTICE, __FILE__, __LINE__));
</span><span id="3040" class="l"><a class="l" href="#3040"> 3040: </a>                        <span class="php-keyword1">return</span> <span class="php-keyword1">false</span>;
</span><span id="3041" class="l"><a class="l" href="#3041"> 3041: </a>                    }
</span><span id="3042" class="l"><a class="l" href="#3042"> 3042: </a>                    <span class="php-keyword1">if</span> (<span class="php-var">$cache</span>)
</span><span id="3043" class="l"><a class="l" href="#3043"> 3043: </a>                    {
</span><span id="3044" class="l"><a class="l" href="#3044"> 3044: </a>                        <span class="php-var">$this</span>-&gt;data = <span class="php-keyword1">array</span>(<span class="php-quote">'url'</span> =&gt; <span class="php-var">$this</span>-&gt;feed_url, <span class="php-quote">'feed_url'</span> =&gt; <span class="php-var">$file</span>-&gt;url, <span class="php-quote">'build'</span> =&gt; SIMPLEPIE_BUILD);
</span><span id="3045" class="l"><a class="l" href="#3045"> 3045: </a>                        <span class="php-keyword1">if</span> (!<span class="php-var">$cache</span>-&gt;save(<span class="php-var">$this</span>))
</span><span id="3046" class="l"><a class="l" href="#3046"> 3046: </a>                        {
</span><span id="3047" class="l"><a class="l" href="#3047"> 3047: </a>                            <span class="php-keyword2">trigger_error</span>(<span class="php-quote">&quot;</span><span class="php-var">$this</span><span class="php-quote">-&gt;cache_location is not writeable. Make sure you've set the correct relative or absolute path, and that the location is server-writable.&quot;</span>, E_USER_WARNING);
</span><span id="3048" class="l"><a class="l" href="#3048"> 3048: </a>                        }
</span><span id="3049" class="l"><a class="l" href="#3049"> 3049: </a>                        <span class="php-var">$cache</span> = <span class="php-var">$this</span>-&gt;registry-&gt;call(<span class="php-quote">'Cache'</span>, <span class="php-quote">'create'</span>, <span class="php-keyword1">array</span>(<span class="php-var">$this</span>-&gt;cache_location, <span class="php-keyword2">call_user_func</span>(<span class="php-var">$this</span>-&gt;cache_name_function, <span class="php-var">$file</span>-&gt;url), <span class="php-quote">'spc'</span>));
</span><span id="3050" class="l"><a class="l" href="#3050"> 3050: </a>                    }
</span><span id="3051" class="l"><a class="l" href="#3051"> 3051: </a>                    <span class="php-var">$this</span>-&gt;feed_url = <span class="php-var">$file</span>-&gt;url;
</span><span id="3052" class="l"><a class="l" href="#3052"> 3052: </a>                }
</span><span id="3053" class="l"><a class="l" href="#3053"> 3053: </a>                <span class="php-var">$locate</span> = <span class="php-keyword1">null</span>;
</span><span id="3054" class="l"><a class="l" href="#3054"> 3054: </a>            }
</span><span id="3055" class="l"><a class="l" href="#3055"> 3055: </a>
</span><span id="3056" class="l"><a class="l" href="#3056"> 3056: </a>            <span class="php-var">$headers</span> = <span class="php-var">$file</span>-&gt;headers;
</span><span id="3057" class="l"><a class="l" href="#3057"> 3057: </a>            <span class="php-var">$data</span> = <span class="php-var">$file</span>-&gt;body;
</span><span id="3058" class="l"><a class="l" href="#3058"> 3058: </a>            <span class="php-var">$sniffer</span> = <span class="php-var">$this</span>-&gt;registry-&gt;create(<span class="php-quote">'Content_Type_Sniffer'</span>, <span class="php-keyword1">array</span>(&amp;<span class="php-var">$file</span>));
</span><span id="3059" class="l"><a class="l" href="#3059"> 3059: </a>            <span class="php-var">$sniffed</span> = <span class="php-var">$sniffer</span>-&gt;get_type();
</span><span id="3060" class="l"><a class="l" href="#3060"> 3060: </a>        }
</span><span id="3061" class="l"><a class="l" href="#3061"> 3061: </a>        <span class="php-keyword1">else</span>
</span><span id="3062" class="l"><a class="l" href="#3062"> 3062: </a>        {
</span><span id="3063" class="l"><a class="l" href="#3063"> 3063: </a>            <span class="php-var">$data</span> = <span class="php-var">$this</span>-&gt;raw_data;
</span><span id="3064" class="l"><a class="l" href="#3064"> 3064: </a>        }
</span><span id="3065" class="l"><a class="l" href="#3065"> 3065: </a>
</span><span id="3066" class="l"><a class="l" href="#3066"> 3066: </a>        <span class="php-comment">// This is exposed via get_raw_data()</span>
</span><span id="3067" class="l"><a class="l" href="#3067"> 3067: </a>        <span class="php-var">$this</span>-&gt;raw_data = <span class="php-var">$data</span>;
</span><span id="3068" class="l"><a class="l" href="#3068"> 3068: </a>
</span><span id="3069" class="l"><a class="l" href="#3069"> 3069: </a>        <span class="php-comment">// Set up array of possible encodings</span>
</span><span id="3070" class="l"><a class="l" href="#3070"> 3070: </a>        <span class="php-var">$encodings</span> = <span class="php-keyword1">array</span>();
</span><span id="3071" class="l"><a class="l" href="#3071"> 3071: </a>
</span><span id="3072" class="l"><a class="l" href="#3072"> 3072: </a>        <span class="php-comment">// First check to see if input has been overridden.</span>
</span><span id="3073" class="l"><a class="l" href="#3073"> 3073: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$this</span>-&gt;input_encoding !== <span class="php-keyword1">false</span>)
</span><span id="3074" class="l"><a class="l" href="#3074"> 3074: </a>        {
</span><span id="3075" class="l"><a class="l" href="#3075"> 3075: </a>            <span class="php-var">$encodings</span>[] = <span class="php-var">$this</span>-&gt;input_encoding;
</span><span id="3076" class="l"><a class="l" href="#3076"> 3076: </a>        }
</span><span id="3077" class="l"><a class="l" href="#3077"> 3077: </a>
</span><span id="3078" class="l"><a class="l" href="#3078"> 3078: </a>        <span class="php-var">$application_types</span> = <span class="php-keyword1">array</span>(<span class="php-quote">'application/xml'</span>, <span class="php-quote">'application/xml-dtd'</span>, <span class="php-quote">'application/xml-external-parsed-entity'</span>);
</span><span id="3079" class="l"><a class="l" href="#3079"> 3079: </a>        <span class="php-var">$text_types</span> = <span class="php-keyword1">array</span>(<span class="php-quote">'text/xml'</span>, <span class="php-quote">'text/xml-external-parsed-entity'</span>);
</span><span id="3080" class="l"><a class="l" href="#3080"> 3080: </a>
</span><span id="3081" class="l"><a class="l" href="#3081"> 3081: </a>        <span class="php-comment">// RFC 3023 (only applies to sniffed content)</span>
</span><span id="3082" class="l"><a class="l" href="#3082"> 3082: </a>        <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$sniffed</span>))
</span><span id="3083" class="l"><a class="l" href="#3083"> 3083: </a>        {
</span><span id="3084" class="l"><a class="l" href="#3084"> 3084: </a>            <span class="php-keyword1">if</span> (<span class="php-keyword2">in_array</span>(<span class="php-var">$sniffed</span>, <span class="php-var">$application_types</span>) || <span class="php-keyword2">substr</span>(<span class="php-var">$sniffed</span>, <span class="php-num">0</span>, <span class="php-num">12</span>) === <span class="php-quote">'application/'</span> &amp;&amp; <span class="php-keyword2">substr</span>(<span class="php-var">$sniffed</span>, -<span class="php-num">4</span>) === <span class="php-quote">'+xml'</span>)
</span><span id="3085" class="l"><a class="l" href="#3085"> 3085: </a>            {
</span><span id="3086" class="l"><a class="l" href="#3086"> 3086: </a>                <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$headers</span>[<span class="php-quote">'content-type'</span>]) &amp;&amp; <span class="php-keyword2">preg_match</span>(<span class="php-quote">'/;\x20?charset=([^;]*)/i'</span>, <span class="php-var">$headers</span>[<span class="php-quote">'content-type'</span>], <span class="php-var">$charset</span>))
</span><span id="3087" class="l"><a class="l" href="#3087"> 3087: </a>                {
</span><span id="3088" class="l"><a class="l" href="#3088"> 3088: </a>                    <span class="php-var">$encodings</span>[] = <span class="php-keyword2">strtoupper</span>(<span class="php-var">$charset</span>[<span class="php-num">1</span>]);
</span><span id="3089" class="l"><a class="l" href="#3089"> 3089: </a>                }
</span><span id="3090" class="l"><a class="l" href="#3090"> 3090: </a>                <span class="php-var">$encodings</span> = <span class="php-keyword2">array_merge</span>(<span class="php-var">$encodings</span>, <span class="php-var">$this</span>-&gt;registry-&gt;call(<span class="php-quote">'Misc'</span>, <span class="php-quote">'xml_encoding'</span>, <span class="php-keyword1">array</span>(<span class="php-var">$data</span>, &amp;<span class="php-var">$this</span>-&gt;registry)));
</span><span id="3091" class="l"><a class="l" href="#3091"> 3091: </a>                <span class="php-var">$encodings</span>[] = <span class="php-quote">'UTF-8'</span>;
</span><span id="3092" class="l"><a class="l" href="#3092"> 3092: </a>            }
</span><span id="3093" class="l"><a class="l" href="#3093"> 3093: </a>            <span class="php-keyword1">elseif</span> (<span class="php-keyword2">in_array</span>(<span class="php-var">$sniffed</span>, <span class="php-var">$text_types</span>) || <span class="php-keyword2">substr</span>(<span class="php-var">$sniffed</span>, <span class="php-num">0</span>, <span class="php-num">5</span>) === <span class="php-quote">'text/'</span> &amp;&amp; <span class="php-keyword2">substr</span>(<span class="php-var">$sniffed</span>, -<span class="php-num">4</span>) === <span class="php-quote">'+xml'</span>)
</span><span id="3094" class="l"><a class="l" href="#3094"> 3094: </a>            {
</span><span id="3095" class="l"><a class="l" href="#3095"> 3095: </a>                <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$headers</span>[<span class="php-quote">'content-type'</span>]) &amp;&amp; <span class="php-keyword2">preg_match</span>(<span class="php-quote">'/;\x20?charset=([^;]*)/i'</span>, <span class="php-var">$headers</span>[<span class="php-quote">'content-type'</span>], <span class="php-var">$charset</span>))
</span><span id="3096" class="l"><a class="l" href="#3096"> 3096: </a>                {
</span><span id="3097" class="l"><a class="l" href="#3097"> 3097: </a>                    <span class="php-var">$encodings</span>[] = <span class="php-var">$charset</span>[<span class="php-num">1</span>];
</span><span id="3098" class="l"><a class="l" href="#3098"> 3098: </a>                }
</span><span id="3099" class="l"><a class="l" href="#3099"> 3099: </a>                <span class="php-var">$encodings</span>[] = <span class="php-quote">'US-ASCII'</span>;
</span><span id="3100" class="l"><a class="l" href="#3100"> 3100: </a>            }
</span><span id="3101" class="l"><a class="l" href="#3101"> 3101: </a>            <span class="php-comment">// Text MIME-type default</span>
</span><span id="3102" class="l"><a class="l" href="#3102"> 3102: </a>            <span class="php-keyword1">elseif</span> (<span class="php-keyword2">substr</span>(<span class="php-var">$sniffed</span>, <span class="php-num">0</span>, <span class="php-num">5</span>) === <span class="php-quote">'text/'</span>)
</span><span id="3103" class="l"><a class="l" href="#3103"> 3103: </a>            {
</span><span id="3104" class="l"><a class="l" href="#3104"> 3104: </a>                <span class="php-var">$encodings</span>[] = <span class="php-quote">'US-ASCII'</span>;
</span><span id="3105" class="l"><a class="l" href="#3105"> 3105: </a>            }
</span><span id="3106" class="l"><a class="l" href="#3106"> 3106: </a>        }
</span><span id="3107" class="l"><a class="l" href="#3107"> 3107: </a>
</span><span id="3108" class="l"><a class="l" href="#3108"> 3108: </a>        <span class="php-comment">// Fallback to XML 1.0 Appendix F.1/UTF-8/ISO-8859-1</span>
</span><span id="3109" class="l"><a class="l" href="#3109"> 3109: </a>        <span class="php-var">$encodings</span> = <span class="php-keyword2">array_merge</span>(<span class="php-var">$encodings</span>, <span class="php-var">$this</span>-&gt;registry-&gt;call(<span class="php-quote">'Misc'</span>, <span class="php-quote">'xml_encoding'</span>, <span class="php-keyword1">array</span>(<span class="php-var">$data</span>, &amp;<span class="php-var">$this</span>-&gt;registry)));
</span><span id="3110" class="l"><a class="l" href="#3110"> 3110: </a>        <span class="php-var">$encodings</span>[] = <span class="php-quote">'UTF-8'</span>;
</span><span id="3111" class="l"><a class="l" href="#3111"> 3111: </a>        <span class="php-var">$encodings</span>[] = <span class="php-quote">'ISO-8859-1'</span>;
</span><span id="3112" class="l"><a class="l" href="#3112"> 3112: </a>
</span><span id="3113" class="l"><a class="l" href="#3113"> 3113: </a>        <span class="php-comment">// There's no point in trying an encoding twice</span>
</span><span id="3114" class="l"><a class="l" href="#3114"> 3114: </a>        <span class="php-var">$encodings</span> = <span class="php-keyword2">array_unique</span>(<span class="php-var">$encodings</span>);
</span><span id="3115" class="l"><a class="l" href="#3115"> 3115: </a>
</span><span id="3116" class="l"><a class="l" href="#3116"> 3116: </a>        <span class="php-comment">// If we want the XML, just output that with the most likely encoding and quit</span>
</span><span id="3117" class="l"><a class="l" href="#3117"> 3117: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$this</span>-&gt;xml_dump)
</span><span id="3118" class="l"><a class="l" href="#3118"> 3118: </a>        {
</span><span id="3119" class="l"><a class="l" href="#3119"> 3119: </a>            <span class="php-keyword2">header</span>(<span class="php-quote">'Content-type: text/xml; charset='</span> . <span class="php-var">$encodings</span>[<span class="php-num">0</span>]);
</span><span id="3120" class="l"><a class="l" href="#3120"> 3120: </a>            <span class="php-keyword1">echo</span> <span class="php-var">$data</span>;
</span><span id="3121" class="l"><a class="l" href="#3121"> 3121: </a>            <span class="php-keyword1">exit</span>;
</span><span id="3122" class="l"><a class="l" href="#3122"> 3122: </a>        }
</span><span id="3123" class="l"><a class="l" href="#3123"> 3123: </a>
</span><span id="3124" class="l"><a class="l" href="#3124"> 3124: </a>        <span class="php-comment">// Loop through each possible encoding, till we return something, or run out of possibilities</span>
</span><span id="3125" class="l"><a class="l" href="#3125"> 3125: </a>        <span class="php-keyword1">foreach</span> (<span class="php-var">$encodings</span> <span class="php-keyword1">as</span> <span class="php-var">$encoding</span>)
</span><span id="3126" class="l"><a class="l" href="#3126"> 3126: </a>        {
</span><span id="3127" class="l"><a class="l" href="#3127"> 3127: </a>            <span class="php-comment">// Change the encoding to UTF-8 (as we always use UTF-8 internally)</span>
</span><span id="3128" class="l"><a class="l" href="#3128"> 3128: </a>            <span class="php-keyword1">if</span> (<span class="php-var">$utf8_data</span> = <span class="php-var">$this</span>-&gt;registry-&gt;call(<span class="php-quote">'Misc'</span>, <span class="php-quote">'change_encoding'</span>, <span class="php-keyword1">array</span>(<span class="php-var">$data</span>, <span class="php-var">$encoding</span>, <span class="php-quote">'UTF-8'</span>)))
</span><span id="3129" class="l"><a class="l" href="#3129"> 3129: </a>            {
</span><span id="3130" class="l"><a class="l" href="#3130"> 3130: </a>                <span class="php-comment">// Create new parser</span>
</span><span id="3131" class="l"><a class="l" href="#3131"> 3131: </a>                <span class="php-var">$parser</span> = <span class="php-var">$this</span>-&gt;registry-&gt;create(<span class="php-quote">'Parser'</span>);
</span><span id="3132" class="l"><a class="l" href="#3132"> 3132: </a>
</span><span id="3133" class="l"><a class="l" href="#3133"> 3133: </a>                <span class="php-comment">// If it's parsed fine</span>
</span><span id="3134" class="l"><a class="l" href="#3134"> 3134: </a>                <span class="php-keyword1">if</span> (<span class="php-var">$parser</span>-&gt;parse(<span class="php-var">$utf8_data</span>, <span class="php-quote">'UTF-8'</span>))
</span><span id="3135" class="l"><a class="l" href="#3135"> 3135: </a>                {
</span><span id="3136" class="l"><a class="l" href="#3136"> 3136: </a>                    <span class="php-var">$this</span>-&gt;data = <span class="php-var">$parser</span>-&gt;get_data();
</span><span id="3137" class="l"><a class="l" href="#3137"> 3137: </a>                    <span class="php-keyword1">if</span> (!(<span class="php-var">$this</span>-&gt;get_type() &amp; ~SIMPLEPIE_TYPE_NONE))
</span><span id="3138" class="l"><a class="l" href="#3138"> 3138: </a>                    {
</span><span id="3139" class="l"><a class="l" href="#3139"> 3139: </a>                        <span class="php-var">$this</span>-&gt;error = <span class="php-quote">&quot;A feed could not be found at </span><span class="php-var">$this</span><span class="php-quote">-&gt;feed_url. This does not appear to be a valid RSS or Atom feed.&quot;</span>;
</span><span id="3140" class="l"><a class="l" href="#3140"> 3140: </a>                        <span class="php-var">$this</span>-&gt;registry-&gt;call(<span class="php-quote">'Misc'</span>, <span class="php-quote">'error'</span>, <span class="php-keyword1">array</span>(<span class="php-var">$this</span>-&gt;error, E_USER_NOTICE, __FILE__, __LINE__));
</span><span id="3141" class="l"><a class="l" href="#3141"> 3141: </a>                        <span class="php-keyword1">return</span> <span class="php-keyword1">false</span>;
</span><span id="3142" class="l"><a class="l" href="#3142"> 3142: </a>                    }
</span><span id="3143" class="l"><a class="l" href="#3143"> 3143: </a>
</span><span id="3144" class="l"><a class="l" href="#3144"> 3144: </a>                    <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$headers</span>))
</span><span id="3145" class="l"><a class="l" href="#3145"> 3145: </a>                    {
</span><span id="3146" class="l"><a class="l" href="#3146"> 3146: </a>                        <span class="php-var">$this</span>-&gt;data[<span class="php-quote">'headers'</span>] = <span class="php-var">$headers</span>;
</span><span id="3147" class="l"><a class="l" href="#3147"> 3147: </a>                    }
</span><span id="3148" class="l"><a class="l" href="#3148"> 3148: </a>                    <span class="php-var">$this</span>-&gt;data[<span class="php-quote">'build'</span>] = SIMPLEPIE_BUILD;
</span><span id="3149" class="l"><a class="l" href="#3149"> 3149: </a>
</span><span id="3150" class="l"><a class="l" href="#3150"> 3150: </a>                    <span class="php-comment">// Cache the file if caching is enabled</span>
</span><span id="3151" class="l"><a class="l" href="#3151"> 3151: </a>                    <span class="php-keyword1">if</span> (<span class="php-var">$cache</span> &amp;&amp; !<span class="php-var">$cache</span>-&gt;save(<span class="php-var">$this</span>))
</span><span id="3152" class="l"><a class="l" href="#3152"> 3152: </a>                    {
</span><span id="3153" class="l"><a class="l" href="#3153"> 3153: </a>                        <span class="php-keyword2">trigger_error</span>(<span class="php-quote">&quot;</span><span class="php-var">$this</span><span class="php-quote">-&gt;cache_location is not writeable. Make sure you've set the correct relative or absolute path, and that the location is server-writable.&quot;</span>, E_USER_WARNING);
</span><span id="3154" class="l"><a class="l" href="#3154"> 3154: </a>                    }
</span><span id="3155" class="l"><a class="l" href="#3155"> 3155: </a>                    <span class="php-keyword1">return</span> <span class="php-keyword1">true</span>;
</span><span id="3156" class="l"><a class="l" href="#3156"> 3156: </a>                }
</span><span id="3157" class="l"><a class="l" href="#3157"> 3157: </a>            }
</span><span id="3158" class="l"><a class="l" href="#3158"> 3158: </a>        }
</span><span id="3159" class="l"><a class="l" href="#3159"> 3159: </a>
</span><span id="3160" class="l"><a class="l" href="#3160"> 3160: </a>        <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$parser</span>))
</span><span id="3161" class="l"><a class="l" href="#3161"> 3161: </a>        {
</span><span id="3162" class="l"><a class="l" href="#3162"> 3162: </a>            <span class="php-comment">// We have an error, just set SimplePie_Misc::error to it and quit</span>
</span><span id="3163" class="l"><a class="l" href="#3163"> 3163: </a>            <span class="php-var">$this</span>-&gt;error = <span class="php-keyword2">sprintf</span>(<span class="php-quote">'This XML document is invalid, likely due to invalid characters. XML error: %s at line %d, column %d'</span>, <span class="php-var">$parser</span>-&gt;get_error_string(), <span class="php-var">$parser</span>-&gt;get_current_line(), <span class="php-var">$parser</span>-&gt;get_current_column());
</span><span id="3164" class="l"><a class="l" href="#3164"> 3164: </a>        }
</span><span id="3165" class="l"><a class="l" href="#3165"> 3165: </a>        <span class="php-keyword1">else</span>
</span><span id="3166" class="l"><a class="l" href="#3166"> 3166: </a>        {
</span><span id="3167" class="l"><a class="l" href="#3167"> 3167: </a>            <span class="php-var">$this</span>-&gt;error = <span class="php-quote">'The data could not be converted to UTF-8. You MUST have either the iconv or mbstring extension installed. Upgrading to PHP 5.x (which includes iconv) is highly recommended.'</span>;
</span><span id="3168" class="l"><a class="l" href="#3168"> 3168: </a>        }
</span><span id="3169" class="l"><a class="l" href="#3169"> 3169: </a>
</span><span id="3170" class="l"><a class="l" href="#3170"> 3170: </a>        <span class="php-var">$this</span>-&gt;registry-&gt;call(<span class="php-quote">'Misc'</span>, <span class="php-quote">'error'</span>, <span class="php-keyword1">array</span>(<span class="php-var">$this</span>-&gt;error, E_USER_NOTICE, __FILE__, __LINE__));
</span><span id="3171" class="l"><a class="l" href="#3171"> 3171: </a>
</span><span id="3172" class="l"><a class="l" href="#3172"> 3172: </a>        <span class="php-keyword1">return</span> <span class="php-keyword1">false</span>;
</span><span id="3173" class="l"><a class="l" href="#3173"> 3173: </a>    }
</span><span id="3174" class="l"><a class="l" href="#3174"> 3174: </a>
</span><span id="3175" class="l"><a class="l" href="#3175"> 3175: </a>    <span class="php-comment">/**
</span></span><span id="3176" class="l"><a class="l" href="#3176"> 3176: </a><span class="php-comment">     * Return the error message for the occured error
</span></span><span id="3177" class="l"><a class="l" href="#3177"> 3177: </a><span class="php-comment">     *
</span></span><span id="3178" class="l"><a class="l" href="#3178"> 3178: </a><span class="php-comment">     * @access public
</span></span><span id="3179" class="l"><a class="l" href="#3179"> 3179: </a><span class="php-comment">     * @return string Error message
</span></span><span id="3180" class="l"><a class="l" href="#3180"> 3180: </a><span class="php-comment">     */</span>
</span><span id="3181" class="l"><a class="l" href="#3181"> 3181: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_error" href="#_error">error</a>()
</span><span id="3182" class="l"><a class="l" href="#3182"> 3182: </a>    {
</span><span id="3183" class="l"><a class="l" href="#3183"> 3183: </a>        <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;error;
</span><span id="3184" class="l"><a class="l" href="#3184"> 3184: </a>    }
</span><span id="3185" class="l"><a class="l" href="#3185"> 3185: </a>
</span><span id="3186" class="l"><a class="l" href="#3186"> 3186: </a>    <span class="php-comment">/**
</span></span><span id="3187" class="l"><a class="l" href="#3187"> 3187: </a><span class="php-comment">     * Return the raw XML
</span></span><span id="3188" class="l"><a class="l" href="#3188"> 3188: </a><span class="php-comment">     *
</span></span><span id="3189" class="l"><a class="l" href="#3189"> 3189: </a><span class="php-comment">     * This is the same as setting `$xml_dump = true;`, but returns
</span></span><span id="3190" class="l"><a class="l" href="#3190"> 3190: </a><span class="php-comment">     * the data instead of printing it.
</span></span><span id="3191" class="l"><a class="l" href="#3191"> 3191: </a><span class="php-comment">     *
</span></span><span id="3192" class="l"><a class="l" href="#3192"> 3192: </a><span class="php-comment">     * @return string|boolean Raw XML data, false if the cache is used
</span></span><span id="3193" class="l"><a class="l" href="#3193"> 3193: </a><span class="php-comment">     */</span>
</span><span id="3194" class="l"><a class="l" href="#3194"> 3194: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_get_raw_data" href="#_get_raw_data">get_raw_data</a>()
</span><span id="3195" class="l"><a class="l" href="#3195"> 3195: </a>    {
</span><span id="3196" class="l"><a class="l" href="#3196"> 3196: </a>        <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;raw_data;
</span><span id="3197" class="l"><a class="l" href="#3197"> 3197: </a>    }
</span><span id="3198" class="l"><a class="l" href="#3198"> 3198: </a>
</span><span id="3199" class="l"><a class="l" href="#3199"> 3199: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_get_encoding" href="#_get_encoding">get_encoding</a>()
</span><span id="3200" class="l"><a class="l" href="#3200"> 3200: </a>    {
</span><span id="3201" class="l"><a class="l" href="#3201"> 3201: </a>        <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;sanitize-&gt;output_encoding;
</span><span id="3202" class="l"><a class="l" href="#3202"> 3202: </a>    }
</span><span id="3203" class="l"><a class="l" href="#3203"> 3203: </a>
</span><span id="3204" class="l"><a class="l" href="#3204"> 3204: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_handle_content_type" href="#_handle_content_type">handle_content_type</a>(<span class="php-var">$mime</span> = <span class="php-quote">'text/html'</span>)
</span><span id="3205" class="l"><a class="l" href="#3205"> 3205: </a>    {
</span><span id="3206" class="l"><a class="l" href="#3206"> 3206: </a>        <span class="php-keyword1">if</span> (!<span class="php-keyword2">headers_sent</span>())
</span><span id="3207" class="l"><a class="l" href="#3207"> 3207: </a>        {
</span><span id="3208" class="l"><a class="l" href="#3208"> 3208: </a>            <span class="php-var">$header</span> = <span class="php-quote">&quot;Content-type: </span><span class="php-var">$mime</span><span class="php-quote">;&quot;</span>;
</span><span id="3209" class="l"><a class="l" href="#3209"> 3209: </a>            <span class="php-keyword1">if</span> (<span class="php-var">$this</span>-&gt;get_encoding())
</span><span id="3210" class="l"><a class="l" href="#3210"> 3210: </a>            {
</span><span id="3211" class="l"><a class="l" href="#3211"> 3211: </a>                <span class="php-var">$header</span> .= <span class="php-quote">' charset='</span> . <span class="php-var">$this</span>-&gt;get_encoding();
</span><span id="3212" class="l"><a class="l" href="#3212"> 3212: </a>            }
</span><span id="3213" class="l"><a class="l" href="#3213"> 3213: </a>            <span class="php-keyword1">else</span>
</span><span id="3214" class="l"><a class="l" href="#3214"> 3214: </a>            {
</span><span id="3215" class="l"><a class="l" href="#3215"> 3215: </a>                <span class="php-var">$header</span> .= <span class="php-quote">' charset=UTF-8'</span>;
</span><span id="3216" class="l"><a class="l" href="#3216"> 3216: </a>            }
</span><span id="3217" class="l"><a class="l" href="#3217"> 3217: </a>            <span class="php-keyword2">header</span>(<span class="php-var">$header</span>);
</span><span id="3218" class="l"><a class="l" href="#3218"> 3218: </a>        }
</span><span id="3219" class="l"><a class="l" href="#3219"> 3219: </a>    }
</span><span id="3220" class="l"><a class="l" href="#3220"> 3220: </a>
</span><span id="3221" class="l"><a class="l" href="#3221"> 3221: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_get_type" href="#_get_type">get_type</a>()
</span><span id="3222" class="l"><a class="l" href="#3222"> 3222: </a>    {
</span><span id="3223" class="l"><a class="l" href="#3223"> 3223: </a>        <span class="php-keyword1">if</span> (!<span class="php-keyword1">isset</span>(<span class="php-var">$this</span>-&gt;data[<span class="php-quote">'type'</span>]))
</span><span id="3224" class="l"><a class="l" href="#3224"> 3224: </a>        {
</span><span id="3225" class="l"><a class="l" href="#3225"> 3225: </a>            <span class="php-var">$this</span>-&gt;data[<span class="php-quote">'type'</span>] = SIMPLEPIE_TYPE_ALL;
</span><span id="3226" class="l"><a class="l" href="#3226"> 3226: </a>            <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$this</span>-&gt;data[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_ATOM_10][<span class="php-quote">'feed'</span>]))
</span><span id="3227" class="l"><a class="l" href="#3227"> 3227: </a>            {
</span><span id="3228" class="l"><a class="l" href="#3228"> 3228: </a>                <span class="php-var">$this</span>-&gt;data[<span class="php-quote">'type'</span>] &amp;= SIMPLEPIE_TYPE_ATOM_10;
</span><span id="3229" class="l"><a class="l" href="#3229"> 3229: </a>            }
</span><span id="3230" class="l"><a class="l" href="#3230"> 3230: </a>            <span class="php-keyword1">elseif</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$this</span>-&gt;data[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_ATOM_03][<span class="php-quote">'feed'</span>]))
</span><span id="3231" class="l"><a class="l" href="#3231"> 3231: </a>            {
</span><span id="3232" class="l"><a class="l" href="#3232"> 3232: </a>                <span class="php-var">$this</span>-&gt;data[<span class="php-quote">'type'</span>] &amp;= SIMPLEPIE_TYPE_ATOM_03;
</span><span id="3233" class="l"><a class="l" href="#3233"> 3233: </a>            }
</span><span id="3234" class="l"><a class="l" href="#3234"> 3234: </a>            <span class="php-keyword1">elseif</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$this</span>-&gt;data[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_RDF][<span class="php-quote">'RDF'</span>]))
</span><span id="3235" class="l"><a class="l" href="#3235"> 3235: </a>            {
</span><span id="3236" class="l"><a class="l" href="#3236"> 3236: </a>                <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$this</span>-&gt;data[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_RDF][<span class="php-quote">'RDF'</span>][<span class="php-num">0</span>][<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_RSS_10][<span class="php-quote">'channel'</span>])
</span><span id="3237" class="l"><a class="l" href="#3237"> 3237: </a>                || <span class="php-keyword1">isset</span>(<span class="php-var">$this</span>-&gt;data[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_RDF][<span class="php-quote">'RDF'</span>][<span class="php-num">0</span>][<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_RSS_10][<span class="php-quote">'image'</span>])
</span><span id="3238" class="l"><a class="l" href="#3238"> 3238: </a>                || <span class="php-keyword1">isset</span>(<span class="php-var">$this</span>-&gt;data[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_RDF][<span class="php-quote">'RDF'</span>][<span class="php-num">0</span>][<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_RSS_10][<span class="php-quote">'item'</span>])
</span><span id="3239" class="l"><a class="l" href="#3239"> 3239: </a>                || <span class="php-keyword1">isset</span>(<span class="php-var">$this</span>-&gt;data[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_RDF][<span class="php-quote">'RDF'</span>][<span class="php-num">0</span>][<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_RSS_10][<span class="php-quote">'textinput'</span>]))
</span><span id="3240" class="l"><a class="l" href="#3240"> 3240: </a>                {
</span><span id="3241" class="l"><a class="l" href="#3241"> 3241: </a>                    <span class="php-var">$this</span>-&gt;data[<span class="php-quote">'type'</span>] &amp;= SIMPLEPIE_TYPE_RSS_10;
</span><span id="3242" class="l"><a class="l" href="#3242"> 3242: </a>                }
</span><span id="3243" class="l"><a class="l" href="#3243"> 3243: </a>                <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$this</span>-&gt;data[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_RDF][<span class="php-quote">'RDF'</span>][<span class="php-num">0</span>][<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_RSS_090][<span class="php-quote">'channel'</span>])
</span><span id="3244" class="l"><a class="l" href="#3244"> 3244: </a>                || <span class="php-keyword1">isset</span>(<span class="php-var">$this</span>-&gt;data[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_RDF][<span class="php-quote">'RDF'</span>][<span class="php-num">0</span>][<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_RSS_090][<span class="php-quote">'image'</span>])
</span><span id="3245" class="l"><a class="l" href="#3245"> 3245: </a>                || <span class="php-keyword1">isset</span>(<span class="php-var">$this</span>-&gt;data[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_RDF][<span class="php-quote">'RDF'</span>][<span class="php-num">0</span>][<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_RSS_090][<span class="php-quote">'item'</span>])
</span><span id="3246" class="l"><a class="l" href="#3246"> 3246: </a>                || <span class="php-keyword1">isset</span>(<span class="php-var">$this</span>-&gt;data[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_RDF][<span class="php-quote">'RDF'</span>][<span class="php-num">0</span>][<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_RSS_090][<span class="php-quote">'textinput'</span>]))
</span><span id="3247" class="l"><a class="l" href="#3247"> 3247: </a>                {
</span><span id="3248" class="l"><a class="l" href="#3248"> 3248: </a>                    <span class="php-var">$this</span>-&gt;data[<span class="php-quote">'type'</span>] &amp;= SIMPLEPIE_TYPE_RSS_090;
</span><span id="3249" class="l"><a class="l" href="#3249"> 3249: </a>                }
</span><span id="3250" class="l"><a class="l" href="#3250"> 3250: </a>            }
</span><span id="3251" class="l"><a class="l" href="#3251"> 3251: </a>            <span class="php-keyword1">elseif</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$this</span>-&gt;data[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_RSS_20][<span class="php-quote">'rss'</span>]))
</span><span id="3252" class="l"><a class="l" href="#3252"> 3252: </a>            {
</span><span id="3253" class="l"><a class="l" href="#3253"> 3253: </a>                <span class="php-var">$this</span>-&gt;data[<span class="php-quote">'type'</span>] &amp;= SIMPLEPIE_TYPE_RSS_ALL;
</span><span id="3254" class="l"><a class="l" href="#3254"> 3254: </a>                <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$this</span>-&gt;data[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_RSS_20][<span class="php-quote">'rss'</span>][<span class="php-num">0</span>][<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'version'</span>]))
</span><span id="3255" class="l"><a class="l" href="#3255"> 3255: </a>                {
</span><span id="3256" class="l"><a class="l" href="#3256"> 3256: </a>                    <span class="php-keyword1">switch</span> (<span class="php-keyword2">trim</span>(<span class="php-var">$this</span>-&gt;data[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_RSS_20][<span class="php-quote">'rss'</span>][<span class="php-num">0</span>][<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'version'</span>]))
</span><span id="3257" class="l"><a class="l" href="#3257"> 3257: </a>                    {
</span><span id="3258" class="l"><a class="l" href="#3258"> 3258: </a>                        <span class="php-keyword1">case</span> <span class="php-quote">'0.91'</span>:
</span><span id="3259" class="l"><a class="l" href="#3259"> 3259: </a>                            <span class="php-var">$this</span>-&gt;data[<span class="php-quote">'type'</span>] &amp;= SIMPLEPIE_TYPE_RSS_091;
</span><span id="3260" class="l"><a class="l" href="#3260"> 3260: </a>                            <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$this</span>-&gt;data[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_RSS_20][<span class="php-quote">'rss'</span>][<span class="php-num">0</span>][<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_RSS_20][<span class="php-quote">'skiphours'</span>][<span class="php-quote">'hour'</span>][<span class="php-num">0</span>][<span class="php-quote">'data'</span>]))
</span><span id="3261" class="l"><a class="l" href="#3261"> 3261: </a>                            {
</span><span id="3262" class="l"><a class="l" href="#3262"> 3262: </a>                                <span class="php-keyword1">switch</span> (<span class="php-keyword2">trim</span>(<span class="php-var">$this</span>-&gt;data[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_RSS_20][<span class="php-quote">'rss'</span>][<span class="php-num">0</span>][<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_RSS_20][<span class="php-quote">'skiphours'</span>][<span class="php-quote">'hour'</span>][<span class="php-num">0</span>][<span class="php-quote">'data'</span>]))
</span><span id="3263" class="l"><a class="l" href="#3263"> 3263: </a>                                {
</span><span id="3264" class="l"><a class="l" href="#3264"> 3264: </a>                                    <span class="php-keyword1">case</span> <span class="php-quote">'0'</span>:
</span><span id="3265" class="l"><a class="l" href="#3265"> 3265: </a>                                        <span class="php-var">$this</span>-&gt;data[<span class="php-quote">'type'</span>] &amp;= SIMPLEPIE_TYPE_RSS_091_NETSCAPE;
</span><span id="3266" class="l"><a class="l" href="#3266"> 3266: </a>                                        <span class="php-keyword1">break</span>;
</span><span id="3267" class="l"><a class="l" href="#3267"> 3267: </a>
</span><span id="3268" class="l"><a class="l" href="#3268"> 3268: </a>                                    <span class="php-keyword1">case</span> <span class="php-quote">'24'</span>:
</span><span id="3269" class="l"><a class="l" href="#3269"> 3269: </a>                                        <span class="php-var">$this</span>-&gt;data[<span class="php-quote">'type'</span>] &amp;= SIMPLEPIE_TYPE_RSS_091_USERLAND;
</span><span id="3270" class="l"><a class="l" href="#3270"> 3270: </a>                                        <span class="php-keyword1">break</span>;
</span><span id="3271" class="l"><a class="l" href="#3271"> 3271: </a>                                }
</span><span id="3272" class="l"><a class="l" href="#3272"> 3272: </a>                            }
</span><span id="3273" class="l"><a class="l" href="#3273"> 3273: </a>                            <span class="php-keyword1">break</span>;
</span><span id="3274" class="l"><a class="l" href="#3274"> 3274: </a>
</span><span id="3275" class="l"><a class="l" href="#3275"> 3275: </a>                        <span class="php-keyword1">case</span> <span class="php-quote">'0.92'</span>:
</span><span id="3276" class="l"><a class="l" href="#3276"> 3276: </a>                            <span class="php-var">$this</span>-&gt;data[<span class="php-quote">'type'</span>] &amp;= SIMPLEPIE_TYPE_RSS_092;
</span><span id="3277" class="l"><a class="l" href="#3277"> 3277: </a>                            <span class="php-keyword1">break</span>;
</span><span id="3278" class="l"><a class="l" href="#3278"> 3278: </a>
</span><span id="3279" class="l"><a class="l" href="#3279"> 3279: </a>                        <span class="php-keyword1">case</span> <span class="php-quote">'0.93'</span>:
</span><span id="3280" class="l"><a class="l" href="#3280"> 3280: </a>                            <span class="php-var">$this</span>-&gt;data[<span class="php-quote">'type'</span>] &amp;= SIMPLEPIE_TYPE_RSS_093;
</span><span id="3281" class="l"><a class="l" href="#3281"> 3281: </a>                            <span class="php-keyword1">break</span>;
</span><span id="3282" class="l"><a class="l" href="#3282"> 3282: </a>
</span><span id="3283" class="l"><a class="l" href="#3283"> 3283: </a>                        <span class="php-keyword1">case</span> <span class="php-quote">'0.94'</span>:
</span><span id="3284" class="l"><a class="l" href="#3284"> 3284: </a>                            <span class="php-var">$this</span>-&gt;data[<span class="php-quote">'type'</span>] &amp;= SIMPLEPIE_TYPE_RSS_094;
</span><span id="3285" class="l"><a class="l" href="#3285"> 3285: </a>                            <span class="php-keyword1">break</span>;
</span><span id="3286" class="l"><a class="l" href="#3286"> 3286: </a>
</span><span id="3287" class="l"><a class="l" href="#3287"> 3287: </a>                        <span class="php-keyword1">case</span> <span class="php-quote">'2.0'</span>:
</span><span id="3288" class="l"><a class="l" href="#3288"> 3288: </a>                            <span class="php-var">$this</span>-&gt;data[<span class="php-quote">'type'</span>] &amp;= SIMPLEPIE_TYPE_RSS_20;
</span><span id="3289" class="l"><a class="l" href="#3289"> 3289: </a>                            <span class="php-keyword1">break</span>;
</span><span id="3290" class="l"><a class="l" href="#3290"> 3290: </a>                    }
</span><span id="3291" class="l"><a class="l" href="#3291"> 3291: </a>                }
</span><span id="3292" class="l"><a class="l" href="#3292"> 3292: </a>            }
</span><span id="3293" class="l"><a class="l" href="#3293"> 3293: </a>            <span class="php-keyword1">else</span>
</span><span id="3294" class="l"><a class="l" href="#3294"> 3294: </a>            {
</span><span id="3295" class="l"><a class="l" href="#3295"> 3295: </a>                <span class="php-var">$this</span>-&gt;data[<span class="php-quote">'type'</span>] = SIMPLEPIE_TYPE_NONE;
</span><span id="3296" class="l"><a class="l" href="#3296"> 3296: </a>            }
</span><span id="3297" class="l"><a class="l" href="#3297"> 3297: </a>        }
</span><span id="3298" class="l"><a class="l" href="#3298"> 3298: </a>        <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;data[<span class="php-quote">'type'</span>];
</span><span id="3299" class="l"><a class="l" href="#3299"> 3299: </a>    }
</span><span id="3300" class="l"><a class="l" href="#3300"> 3300: </a>
</span><span id="3301" class="l"><a class="l" href="#3301"> 3301: </a>    <span class="php-comment">/**
</span></span><span id="3302" class="l"><a class="l" href="#3302"> 3302: </a><span class="php-comment">     * @todo If we have a perm redirect we should return the new URL
</span></span><span id="3303" class="l"><a class="l" href="#3303"> 3303: </a><span class="php-comment">     * @todo When we make the above change, let's support &lt;itunes:new-feed-url&gt; as well
</span></span><span id="3304" class="l"><a class="l" href="#3304"> 3304: </a><span class="php-comment">     * @todo Also, |atom:link|@rel=self
</span></span><span id="3305" class="l"><a class="l" href="#3305"> 3305: </a><span class="php-comment">     */</span>
</span><span id="3306" class="l"><a class="l" href="#3306"> 3306: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_subscribe_url" href="#_subscribe_url">subscribe_url</a>()
</span><span id="3307" class="l"><a class="l" href="#3307"> 3307: </a>    {
</span><span id="3308" class="l"><a class="l" href="#3308"> 3308: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$this</span>-&gt;feed_url !== <span class="php-keyword1">null</span>)
</span><span id="3309" class="l"><a class="l" href="#3309"> 3309: </a>        {
</span><span id="3310" class="l"><a class="l" href="#3310"> 3310: </a>            <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$this</span>-&gt;feed_url, SIMPLEPIE_CONSTRUCT_IRI);
</span><span id="3311" class="l"><a class="l" href="#3311"> 3311: </a>        }
</span><span id="3312" class="l"><a class="l" href="#3312"> 3312: </a>        <span class="php-keyword1">else</span>
</span><span id="3313" class="l"><a class="l" href="#3313"> 3313: </a>        {
</span><span id="3314" class="l"><a class="l" href="#3314"> 3314: </a>            <span class="php-keyword1">return</span> <span class="php-keyword1">null</span>;
</span><span id="3315" class="l"><a class="l" href="#3315"> 3315: </a>        }
</span><span id="3316" class="l"><a class="l" href="#3316"> 3316: </a>    }
</span><span id="3317" class="l"><a class="l" href="#3317"> 3317: </a>
</span><span id="3318" class="l"><a class="l" href="#3318"> 3318: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_get_feed_tags" href="#_get_feed_tags">get_feed_tags</a>(<span class="php-var">$namespace</span>, <span class="php-var">$tag</span>)
</span><span id="3319" class="l"><a class="l" href="#3319"> 3319: </a>    {
</span><span id="3320" class="l"><a class="l" href="#3320"> 3320: </a>        <span class="php-var">$type</span> = <span class="php-var">$this</span>-&gt;get_type();
</span><span id="3321" class="l"><a class="l" href="#3321"> 3321: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$type</span> &amp; SIMPLEPIE_TYPE_ATOM_10)
</span><span id="3322" class="l"><a class="l" href="#3322"> 3322: </a>        {
</span><span id="3323" class="l"><a class="l" href="#3323"> 3323: </a>            <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$this</span>-&gt;data[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_ATOM_10][<span class="php-quote">'feed'</span>][<span class="php-num">0</span>][<span class="php-quote">'child'</span>][<span class="php-var">$namespace</span>][<span class="php-var">$tag</span>]))
</span><span id="3324" class="l"><a class="l" href="#3324"> 3324: </a>            {
</span><span id="3325" class="l"><a class="l" href="#3325"> 3325: </a>                <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;data[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_ATOM_10][<span class="php-quote">'feed'</span>][<span class="php-num">0</span>][<span class="php-quote">'child'</span>][<span class="php-var">$namespace</span>][<span class="php-var">$tag</span>];
</span><span id="3326" class="l"><a class="l" href="#3326"> 3326: </a>            }
</span><span id="3327" class="l"><a class="l" href="#3327"> 3327: </a>        }
</span><span id="3328" class="l"><a class="l" href="#3328"> 3328: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$type</span> &amp; SIMPLEPIE_TYPE_ATOM_03)
</span><span id="3329" class="l"><a class="l" href="#3329"> 3329: </a>        {
</span><span id="3330" class="l"><a class="l" href="#3330"> 3330: </a>            <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$this</span>-&gt;data[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_ATOM_03][<span class="php-quote">'feed'</span>][<span class="php-num">0</span>][<span class="php-quote">'child'</span>][<span class="php-var">$namespace</span>][<span class="php-var">$tag</span>]))
</span><span id="3331" class="l"><a class="l" href="#3331"> 3331: </a>            {
</span><span id="3332" class="l"><a class="l" href="#3332"> 3332: </a>                <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;data[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_ATOM_03][<span class="php-quote">'feed'</span>][<span class="php-num">0</span>][<span class="php-quote">'child'</span>][<span class="php-var">$namespace</span>][<span class="php-var">$tag</span>];
</span><span id="3333" class="l"><a class="l" href="#3333"> 3333: </a>            }
</span><span id="3334" class="l"><a class="l" href="#3334"> 3334: </a>        }
</span><span id="3335" class="l"><a class="l" href="#3335"> 3335: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$type</span> &amp; SIMPLEPIE_TYPE_RSS_RDF)
</span><span id="3336" class="l"><a class="l" href="#3336"> 3336: </a>        {
</span><span id="3337" class="l"><a class="l" href="#3337"> 3337: </a>            <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$this</span>-&gt;data[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_RDF][<span class="php-quote">'RDF'</span>][<span class="php-num">0</span>][<span class="php-quote">'child'</span>][<span class="php-var">$namespace</span>][<span class="php-var">$tag</span>]))
</span><span id="3338" class="l"><a class="l" href="#3338"> 3338: </a>            {
</span><span id="3339" class="l"><a class="l" href="#3339"> 3339: </a>                <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;data[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_RDF][<span class="php-quote">'RDF'</span>][<span class="php-num">0</span>][<span class="php-quote">'child'</span>][<span class="php-var">$namespace</span>][<span class="php-var">$tag</span>];
</span><span id="3340" class="l"><a class="l" href="#3340"> 3340: </a>            }
</span><span id="3341" class="l"><a class="l" href="#3341"> 3341: </a>        }
</span><span id="3342" class="l"><a class="l" href="#3342"> 3342: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$type</span> &amp; SIMPLEPIE_TYPE_RSS_SYNDICATION)
</span><span id="3343" class="l"><a class="l" href="#3343"> 3343: </a>        {
</span><span id="3344" class="l"><a class="l" href="#3344"> 3344: </a>            <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$this</span>-&gt;data[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_RSS_20][<span class="php-quote">'rss'</span>][<span class="php-num">0</span>][<span class="php-quote">'child'</span>][<span class="php-var">$namespace</span>][<span class="php-var">$tag</span>]))
</span><span id="3345" class="l"><a class="l" href="#3345"> 3345: </a>            {
</span><span id="3346" class="l"><a class="l" href="#3346"> 3346: </a>                <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;data[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_RSS_20][<span class="php-quote">'rss'</span>][<span class="php-num">0</span>][<span class="php-quote">'child'</span>][<span class="php-var">$namespace</span>][<span class="php-var">$tag</span>];
</span><span id="3347" class="l"><a class="l" href="#3347"> 3347: </a>            }
</span><span id="3348" class="l"><a class="l" href="#3348"> 3348: </a>        }
</span><span id="3349" class="l"><a class="l" href="#3349"> 3349: </a>        <span class="php-keyword1">return</span> <span class="php-keyword1">null</span>;
</span><span id="3350" class="l"><a class="l" href="#3350"> 3350: </a>    }
</span><span id="3351" class="l"><a class="l" href="#3351"> 3351: </a>
</span><span id="3352" class="l"><a class="l" href="#3352"> 3352: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_get_channel_tags" href="#_get_channel_tags">get_channel_tags</a>(<span class="php-var">$namespace</span>, <span class="php-var">$tag</span>)
</span><span id="3353" class="l"><a class="l" href="#3353"> 3353: </a>    {
</span><span id="3354" class="l"><a class="l" href="#3354"> 3354: </a>        <span class="php-var">$type</span> = <span class="php-var">$this</span>-&gt;get_type();
</span><span id="3355" class="l"><a class="l" href="#3355"> 3355: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$type</span> &amp; SIMPLEPIE_TYPE_ATOM_ALL)
</span><span id="3356" class="l"><a class="l" href="#3356"> 3356: </a>        {
</span><span id="3357" class="l"><a class="l" href="#3357"> 3357: </a>            <span class="php-keyword1">if</span> (<span class="php-var">$return</span> = <span class="php-var">$this</span>-&gt;get_feed_tags(<span class="php-var">$namespace</span>, <span class="php-var">$tag</span>))
</span><span id="3358" class="l"><a class="l" href="#3358"> 3358: </a>            {
</span><span id="3359" class="l"><a class="l" href="#3359"> 3359: </a>                <span class="php-keyword1">return</span> <span class="php-var">$return</span>;
</span><span id="3360" class="l"><a class="l" href="#3360"> 3360: </a>            }
</span><span id="3361" class="l"><a class="l" href="#3361"> 3361: </a>        }
</span><span id="3362" class="l"><a class="l" href="#3362"> 3362: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$type</span> &amp; SIMPLEPIE_TYPE_RSS_10)
</span><span id="3363" class="l"><a class="l" href="#3363"> 3363: </a>        {
</span><span id="3364" class="l"><a class="l" href="#3364"> 3364: </a>            <span class="php-keyword1">if</span> (<span class="php-var">$channel</span> = <span class="php-var">$this</span>-&gt;get_feed_tags(SIMPLEPIE_NAMESPACE_RSS_10, <span class="php-quote">'channel'</span>))
</span><span id="3365" class="l"><a class="l" href="#3365"> 3365: </a>            {
</span><span id="3366" class="l"><a class="l" href="#3366"> 3366: </a>                <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$channel</span>[<span class="php-num">0</span>][<span class="php-quote">'child'</span>][<span class="php-var">$namespace</span>][<span class="php-var">$tag</span>]))
</span><span id="3367" class="l"><a class="l" href="#3367"> 3367: </a>                {
</span><span id="3368" class="l"><a class="l" href="#3368"> 3368: </a>                    <span class="php-keyword1">return</span> <span class="php-var">$channel</span>[<span class="php-num">0</span>][<span class="php-quote">'child'</span>][<span class="php-var">$namespace</span>][<span class="php-var">$tag</span>];
</span><span id="3369" class="l"><a class="l" href="#3369"> 3369: </a>                }
</span><span id="3370" class="l"><a class="l" href="#3370"> 3370: </a>            }
</span><span id="3371" class="l"><a class="l" href="#3371"> 3371: </a>        }
</span><span id="3372" class="l"><a class="l" href="#3372"> 3372: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$type</span> &amp; SIMPLEPIE_TYPE_RSS_090)
</span><span id="3373" class="l"><a class="l" href="#3373"> 3373: </a>        {
</span><span id="3374" class="l"><a class="l" href="#3374"> 3374: </a>            <span class="php-keyword1">if</span> (<span class="php-var">$channel</span> = <span class="php-var">$this</span>-&gt;get_feed_tags(SIMPLEPIE_NAMESPACE_RSS_090, <span class="php-quote">'channel'</span>))
</span><span id="3375" class="l"><a class="l" href="#3375"> 3375: </a>            {
</span><span id="3376" class="l"><a class="l" href="#3376"> 3376: </a>                <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$channel</span>[<span class="php-num">0</span>][<span class="php-quote">'child'</span>][<span class="php-var">$namespace</span>][<span class="php-var">$tag</span>]))
</span><span id="3377" class="l"><a class="l" href="#3377"> 3377: </a>                {
</span><span id="3378" class="l"><a class="l" href="#3378"> 3378: </a>                    <span class="php-keyword1">return</span> <span class="php-var">$channel</span>[<span class="php-num">0</span>][<span class="php-quote">'child'</span>][<span class="php-var">$namespace</span>][<span class="php-var">$tag</span>];
</span><span id="3379" class="l"><a class="l" href="#3379"> 3379: </a>                }
</span><span id="3380" class="l"><a class="l" href="#3380"> 3380: </a>            }
</span><span id="3381" class="l"><a class="l" href="#3381"> 3381: </a>        }
</span><span id="3382" class="l"><a class="l" href="#3382"> 3382: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$type</span> &amp; SIMPLEPIE_TYPE_RSS_SYNDICATION)
</span><span id="3383" class="l"><a class="l" href="#3383"> 3383: </a>        {
</span><span id="3384" class="l"><a class="l" href="#3384"> 3384: </a>            <span class="php-keyword1">if</span> (<span class="php-var">$channel</span> = <span class="php-var">$this</span>-&gt;get_feed_tags(SIMPLEPIE_NAMESPACE_RSS_20, <span class="php-quote">'channel'</span>))
</span><span id="3385" class="l"><a class="l" href="#3385"> 3385: </a>            {
</span><span id="3386" class="l"><a class="l" href="#3386"> 3386: </a>                <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$channel</span>[<span class="php-num">0</span>][<span class="php-quote">'child'</span>][<span class="php-var">$namespace</span>][<span class="php-var">$tag</span>]))
</span><span id="3387" class="l"><a class="l" href="#3387"> 3387: </a>                {
</span><span id="3388" class="l"><a class="l" href="#3388"> 3388: </a>                    <span class="php-keyword1">return</span> <span class="php-var">$channel</span>[<span class="php-num">0</span>][<span class="php-quote">'child'</span>][<span class="php-var">$namespace</span>][<span class="php-var">$tag</span>];
</span><span id="3389" class="l"><a class="l" href="#3389"> 3389: </a>                }
</span><span id="3390" class="l"><a class="l" href="#3390"> 3390: </a>            }
</span><span id="3391" class="l"><a class="l" href="#3391"> 3391: </a>        }
</span><span id="3392" class="l"><a class="l" href="#3392"> 3392: </a>        <span class="php-keyword1">return</span> <span class="php-keyword1">null</span>;
</span><span id="3393" class="l"><a class="l" href="#3393"> 3393: </a>    }
</span><span id="3394" class="l"><a class="l" href="#3394"> 3394: </a>
</span><span id="3395" class="l"><a class="l" href="#3395"> 3395: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_get_image_tags" href="#_get_image_tags">get_image_tags</a>(<span class="php-var">$namespace</span>, <span class="php-var">$tag</span>)
</span><span id="3396" class="l"><a class="l" href="#3396"> 3396: </a>    {
</span><span id="3397" class="l"><a class="l" href="#3397"> 3397: </a>        <span class="php-var">$type</span> = <span class="php-var">$this</span>-&gt;get_type();
</span><span id="3398" class="l"><a class="l" href="#3398"> 3398: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$type</span> &amp; SIMPLEPIE_TYPE_RSS_10)
</span><span id="3399" class="l"><a class="l" href="#3399"> 3399: </a>        {
</span><span id="3400" class="l"><a class="l" href="#3400"> 3400: </a>            <span class="php-keyword1">if</span> (<span class="php-var">$image</span> = <span class="php-var">$this</span>-&gt;get_feed_tags(SIMPLEPIE_NAMESPACE_RSS_10, <span class="php-quote">'image'</span>))
</span><span id="3401" class="l"><a class="l" href="#3401"> 3401: </a>            {
</span><span id="3402" class="l"><a class="l" href="#3402"> 3402: </a>                <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$image</span>[<span class="php-num">0</span>][<span class="php-quote">'child'</span>][<span class="php-var">$namespace</span>][<span class="php-var">$tag</span>]))
</span><span id="3403" class="l"><a class="l" href="#3403"> 3403: </a>                {
</span><span id="3404" class="l"><a class="l" href="#3404"> 3404: </a>                    <span class="php-keyword1">return</span> <span class="php-var">$image</span>[<span class="php-num">0</span>][<span class="php-quote">'child'</span>][<span class="php-var">$namespace</span>][<span class="php-var">$tag</span>];
</span><span id="3405" class="l"><a class="l" href="#3405"> 3405: </a>                }
</span><span id="3406" class="l"><a class="l" href="#3406"> 3406: </a>            }
</span><span id="3407" class="l"><a class="l" href="#3407"> 3407: </a>        }
</span><span id="3408" class="l"><a class="l" href="#3408"> 3408: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$type</span> &amp; SIMPLEPIE_TYPE_RSS_090)
</span><span id="3409" class="l"><a class="l" href="#3409"> 3409: </a>        {
</span><span id="3410" class="l"><a class="l" href="#3410"> 3410: </a>            <span class="php-keyword1">if</span> (<span class="php-var">$image</span> = <span class="php-var">$this</span>-&gt;get_feed_tags(SIMPLEPIE_NAMESPACE_RSS_090, <span class="php-quote">'image'</span>))
</span><span id="3411" class="l"><a class="l" href="#3411"> 3411: </a>            {
</span><span id="3412" class="l"><a class="l" href="#3412"> 3412: </a>                <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$image</span>[<span class="php-num">0</span>][<span class="php-quote">'child'</span>][<span class="php-var">$namespace</span>][<span class="php-var">$tag</span>]))
</span><span id="3413" class="l"><a class="l" href="#3413"> 3413: </a>                {
</span><span id="3414" class="l"><a class="l" href="#3414"> 3414: </a>                    <span class="php-keyword1">return</span> <span class="php-var">$image</span>[<span class="php-num">0</span>][<span class="php-quote">'child'</span>][<span class="php-var">$namespace</span>][<span class="php-var">$tag</span>];
</span><span id="3415" class="l"><a class="l" href="#3415"> 3415: </a>                }
</span><span id="3416" class="l"><a class="l" href="#3416"> 3416: </a>            }
</span><span id="3417" class="l"><a class="l" href="#3417"> 3417: </a>        }
</span><span id="3418" class="l"><a class="l" href="#3418"> 3418: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$type</span> &amp; SIMPLEPIE_TYPE_RSS_SYNDICATION)
</span><span id="3419" class="l"><a class="l" href="#3419"> 3419: </a>        {
</span><span id="3420" class="l"><a class="l" href="#3420"> 3420: </a>            <span class="php-keyword1">if</span> (<span class="php-var">$image</span> = <span class="php-var">$this</span>-&gt;get_channel_tags(SIMPLEPIE_NAMESPACE_RSS_20, <span class="php-quote">'image'</span>))
</span><span id="3421" class="l"><a class="l" href="#3421"> 3421: </a>            {
</span><span id="3422" class="l"><a class="l" href="#3422"> 3422: </a>                <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$image</span>[<span class="php-num">0</span>][<span class="php-quote">'child'</span>][<span class="php-var">$namespace</span>][<span class="php-var">$tag</span>]))
</span><span id="3423" class="l"><a class="l" href="#3423"> 3423: </a>                {
</span><span id="3424" class="l"><a class="l" href="#3424"> 3424: </a>                    <span class="php-keyword1">return</span> <span class="php-var">$image</span>[<span class="php-num">0</span>][<span class="php-quote">'child'</span>][<span class="php-var">$namespace</span>][<span class="php-var">$tag</span>];
</span><span id="3425" class="l"><a class="l" href="#3425"> 3425: </a>                }
</span><span id="3426" class="l"><a class="l" href="#3426"> 3426: </a>            }
</span><span id="3427" class="l"><a class="l" href="#3427"> 3427: </a>        }
</span><span id="3428" class="l"><a class="l" href="#3428"> 3428: </a>        <span class="php-keyword1">return</span> <span class="php-keyword1">null</span>;
</span><span id="3429" class="l"><a class="l" href="#3429"> 3429: </a>    }
</span><span id="3430" class="l"><a class="l" href="#3430"> 3430: </a>
</span><span id="3431" class="l"><a class="l" href="#3431"> 3431: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_get_base" href="#_get_base">get_base</a>(<span class="php-var">$element</span> = <span class="php-keyword1">array</span>())
</span><span id="3432" class="l"><a class="l" href="#3432"> 3432: </a>    {
</span><span id="3433" class="l"><a class="l" href="#3433"> 3433: </a>        <span class="php-keyword1">if</span> (!(<span class="php-var">$this</span>-&gt;get_type() &amp; SIMPLEPIE_TYPE_RSS_SYNDICATION) &amp;&amp; !<span class="php-keyword1">empty</span>(<span class="php-var">$element</span>[<span class="php-quote">'xml_base_explicit'</span>]) &amp;&amp; <span class="php-keyword1">isset</span>(<span class="php-var">$element</span>[<span class="php-quote">'xml_base'</span>]))
</span><span id="3434" class="l"><a class="l" href="#3434"> 3434: </a>        {
</span><span id="3435" class="l"><a class="l" href="#3435"> 3435: </a>            <span class="php-keyword1">return</span> <span class="php-var">$element</span>[<span class="php-quote">'xml_base'</span>];
</span><span id="3436" class="l"><a class="l" href="#3436"> 3436: </a>        }
</span><span id="3437" class="l"><a class="l" href="#3437"> 3437: </a>        <span class="php-keyword1">elseif</span> (<span class="php-var">$this</span>-&gt;get_link() !== <span class="php-keyword1">null</span>)
</span><span id="3438" class="l"><a class="l" href="#3438"> 3438: </a>        {
</span><span id="3439" class="l"><a class="l" href="#3439"> 3439: </a>            <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;get_link();
</span><span id="3440" class="l"><a class="l" href="#3440"> 3440: </a>        }
</span><span id="3441" class="l"><a class="l" href="#3441"> 3441: </a>        <span class="php-keyword1">else</span>
</span><span id="3442" class="l"><a class="l" href="#3442"> 3442: </a>        {
</span><span id="3443" class="l"><a class="l" href="#3443"> 3443: </a>            <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;subscribe_url();
</span><span id="3444" class="l"><a class="l" href="#3444"> 3444: </a>        }
</span><span id="3445" class="l"><a class="l" href="#3445"> 3445: </a>    }
</span><span id="3446" class="l"><a class="l" href="#3446"> 3446: </a>
</span><span id="3447" class="l"><a class="l" href="#3447"> 3447: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_sanitize" href="#_sanitize">sanitize</a>(<span class="php-var">$data</span>, <span class="php-var">$type</span>, <span class="php-var">$base</span> = <span class="php-quote">''</span>)
</span><span id="3448" class="l"><a class="l" href="#3448"> 3448: </a>    {
</span><span id="3449" class="l"><a class="l" href="#3449"> 3449: </a>        <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;sanitize-&gt;sanitize(<span class="php-var">$data</span>, <span class="php-var">$type</span>, <span class="php-var">$base</span>);
</span><span id="3450" class="l"><a class="l" href="#3450"> 3450: </a>    }
</span><span id="3451" class="l"><a class="l" href="#3451"> 3451: </a>
</span><span id="3452" class="l"><a class="l" href="#3452"> 3452: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_get_title" href="#_get_title">get_title</a>()
</span><span id="3453" class="l"><a class="l" href="#3453"> 3453: </a>    {
</span><span id="3454" class="l"><a class="l" href="#3454"> 3454: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$return</span> = <span class="php-var">$this</span>-&gt;get_channel_tags(SIMPLEPIE_NAMESPACE_ATOM_10, <span class="php-quote">'title'</span>))
</span><span id="3455" class="l"><a class="l" href="#3455"> 3455: </a>        {
</span><span id="3456" class="l"><a class="l" href="#3456"> 3456: </a>            <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$return</span>[<span class="php-num">0</span>][<span class="php-quote">'data'</span>], <span class="php-var">$this</span>-&gt;registry-&gt;call(<span class="php-quote">'Misc'</span>, <span class="php-quote">'atom_10_construct_type'</span>, <span class="php-keyword1">array</span>(<span class="php-var">$return</span>[<span class="php-num">0</span>][<span class="php-quote">'attribs'</span>])), <span class="php-var">$this</span>-&gt;get_base(<span class="php-var">$return</span>[<span class="php-num">0</span>]));
</span><span id="3457" class="l"><a class="l" href="#3457"> 3457: </a>        }
</span><span id="3458" class="l"><a class="l" href="#3458"> 3458: </a>        <span class="php-keyword1">elseif</span> (<span class="php-var">$return</span> = <span class="php-var">$this</span>-&gt;get_channel_tags(SIMPLEPIE_NAMESPACE_ATOM_03, <span class="php-quote">'title'</span>))
</span><span id="3459" class="l"><a class="l" href="#3459"> 3459: </a>        {
</span><span id="3460" class="l"><a class="l" href="#3460"> 3460: </a>            <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$return</span>[<span class="php-num">0</span>][<span class="php-quote">'data'</span>], <span class="php-var">$this</span>-&gt;registry-&gt;call(<span class="php-quote">'Misc'</span>, <span class="php-quote">'atom_03_construct_type'</span>, <span class="php-keyword1">array</span>(<span class="php-var">$return</span>[<span class="php-num">0</span>][<span class="php-quote">'attribs'</span>])), <span class="php-var">$this</span>-&gt;get_base(<span class="php-var">$return</span>[<span class="php-num">0</span>]));
</span><span id="3461" class="l"><a class="l" href="#3461"> 3461: </a>        }
</span><span id="3462" class="l"><a class="l" href="#3462"> 3462: </a>        <span class="php-keyword1">elseif</span> (<span class="php-var">$return</span> = <span class="php-var">$this</span>-&gt;get_channel_tags(SIMPLEPIE_NAMESPACE_RSS_10, <span class="php-quote">'title'</span>))
</span><span id="3463" class="l"><a class="l" href="#3463"> 3463: </a>        {
</span><span id="3464" class="l"><a class="l" href="#3464"> 3464: </a>            <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$return</span>[<span class="php-num">0</span>][<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_MAYBE_HTML, <span class="php-var">$this</span>-&gt;get_base(<span class="php-var">$return</span>[<span class="php-num">0</span>]));
</span><span id="3465" class="l"><a class="l" href="#3465"> 3465: </a>        }
</span><span id="3466" class="l"><a class="l" href="#3466"> 3466: </a>        <span class="php-keyword1">elseif</span> (<span class="php-var">$return</span> = <span class="php-var">$this</span>-&gt;get_channel_tags(SIMPLEPIE_NAMESPACE_RSS_090, <span class="php-quote">'title'</span>))
</span><span id="3467" class="l"><a class="l" href="#3467"> 3467: </a>        {
</span><span id="3468" class="l"><a class="l" href="#3468"> 3468: </a>            <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$return</span>[<span class="php-num">0</span>][<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_MAYBE_HTML, <span class="php-var">$this</span>-&gt;get_base(<span class="php-var">$return</span>[<span class="php-num">0</span>]));
</span><span id="3469" class="l"><a class="l" href="#3469"> 3469: </a>        }
</span><span id="3470" class="l"><a class="l" href="#3470"> 3470: </a>        <span class="php-keyword1">elseif</span> (<span class="php-var">$return</span> = <span class="php-var">$this</span>-&gt;get_channel_tags(SIMPLEPIE_NAMESPACE_RSS_20, <span class="php-quote">'title'</span>))
</span><span id="3471" class="l"><a class="l" href="#3471"> 3471: </a>        {
</span><span id="3472" class="l"><a class="l" href="#3472"> 3472: </a>            <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$return</span>[<span class="php-num">0</span>][<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_MAYBE_HTML, <span class="php-var">$this</span>-&gt;get_base(<span class="php-var">$return</span>[<span class="php-num">0</span>]));
</span><span id="3473" class="l"><a class="l" href="#3473"> 3473: </a>        }
</span><span id="3474" class="l"><a class="l" href="#3474"> 3474: </a>        <span class="php-keyword1">elseif</span> (<span class="php-var">$return</span> = <span class="php-var">$this</span>-&gt;get_channel_tags(SIMPLEPIE_NAMESPACE_DC_11, <span class="php-quote">'title'</span>))
</span><span id="3475" class="l"><a class="l" href="#3475"> 3475: </a>        {
</span><span id="3476" class="l"><a class="l" href="#3476"> 3476: </a>            <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$return</span>[<span class="php-num">0</span>][<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="3477" class="l"><a class="l" href="#3477"> 3477: </a>        }
</span><span id="3478" class="l"><a class="l" href="#3478"> 3478: </a>        <span class="php-keyword1">elseif</span> (<span class="php-var">$return</span> = <span class="php-var">$this</span>-&gt;get_channel_tags(SIMPLEPIE_NAMESPACE_DC_10, <span class="php-quote">'title'</span>))
</span><span id="3479" class="l"><a class="l" href="#3479"> 3479: </a>        {
</span><span id="3480" class="l"><a class="l" href="#3480"> 3480: </a>            <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$return</span>[<span class="php-num">0</span>][<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="3481" class="l"><a class="l" href="#3481"> 3481: </a>        }
</span><span id="3482" class="l"><a class="l" href="#3482"> 3482: </a>        <span class="php-keyword1">else</span>
</span><span id="3483" class="l"><a class="l" href="#3483"> 3483: </a>        {
</span><span id="3484" class="l"><a class="l" href="#3484"> 3484: </a>            <span class="php-keyword1">return</span> <span class="php-keyword1">null</span>;
</span><span id="3485" class="l"><a class="l" href="#3485"> 3485: </a>        }
</span><span id="3486" class="l"><a class="l" href="#3486"> 3486: </a>    }
</span><span id="3487" class="l"><a class="l" href="#3487"> 3487: </a>
</span><span id="3488" class="l"><a class="l" href="#3488"> 3488: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_get_category" href="#_get_category">get_category</a>(<span class="php-var">$key</span> = <span class="php-num">0</span>)
</span><span id="3489" class="l"><a class="l" href="#3489"> 3489: </a>    {
</span><span id="3490" class="l"><a class="l" href="#3490"> 3490: </a>        <span class="php-var">$categories</span> = <span class="php-var">$this</span>-&gt;get_categories();
</span><span id="3491" class="l"><a class="l" href="#3491"> 3491: </a>        <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$categories</span>[<span class="php-var">$key</span>]))
</span><span id="3492" class="l"><a class="l" href="#3492"> 3492: </a>        {
</span><span id="3493" class="l"><a class="l" href="#3493"> 3493: </a>            <span class="php-keyword1">return</span> <span class="php-var">$categories</span>[<span class="php-var">$key</span>];
</span><span id="3494" class="l"><a class="l" href="#3494"> 3494: </a>        }
</span><span id="3495" class="l"><a class="l" href="#3495"> 3495: </a>        <span class="php-keyword1">else</span>
</span><span id="3496" class="l"><a class="l" href="#3496"> 3496: </a>        {
</span><span id="3497" class="l"><a class="l" href="#3497"> 3497: </a>            <span class="php-keyword1">return</span> <span class="php-keyword1">null</span>;
</span><span id="3498" class="l"><a class="l" href="#3498"> 3498: </a>        }
</span><span id="3499" class="l"><a class="l" href="#3499"> 3499: </a>    }
</span><span id="3500" class="l"><a class="l" href="#3500"> 3500: </a>
</span><span id="3501" class="l"><a class="l" href="#3501"> 3501: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_get_categories" href="#_get_categories">get_categories</a>()
</span><span id="3502" class="l"><a class="l" href="#3502"> 3502: </a>    {
</span><span id="3503" class="l"><a class="l" href="#3503"> 3503: </a>        <span class="php-var">$categories</span> = <span class="php-keyword1">array</span>();
</span><span id="3504" class="l"><a class="l" href="#3504"> 3504: </a>
</span><span id="3505" class="l"><a class="l" href="#3505"> 3505: </a>        <span class="php-keyword1">foreach</span> ((<span class="php-keyword1">array</span>) <span class="php-var">$this</span>-&gt;get_channel_tags(SIMPLEPIE_NAMESPACE_ATOM_10, <span class="php-quote">'category'</span>) <span class="php-keyword1">as</span> <span class="php-var">$category</span>)
</span><span id="3506" class="l"><a class="l" href="#3506"> 3506: </a>        {
</span><span id="3507" class="l"><a class="l" href="#3507"> 3507: </a>            <span class="php-var">$term</span> = <span class="php-keyword1">null</span>;
</span><span id="3508" class="l"><a class="l" href="#3508"> 3508: </a>            <span class="php-var">$scheme</span> = <span class="php-keyword1">null</span>;
</span><span id="3509" class="l"><a class="l" href="#3509"> 3509: </a>            <span class="php-var">$label</span> = <span class="php-keyword1">null</span>;
</span><span id="3510" class="l"><a class="l" href="#3510"> 3510: </a>            <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$category</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'term'</span>]))
</span><span id="3511" class="l"><a class="l" href="#3511"> 3511: </a>            {
</span><span id="3512" class="l"><a class="l" href="#3512"> 3512: </a>                <span class="php-var">$term</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$category</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'term'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="3513" class="l"><a class="l" href="#3513"> 3513: </a>            }
</span><span id="3514" class="l"><a class="l" href="#3514"> 3514: </a>            <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$category</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'scheme'</span>]))
</span><span id="3515" class="l"><a class="l" href="#3515"> 3515: </a>            {
</span><span id="3516" class="l"><a class="l" href="#3516"> 3516: </a>                <span class="php-var">$scheme</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$category</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'scheme'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="3517" class="l"><a class="l" href="#3517"> 3517: </a>            }
</span><span id="3518" class="l"><a class="l" href="#3518"> 3518: </a>            <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$category</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'label'</span>]))
</span><span id="3519" class="l"><a class="l" href="#3519"> 3519: </a>            {
</span><span id="3520" class="l"><a class="l" href="#3520"> 3520: </a>                <span class="php-var">$label</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$category</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'label'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="3521" class="l"><a class="l" href="#3521"> 3521: </a>            }
</span><span id="3522" class="l"><a class="l" href="#3522"> 3522: </a>            <span class="php-var">$categories</span>[] = <span class="php-var">$this</span>-&gt;registry-&gt;create(<span class="php-quote">'Category'</span>, <span class="php-keyword1">array</span>(<span class="php-var">$term</span>, <span class="php-var">$scheme</span>, <span class="php-var">$label</span>));
</span><span id="3523" class="l"><a class="l" href="#3523"> 3523: </a>        }
</span><span id="3524" class="l"><a class="l" href="#3524"> 3524: </a>        <span class="php-keyword1">foreach</span> ((<span class="php-keyword1">array</span>) <span class="php-var">$this</span>-&gt;get_channel_tags(SIMPLEPIE_NAMESPACE_RSS_20, <span class="php-quote">'category'</span>) <span class="php-keyword1">as</span> <span class="php-var">$category</span>)
</span><span id="3525" class="l"><a class="l" href="#3525"> 3525: </a>        {
</span><span id="3526" class="l"><a class="l" href="#3526"> 3526: </a>            <span class="php-comment">// This is really the label, but keep this as the term also for BC.</span>
</span><span id="3527" class="l"><a class="l" href="#3527"> 3527: </a>            <span class="php-comment">// Label will also work on retrieving because that falls back to term.</span>
</span><span id="3528" class="l"><a class="l" href="#3528"> 3528: </a>            <span class="php-var">$term</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$category</span>[<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="3529" class="l"><a class="l" href="#3529"> 3529: </a>            <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$category</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'domain'</span>]))
</span><span id="3530" class="l"><a class="l" href="#3530"> 3530: </a>            {
</span><span id="3531" class="l"><a class="l" href="#3531"> 3531: </a>                <span class="php-var">$scheme</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$category</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'domain'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="3532" class="l"><a class="l" href="#3532"> 3532: </a>            }
</span><span id="3533" class="l"><a class="l" href="#3533"> 3533: </a>            <span class="php-keyword1">else</span>
</span><span id="3534" class="l"><a class="l" href="#3534"> 3534: </a>            {
</span><span id="3535" class="l"><a class="l" href="#3535"> 3535: </a>                <span class="php-var">$scheme</span> = <span class="php-keyword1">null</span>;
</span><span id="3536" class="l"><a class="l" href="#3536"> 3536: </a>            }
</span><span id="3537" class="l"><a class="l" href="#3537"> 3537: </a>            <span class="php-var">$categories</span>[] = <span class="php-var">$this</span>-&gt;registry-&gt;create(<span class="php-quote">'Category'</span>, <span class="php-keyword1">array</span>(<span class="php-var">$term</span>, <span class="php-var">$scheme</span>, <span class="php-keyword1">null</span>));
</span><span id="3538" class="l"><a class="l" href="#3538"> 3538: </a>        }
</span><span id="3539" class="l"><a class="l" href="#3539"> 3539: </a>        <span class="php-keyword1">foreach</span> ((<span class="php-keyword1">array</span>) <span class="php-var">$this</span>-&gt;get_channel_tags(SIMPLEPIE_NAMESPACE_DC_11, <span class="php-quote">'subject'</span>) <span class="php-keyword1">as</span> <span class="php-var">$category</span>)
</span><span id="3540" class="l"><a class="l" href="#3540"> 3540: </a>        {
</span><span id="3541" class="l"><a class="l" href="#3541"> 3541: </a>            <span class="php-var">$categories</span>[] = <span class="php-var">$this</span>-&gt;registry-&gt;create(<span class="php-quote">'Category'</span>, <span class="php-keyword1">array</span>(<span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$category</span>[<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_TEXT), <span class="php-keyword1">null</span>, <span class="php-keyword1">null</span>));
</span><span id="3542" class="l"><a class="l" href="#3542"> 3542: </a>        }
</span><span id="3543" class="l"><a class="l" href="#3543"> 3543: </a>        <span class="php-keyword1">foreach</span> ((<span class="php-keyword1">array</span>) <span class="php-var">$this</span>-&gt;get_channel_tags(SIMPLEPIE_NAMESPACE_DC_10, <span class="php-quote">'subject'</span>) <span class="php-keyword1">as</span> <span class="php-var">$category</span>)
</span><span id="3544" class="l"><a class="l" href="#3544"> 3544: </a>        {
</span><span id="3545" class="l"><a class="l" href="#3545"> 3545: </a>            <span class="php-var">$categories</span>[] = <span class="php-var">$this</span>-&gt;registry-&gt;create(<span class="php-quote">'Category'</span>, <span class="php-keyword1">array</span>(<span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$category</span>[<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_TEXT), <span class="php-keyword1">null</span>, <span class="php-keyword1">null</span>));
</span><span id="3546" class="l"><a class="l" href="#3546"> 3546: </a>        }
</span><span id="3547" class="l"><a class="l" href="#3547"> 3547: </a>
</span><span id="3548" class="l"><a class="l" href="#3548"> 3548: </a>        <span class="php-keyword1">if</span> (!<span class="php-keyword1">empty</span>(<span class="php-var">$categories</span>))
</span><span id="3549" class="l"><a class="l" href="#3549"> 3549: </a>        {
</span><span id="3550" class="l"><a class="l" href="#3550"> 3550: </a>            <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;registry-&gt;call(<span class="php-quote">'Misc'</span>, <span class="php-quote">'array_unique'</span>, <span class="php-keyword1">array</span>(<span class="php-var">$categories</span>));
</span><span id="3551" class="l"><a class="l" href="#3551"> 3551: </a>        }
</span><span id="3552" class="l"><a class="l" href="#3552"> 3552: </a>        <span class="php-keyword1">else</span>
</span><span id="3553" class="l"><a class="l" href="#3553"> 3553: </a>        {
</span><span id="3554" class="l"><a class="l" href="#3554"> 3554: </a>            <span class="php-keyword1">return</span> <span class="php-keyword1">null</span>;
</span><span id="3555" class="l"><a class="l" href="#3555"> 3555: </a>        }
</span><span id="3556" class="l"><a class="l" href="#3556"> 3556: </a>    }
</span><span id="3557" class="l"><a class="l" href="#3557"> 3557: </a>
</span><span id="3558" class="l"><a class="l" href="#3558"> 3558: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_get_author" href="#_get_author">get_author</a>(<span class="php-var">$key</span> = <span class="php-num">0</span>)
</span><span id="3559" class="l"><a class="l" href="#3559"> 3559: </a>    {
</span><span id="3560" class="l"><a class="l" href="#3560"> 3560: </a>        <span class="php-var">$authors</span> = <span class="php-var">$this</span>-&gt;get_authors();
</span><span id="3561" class="l"><a class="l" href="#3561"> 3561: </a>        <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$authors</span>[<span class="php-var">$key</span>]))
</span><span id="3562" class="l"><a class="l" href="#3562"> 3562: </a>        {
</span><span id="3563" class="l"><a class="l" href="#3563"> 3563: </a>            <span class="php-keyword1">return</span> <span class="php-var">$authors</span>[<span class="php-var">$key</span>];
</span><span id="3564" class="l"><a class="l" href="#3564"> 3564: </a>        }
</span><span id="3565" class="l"><a class="l" href="#3565"> 3565: </a>        <span class="php-keyword1">else</span>
</span><span id="3566" class="l"><a class="l" href="#3566"> 3566: </a>        {
</span><span id="3567" class="l"><a class="l" href="#3567"> 3567: </a>            <span class="php-keyword1">return</span> <span class="php-keyword1">null</span>;
</span><span id="3568" class="l"><a class="l" href="#3568"> 3568: </a>        }
</span><span id="3569" class="l"><a class="l" href="#3569"> 3569: </a>    }
</span><span id="3570" class="l"><a class="l" href="#3570"> 3570: </a>
</span><span id="3571" class="l"><a class="l" href="#3571"> 3571: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_get_authors" href="#_get_authors">get_authors</a>()
</span><span id="3572" class="l"><a class="l" href="#3572"> 3572: </a>    {
</span><span id="3573" class="l"><a class="l" href="#3573"> 3573: </a>        <span class="php-var">$authors</span> = <span class="php-keyword1">array</span>();
</span><span id="3574" class="l"><a class="l" href="#3574"> 3574: </a>        <span class="php-keyword1">foreach</span> ((<span class="php-keyword1">array</span>) <span class="php-var">$this</span>-&gt;get_channel_tags(SIMPLEPIE_NAMESPACE_ATOM_10, <span class="php-quote">'author'</span>) <span class="php-keyword1">as</span> <span class="php-var">$author</span>)
</span><span id="3575" class="l"><a class="l" href="#3575"> 3575: </a>        {
</span><span id="3576" class="l"><a class="l" href="#3576"> 3576: </a>            <span class="php-var">$name</span> = <span class="php-keyword1">null</span>;
</span><span id="3577" class="l"><a class="l" href="#3577"> 3577: </a>            <span class="php-var">$uri</span> = <span class="php-keyword1">null</span>;
</span><span id="3578" class="l"><a class="l" href="#3578"> 3578: </a>            <span class="php-var">$email</span> = <span class="php-keyword1">null</span>;
</span><span id="3579" class="l"><a class="l" href="#3579"> 3579: </a>            <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$author</span>[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_ATOM_10][<span class="php-quote">'name'</span>][<span class="php-num">0</span>][<span class="php-quote">'data'</span>]))
</span><span id="3580" class="l"><a class="l" href="#3580"> 3580: </a>            {
</span><span id="3581" class="l"><a class="l" href="#3581"> 3581: </a>                <span class="php-var">$name</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$author</span>[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_ATOM_10][<span class="php-quote">'name'</span>][<span class="php-num">0</span>][<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="3582" class="l"><a class="l" href="#3582"> 3582: </a>            }
</span><span id="3583" class="l"><a class="l" href="#3583"> 3583: </a>            <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$author</span>[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_ATOM_10][<span class="php-quote">'uri'</span>][<span class="php-num">0</span>][<span class="php-quote">'data'</span>]))
</span><span id="3584" class="l"><a class="l" href="#3584"> 3584: </a>            {
</span><span id="3585" class="l"><a class="l" href="#3585"> 3585: </a>                <span class="php-var">$uri</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$author</span>[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_ATOM_10][<span class="php-quote">'uri'</span>][<span class="php-num">0</span>][<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_IRI, <span class="php-var">$this</span>-&gt;get_base(<span class="php-var">$author</span>[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_ATOM_10][<span class="php-quote">'uri'</span>][<span class="php-num">0</span>]));
</span><span id="3586" class="l"><a class="l" href="#3586"> 3586: </a>            }
</span><span id="3587" class="l"><a class="l" href="#3587"> 3587: </a>            <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$author</span>[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_ATOM_10][<span class="php-quote">'email'</span>][<span class="php-num">0</span>][<span class="php-quote">'data'</span>]))
</span><span id="3588" class="l"><a class="l" href="#3588"> 3588: </a>            {
</span><span id="3589" class="l"><a class="l" href="#3589"> 3589: </a>                <span class="php-var">$email</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$author</span>[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_ATOM_10][<span class="php-quote">'email'</span>][<span class="php-num">0</span>][<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="3590" class="l"><a class="l" href="#3590"> 3590: </a>            }
</span><span id="3591" class="l"><a class="l" href="#3591"> 3591: </a>            <span class="php-keyword1">if</span> (<span class="php-var">$name</span> !== <span class="php-keyword1">null</span> || <span class="php-var">$email</span> !== <span class="php-keyword1">null</span> || <span class="php-var">$uri</span> !== <span class="php-keyword1">null</span>)
</span><span id="3592" class="l"><a class="l" href="#3592"> 3592: </a>            {
</span><span id="3593" class="l"><a class="l" href="#3593"> 3593: </a>                <span class="php-var">$authors</span>[] = <span class="php-var">$this</span>-&gt;registry-&gt;create(<span class="php-quote">'Author'</span>, <span class="php-keyword1">array</span>(<span class="php-var">$name</span>, <span class="php-var">$uri</span>, <span class="php-var">$email</span>));
</span><span id="3594" class="l"><a class="l" href="#3594"> 3594: </a>            }
</span><span id="3595" class="l"><a class="l" href="#3595"> 3595: </a>        }
</span><span id="3596" class="l"><a class="l" href="#3596"> 3596: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$author</span> = <span class="php-var">$this</span>-&gt;get_channel_tags(SIMPLEPIE_NAMESPACE_ATOM_03, <span class="php-quote">'author'</span>))
</span><span id="3597" class="l"><a class="l" href="#3597"> 3597: </a>        {
</span><span id="3598" class="l"><a class="l" href="#3598"> 3598: </a>            <span class="php-var">$name</span> = <span class="php-keyword1">null</span>;
</span><span id="3599" class="l"><a class="l" href="#3599"> 3599: </a>            <span class="php-var">$url</span> = <span class="php-keyword1">null</span>;
</span><span id="3600" class="l"><a class="l" href="#3600"> 3600: </a>            <span class="php-var">$email</span> = <span class="php-keyword1">null</span>;
</span><span id="3601" class="l"><a class="l" href="#3601"> 3601: </a>            <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$author</span>[<span class="php-num">0</span>][<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_ATOM_03][<span class="php-quote">'name'</span>][<span class="php-num">0</span>][<span class="php-quote">'data'</span>]))
</span><span id="3602" class="l"><a class="l" href="#3602"> 3602: </a>            {
</span><span id="3603" class="l"><a class="l" href="#3603"> 3603: </a>                <span class="php-var">$name</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$author</span>[<span class="php-num">0</span>][<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_ATOM_03][<span class="php-quote">'name'</span>][<span class="php-num">0</span>][<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="3604" class="l"><a class="l" href="#3604"> 3604: </a>            }
</span><span id="3605" class="l"><a class="l" href="#3605"> 3605: </a>            <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$author</span>[<span class="php-num">0</span>][<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_ATOM_03][<span class="php-quote">'url'</span>][<span class="php-num">0</span>][<span class="php-quote">'data'</span>]))
</span><span id="3606" class="l"><a class="l" href="#3606"> 3606: </a>            {
</span><span id="3607" class="l"><a class="l" href="#3607"> 3607: </a>                <span class="php-var">$url</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$author</span>[<span class="php-num">0</span>][<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_ATOM_03][<span class="php-quote">'url'</span>][<span class="php-num">0</span>][<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_IRI, <span class="php-var">$this</span>-&gt;get_base(<span class="php-var">$author</span>[<span class="php-num">0</span>][<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_ATOM_03][<span class="php-quote">'url'</span>][<span class="php-num">0</span>]));
</span><span id="3608" class="l"><a class="l" href="#3608"> 3608: </a>            }
</span><span id="3609" class="l"><a class="l" href="#3609"> 3609: </a>            <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$author</span>[<span class="php-num">0</span>][<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_ATOM_03][<span class="php-quote">'email'</span>][<span class="php-num">0</span>][<span class="php-quote">'data'</span>]))
</span><span id="3610" class="l"><a class="l" href="#3610"> 3610: </a>            {
</span><span id="3611" class="l"><a class="l" href="#3611"> 3611: </a>                <span class="php-var">$email</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$author</span>[<span class="php-num">0</span>][<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_ATOM_03][<span class="php-quote">'email'</span>][<span class="php-num">0</span>][<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="3612" class="l"><a class="l" href="#3612"> 3612: </a>            }
</span><span id="3613" class="l"><a class="l" href="#3613"> 3613: </a>            <span class="php-keyword1">if</span> (<span class="php-var">$name</span> !== <span class="php-keyword1">null</span> || <span class="php-var">$email</span> !== <span class="php-keyword1">null</span> || <span class="php-var">$url</span> !== <span class="php-keyword1">null</span>)
</span><span id="3614" class="l"><a class="l" href="#3614"> 3614: </a>            {
</span><span id="3615" class="l"><a class="l" href="#3615"> 3615: </a>                <span class="php-var">$authors</span>[] = <span class="php-var">$this</span>-&gt;registry-&gt;create(<span class="php-quote">'Author'</span>, <span class="php-keyword1">array</span>(<span class="php-var">$name</span>, <span class="php-var">$url</span>, <span class="php-var">$email</span>));
</span><span id="3616" class="l"><a class="l" href="#3616"> 3616: </a>            }
</span><span id="3617" class="l"><a class="l" href="#3617"> 3617: </a>        }
</span><span id="3618" class="l"><a class="l" href="#3618"> 3618: </a>        <span class="php-keyword1">foreach</span> ((<span class="php-keyword1">array</span>) <span class="php-var">$this</span>-&gt;get_channel_tags(SIMPLEPIE_NAMESPACE_DC_11, <span class="php-quote">'creator'</span>) <span class="php-keyword1">as</span> <span class="php-var">$author</span>)
</span><span id="3619" class="l"><a class="l" href="#3619"> 3619: </a>        {
</span><span id="3620" class="l"><a class="l" href="#3620"> 3620: </a>            <span class="php-var">$authors</span>[] = <span class="php-var">$this</span>-&gt;registry-&gt;create(<span class="php-quote">'Author'</span>, <span class="php-keyword1">array</span>(<span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$author</span>[<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_TEXT), <span class="php-keyword1">null</span>, <span class="php-keyword1">null</span>));
</span><span id="3621" class="l"><a class="l" href="#3621"> 3621: </a>        }
</span><span id="3622" class="l"><a class="l" href="#3622"> 3622: </a>        <span class="php-keyword1">foreach</span> ((<span class="php-keyword1">array</span>) <span class="php-var">$this</span>-&gt;get_channel_tags(SIMPLEPIE_NAMESPACE_DC_10, <span class="php-quote">'creator'</span>) <span class="php-keyword1">as</span> <span class="php-var">$author</span>)
</span><span id="3623" class="l"><a class="l" href="#3623"> 3623: </a>        {
</span><span id="3624" class="l"><a class="l" href="#3624"> 3624: </a>            <span class="php-var">$authors</span>[] = <span class="php-var">$this</span>-&gt;registry-&gt;create(<span class="php-quote">'Author'</span>, <span class="php-keyword1">array</span>(<span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$author</span>[<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_TEXT), <span class="php-keyword1">null</span>, <span class="php-keyword1">null</span>));
</span><span id="3625" class="l"><a class="l" href="#3625"> 3625: </a>        }
</span><span id="3626" class="l"><a class="l" href="#3626"> 3626: </a>        <span class="php-keyword1">foreach</span> ((<span class="php-keyword1">array</span>) <span class="php-var">$this</span>-&gt;get_channel_tags(SIMPLEPIE_NAMESPACE_ITUNES, <span class="php-quote">'author'</span>) <span class="php-keyword1">as</span> <span class="php-var">$author</span>)
</span><span id="3627" class="l"><a class="l" href="#3627"> 3627: </a>        {
</span><span id="3628" class="l"><a class="l" href="#3628"> 3628: </a>            <span class="php-var">$authors</span>[] = <span class="php-var">$this</span>-&gt;registry-&gt;create(<span class="php-quote">'Author'</span>, <span class="php-keyword1">array</span>(<span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$author</span>[<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_TEXT), <span class="php-keyword1">null</span>, <span class="php-keyword1">null</span>));
</span><span id="3629" class="l"><a class="l" href="#3629"> 3629: </a>        }
</span><span id="3630" class="l"><a class="l" href="#3630"> 3630: </a>
</span><span id="3631" class="l"><a class="l" href="#3631"> 3631: </a>        <span class="php-keyword1">if</span> (!<span class="php-keyword1">empty</span>(<span class="php-var">$authors</span>))
</span><span id="3632" class="l"><a class="l" href="#3632"> 3632: </a>        {
</span><span id="3633" class="l"><a class="l" href="#3633"> 3633: </a>            <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;registry-&gt;call(<span class="php-quote">'Misc'</span>, <span class="php-quote">'array_unique'</span>, <span class="php-keyword1">array</span>(<span class="php-var">$authors</span>));
</span><span id="3634" class="l"><a class="l" href="#3634"> 3634: </a>        }
</span><span id="3635" class="l"><a class="l" href="#3635"> 3635: </a>        <span class="php-keyword1">else</span>
</span><span id="3636" class="l"><a class="l" href="#3636"> 3636: </a>        {
</span><span id="3637" class="l"><a class="l" href="#3637"> 3637: </a>            <span class="php-keyword1">return</span> <span class="php-keyword1">null</span>;
</span><span id="3638" class="l"><a class="l" href="#3638"> 3638: </a>        }
</span><span id="3639" class="l"><a class="l" href="#3639"> 3639: </a>    }
</span><span id="3640" class="l"><a class="l" href="#3640"> 3640: </a>
</span><span id="3641" class="l"><a class="l" href="#3641"> 3641: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_get_contributor" href="#_get_contributor">get_contributor</a>(<span class="php-var">$key</span> = <span class="php-num">0</span>)
</span><span id="3642" class="l"><a class="l" href="#3642"> 3642: </a>    {
</span><span id="3643" class="l"><a class="l" href="#3643"> 3643: </a>        <span class="php-var">$contributors</span> = <span class="php-var">$this</span>-&gt;get_contributors();
</span><span id="3644" class="l"><a class="l" href="#3644"> 3644: </a>        <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$contributors</span>[<span class="php-var">$key</span>]))
</span><span id="3645" class="l"><a class="l" href="#3645"> 3645: </a>        {
</span><span id="3646" class="l"><a class="l" href="#3646"> 3646: </a>            <span class="php-keyword1">return</span> <span class="php-var">$contributors</span>[<span class="php-var">$key</span>];
</span><span id="3647" class="l"><a class="l" href="#3647"> 3647: </a>        }
</span><span id="3648" class="l"><a class="l" href="#3648"> 3648: </a>        <span class="php-keyword1">else</span>
</span><span id="3649" class="l"><a class="l" href="#3649"> 3649: </a>        {
</span><span id="3650" class="l"><a class="l" href="#3650"> 3650: </a>            <span class="php-keyword1">return</span> <span class="php-keyword1">null</span>;
</span><span id="3651" class="l"><a class="l" href="#3651"> 3651: </a>        }
</span><span id="3652" class="l"><a class="l" href="#3652"> 3652: </a>    }
</span><span id="3653" class="l"><a class="l" href="#3653"> 3653: </a>
</span><span id="3654" class="l"><a class="l" href="#3654"> 3654: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_get_contributors" href="#_get_contributors">get_contributors</a>()
</span><span id="3655" class="l"><a class="l" href="#3655"> 3655: </a>    {
</span><span id="3656" class="l"><a class="l" href="#3656"> 3656: </a>        <span class="php-var">$contributors</span> = <span class="php-keyword1">array</span>();
</span><span id="3657" class="l"><a class="l" href="#3657"> 3657: </a>        <span class="php-keyword1">foreach</span> ((<span class="php-keyword1">array</span>) <span class="php-var">$this</span>-&gt;get_channel_tags(SIMPLEPIE_NAMESPACE_ATOM_10, <span class="php-quote">'contributor'</span>) <span class="php-keyword1">as</span> <span class="php-var">$contributor</span>)
</span><span id="3658" class="l"><a class="l" href="#3658"> 3658: </a>        {
</span><span id="3659" class="l"><a class="l" href="#3659"> 3659: </a>            <span class="php-var">$name</span> = <span class="php-keyword1">null</span>;
</span><span id="3660" class="l"><a class="l" href="#3660"> 3660: </a>            <span class="php-var">$uri</span> = <span class="php-keyword1">null</span>;
</span><span id="3661" class="l"><a class="l" href="#3661"> 3661: </a>            <span class="php-var">$email</span> = <span class="php-keyword1">null</span>;
</span><span id="3662" class="l"><a class="l" href="#3662"> 3662: </a>            <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$contributor</span>[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_ATOM_10][<span class="php-quote">'name'</span>][<span class="php-num">0</span>][<span class="php-quote">'data'</span>]))
</span><span id="3663" class="l"><a class="l" href="#3663"> 3663: </a>            {
</span><span id="3664" class="l"><a class="l" href="#3664"> 3664: </a>                <span class="php-var">$name</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$contributor</span>[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_ATOM_10][<span class="php-quote">'name'</span>][<span class="php-num">0</span>][<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="3665" class="l"><a class="l" href="#3665"> 3665: </a>            }
</span><span id="3666" class="l"><a class="l" href="#3666"> 3666: </a>            <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$contributor</span>[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_ATOM_10][<span class="php-quote">'uri'</span>][<span class="php-num">0</span>][<span class="php-quote">'data'</span>]))
</span><span id="3667" class="l"><a class="l" href="#3667"> 3667: </a>            {
</span><span id="3668" class="l"><a class="l" href="#3668"> 3668: </a>                <span class="php-var">$uri</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$contributor</span>[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_ATOM_10][<span class="php-quote">'uri'</span>][<span class="php-num">0</span>][<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_IRI, <span class="php-var">$this</span>-&gt;get_base(<span class="php-var">$contributor</span>[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_ATOM_10][<span class="php-quote">'uri'</span>][<span class="php-num">0</span>]));
</span><span id="3669" class="l"><a class="l" href="#3669"> 3669: </a>            }
</span><span id="3670" class="l"><a class="l" href="#3670"> 3670: </a>            <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$contributor</span>[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_ATOM_10][<span class="php-quote">'email'</span>][<span class="php-num">0</span>][<span class="php-quote">'data'</span>]))
</span><span id="3671" class="l"><a class="l" href="#3671"> 3671: </a>            {
</span><span id="3672" class="l"><a class="l" href="#3672"> 3672: </a>                <span class="php-var">$email</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$contributor</span>[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_ATOM_10][<span class="php-quote">'email'</span>][<span class="php-num">0</span>][<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="3673" class="l"><a class="l" href="#3673"> 3673: </a>            }
</span><span id="3674" class="l"><a class="l" href="#3674"> 3674: </a>            <span class="php-keyword1">if</span> (<span class="php-var">$name</span> !== <span class="php-keyword1">null</span> || <span class="php-var">$email</span> !== <span class="php-keyword1">null</span> || <span class="php-var">$uri</span> !== <span class="php-keyword1">null</span>)
</span><span id="3675" class="l"><a class="l" href="#3675"> 3675: </a>            {
</span><span id="3676" class="l"><a class="l" href="#3676"> 3676: </a>                <span class="php-var">$contributors</span>[] = <span class="php-var">$this</span>-&gt;registry-&gt;create(<span class="php-quote">'Author'</span>, <span class="php-keyword1">array</span>(<span class="php-var">$name</span>, <span class="php-var">$uri</span>, <span class="php-var">$email</span>));
</span><span id="3677" class="l"><a class="l" href="#3677"> 3677: </a>            }
</span><span id="3678" class="l"><a class="l" href="#3678"> 3678: </a>        }
</span><span id="3679" class="l"><a class="l" href="#3679"> 3679: </a>        <span class="php-keyword1">foreach</span> ((<span class="php-keyword1">array</span>) <span class="php-var">$this</span>-&gt;get_channel_tags(SIMPLEPIE_NAMESPACE_ATOM_03, <span class="php-quote">'contributor'</span>) <span class="php-keyword1">as</span> <span class="php-var">$contributor</span>)
</span><span id="3680" class="l"><a class="l" href="#3680"> 3680: </a>        {
</span><span id="3681" class="l"><a class="l" href="#3681"> 3681: </a>            <span class="php-var">$name</span> = <span class="php-keyword1">null</span>;
</span><span id="3682" class="l"><a class="l" href="#3682"> 3682: </a>            <span class="php-var">$url</span> = <span class="php-keyword1">null</span>;
</span><span id="3683" class="l"><a class="l" href="#3683"> 3683: </a>            <span class="php-var">$email</span> = <span class="php-keyword1">null</span>;
</span><span id="3684" class="l"><a class="l" href="#3684"> 3684: </a>            <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$contributor</span>[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_ATOM_03][<span class="php-quote">'name'</span>][<span class="php-num">0</span>][<span class="php-quote">'data'</span>]))
</span><span id="3685" class="l"><a class="l" href="#3685"> 3685: </a>            {
</span><span id="3686" class="l"><a class="l" href="#3686"> 3686: </a>                <span class="php-var">$name</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$contributor</span>[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_ATOM_03][<span class="php-quote">'name'</span>][<span class="php-num">0</span>][<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="3687" class="l"><a class="l" href="#3687"> 3687: </a>            }
</span><span id="3688" class="l"><a class="l" href="#3688"> 3688: </a>            <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$contributor</span>[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_ATOM_03][<span class="php-quote">'url'</span>][<span class="php-num">0</span>][<span class="php-quote">'data'</span>]))
</span><span id="3689" class="l"><a class="l" href="#3689"> 3689: </a>            {
</span><span id="3690" class="l"><a class="l" href="#3690"> 3690: </a>                <span class="php-var">$url</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$contributor</span>[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_ATOM_03][<span class="php-quote">'url'</span>][<span class="php-num">0</span>][<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_IRI, <span class="php-var">$this</span>-&gt;get_base(<span class="php-var">$contributor</span>[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_ATOM_03][<span class="php-quote">'url'</span>][<span class="php-num">0</span>]));
</span><span id="3691" class="l"><a class="l" href="#3691"> 3691: </a>            }
</span><span id="3692" class="l"><a class="l" href="#3692"> 3692: </a>            <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$contributor</span>[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_ATOM_03][<span class="php-quote">'email'</span>][<span class="php-num">0</span>][<span class="php-quote">'data'</span>]))
</span><span id="3693" class="l"><a class="l" href="#3693"> 3693: </a>            {
</span><span id="3694" class="l"><a class="l" href="#3694"> 3694: </a>                <span class="php-var">$email</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$contributor</span>[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_ATOM_03][<span class="php-quote">'email'</span>][<span class="php-num">0</span>][<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="3695" class="l"><a class="l" href="#3695"> 3695: </a>            }
</span><span id="3696" class="l"><a class="l" href="#3696"> 3696: </a>            <span class="php-keyword1">if</span> (<span class="php-var">$name</span> !== <span class="php-keyword1">null</span> || <span class="php-var">$email</span> !== <span class="php-keyword1">null</span> || <span class="php-var">$url</span> !== <span class="php-keyword1">null</span>)
</span><span id="3697" class="l"><a class="l" href="#3697"> 3697: </a>            {
</span><span id="3698" class="l"><a class="l" href="#3698"> 3698: </a>                <span class="php-var">$contributors</span>[] = <span class="php-var">$this</span>-&gt;registry-&gt;create(<span class="php-quote">'Author'</span>, <span class="php-keyword1">array</span>(<span class="php-var">$name</span>, <span class="php-var">$url</span>, <span class="php-var">$email</span>));
</span><span id="3699" class="l"><a class="l" href="#3699"> 3699: </a>            }
</span><span id="3700" class="l"><a class="l" href="#3700"> 3700: </a>        }
</span><span id="3701" class="l"><a class="l" href="#3701"> 3701: </a>
</span><span id="3702" class="l"><a class="l" href="#3702"> 3702: </a>        <span class="php-keyword1">if</span> (!<span class="php-keyword1">empty</span>(<span class="php-var">$contributors</span>))
</span><span id="3703" class="l"><a class="l" href="#3703"> 3703: </a>        {
</span><span id="3704" class="l"><a class="l" href="#3704"> 3704: </a>            <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;registry-&gt;call(<span class="php-quote">'Misc'</span>, <span class="php-quote">'array_unique'</span>, <span class="php-keyword1">array</span>(<span class="php-var">$contributors</span>));
</span><span id="3705" class="l"><a class="l" href="#3705"> 3705: </a>        }
</span><span id="3706" class="l"><a class="l" href="#3706"> 3706: </a>        <span class="php-keyword1">else</span>
</span><span id="3707" class="l"><a class="l" href="#3707"> 3707: </a>        {
</span><span id="3708" class="l"><a class="l" href="#3708"> 3708: </a>            <span class="php-keyword1">return</span> <span class="php-keyword1">null</span>;
</span><span id="3709" class="l"><a class="l" href="#3709"> 3709: </a>        }
</span><span id="3710" class="l"><a class="l" href="#3710"> 3710: </a>    }
</span><span id="3711" class="l"><a class="l" href="#3711"> 3711: </a>
</span><span id="3712" class="l"><a class="l" href="#3712"> 3712: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_get_link" href="#_get_link">get_link</a>(<span class="php-var">$key</span> = <span class="php-num">0</span>, <span class="php-var">$rel</span> = <span class="php-quote">'alternate'</span>)
</span><span id="3713" class="l"><a class="l" href="#3713"> 3713: </a>    {
</span><span id="3714" class="l"><a class="l" href="#3714"> 3714: </a>        <span class="php-var">$links</span> = <span class="php-var">$this</span>-&gt;get_links(<span class="php-var">$rel</span>);
</span><span id="3715" class="l"><a class="l" href="#3715"> 3715: </a>        <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$links</span>[<span class="php-var">$key</span>]))
</span><span id="3716" class="l"><a class="l" href="#3716"> 3716: </a>        {
</span><span id="3717" class="l"><a class="l" href="#3717"> 3717: </a>            <span class="php-keyword1">return</span> <span class="php-var">$links</span>[<span class="php-var">$key</span>];
</span><span id="3718" class="l"><a class="l" href="#3718"> 3718: </a>        }
</span><span id="3719" class="l"><a class="l" href="#3719"> 3719: </a>        <span class="php-keyword1">else</span>
</span><span id="3720" class="l"><a class="l" href="#3720"> 3720: </a>        {
</span><span id="3721" class="l"><a class="l" href="#3721"> 3721: </a>            <span class="php-keyword1">return</span> <span class="php-keyword1">null</span>;
</span><span id="3722" class="l"><a class="l" href="#3722"> 3722: </a>        }
</span><span id="3723" class="l"><a class="l" href="#3723"> 3723: </a>    }
</span><span id="3724" class="l"><a class="l" href="#3724"> 3724: </a>
</span><span id="3725" class="l"><a class="l" href="#3725"> 3725: </a>    <span class="php-comment">/**
</span></span><span id="3726" class="l"><a class="l" href="#3726"> 3726: </a><span class="php-comment">     * Added for parity between the parent-level and the item/entry-level.
</span></span><span id="3727" class="l"><a class="l" href="#3727"> 3727: </a><span class="php-comment">     */</span>
</span><span id="3728" class="l"><a class="l" href="#3728"> 3728: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_get_permalink" href="#_get_permalink">get_permalink</a>()
</span><span id="3729" class="l"><a class="l" href="#3729"> 3729: </a>    {
</span><span id="3730" class="l"><a class="l" href="#3730"> 3730: </a>        <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;get_link(<span class="php-num">0</span>);
</span><span id="3731" class="l"><a class="l" href="#3731"> 3731: </a>    }
</span><span id="3732" class="l"><a class="l" href="#3732"> 3732: </a>
</span><span id="3733" class="l"><a class="l" href="#3733"> 3733: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_get_links" href="#_get_links">get_links</a>(<span class="php-var">$rel</span> = <span class="php-quote">'alternate'</span>)
</span><span id="3734" class="l"><a class="l" href="#3734"> 3734: </a>    {
</span><span id="3735" class="l"><a class="l" href="#3735"> 3735: </a>        <span class="php-keyword1">if</span> (!<span class="php-keyword1">isset</span>(<span class="php-var">$this</span>-&gt;data[<span class="php-quote">'links'</span>]))
</span><span id="3736" class="l"><a class="l" href="#3736"> 3736: </a>        {
</span><span id="3737" class="l"><a class="l" href="#3737"> 3737: </a>            <span class="php-var">$this</span>-&gt;data[<span class="php-quote">'links'</span>] = <span class="php-keyword1">array</span>();
</span><span id="3738" class="l"><a class="l" href="#3738"> 3738: </a>            <span class="php-keyword1">if</span> (<span class="php-var">$links</span> = <span class="php-var">$this</span>-&gt;get_channel_tags(SIMPLEPIE_NAMESPACE_ATOM_10, <span class="php-quote">'link'</span>))
</span><span id="3739" class="l"><a class="l" href="#3739"> 3739: </a>            {
</span><span id="3740" class="l"><a class="l" href="#3740"> 3740: </a>                <span class="php-keyword1">foreach</span> (<span class="php-var">$links</span> <span class="php-keyword1">as</span> <span class="php-var">$link</span>)
</span><span id="3741" class="l"><a class="l" href="#3741"> 3741: </a>                {
</span><span id="3742" class="l"><a class="l" href="#3742"> 3742: </a>                    <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$link</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'href'</span>]))
</span><span id="3743" class="l"><a class="l" href="#3743"> 3743: </a>                    {
</span><span id="3744" class="l"><a class="l" href="#3744"> 3744: </a>                        <span class="php-var">$link_rel</span> = (<span class="php-keyword1">isset</span>(<span class="php-var">$link</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'rel'</span>])) ? <span class="php-var">$link</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'rel'</span>] : <span class="php-quote">'alternate'</span>;
</span><span id="3745" class="l"><a class="l" href="#3745"> 3745: </a>                        <span class="php-var">$this</span>-&gt;data[<span class="php-quote">'links'</span>][<span class="php-var">$link_rel</span>][] = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$link</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'href'</span>], SIMPLEPIE_CONSTRUCT_IRI, <span class="php-var">$this</span>-&gt;get_base(<span class="php-var">$link</span>));
</span><span id="3746" class="l"><a class="l" href="#3746"> 3746: </a>                    }
</span><span id="3747" class="l"><a class="l" href="#3747"> 3747: </a>                }
</span><span id="3748" class="l"><a class="l" href="#3748"> 3748: </a>            }
</span><span id="3749" class="l"><a class="l" href="#3749"> 3749: </a>            <span class="php-keyword1">if</span> (<span class="php-var">$links</span> = <span class="php-var">$this</span>-&gt;get_channel_tags(SIMPLEPIE_NAMESPACE_ATOM_03, <span class="php-quote">'link'</span>))
</span><span id="3750" class="l"><a class="l" href="#3750"> 3750: </a>            {
</span><span id="3751" class="l"><a class="l" href="#3751"> 3751: </a>                <span class="php-keyword1">foreach</span> (<span class="php-var">$links</span> <span class="php-keyword1">as</span> <span class="php-var">$link</span>)
</span><span id="3752" class="l"><a class="l" href="#3752"> 3752: </a>                {
</span><span id="3753" class="l"><a class="l" href="#3753"> 3753: </a>                    <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$link</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'href'</span>]))
</span><span id="3754" class="l"><a class="l" href="#3754"> 3754: </a>                    {
</span><span id="3755" class="l"><a class="l" href="#3755"> 3755: </a>                        <span class="php-var">$link_rel</span> = (<span class="php-keyword1">isset</span>(<span class="php-var">$link</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'rel'</span>])) ? <span class="php-var">$link</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'rel'</span>] : <span class="php-quote">'alternate'</span>;
</span><span id="3756" class="l"><a class="l" href="#3756"> 3756: </a>                        <span class="php-var">$this</span>-&gt;data[<span class="php-quote">'links'</span>][<span class="php-var">$link_rel</span>][] = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$link</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'href'</span>], SIMPLEPIE_CONSTRUCT_IRI, <span class="php-var">$this</span>-&gt;get_base(<span class="php-var">$link</span>));
</span><span id="3757" class="l"><a class="l" href="#3757"> 3757: </a>
</span><span id="3758" class="l"><a class="l" href="#3758"> 3758: </a>                    }
</span><span id="3759" class="l"><a class="l" href="#3759"> 3759: </a>                }
</span><span id="3760" class="l"><a class="l" href="#3760"> 3760: </a>            }
</span><span id="3761" class="l"><a class="l" href="#3761"> 3761: </a>            <span class="php-keyword1">if</span> (<span class="php-var">$links</span> = <span class="php-var">$this</span>-&gt;get_channel_tags(SIMPLEPIE_NAMESPACE_RSS_10, <span class="php-quote">'link'</span>))
</span><span id="3762" class="l"><a class="l" href="#3762"> 3762: </a>            {
</span><span id="3763" class="l"><a class="l" href="#3763"> 3763: </a>                <span class="php-var">$this</span>-&gt;data[<span class="php-quote">'links'</span>][<span class="php-quote">'alternate'</span>][] = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$links</span>[<span class="php-num">0</span>][<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_IRI, <span class="php-var">$this</span>-&gt;get_base(<span class="php-var">$links</span>[<span class="php-num">0</span>]));
</span><span id="3764" class="l"><a class="l" href="#3764"> 3764: </a>            }
</span><span id="3765" class="l"><a class="l" href="#3765"> 3765: </a>            <span class="php-keyword1">if</span> (<span class="php-var">$links</span> = <span class="php-var">$this</span>-&gt;get_channel_tags(SIMPLEPIE_NAMESPACE_RSS_090, <span class="php-quote">'link'</span>))
</span><span id="3766" class="l"><a class="l" href="#3766"> 3766: </a>            {
</span><span id="3767" class="l"><a class="l" href="#3767"> 3767: </a>                <span class="php-var">$this</span>-&gt;data[<span class="php-quote">'links'</span>][<span class="php-quote">'alternate'</span>][] = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$links</span>[<span class="php-num">0</span>][<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_IRI, <span class="php-var">$this</span>-&gt;get_base(<span class="php-var">$links</span>[<span class="php-num">0</span>]));
</span><span id="3768" class="l"><a class="l" href="#3768"> 3768: </a>            }
</span><span id="3769" class="l"><a class="l" href="#3769"> 3769: </a>            <span class="php-keyword1">if</span> (<span class="php-var">$links</span> = <span class="php-var">$this</span>-&gt;get_channel_tags(SIMPLEPIE_NAMESPACE_RSS_20, <span class="php-quote">'link'</span>))
</span><span id="3770" class="l"><a class="l" href="#3770"> 3770: </a>            {
</span><span id="3771" class="l"><a class="l" href="#3771"> 3771: </a>                <span class="php-var">$this</span>-&gt;data[<span class="php-quote">'links'</span>][<span class="php-quote">'alternate'</span>][] = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$links</span>[<span class="php-num">0</span>][<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_IRI, <span class="php-var">$this</span>-&gt;get_base(<span class="php-var">$links</span>[<span class="php-num">0</span>]));
</span><span id="3772" class="l"><a class="l" href="#3772"> 3772: </a>            }
</span><span id="3773" class="l"><a class="l" href="#3773"> 3773: </a>
</span><span id="3774" class="l"><a class="l" href="#3774"> 3774: </a>            <span class="php-var">$keys</span> = <span class="php-keyword2">array_keys</span>(<span class="php-var">$this</span>-&gt;data[<span class="php-quote">'links'</span>]);
</span><span id="3775" class="l"><a class="l" href="#3775"> 3775: </a>            <span class="php-keyword1">foreach</span> (<span class="php-var">$keys</span> <span class="php-keyword1">as</span> <span class="php-var">$key</span>)
</span><span id="3776" class="l"><a class="l" href="#3776"> 3776: </a>            {
</span><span id="3777" class="l"><a class="l" href="#3777"> 3777: </a>                <span class="php-keyword1">if</span> (<span class="php-var">$this</span>-&gt;registry-&gt;call(<span class="php-quote">'Misc'</span>, <span class="php-quote">'is_isegment_nz_nc'</span>, <span class="php-keyword1">array</span>(<span class="php-var">$key</span>)))
</span><span id="3778" class="l"><a class="l" href="#3778"> 3778: </a>                {
</span><span id="3779" class="l"><a class="l" href="#3779"> 3779: </a>                    <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$this</span>-&gt;data[<span class="php-quote">'links'</span>][SIMPLEPIE_IANA_LINK_RELATIONS_REGISTRY . <span class="php-var">$key</span>]))
</span><span id="3780" class="l"><a class="l" href="#3780"> 3780: </a>                    {
</span><span id="3781" class="l"><a class="l" href="#3781"> 3781: </a>                        <span class="php-var">$this</span>-&gt;data[<span class="php-quote">'links'</span>][SIMPLEPIE_IANA_LINK_RELATIONS_REGISTRY . <span class="php-var">$key</span>] = <span class="php-keyword2">array_merge</span>(<span class="php-var">$this</span>-&gt;data[<span class="php-quote">'links'</span>][<span class="php-var">$key</span>], <span class="php-var">$this</span>-&gt;data[<span class="php-quote">'links'</span>][SIMPLEPIE_IANA_LINK_RELATIONS_REGISTRY . <span class="php-var">$key</span>]);
</span><span id="3782" class="l"><a class="l" href="#3782"> 3782: </a>                        <span class="php-var">$this</span>-&gt;data[<span class="php-quote">'links'</span>][<span class="php-var">$key</span>] =&amp; <span class="php-var">$this</span>-&gt;data[<span class="php-quote">'links'</span>][SIMPLEPIE_IANA_LINK_RELATIONS_REGISTRY . <span class="php-var">$key</span>];
</span><span id="3783" class="l"><a class="l" href="#3783"> 3783: </a>                    }
</span><span id="3784" class="l"><a class="l" href="#3784"> 3784: </a>                    <span class="php-keyword1">else</span>
</span><span id="3785" class="l"><a class="l" href="#3785"> 3785: </a>                    {
</span><span id="3786" class="l"><a class="l" href="#3786"> 3786: </a>                        <span class="php-var">$this</span>-&gt;data[<span class="php-quote">'links'</span>][SIMPLEPIE_IANA_LINK_RELATIONS_REGISTRY . <span class="php-var">$key</span>] =&amp; <span class="php-var">$this</span>-&gt;data[<span class="php-quote">'links'</span>][<span class="php-var">$key</span>];
</span><span id="3787" class="l"><a class="l" href="#3787"> 3787: </a>                    }
</span><span id="3788" class="l"><a class="l" href="#3788"> 3788: </a>                }
</span><span id="3789" class="l"><a class="l" href="#3789"> 3789: </a>                <span class="php-keyword1">elseif</span> (<span class="php-keyword2">substr</span>(<span class="php-var">$key</span>, <span class="php-num">0</span>, <span class="php-num">41</span>) === SIMPLEPIE_IANA_LINK_RELATIONS_REGISTRY)
</span><span id="3790" class="l"><a class="l" href="#3790"> 3790: </a>                {
</span><span id="3791" class="l"><a class="l" href="#3791"> 3791: </a>                    <span class="php-var">$this</span>-&gt;data[<span class="php-quote">'links'</span>][<span class="php-keyword2">substr</span>(<span class="php-var">$key</span>, <span class="php-num">41</span>)] =&amp; <span class="php-var">$this</span>-&gt;data[<span class="php-quote">'links'</span>][<span class="php-var">$key</span>];
</span><span id="3792" class="l"><a class="l" href="#3792"> 3792: </a>                }
</span><span id="3793" class="l"><a class="l" href="#3793"> 3793: </a>                <span class="php-var">$this</span>-&gt;data[<span class="php-quote">'links'</span>][<span class="php-var">$key</span>] = <span class="php-keyword2">array_unique</span>(<span class="php-var">$this</span>-&gt;data[<span class="php-quote">'links'</span>][<span class="php-var">$key</span>]);
</span><span id="3794" class="l"><a class="l" href="#3794"> 3794: </a>            }
</span><span id="3795" class="l"><a class="l" href="#3795"> 3795: </a>        }
</span><span id="3796" class="l"><a class="l" href="#3796"> 3796: </a>
</span><span id="3797" class="l"><a class="l" href="#3797"> 3797: </a>        <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$this</span>-&gt;data[<span class="php-quote">'links'</span>][<span class="php-var">$rel</span>]))
</span><span id="3798" class="l"><a class="l" href="#3798"> 3798: </a>        {
</span><span id="3799" class="l"><a class="l" href="#3799"> 3799: </a>            <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;data[<span class="php-quote">'links'</span>][<span class="php-var">$rel</span>];
</span><span id="3800" class="l"><a class="l" href="#3800"> 3800: </a>        }
</span><span id="3801" class="l"><a class="l" href="#3801"> 3801: </a>        <span class="php-keyword1">else</span>
</span><span id="3802" class="l"><a class="l" href="#3802"> 3802: </a>        {
</span><span id="3803" class="l"><a class="l" href="#3803"> 3803: </a>            <span class="php-keyword1">return</span> <span class="php-keyword1">null</span>;
</span><span id="3804" class="l"><a class="l" href="#3804"> 3804: </a>        }
</span><span id="3805" class="l"><a class="l" href="#3805"> 3805: </a>    }
</span><span id="3806" class="l"><a class="l" href="#3806"> 3806: </a>
</span><span id="3807" class="l"><a class="l" href="#3807"> 3807: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_get_all_discovered_feeds" href="#_get_all_discovered_feeds">get_all_discovered_feeds</a>()
</span><span id="3808" class="l"><a class="l" href="#3808"> 3808: </a>    {
</span><span id="3809" class="l"><a class="l" href="#3809"> 3809: </a>        <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;all_discovered_feeds;
</span><span id="3810" class="l"><a class="l" href="#3810"> 3810: </a>    }
</span><span id="3811" class="l"><a class="l" href="#3811"> 3811: </a>
</span><span id="3812" class="l"><a class="l" href="#3812"> 3812: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_get_description" href="#_get_description">get_description</a>()
</span><span id="3813" class="l"><a class="l" href="#3813"> 3813: </a>    {
</span><span id="3814" class="l"><a class="l" href="#3814"> 3814: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$return</span> = <span class="php-var">$this</span>-&gt;get_channel_tags(SIMPLEPIE_NAMESPACE_ATOM_10, <span class="php-quote">'subtitle'</span>))
</span><span id="3815" class="l"><a class="l" href="#3815"> 3815: </a>        {
</span><span id="3816" class="l"><a class="l" href="#3816"> 3816: </a>            <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$return</span>[<span class="php-num">0</span>][<span class="php-quote">'data'</span>], <span class="php-var">$this</span>-&gt;registry-&gt;call(<span class="php-quote">'Misc'</span>, <span class="php-quote">'atom_10_construct_type'</span>, <span class="php-keyword1">array</span>(<span class="php-var">$return</span>[<span class="php-num">0</span>][<span class="php-quote">'attribs'</span>])), <span class="php-var">$this</span>-&gt;get_base(<span class="php-var">$return</span>[<span class="php-num">0</span>]));
</span><span id="3817" class="l"><a class="l" href="#3817"> 3817: </a>        }
</span><span id="3818" class="l"><a class="l" href="#3818"> 3818: </a>        <span class="php-keyword1">elseif</span> (<span class="php-var">$return</span> = <span class="php-var">$this</span>-&gt;get_channel_tags(SIMPLEPIE_NAMESPACE_ATOM_03, <span class="php-quote">'tagline'</span>))
</span><span id="3819" class="l"><a class="l" href="#3819"> 3819: </a>        {
</span><span id="3820" class="l"><a class="l" href="#3820"> 3820: </a>            <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$return</span>[<span class="php-num">0</span>][<span class="php-quote">'data'</span>], <span class="php-var">$this</span>-&gt;registry-&gt;call(<span class="php-quote">'Misc'</span>, <span class="php-quote">'atom_03_construct_type'</span>, <span class="php-keyword1">array</span>(<span class="php-var">$return</span>[<span class="php-num">0</span>][<span class="php-quote">'attribs'</span>])), <span class="php-var">$this</span>-&gt;get_base(<span class="php-var">$return</span>[<span class="php-num">0</span>]));
</span><span id="3821" class="l"><a class="l" href="#3821"> 3821: </a>        }
</span><span id="3822" class="l"><a class="l" href="#3822"> 3822: </a>        <span class="php-keyword1">elseif</span> (<span class="php-var">$return</span> = <span class="php-var">$this</span>-&gt;get_channel_tags(SIMPLEPIE_NAMESPACE_RSS_10, <span class="php-quote">'description'</span>))
</span><span id="3823" class="l"><a class="l" href="#3823"> 3823: </a>        {
</span><span id="3824" class="l"><a class="l" href="#3824"> 3824: </a>            <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$return</span>[<span class="php-num">0</span>][<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_MAYBE_HTML, <span class="php-var">$this</span>-&gt;get_base(<span class="php-var">$return</span>[<span class="php-num">0</span>]));
</span><span id="3825" class="l"><a class="l" href="#3825"> 3825: </a>        }
</span><span id="3826" class="l"><a class="l" href="#3826"> 3826: </a>        <span class="php-keyword1">elseif</span> (<span class="php-var">$return</span> = <span class="php-var">$this</span>-&gt;get_channel_tags(SIMPLEPIE_NAMESPACE_RSS_090, <span class="php-quote">'description'</span>))
</span><span id="3827" class="l"><a class="l" href="#3827"> 3827: </a>        {
</span><span id="3828" class="l"><a class="l" href="#3828"> 3828: </a>            <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$return</span>[<span class="php-num">0</span>][<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_MAYBE_HTML, <span class="php-var">$this</span>-&gt;get_base(<span class="php-var">$return</span>[<span class="php-num">0</span>]));
</span><span id="3829" class="l"><a class="l" href="#3829"> 3829: </a>        }
</span><span id="3830" class="l"><a class="l" href="#3830"> 3830: </a>        <span class="php-keyword1">elseif</span> (<span class="php-var">$return</span> = <span class="php-var">$this</span>-&gt;get_channel_tags(SIMPLEPIE_NAMESPACE_RSS_20, <span class="php-quote">'description'</span>))
</span><span id="3831" class="l"><a class="l" href="#3831"> 3831: </a>        {
</span><span id="3832" class="l"><a class="l" href="#3832"> 3832: </a>            <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$return</span>[<span class="php-num">0</span>][<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_HTML, <span class="php-var">$this</span>-&gt;get_base(<span class="php-var">$return</span>[<span class="php-num">0</span>]));
</span><span id="3833" class="l"><a class="l" href="#3833"> 3833: </a>        }
</span><span id="3834" class="l"><a class="l" href="#3834"> 3834: </a>        <span class="php-keyword1">elseif</span> (<span class="php-var">$return</span> = <span class="php-var">$this</span>-&gt;get_channel_tags(SIMPLEPIE_NAMESPACE_DC_11, <span class="php-quote">'description'</span>))
</span><span id="3835" class="l"><a class="l" href="#3835"> 3835: </a>        {
</span><span id="3836" class="l"><a class="l" href="#3836"> 3836: </a>            <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$return</span>[<span class="php-num">0</span>][<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="3837" class="l"><a class="l" href="#3837"> 3837: </a>        }
</span><span id="3838" class="l"><a class="l" href="#3838"> 3838: </a>        <span class="php-keyword1">elseif</span> (<span class="php-var">$return</span> = <span class="php-var">$this</span>-&gt;get_channel_tags(SIMPLEPIE_NAMESPACE_DC_10, <span class="php-quote">'description'</span>))
</span><span id="3839" class="l"><a class="l" href="#3839"> 3839: </a>        {
</span><span id="3840" class="l"><a class="l" href="#3840"> 3840: </a>            <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$return</span>[<span class="php-num">0</span>][<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="3841" class="l"><a class="l" href="#3841"> 3841: </a>        }
</span><span id="3842" class="l"><a class="l" href="#3842"> 3842: </a>        <span class="php-keyword1">elseif</span> (<span class="php-var">$return</span> = <span class="php-var">$this</span>-&gt;get_channel_tags(SIMPLEPIE_NAMESPACE_ITUNES, <span class="php-quote">'summary'</span>))
</span><span id="3843" class="l"><a class="l" href="#3843"> 3843: </a>        {
</span><span id="3844" class="l"><a class="l" href="#3844"> 3844: </a>            <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$return</span>[<span class="php-num">0</span>][<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_HTML, <span class="php-var">$this</span>-&gt;get_base(<span class="php-var">$return</span>[<span class="php-num">0</span>]));
</span><span id="3845" class="l"><a class="l" href="#3845"> 3845: </a>        }
</span><span id="3846" class="l"><a class="l" href="#3846"> 3846: </a>        <span class="php-keyword1">elseif</span> (<span class="php-var">$return</span> = <span class="php-var">$this</span>-&gt;get_channel_tags(SIMPLEPIE_NAMESPACE_ITUNES, <span class="php-quote">'subtitle'</span>))
</span><span id="3847" class="l"><a class="l" href="#3847"> 3847: </a>        {
</span><span id="3848" class="l"><a class="l" href="#3848"> 3848: </a>            <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$return</span>[<span class="php-num">0</span>][<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_HTML, <span class="php-var">$this</span>-&gt;get_base(<span class="php-var">$return</span>[<span class="php-num">0</span>]));
</span><span id="3849" class="l"><a class="l" href="#3849"> 3849: </a>        }
</span><span id="3850" class="l"><a class="l" href="#3850"> 3850: </a>        <span class="php-keyword1">else</span>
</span><span id="3851" class="l"><a class="l" href="#3851"> 3851: </a>        {
</span><span id="3852" class="l"><a class="l" href="#3852"> 3852: </a>            <span class="php-keyword1">return</span> <span class="php-keyword1">null</span>;
</span><span id="3853" class="l"><a class="l" href="#3853"> 3853: </a>        }
</span><span id="3854" class="l"><a class="l" href="#3854"> 3854: </a>    }
</span><span id="3855" class="l"><a class="l" href="#3855"> 3855: </a>
</span><span id="3856" class="l"><a class="l" href="#3856"> 3856: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_get_copyright" href="#_get_copyright">get_copyright</a>()
</span><span id="3857" class="l"><a class="l" href="#3857"> 3857: </a>    {
</span><span id="3858" class="l"><a class="l" href="#3858"> 3858: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$return</span> = <span class="php-var">$this</span>-&gt;get_channel_tags(SIMPLEPIE_NAMESPACE_ATOM_10, <span class="php-quote">'rights'</span>))
</span><span id="3859" class="l"><a class="l" href="#3859"> 3859: </a>        {
</span><span id="3860" class="l"><a class="l" href="#3860"> 3860: </a>            <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$return</span>[<span class="php-num">0</span>][<span class="php-quote">'data'</span>], <span class="php-var">$this</span>-&gt;registry-&gt;call(<span class="php-quote">'Misc'</span>, <span class="php-quote">'atom_10_construct_type'</span>, <span class="php-keyword1">array</span>(<span class="php-var">$return</span>[<span class="php-num">0</span>][<span class="php-quote">'attribs'</span>])), <span class="php-var">$this</span>-&gt;get_base(<span class="php-var">$return</span>[<span class="php-num">0</span>]));
</span><span id="3861" class="l"><a class="l" href="#3861"> 3861: </a>        }
</span><span id="3862" class="l"><a class="l" href="#3862"> 3862: </a>        <span class="php-keyword1">elseif</span> (<span class="php-var">$return</span> = <span class="php-var">$this</span>-&gt;get_channel_tags(SIMPLEPIE_NAMESPACE_ATOM_03, <span class="php-quote">'copyright'</span>))
</span><span id="3863" class="l"><a class="l" href="#3863"> 3863: </a>        {
</span><span id="3864" class="l"><a class="l" href="#3864"> 3864: </a>            <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$return</span>[<span class="php-num">0</span>][<span class="php-quote">'data'</span>], <span class="php-var">$this</span>-&gt;registry-&gt;call(<span class="php-quote">'Misc'</span>, <span class="php-quote">'atom_03_construct_type'</span>, <span class="php-keyword1">array</span>(<span class="php-var">$return</span>[<span class="php-num">0</span>][<span class="php-quote">'attribs'</span>])), <span class="php-var">$this</span>-&gt;get_base(<span class="php-var">$return</span>[<span class="php-num">0</span>]));
</span><span id="3865" class="l"><a class="l" href="#3865"> 3865: </a>        }
</span><span id="3866" class="l"><a class="l" href="#3866"> 3866: </a>        <span class="php-keyword1">elseif</span> (<span class="php-var">$return</span> = <span class="php-var">$this</span>-&gt;get_channel_tags(SIMPLEPIE_NAMESPACE_RSS_20, <span class="php-quote">'copyright'</span>))
</span><span id="3867" class="l"><a class="l" href="#3867"> 3867: </a>        {
</span><span id="3868" class="l"><a class="l" href="#3868"> 3868: </a>            <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$return</span>[<span class="php-num">0</span>][<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="3869" class="l"><a class="l" href="#3869"> 3869: </a>        }
</span><span id="3870" class="l"><a class="l" href="#3870"> 3870: </a>        <span class="php-keyword1">elseif</span> (<span class="php-var">$return</span> = <span class="php-var">$this</span>-&gt;get_channel_tags(SIMPLEPIE_NAMESPACE_DC_11, <span class="php-quote">'rights'</span>))
</span><span id="3871" class="l"><a class="l" href="#3871"> 3871: </a>        {
</span><span id="3872" class="l"><a class="l" href="#3872"> 3872: </a>            <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$return</span>[<span class="php-num">0</span>][<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="3873" class="l"><a class="l" href="#3873"> 3873: </a>        }
</span><span id="3874" class="l"><a class="l" href="#3874"> 3874: </a>        <span class="php-keyword1">elseif</span> (<span class="php-var">$return</span> = <span class="php-var">$this</span>-&gt;get_channel_tags(SIMPLEPIE_NAMESPACE_DC_10, <span class="php-quote">'rights'</span>))
</span><span id="3875" class="l"><a class="l" href="#3875"> 3875: </a>        {
</span><span id="3876" class="l"><a class="l" href="#3876"> 3876: </a>            <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$return</span>[<span class="php-num">0</span>][<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="3877" class="l"><a class="l" href="#3877"> 3877: </a>        }
</span><span id="3878" class="l"><a class="l" href="#3878"> 3878: </a>        <span class="php-keyword1">else</span>
</span><span id="3879" class="l"><a class="l" href="#3879"> 3879: </a>        {
</span><span id="3880" class="l"><a class="l" href="#3880"> 3880: </a>            <span class="php-keyword1">return</span> <span class="php-keyword1">null</span>;
</span><span id="3881" class="l"><a class="l" href="#3881"> 3881: </a>        }
</span><span id="3882" class="l"><a class="l" href="#3882"> 3882: </a>    }
</span><span id="3883" class="l"><a class="l" href="#3883"> 3883: </a>
</span><span id="3884" class="l"><a class="l" href="#3884"> 3884: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_get_language" href="#_get_language">get_language</a>()
</span><span id="3885" class="l"><a class="l" href="#3885"> 3885: </a>    {
</span><span id="3886" class="l"><a class="l" href="#3886"> 3886: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$return</span> = <span class="php-var">$this</span>-&gt;get_channel_tags(SIMPLEPIE_NAMESPACE_RSS_20, <span class="php-quote">'language'</span>))
</span><span id="3887" class="l"><a class="l" href="#3887"> 3887: </a>        {
</span><span id="3888" class="l"><a class="l" href="#3888"> 3888: </a>            <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$return</span>[<span class="php-num">0</span>][<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="3889" class="l"><a class="l" href="#3889"> 3889: </a>        }
</span><span id="3890" class="l"><a class="l" href="#3890"> 3890: </a>        <span class="php-keyword1">elseif</span> (<span class="php-var">$return</span> = <span class="php-var">$this</span>-&gt;get_channel_tags(SIMPLEPIE_NAMESPACE_DC_11, <span class="php-quote">'language'</span>))
</span><span id="3891" class="l"><a class="l" href="#3891"> 3891: </a>        {
</span><span id="3892" class="l"><a class="l" href="#3892"> 3892: </a>            <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$return</span>[<span class="php-num">0</span>][<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="3893" class="l"><a class="l" href="#3893"> 3893: </a>        }
</span><span id="3894" class="l"><a class="l" href="#3894"> 3894: </a>        <span class="php-keyword1">elseif</span> (<span class="php-var">$return</span> = <span class="php-var">$this</span>-&gt;get_channel_tags(SIMPLEPIE_NAMESPACE_DC_10, <span class="php-quote">'language'</span>))
</span><span id="3895" class="l"><a class="l" href="#3895"> 3895: </a>        {
</span><span id="3896" class="l"><a class="l" href="#3896"> 3896: </a>            <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$return</span>[<span class="php-num">0</span>][<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="3897" class="l"><a class="l" href="#3897"> 3897: </a>        }
</span><span id="3898" class="l"><a class="l" href="#3898"> 3898: </a>        <span class="php-keyword1">elseif</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$this</span>-&gt;data[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_ATOM_10][<span class="php-quote">'feed'</span>][<span class="php-num">0</span>][<span class="php-quote">'xml_lang'</span>]))
</span><span id="3899" class="l"><a class="l" href="#3899"> 3899: </a>        {
</span><span id="3900" class="l"><a class="l" href="#3900"> 3900: </a>            <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$this</span>-&gt;data[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_ATOM_10][<span class="php-quote">'feed'</span>][<span class="php-num">0</span>][<span class="php-quote">'xml_lang'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="3901" class="l"><a class="l" href="#3901"> 3901: </a>        }
</span><span id="3902" class="l"><a class="l" href="#3902"> 3902: </a>        <span class="php-keyword1">elseif</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$this</span>-&gt;data[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_ATOM_03][<span class="php-quote">'feed'</span>][<span class="php-num">0</span>][<span class="php-quote">'xml_lang'</span>]))
</span><span id="3903" class="l"><a class="l" href="#3903"> 3903: </a>        {
</span><span id="3904" class="l"><a class="l" href="#3904"> 3904: </a>            <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$this</span>-&gt;data[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_ATOM_03][<span class="php-quote">'feed'</span>][<span class="php-num">0</span>][<span class="php-quote">'xml_lang'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="3905" class="l"><a class="l" href="#3905"> 3905: </a>        }
</span><span id="3906" class="l"><a class="l" href="#3906"> 3906: </a>        <span class="php-keyword1">elseif</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$this</span>-&gt;data[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_RDF][<span class="php-quote">'RDF'</span>][<span class="php-num">0</span>][<span class="php-quote">'xml_lang'</span>]))
</span><span id="3907" class="l"><a class="l" href="#3907"> 3907: </a>        {
</span><span id="3908" class="l"><a class="l" href="#3908"> 3908: </a>            <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$this</span>-&gt;data[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_RDF][<span class="php-quote">'RDF'</span>][<span class="php-num">0</span>][<span class="php-quote">'xml_lang'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="3909" class="l"><a class="l" href="#3909"> 3909: </a>        }
</span><span id="3910" class="l"><a class="l" href="#3910"> 3910: </a>        <span class="php-keyword1">elseif</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$this</span>-&gt;data[<span class="php-quote">'headers'</span>][<span class="php-quote">'content-language'</span>]))
</span><span id="3911" class="l"><a class="l" href="#3911"> 3911: </a>        {
</span><span id="3912" class="l"><a class="l" href="#3912"> 3912: </a>            <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$this</span>-&gt;data[<span class="php-quote">'headers'</span>][<span class="php-quote">'content-language'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="3913" class="l"><a class="l" href="#3913"> 3913: </a>        }
</span><span id="3914" class="l"><a class="l" href="#3914"> 3914: </a>        <span class="php-keyword1">else</span>
</span><span id="3915" class="l"><a class="l" href="#3915"> 3915: </a>        {
</span><span id="3916" class="l"><a class="l" href="#3916"> 3916: </a>            <span class="php-keyword1">return</span> <span class="php-keyword1">null</span>;
</span><span id="3917" class="l"><a class="l" href="#3917"> 3917: </a>        }
</span><span id="3918" class="l"><a class="l" href="#3918"> 3918: </a>    }
</span><span id="3919" class="l"><a class="l" href="#3919"> 3919: </a>
</span><span id="3920" class="l"><a class="l" href="#3920"> 3920: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_get_latitude" href="#_get_latitude">get_latitude</a>()
</span><span id="3921" class="l"><a class="l" href="#3921"> 3921: </a>    {
</span><span id="3922" class="l"><a class="l" href="#3922"> 3922: </a>
</span><span id="3923" class="l"><a class="l" href="#3923"> 3923: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$return</span> = <span class="php-var">$this</span>-&gt;get_channel_tags(SIMPLEPIE_NAMESPACE_W3C_BASIC_GEO, <span class="php-quote">'lat'</span>))
</span><span id="3924" class="l"><a class="l" href="#3924"> 3924: </a>        {
</span><span id="3925" class="l"><a class="l" href="#3925"> 3925: </a>            <span class="php-keyword1">return</span> (float) <span class="php-var">$return</span>[<span class="php-num">0</span>][<span class="php-quote">'data'</span>];
</span><span id="3926" class="l"><a class="l" href="#3926"> 3926: </a>        }
</span><span id="3927" class="l"><a class="l" href="#3927"> 3927: </a>        <span class="php-keyword1">elseif</span> ((<span class="php-var">$return</span> = <span class="php-var">$this</span>-&gt;get_channel_tags(SIMPLEPIE_NAMESPACE_GEORSS, <span class="php-quote">'point'</span>)) &amp;&amp; <span class="php-keyword2">preg_match</span>(<span class="php-quote">'/^((?:-)?[0-9]+(?:\.[0-9]+)) ((?:-)?[0-9]+(?:\.[0-9]+))$/'</span>, <span class="php-keyword2">trim</span>(<span class="php-var">$return</span>[<span class="php-num">0</span>][<span class="php-quote">'data'</span>]), <span class="php-var">$match</span>))
</span><span id="3928" class="l"><a class="l" href="#3928"> 3928: </a>        {
</span><span id="3929" class="l"><a class="l" href="#3929"> 3929: </a>            <span class="php-keyword1">return</span> (float) <span class="php-var">$match</span>[<span class="php-num">1</span>];
</span><span id="3930" class="l"><a class="l" href="#3930"> 3930: </a>        }
</span><span id="3931" class="l"><a class="l" href="#3931"> 3931: </a>        <span class="php-keyword1">else</span>
</span><span id="3932" class="l"><a class="l" href="#3932"> 3932: </a>        {
</span><span id="3933" class="l"><a class="l" href="#3933"> 3933: </a>            <span class="php-keyword1">return</span> <span class="php-keyword1">null</span>;
</span><span id="3934" class="l"><a class="l" href="#3934"> 3934: </a>        }
</span><span id="3935" class="l"><a class="l" href="#3935"> 3935: </a>    }
</span><span id="3936" class="l"><a class="l" href="#3936"> 3936: </a>
</span><span id="3937" class="l"><a class="l" href="#3937"> 3937: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_get_longitude" href="#_get_longitude">get_longitude</a>()
</span><span id="3938" class="l"><a class="l" href="#3938"> 3938: </a>    {
</span><span id="3939" class="l"><a class="l" href="#3939"> 3939: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$return</span> = <span class="php-var">$this</span>-&gt;get_channel_tags(SIMPLEPIE_NAMESPACE_W3C_BASIC_GEO, <span class="php-quote">'long'</span>))
</span><span id="3940" class="l"><a class="l" href="#3940"> 3940: </a>        {
</span><span id="3941" class="l"><a class="l" href="#3941"> 3941: </a>            <span class="php-keyword1">return</span> (float) <span class="php-var">$return</span>[<span class="php-num">0</span>][<span class="php-quote">'data'</span>];
</span><span id="3942" class="l"><a class="l" href="#3942"> 3942: </a>        }
</span><span id="3943" class="l"><a class="l" href="#3943"> 3943: </a>        <span class="php-keyword1">elseif</span> (<span class="php-var">$return</span> = <span class="php-var">$this</span>-&gt;get_channel_tags(SIMPLEPIE_NAMESPACE_W3C_BASIC_GEO, <span class="php-quote">'lon'</span>))
</span><span id="3944" class="l"><a class="l" href="#3944"> 3944: </a>        {
</span><span id="3945" class="l"><a class="l" href="#3945"> 3945: </a>            <span class="php-keyword1">return</span> (float) <span class="php-var">$return</span>[<span class="php-num">0</span>][<span class="php-quote">'data'</span>];
</span><span id="3946" class="l"><a class="l" href="#3946"> 3946: </a>        }
</span><span id="3947" class="l"><a class="l" href="#3947"> 3947: </a>        <span class="php-keyword1">elseif</span> ((<span class="php-var">$return</span> = <span class="php-var">$this</span>-&gt;get_channel_tags(SIMPLEPIE_NAMESPACE_GEORSS, <span class="php-quote">'point'</span>)) &amp;&amp; <span class="php-keyword2">preg_match</span>(<span class="php-quote">'/^((?:-)?[0-9]+(?:\.[0-9]+)) ((?:-)?[0-9]+(?:\.[0-9]+))$/'</span>, <span class="php-keyword2">trim</span>(<span class="php-var">$return</span>[<span class="php-num">0</span>][<span class="php-quote">'data'</span>]), <span class="php-var">$match</span>))
</span><span id="3948" class="l"><a class="l" href="#3948"> 3948: </a>        {
</span><span id="3949" class="l"><a class="l" href="#3949"> 3949: </a>            <span class="php-keyword1">return</span> (float) <span class="php-var">$match</span>[<span class="php-num">2</span>];
</span><span id="3950" class="l"><a class="l" href="#3950"> 3950: </a>        }
</span><span id="3951" class="l"><a class="l" href="#3951"> 3951: </a>        <span class="php-keyword1">else</span>
</span><span id="3952" class="l"><a class="l" href="#3952"> 3952: </a>        {
</span><span id="3953" class="l"><a class="l" href="#3953"> 3953: </a>            <span class="php-keyword1">return</span> <span class="php-keyword1">null</span>;
</span><span id="3954" class="l"><a class="l" href="#3954"> 3954: </a>        }
</span><span id="3955" class="l"><a class="l" href="#3955"> 3955: </a>    }
</span><span id="3956" class="l"><a class="l" href="#3956"> 3956: </a>
</span><span id="3957" class="l"><a class="l" href="#3957"> 3957: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_get_image_title" href="#_get_image_title">get_image_title</a>()
</span><span id="3958" class="l"><a class="l" href="#3958"> 3958: </a>    {
</span><span id="3959" class="l"><a class="l" href="#3959"> 3959: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$return</span> = <span class="php-var">$this</span>-&gt;get_image_tags(SIMPLEPIE_NAMESPACE_RSS_10, <span class="php-quote">'title'</span>))
</span><span id="3960" class="l"><a class="l" href="#3960"> 3960: </a>        {
</span><span id="3961" class="l"><a class="l" href="#3961"> 3961: </a>            <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$return</span>[<span class="php-num">0</span>][<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="3962" class="l"><a class="l" href="#3962"> 3962: </a>        }
</span><span id="3963" class="l"><a class="l" href="#3963"> 3963: </a>        <span class="php-keyword1">elseif</span> (<span class="php-var">$return</span> = <span class="php-var">$this</span>-&gt;get_image_tags(SIMPLEPIE_NAMESPACE_RSS_090, <span class="php-quote">'title'</span>))
</span><span id="3964" class="l"><a class="l" href="#3964"> 3964: </a>        {
</span><span id="3965" class="l"><a class="l" href="#3965"> 3965: </a>            <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$return</span>[<span class="php-num">0</span>][<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="3966" class="l"><a class="l" href="#3966"> 3966: </a>        }
</span><span id="3967" class="l"><a class="l" href="#3967"> 3967: </a>        <span class="php-keyword1">elseif</span> (<span class="php-var">$return</span> = <span class="php-var">$this</span>-&gt;get_image_tags(SIMPLEPIE_NAMESPACE_RSS_20, <span class="php-quote">'title'</span>))
</span><span id="3968" class="l"><a class="l" href="#3968"> 3968: </a>        {
</span><span id="3969" class="l"><a class="l" href="#3969"> 3969: </a>            <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$return</span>[<span class="php-num">0</span>][<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="3970" class="l"><a class="l" href="#3970"> 3970: </a>        }
</span><span id="3971" class="l"><a class="l" href="#3971"> 3971: </a>        <span class="php-keyword1">elseif</span> (<span class="php-var">$return</span> = <span class="php-var">$this</span>-&gt;get_image_tags(SIMPLEPIE_NAMESPACE_DC_11, <span class="php-quote">'title'</span>))
</span><span id="3972" class="l"><a class="l" href="#3972"> 3972: </a>        {
</span><span id="3973" class="l"><a class="l" href="#3973"> 3973: </a>            <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$return</span>[<span class="php-num">0</span>][<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="3974" class="l"><a class="l" href="#3974"> 3974: </a>        }
</span><span id="3975" class="l"><a class="l" href="#3975"> 3975: </a>        <span class="php-keyword1">elseif</span> (<span class="php-var">$return</span> = <span class="php-var">$this</span>-&gt;get_image_tags(SIMPLEPIE_NAMESPACE_DC_10, <span class="php-quote">'title'</span>))
</span><span id="3976" class="l"><a class="l" href="#3976"> 3976: </a>        {
</span><span id="3977" class="l"><a class="l" href="#3977"> 3977: </a>            <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$return</span>[<span class="php-num">0</span>][<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="3978" class="l"><a class="l" href="#3978"> 3978: </a>        }
</span><span id="3979" class="l"><a class="l" href="#3979"> 3979: </a>        <span class="php-keyword1">else</span>
</span><span id="3980" class="l"><a class="l" href="#3980"> 3980: </a>        {
</span><span id="3981" class="l"><a class="l" href="#3981"> 3981: </a>            <span class="php-keyword1">return</span> <span class="php-keyword1">null</span>;
</span><span id="3982" class="l"><a class="l" href="#3982"> 3982: </a>        }
</span><span id="3983" class="l"><a class="l" href="#3983"> 3983: </a>    }
</span><span id="3984" class="l"><a class="l" href="#3984"> 3984: </a>
</span><span id="3985" class="l"><a class="l" href="#3985"> 3985: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_get_image_url" href="#_get_image_url">get_image_url</a>()
</span><span id="3986" class="l"><a class="l" href="#3986"> 3986: </a>    {
</span><span id="3987" class="l"><a class="l" href="#3987"> 3987: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$return</span> = <span class="php-var">$this</span>-&gt;get_channel_tags(SIMPLEPIE_NAMESPACE_ITUNES, <span class="php-quote">'image'</span>))
</span><span id="3988" class="l"><a class="l" href="#3988"> 3988: </a>        {
</span><span id="3989" class="l"><a class="l" href="#3989"> 3989: </a>            <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$return</span>[<span class="php-num">0</span>][<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'href'</span>], SIMPLEPIE_CONSTRUCT_IRI);
</span><span id="3990" class="l"><a class="l" href="#3990"> 3990: </a>        }
</span><span id="3991" class="l"><a class="l" href="#3991"> 3991: </a>        <span class="php-keyword1">elseif</span> (<span class="php-var">$return</span> = <span class="php-var">$this</span>-&gt;get_channel_tags(SIMPLEPIE_NAMESPACE_ATOM_10, <span class="php-quote">'logo'</span>))
</span><span id="3992" class="l"><a class="l" href="#3992"> 3992: </a>        {
</span><span id="3993" class="l"><a class="l" href="#3993"> 3993: </a>            <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$return</span>[<span class="php-num">0</span>][<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_IRI, <span class="php-var">$this</span>-&gt;get_base(<span class="php-var">$return</span>[<span class="php-num">0</span>]));
</span><span id="3994" class="l"><a class="l" href="#3994"> 3994: </a>        }
</span><span id="3995" class="l"><a class="l" href="#3995"> 3995: </a>        <span class="php-keyword1">elseif</span> (<span class="php-var">$return</span> = <span class="php-var">$this</span>-&gt;get_channel_tags(SIMPLEPIE_NAMESPACE_ATOM_10, <span class="php-quote">'icon'</span>))
</span><span id="3996" class="l"><a class="l" href="#3996"> 3996: </a>        {
</span><span id="3997" class="l"><a class="l" href="#3997"> 3997: </a>            <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$return</span>[<span class="php-num">0</span>][<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_IRI, <span class="php-var">$this</span>-&gt;get_base(<span class="php-var">$return</span>[<span class="php-num">0</span>]));
</span><span id="3998" class="l"><a class="l" href="#3998"> 3998: </a>        }
</span><span id="3999" class="l"><a class="l" href="#3999"> 3999: </a>        <span class="php-keyword1">elseif</span> (<span class="php-var">$return</span> = <span class="php-var">$this</span>-&gt;get_image_tags(SIMPLEPIE_NAMESPACE_RSS_10, <span class="php-quote">'url'</span>))
</span><span id="4000" class="l"><a class="l" href="#4000"> 4000: </a>        {
</span><span id="4001" class="l"><a class="l" href="#4001"> 4001: </a>            <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$return</span>[<span class="php-num">0</span>][<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_IRI, <span class="php-var">$this</span>-&gt;get_base(<span class="php-var">$return</span>[<span class="php-num">0</span>]));
</span><span id="4002" class="l"><a class="l" href="#4002"> 4002: </a>        }
</span><span id="4003" class="l"><a class="l" href="#4003"> 4003: </a>        <span class="php-keyword1">elseif</span> (<span class="php-var">$return</span> = <span class="php-var">$this</span>-&gt;get_image_tags(SIMPLEPIE_NAMESPACE_RSS_090, <span class="php-quote">'url'</span>))
</span><span id="4004" class="l"><a class="l" href="#4004"> 4004: </a>        {
</span><span id="4005" class="l"><a class="l" href="#4005"> 4005: </a>            <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$return</span>[<span class="php-num">0</span>][<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_IRI, <span class="php-var">$this</span>-&gt;get_base(<span class="php-var">$return</span>[<span class="php-num">0</span>]));
</span><span id="4006" class="l"><a class="l" href="#4006"> 4006: </a>        }
</span><span id="4007" class="l"><a class="l" href="#4007"> 4007: </a>        <span class="php-keyword1">elseif</span> (<span class="php-var">$return</span> = <span class="php-var">$this</span>-&gt;get_image_tags(SIMPLEPIE_NAMESPACE_RSS_20, <span class="php-quote">'url'</span>))
</span><span id="4008" class="l"><a class="l" href="#4008"> 4008: </a>        {
</span><span id="4009" class="l"><a class="l" href="#4009"> 4009: </a>            <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$return</span>[<span class="php-num">0</span>][<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_IRI, <span class="php-var">$this</span>-&gt;get_base(<span class="php-var">$return</span>[<span class="php-num">0</span>]));
</span><span id="4010" class="l"><a class="l" href="#4010"> 4010: </a>        }
</span><span id="4011" class="l"><a class="l" href="#4011"> 4011: </a>        <span class="php-keyword1">else</span>
</span><span id="4012" class="l"><a class="l" href="#4012"> 4012: </a>        {
</span><span id="4013" class="l"><a class="l" href="#4013"> 4013: </a>            <span class="php-keyword1">return</span> <span class="php-keyword1">null</span>;
</span><span id="4014" class="l"><a class="l" href="#4014"> 4014: </a>        }
</span><span id="4015" class="l"><a class="l" href="#4015"> 4015: </a>    }
</span><span id="4016" class="l"><a class="l" href="#4016"> 4016: </a>
</span><span id="4017" class="l"><a class="l" href="#4017"> 4017: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_get_image_link" href="#_get_image_link">get_image_link</a>()
</span><span id="4018" class="l"><a class="l" href="#4018"> 4018: </a>    {
</span><span id="4019" class="l"><a class="l" href="#4019"> 4019: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$return</span> = <span class="php-var">$this</span>-&gt;get_image_tags(SIMPLEPIE_NAMESPACE_RSS_10, <span class="php-quote">'link'</span>))
</span><span id="4020" class="l"><a class="l" href="#4020"> 4020: </a>        {
</span><span id="4021" class="l"><a class="l" href="#4021"> 4021: </a>            <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$return</span>[<span class="php-num">0</span>][<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_IRI, <span class="php-var">$this</span>-&gt;get_base(<span class="php-var">$return</span>[<span class="php-num">0</span>]));
</span><span id="4022" class="l"><a class="l" href="#4022"> 4022: </a>        }
</span><span id="4023" class="l"><a class="l" href="#4023"> 4023: </a>        <span class="php-keyword1">elseif</span> (<span class="php-var">$return</span> = <span class="php-var">$this</span>-&gt;get_image_tags(SIMPLEPIE_NAMESPACE_RSS_090, <span class="php-quote">'link'</span>))
</span><span id="4024" class="l"><a class="l" href="#4024"> 4024: </a>        {
</span><span id="4025" class="l"><a class="l" href="#4025"> 4025: </a>            <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$return</span>[<span class="php-num">0</span>][<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_IRI, <span class="php-var">$this</span>-&gt;get_base(<span class="php-var">$return</span>[<span class="php-num">0</span>]));
</span><span id="4026" class="l"><a class="l" href="#4026"> 4026: </a>        }
</span><span id="4027" class="l"><a class="l" href="#4027"> 4027: </a>        <span class="php-keyword1">elseif</span> (<span class="php-var">$return</span> = <span class="php-var">$this</span>-&gt;get_image_tags(SIMPLEPIE_NAMESPACE_RSS_20, <span class="php-quote">'link'</span>))
</span><span id="4028" class="l"><a class="l" href="#4028"> 4028: </a>        {
</span><span id="4029" class="l"><a class="l" href="#4029"> 4029: </a>            <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$return</span>[<span class="php-num">0</span>][<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_IRI, <span class="php-var">$this</span>-&gt;get_base(<span class="php-var">$return</span>[<span class="php-num">0</span>]));
</span><span id="4030" class="l"><a class="l" href="#4030"> 4030: </a>        }
</span><span id="4031" class="l"><a class="l" href="#4031"> 4031: </a>        <span class="php-keyword1">else</span>
</span><span id="4032" class="l"><a class="l" href="#4032"> 4032: </a>        {
</span><span id="4033" class="l"><a class="l" href="#4033"> 4033: </a>            <span class="php-keyword1">return</span> <span class="php-keyword1">null</span>;
</span><span id="4034" class="l"><a class="l" href="#4034"> 4034: </a>        }
</span><span id="4035" class="l"><a class="l" href="#4035"> 4035: </a>    }
</span><span id="4036" class="l"><a class="l" href="#4036"> 4036: </a>
</span><span id="4037" class="l"><a class="l" href="#4037"> 4037: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_get_image_width" href="#_get_image_width">get_image_width</a>()
</span><span id="4038" class="l"><a class="l" href="#4038"> 4038: </a>    {
</span><span id="4039" class="l"><a class="l" href="#4039"> 4039: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$return</span> = <span class="php-var">$this</span>-&gt;get_image_tags(SIMPLEPIE_NAMESPACE_RSS_20, <span class="php-quote">'width'</span>))
</span><span id="4040" class="l"><a class="l" href="#4040"> 4040: </a>        {
</span><span id="4041" class="l"><a class="l" href="#4041"> 4041: </a>            <span class="php-keyword1">return</span> <span class="php-keyword2">round</span>(<span class="php-var">$return</span>[<span class="php-num">0</span>][<span class="php-quote">'data'</span>]);
</span><span id="4042" class="l"><a class="l" href="#4042"> 4042: </a>        }
</span><span id="4043" class="l"><a class="l" href="#4043"> 4043: </a>        <span class="php-keyword1">elseif</span> (<span class="php-var">$this</span>-&gt;get_type() &amp; SIMPLEPIE_TYPE_RSS_SYNDICATION &amp;&amp; <span class="php-var">$this</span>-&gt;get_image_tags(SIMPLEPIE_NAMESPACE_RSS_20, <span class="php-quote">'url'</span>))
</span><span id="4044" class="l"><a class="l" href="#4044"> 4044: </a>        {
</span><span id="4045" class="l"><a class="l" href="#4045"> 4045: </a>            <span class="php-keyword1">return</span> <span class="php-num">88.0</span>;
</span><span id="4046" class="l"><a class="l" href="#4046"> 4046: </a>        }
</span><span id="4047" class="l"><a class="l" href="#4047"> 4047: </a>        <span class="php-keyword1">else</span>
</span><span id="4048" class="l"><a class="l" href="#4048"> 4048: </a>        {
</span><span id="4049" class="l"><a class="l" href="#4049"> 4049: </a>            <span class="php-keyword1">return</span> <span class="php-keyword1">null</span>;
</span><span id="4050" class="l"><a class="l" href="#4050"> 4050: </a>        }
</span><span id="4051" class="l"><a class="l" href="#4051"> 4051: </a>    }
</span><span id="4052" class="l"><a class="l" href="#4052"> 4052: </a>
</span><span id="4053" class="l"><a class="l" href="#4053"> 4053: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_get_image_height" href="#_get_image_height">get_image_height</a>()
</span><span id="4054" class="l"><a class="l" href="#4054"> 4054: </a>    {
</span><span id="4055" class="l"><a class="l" href="#4055"> 4055: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$return</span> = <span class="php-var">$this</span>-&gt;get_image_tags(SIMPLEPIE_NAMESPACE_RSS_20, <span class="php-quote">'height'</span>))
</span><span id="4056" class="l"><a class="l" href="#4056"> 4056: </a>        {
</span><span id="4057" class="l"><a class="l" href="#4057"> 4057: </a>            <span class="php-keyword1">return</span> <span class="php-keyword2">round</span>(<span class="php-var">$return</span>[<span class="php-num">0</span>][<span class="php-quote">'data'</span>]);
</span><span id="4058" class="l"><a class="l" href="#4058"> 4058: </a>        }
</span><span id="4059" class="l"><a class="l" href="#4059"> 4059: </a>        <span class="php-keyword1">elseif</span> (<span class="php-var">$this</span>-&gt;get_type() &amp; SIMPLEPIE_TYPE_RSS_SYNDICATION &amp;&amp; <span class="php-var">$this</span>-&gt;get_image_tags(SIMPLEPIE_NAMESPACE_RSS_20, <span class="php-quote">'url'</span>))
</span><span id="4060" class="l"><a class="l" href="#4060"> 4060: </a>        {
</span><span id="4061" class="l"><a class="l" href="#4061"> 4061: </a>            <span class="php-keyword1">return</span> <span class="php-num">31.0</span>;
</span><span id="4062" class="l"><a class="l" href="#4062"> 4062: </a>        }
</span><span id="4063" class="l"><a class="l" href="#4063"> 4063: </a>        <span class="php-keyword1">else</span>
</span><span id="4064" class="l"><a class="l" href="#4064"> 4064: </a>        {
</span><span id="4065" class="l"><a class="l" href="#4065"> 4065: </a>            <span class="php-keyword1">return</span> <span class="php-keyword1">null</span>;
</span><span id="4066" class="l"><a class="l" href="#4066"> 4066: </a>        }
</span><span id="4067" class="l"><a class="l" href="#4067"> 4067: </a>    }
</span><span id="4068" class="l"><a class="l" href="#4068"> 4068: </a>
</span><span id="4069" class="l"><a class="l" href="#4069"> 4069: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_get_item_quantity" href="#_get_item_quantity">get_item_quantity</a>(<span class="php-var">$max</span> = <span class="php-num">0</span>)
</span><span id="4070" class="l"><a class="l" href="#4070"> 4070: </a>    {
</span><span id="4071" class="l"><a class="l" href="#4071"> 4071: </a>        <span class="php-var">$max</span> = (int) <span class="php-var">$max</span>;
</span><span id="4072" class="l"><a class="l" href="#4072"> 4072: </a>        <span class="php-var">$qty</span> = <span class="php-keyword2">count</span>(<span class="php-var">$this</span>-&gt;get_items());
</span><span id="4073" class="l"><a class="l" href="#4073"> 4073: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$max</span> === <span class="php-num">0</span>)
</span><span id="4074" class="l"><a class="l" href="#4074"> 4074: </a>        {
</span><span id="4075" class="l"><a class="l" href="#4075"> 4075: </a>            <span class="php-keyword1">return</span> <span class="php-var">$qty</span>;
</span><span id="4076" class="l"><a class="l" href="#4076"> 4076: </a>        }
</span><span id="4077" class="l"><a class="l" href="#4077"> 4077: </a>        <span class="php-keyword1">else</span>
</span><span id="4078" class="l"><a class="l" href="#4078"> 4078: </a>        {
</span><span id="4079" class="l"><a class="l" href="#4079"> 4079: </a>            <span class="php-keyword1">return</span> (<span class="php-var">$qty</span> &gt; <span class="php-var">$max</span>) ? <span class="php-var">$max</span> : <span class="php-var">$qty</span>;
</span><span id="4080" class="l"><a class="l" href="#4080"> 4080: </a>        }
</span><span id="4081" class="l"><a class="l" href="#4081"> 4081: </a>    }
</span><span id="4082" class="l"><a class="l" href="#4082"> 4082: </a>
</span><span id="4083" class="l"><a class="l" href="#4083"> 4083: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_get_item" href="#_get_item">get_item</a>(<span class="php-var">$key</span> = <span class="php-num">0</span>)
</span><span id="4084" class="l"><a class="l" href="#4084"> 4084: </a>    {
</span><span id="4085" class="l"><a class="l" href="#4085"> 4085: </a>        <span class="php-var">$items</span> = <span class="php-var">$this</span>-&gt;get_items();
</span><span id="4086" class="l"><a class="l" href="#4086"> 4086: </a>        <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$items</span>[<span class="php-var">$key</span>]))
</span><span id="4087" class="l"><a class="l" href="#4087"> 4087: </a>        {
</span><span id="4088" class="l"><a class="l" href="#4088"> 4088: </a>            <span class="php-keyword1">return</span> <span class="php-var">$items</span>[<span class="php-var">$key</span>];
</span><span id="4089" class="l"><a class="l" href="#4089"> 4089: </a>        }
</span><span id="4090" class="l"><a class="l" href="#4090"> 4090: </a>        <span class="php-keyword1">else</span>
</span><span id="4091" class="l"><a class="l" href="#4091"> 4091: </a>        {
</span><span id="4092" class="l"><a class="l" href="#4092"> 4092: </a>            <span class="php-keyword1">return</span> <span class="php-keyword1">null</span>;
</span><span id="4093" class="l"><a class="l" href="#4093"> 4093: </a>        }
</span><span id="4094" class="l"><a class="l" href="#4094"> 4094: </a>    }
</span><span id="4095" class="l"><a class="l" href="#4095"> 4095: </a>
</span><span id="4096" class="l"><a class="l" href="#4096"> 4096: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_get_items" href="#_get_items">get_items</a>(<span class="php-var">$start</span> = <span class="php-num">0</span>, <span class="php-var">$end</span> = <span class="php-num">0</span>)
</span><span id="4097" class="l"><a class="l" href="#4097"> 4097: </a>    {
</span><span id="4098" class="l"><a class="l" href="#4098"> 4098: </a>        <span class="php-keyword1">if</span> (!<span class="php-keyword1">isset</span>(<span class="php-var">$this</span>-&gt;data[<span class="php-quote">'items'</span>]))
</span><span id="4099" class="l"><a class="l" href="#4099"> 4099: </a>        {
</span><span id="4100" class="l"><a class="l" href="#4100"> 4100: </a>            <span class="php-keyword1">if</span> (!<span class="php-keyword1">empty</span>(<span class="php-var">$this</span>-&gt;multifeed_objects))
</span><span id="4101" class="l"><a class="l" href="#4101"> 4101: </a>            {
</span><span id="4102" class="l"><a class="l" href="#4102"> 4102: </a>                <span class="php-var">$this</span>-&gt;data[<span class="php-quote">'items'</span>] = SimplePie::merge_items(<span class="php-var">$this</span>-&gt;multifeed_objects, <span class="php-var">$start</span>, <span class="php-var">$end</span>, <span class="php-var">$this</span>-&gt;item_limit);
</span><span id="4103" class="l"><a class="l" href="#4103"> 4103: </a>            }
</span><span id="4104" class="l"><a class="l" href="#4104"> 4104: </a>            <span class="php-keyword1">else</span>
</span><span id="4105" class="l"><a class="l" href="#4105"> 4105: </a>            {
</span><span id="4106" class="l"><a class="l" href="#4106"> 4106: </a>                <span class="php-var">$this</span>-&gt;data[<span class="php-quote">'items'</span>] = <span class="php-keyword1">array</span>();
</span><span id="4107" class="l"><a class="l" href="#4107"> 4107: </a>                <span class="php-keyword1">if</span> (<span class="php-var">$items</span> = <span class="php-var">$this</span>-&gt;get_feed_tags(SIMPLEPIE_NAMESPACE_ATOM_10, <span class="php-quote">'entry'</span>))
</span><span id="4108" class="l"><a class="l" href="#4108"> 4108: </a>                {
</span><span id="4109" class="l"><a class="l" href="#4109"> 4109: </a>                    <span class="php-var">$keys</span> = <span class="php-keyword2">array_keys</span>(<span class="php-var">$items</span>);
</span><span id="4110" class="l"><a class="l" href="#4110"> 4110: </a>                    <span class="php-keyword1">foreach</span> (<span class="php-var">$keys</span> <span class="php-keyword1">as</span> <span class="php-var">$key</span>)
</span><span id="4111" class="l"><a class="l" href="#4111"> 4111: </a>                    {
</span><span id="4112" class="l"><a class="l" href="#4112"> 4112: </a>                        <span class="php-var">$this</span>-&gt;data[<span class="php-quote">'items'</span>][] = <span class="php-var">$this</span>-&gt;registry-&gt;create(<span class="php-quote">'Item'</span>, <span class="php-keyword1">array</span>(<span class="php-var">$this</span>, <span class="php-var">$items</span>[<span class="php-var">$key</span>]));
</span><span id="4113" class="l"><a class="l" href="#4113"> 4113: </a>                    }
</span><span id="4114" class="l"><a class="l" href="#4114"> 4114: </a>                }
</span><span id="4115" class="l"><a class="l" href="#4115"> 4115: </a>                <span class="php-keyword1">if</span> (<span class="php-var">$items</span> = <span class="php-var">$this</span>-&gt;get_feed_tags(SIMPLEPIE_NAMESPACE_ATOM_03, <span class="php-quote">'entry'</span>))
</span><span id="4116" class="l"><a class="l" href="#4116"> 4116: </a>                {
</span><span id="4117" class="l"><a class="l" href="#4117"> 4117: </a>                    <span class="php-var">$keys</span> = <span class="php-keyword2">array_keys</span>(<span class="php-var">$items</span>);
</span><span id="4118" class="l"><a class="l" href="#4118"> 4118: </a>                    <span class="php-keyword1">foreach</span> (<span class="php-var">$keys</span> <span class="php-keyword1">as</span> <span class="php-var">$key</span>)
</span><span id="4119" class="l"><a class="l" href="#4119"> 4119: </a>                    {
</span><span id="4120" class="l"><a class="l" href="#4120"> 4120: </a>                        <span class="php-var">$this</span>-&gt;data[<span class="php-quote">'items'</span>][] = <span class="php-var">$this</span>-&gt;registry-&gt;create(<span class="php-quote">'Item'</span>, <span class="php-keyword1">array</span>(<span class="php-var">$this</span>, <span class="php-var">$items</span>[<span class="php-var">$key</span>]));
</span><span id="4121" class="l"><a class="l" href="#4121"> 4121: </a>                    }
</span><span id="4122" class="l"><a class="l" href="#4122"> 4122: </a>                }
</span><span id="4123" class="l"><a class="l" href="#4123"> 4123: </a>                <span class="php-keyword1">if</span> (<span class="php-var">$items</span> = <span class="php-var">$this</span>-&gt;get_feed_tags(SIMPLEPIE_NAMESPACE_RSS_10, <span class="php-quote">'item'</span>))
</span><span id="4124" class="l"><a class="l" href="#4124"> 4124: </a>                {
</span><span id="4125" class="l"><a class="l" href="#4125"> 4125: </a>                    <span class="php-var">$keys</span> = <span class="php-keyword2">array_keys</span>(<span class="php-var">$items</span>);
</span><span id="4126" class="l"><a class="l" href="#4126"> 4126: </a>                    <span class="php-keyword1">foreach</span> (<span class="php-var">$keys</span> <span class="php-keyword1">as</span> <span class="php-var">$key</span>)
</span><span id="4127" class="l"><a class="l" href="#4127"> 4127: </a>                    {
</span><span id="4128" class="l"><a class="l" href="#4128"> 4128: </a>                        <span class="php-var">$this</span>-&gt;data[<span class="php-quote">'items'</span>][] = <span class="php-var">$this</span>-&gt;registry-&gt;create(<span class="php-quote">'Item'</span>, <span class="php-keyword1">array</span>(<span class="php-var">$this</span>, <span class="php-var">$items</span>[<span class="php-var">$key</span>]));
</span><span id="4129" class="l"><a class="l" href="#4129"> 4129: </a>                    }
</span><span id="4130" class="l"><a class="l" href="#4130"> 4130: </a>                }
</span><span id="4131" class="l"><a class="l" href="#4131"> 4131: </a>                <span class="php-keyword1">if</span> (<span class="php-var">$items</span> = <span class="php-var">$this</span>-&gt;get_feed_tags(SIMPLEPIE_NAMESPACE_RSS_090, <span class="php-quote">'item'</span>))
</span><span id="4132" class="l"><a class="l" href="#4132"> 4132: </a>                {
</span><span id="4133" class="l"><a class="l" href="#4133"> 4133: </a>                    <span class="php-var">$keys</span> = <span class="php-keyword2">array_keys</span>(<span class="php-var">$items</span>);
</span><span id="4134" class="l"><a class="l" href="#4134"> 4134: </a>                    <span class="php-keyword1">foreach</span> (<span class="php-var">$keys</span> <span class="php-keyword1">as</span> <span class="php-var">$key</span>)
</span><span id="4135" class="l"><a class="l" href="#4135"> 4135: </a>                    {
</span><span id="4136" class="l"><a class="l" href="#4136"> 4136: </a>                        <span class="php-var">$this</span>-&gt;data[<span class="php-quote">'items'</span>][] = <span class="php-var">$this</span>-&gt;registry-&gt;create(<span class="php-quote">'Item'</span>, <span class="php-keyword1">array</span>(<span class="php-var">$this</span>, <span class="php-var">$items</span>[<span class="php-var">$key</span>]));
</span><span id="4137" class="l"><a class="l" href="#4137"> 4137: </a>                    }
</span><span id="4138" class="l"><a class="l" href="#4138"> 4138: </a>                }
</span><span id="4139" class="l"><a class="l" href="#4139"> 4139: </a>                <span class="php-keyword1">if</span> (<span class="php-var">$items</span> = <span class="php-var">$this</span>-&gt;get_channel_tags(SIMPLEPIE_NAMESPACE_RSS_20, <span class="php-quote">'item'</span>))
</span><span id="4140" class="l"><a class="l" href="#4140"> 4140: </a>                {
</span><span id="4141" class="l"><a class="l" href="#4141"> 4141: </a>                    <span class="php-var">$keys</span> = <span class="php-keyword2">array_keys</span>(<span class="php-var">$items</span>);
</span><span id="4142" class="l"><a class="l" href="#4142"> 4142: </a>                    <span class="php-keyword1">foreach</span> (<span class="php-var">$keys</span> <span class="php-keyword1">as</span> <span class="php-var">$key</span>)
</span><span id="4143" class="l"><a class="l" href="#4143"> 4143: </a>                    {
</span><span id="4144" class="l"><a class="l" href="#4144"> 4144: </a>                        <span class="php-var">$this</span>-&gt;data[<span class="php-quote">'items'</span>][] = <span class="php-var">$this</span>-&gt;registry-&gt;create(<span class="php-quote">'Item'</span>, <span class="php-keyword1">array</span>(<span class="php-var">$this</span>, <span class="php-var">$items</span>[<span class="php-var">$key</span>]));
</span><span id="4145" class="l"><a class="l" href="#4145"> 4145: </a>                    }
</span><span id="4146" class="l"><a class="l" href="#4146"> 4146: </a>                }
</span><span id="4147" class="l"><a class="l" href="#4147"> 4147: </a>            }
</span><span id="4148" class="l"><a class="l" href="#4148"> 4148: </a>        }
</span><span id="4149" class="l"><a class="l" href="#4149"> 4149: </a>
</span><span id="4150" class="l"><a class="l" href="#4150"> 4150: </a>        <span class="php-keyword1">if</span> (!<span class="php-keyword1">empty</span>(<span class="php-var">$this</span>-&gt;data[<span class="php-quote">'items'</span>]))
</span><span id="4151" class="l"><a class="l" href="#4151"> 4151: </a>        {
</span><span id="4152" class="l"><a class="l" href="#4152"> 4152: </a>            <span class="php-comment">// If we want to order it by date, check if all items have a date, and then sort it</span>
</span><span id="4153" class="l"><a class="l" href="#4153"> 4153: </a>            <span class="php-keyword1">if</span> (<span class="php-var">$this</span>-&gt;order_by_date &amp;&amp; <span class="php-keyword1">empty</span>(<span class="php-var">$this</span>-&gt;multifeed_objects))
</span><span id="4154" class="l"><a class="l" href="#4154"> 4154: </a>            {
</span><span id="4155" class="l"><a class="l" href="#4155"> 4155: </a>                <span class="php-keyword1">if</span> (!<span class="php-keyword1">isset</span>(<span class="php-var">$this</span>-&gt;data[<span class="php-quote">'ordered_items'</span>]))
</span><span id="4156" class="l"><a class="l" href="#4156"> 4156: </a>                {
</span><span id="4157" class="l"><a class="l" href="#4157"> 4157: </a>                    <span class="php-var">$do_sort</span> = <span class="php-keyword1">true</span>;
</span><span id="4158" class="l"><a class="l" href="#4158"> 4158: </a>                    <span class="php-keyword1">foreach</span> (<span class="php-var">$this</span>-&gt;data[<span class="php-quote">'items'</span>] <span class="php-keyword1">as</span> <span class="php-var">$item</span>)
</span><span id="4159" class="l"><a class="l" href="#4159"> 4159: </a>                    {
</span><span id="4160" class="l"><a class="l" href="#4160"> 4160: </a>                        <span class="php-keyword1">if</span> (!<span class="php-var">$item</span>-&gt;get_date(<span class="php-quote">'U'</span>))
</span><span id="4161" class="l"><a class="l" href="#4161"> 4161: </a>                        {
</span><span id="4162" class="l"><a class="l" href="#4162"> 4162: </a>                            <span class="php-var">$do_sort</span> = <span class="php-keyword1">false</span>;
</span><span id="4163" class="l"><a class="l" href="#4163"> 4163: </a>                            <span class="php-keyword1">break</span>;
</span><span id="4164" class="l"><a class="l" href="#4164"> 4164: </a>                        }
</span><span id="4165" class="l"><a class="l" href="#4165"> 4165: </a>                    }
</span><span id="4166" class="l"><a class="l" href="#4166"> 4166: </a>                    <span class="php-var">$item</span> = <span class="php-keyword1">null</span>;
</span><span id="4167" class="l"><a class="l" href="#4167"> 4167: </a>                    <span class="php-var">$this</span>-&gt;data[<span class="php-quote">'ordered_items'</span>] = <span class="php-var">$this</span>-&gt;data[<span class="php-quote">'items'</span>];
</span><span id="4168" class="l"><a class="l" href="#4168"> 4168: </a>                    <span class="php-keyword1">if</span> (<span class="php-var">$do_sort</span>)
</span><span id="4169" class="l"><a class="l" href="#4169"> 4169: </a>                    {
</span><span id="4170" class="l"><a class="l" href="#4170"> 4170: </a>                        <span class="php-keyword2">usort</span>(<span class="php-var">$this</span>-&gt;data[<span class="php-quote">'ordered_items'</span>], <span class="php-keyword1">array</span>(<span class="php-keyword2">get_class</span>(<span class="php-var">$this</span>), <span class="php-quote">'sort_items'</span>));
</span><span id="4171" class="l"><a class="l" href="#4171"> 4171: </a>                    }
</span><span id="4172" class="l"><a class="l" href="#4172"> 4172: </a>                }
</span><span id="4173" class="l"><a class="l" href="#4173"> 4173: </a>                <span class="php-var">$items</span> = <span class="php-var">$this</span>-&gt;data[<span class="php-quote">'ordered_items'</span>];
</span><span id="4174" class="l"><a class="l" href="#4174"> 4174: </a>            }
</span><span id="4175" class="l"><a class="l" href="#4175"> 4175: </a>            <span class="php-keyword1">else</span>
</span><span id="4176" class="l"><a class="l" href="#4176"> 4176: </a>            {
</span><span id="4177" class="l"><a class="l" href="#4177"> 4177: </a>                <span class="php-var">$items</span> = <span class="php-var">$this</span>-&gt;data[<span class="php-quote">'items'</span>];
</span><span id="4178" class="l"><a class="l" href="#4178"> 4178: </a>            }
</span><span id="4179" class="l"><a class="l" href="#4179"> 4179: </a>
</span><span id="4180" class="l"><a class="l" href="#4180"> 4180: </a>            <span class="php-comment">// Slice the data as desired</span>
</span><span id="4181" class="l"><a class="l" href="#4181"> 4181: </a>            <span class="php-keyword1">if</span> (<span class="php-var">$end</span> === <span class="php-num">0</span>)
</span><span id="4182" class="l"><a class="l" href="#4182"> 4182: </a>            {
</span><span id="4183" class="l"><a class="l" href="#4183"> 4183: </a>                <span class="php-keyword1">return</span> <span class="php-keyword2">array_slice</span>(<span class="php-var">$items</span>, <span class="php-var">$start</span>);
</span><span id="4184" class="l"><a class="l" href="#4184"> 4184: </a>            }
</span><span id="4185" class="l"><a class="l" href="#4185"> 4185: </a>            <span class="php-keyword1">else</span>
</span><span id="4186" class="l"><a class="l" href="#4186"> 4186: </a>            {
</span><span id="4187" class="l"><a class="l" href="#4187"> 4187: </a>                <span class="php-keyword1">return</span> <span class="php-keyword2">array_slice</span>(<span class="php-var">$items</span>, <span class="php-var">$start</span>, <span class="php-var">$end</span>);
</span><span id="4188" class="l"><a class="l" href="#4188"> 4188: </a>            }
</span><span id="4189" class="l"><a class="l" href="#4189"> 4189: </a>        }
</span><span id="4190" class="l"><a class="l" href="#4190"> 4190: </a>        <span class="php-keyword1">else</span>
</span><span id="4191" class="l"><a class="l" href="#4191"> 4191: </a>        {
</span><span id="4192" class="l"><a class="l" href="#4192"> 4192: </a>            <span class="php-keyword1">return</span> <span class="php-keyword1">array</span>();
</span><span id="4193" class="l"><a class="l" href="#4193"> 4193: </a>        }
</span><span id="4194" class="l"><a class="l" href="#4194"> 4194: </a>    }
</span><span id="4195" class="l"><a class="l" href="#4195"> 4195: </a>
</span><span id="4196" class="l"><a class="l" href="#4196"> 4196: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">static</span> <span class="php-keyword1">function</span> <a id="_sort_items" href="#_sort_items">sort_items</a>(<span class="php-var">$a</span>, <span class="php-var">$b</span>)
</span><span id="4197" class="l"><a class="l" href="#4197"> 4197: </a>    {
</span><span id="4198" class="l"><a class="l" href="#4198"> 4198: </a>        <span class="php-keyword1">return</span> <span class="php-var">$a</span>-&gt;get_date(<span class="php-quote">'U'</span>) &lt;= <span class="php-var">$b</span>-&gt;get_date(<span class="php-quote">'U'</span>);
</span><span id="4199" class="l"><a class="l" href="#4199"> 4199: </a>    }
</span><span id="4200" class="l"><a class="l" href="#4200"> 4200: </a>
</span><span id="4201" class="l"><a class="l" href="#4201"> 4201: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">static</span> <span class="php-keyword1">function</span> <a id="_merge_items" href="#_merge_items">merge_items</a>(<span class="php-var">$urls</span>, <span class="php-var">$start</span> = <span class="php-num">0</span>, <span class="php-var">$end</span> = <span class="php-num">0</span>, <span class="php-var">$limit</span> = <span class="php-num">0</span>)
</span><span id="4202" class="l"><a class="l" href="#4202"> 4202: </a>    {
</span><span id="4203" class="l"><a class="l" href="#4203"> 4203: </a>        <span class="php-keyword1">if</span> (<span class="php-keyword2">is_array</span>(<span class="php-var">$urls</span>) &amp;&amp; <span class="php-keyword2">sizeof</span>(<span class="php-var">$urls</span>) &gt; <span class="php-num">0</span>)
</span><span id="4204" class="l"><a class="l" href="#4204"> 4204: </a>        {
</span><span id="4205" class="l"><a class="l" href="#4205"> 4205: </a>            <span class="php-var">$items</span> = <span class="php-keyword1">array</span>();
</span><span id="4206" class="l"><a class="l" href="#4206"> 4206: </a>            <span class="php-keyword1">foreach</span> (<span class="php-var">$urls</span> <span class="php-keyword1">as</span> <span class="php-var">$arg</span>)
</span><span id="4207" class="l"><a class="l" href="#4207"> 4207: </a>            {
</span><span id="4208" class="l"><a class="l" href="#4208"> 4208: </a>                <span class="php-keyword1">if</span> (<span class="php-var">$arg</span> <span class="php-keyword1">instanceof</span> SimplePie)
</span><span id="4209" class="l"><a class="l" href="#4209"> 4209: </a>                {
</span><span id="4210" class="l"><a class="l" href="#4210"> 4210: </a>                    <span class="php-var">$items</span> = <span class="php-keyword2">array_merge</span>(<span class="php-var">$items</span>, <span class="php-var">$arg</span>-&gt;get_items(<span class="php-num">0</span>, <span class="php-var">$limit</span>));
</span><span id="4211" class="l"><a class="l" href="#4211"> 4211: </a>                }
</span><span id="4212" class="l"><a class="l" href="#4212"> 4212: </a>                <span class="php-keyword1">else</span>
</span><span id="4213" class="l"><a class="l" href="#4213"> 4213: </a>                {
</span><span id="4214" class="l"><a class="l" href="#4214"> 4214: </a>                    <span class="php-keyword2">trigger_error</span>(<span class="php-quote">'Arguments must be SimplePie objects'</span>, E_USER_WARNING);
</span><span id="4215" class="l"><a class="l" href="#4215"> 4215: </a>                }
</span><span id="4216" class="l"><a class="l" href="#4216"> 4216: </a>            }
</span><span id="4217" class="l"><a class="l" href="#4217"> 4217: </a>
</span><span id="4218" class="l"><a class="l" href="#4218"> 4218: </a>            <span class="php-var">$do_sort</span> = <span class="php-keyword1">true</span>;
</span><span id="4219" class="l"><a class="l" href="#4219"> 4219: </a>            <span class="php-keyword1">foreach</span> (<span class="php-var">$items</span> <span class="php-keyword1">as</span> <span class="php-var">$item</span>)
</span><span id="4220" class="l"><a class="l" href="#4220"> 4220: </a>            {
</span><span id="4221" class="l"><a class="l" href="#4221"> 4221: </a>                <span class="php-keyword1">if</span> (!<span class="php-var">$item</span>-&gt;get_date(<span class="php-quote">'U'</span>))
</span><span id="4222" class="l"><a class="l" href="#4222"> 4222: </a>                {
</span><span id="4223" class="l"><a class="l" href="#4223"> 4223: </a>                    <span class="php-var">$do_sort</span> = <span class="php-keyword1">false</span>;
</span><span id="4224" class="l"><a class="l" href="#4224"> 4224: </a>                    <span class="php-keyword1">break</span>;
</span><span id="4225" class="l"><a class="l" href="#4225"> 4225: </a>                }
</span><span id="4226" class="l"><a class="l" href="#4226"> 4226: </a>            }
</span><span id="4227" class="l"><a class="l" href="#4227"> 4227: </a>            <span class="php-var">$item</span> = <span class="php-keyword1">null</span>;
</span><span id="4228" class="l"><a class="l" href="#4228"> 4228: </a>            <span class="php-keyword1">if</span> (<span class="php-var">$do_sort</span>)
</span><span id="4229" class="l"><a class="l" href="#4229"> 4229: </a>            {
</span><span id="4230" class="l"><a class="l" href="#4230"> 4230: </a>                <span class="php-keyword2">usort</span>(<span class="php-var">$items</span>, <span class="php-keyword1">array</span>(<span class="php-quote">'SimplePie'</span>, <span class="php-quote">'sort_items'</span>));
</span><span id="4231" class="l"><a class="l" href="#4231"> 4231: </a>            }
</span><span id="4232" class="l"><a class="l" href="#4232"> 4232: </a>
</span><span id="4233" class="l"><a class="l" href="#4233"> 4233: </a>            <span class="php-keyword1">if</span> (<span class="php-var">$end</span> === <span class="php-num">0</span>)
</span><span id="4234" class="l"><a class="l" href="#4234"> 4234: </a>            {
</span><span id="4235" class="l"><a class="l" href="#4235"> 4235: </a>                <span class="php-keyword1">return</span> <span class="php-keyword2">array_slice</span>(<span class="php-var">$items</span>, <span class="php-var">$start</span>);
</span><span id="4236" class="l"><a class="l" href="#4236"> 4236: </a>            }
</span><span id="4237" class="l"><a class="l" href="#4237"> 4237: </a>            <span class="php-keyword1">else</span>
</span><span id="4238" class="l"><a class="l" href="#4238"> 4238: </a>            {
</span><span id="4239" class="l"><a class="l" href="#4239"> 4239: </a>                <span class="php-keyword1">return</span> <span class="php-keyword2">array_slice</span>(<span class="php-var">$items</span>, <span class="php-var">$start</span>, <span class="php-var">$end</span>);
</span><span id="4240" class="l"><a class="l" href="#4240"> 4240: </a>            }
</span><span id="4241" class="l"><a class="l" href="#4241"> 4241: </a>        }
</span><span id="4242" class="l"><a class="l" href="#4242"> 4242: </a>        <span class="php-keyword1">else</span>
</span><span id="4243" class="l"><a class="l" href="#4243"> 4243: </a>        {
</span><span id="4244" class="l"><a class="l" href="#4244"> 4244: </a>            <span class="php-keyword2">trigger_error</span>(<span class="php-quote">'Cannot merge zero SimplePie objects'</span>, E_USER_WARNING);
</span><span id="4245" class="l"><a class="l" href="#4245"> 4245: </a>            <span class="php-keyword1">return</span> <span class="php-keyword1">array</span>();
</span><span id="4246" class="l"><a class="l" href="#4246"> 4246: </a>        }
</span><span id="4247" class="l"><a class="l" href="#4247"> 4247: </a>    }
</span><span id="4248" class="l"><a class="l" href="#4248"> 4248: </a>}
</span><span id="4249" class="l"><a class="l" href="#4249"> 4249: </a>
</span><span id="4250" class="l"><a class="l" href="#4250"> 4250: </a><span class="php-comment">/**
</span></span><span id="4251" class="l"><a class="l" href="#4251"> 4251: </a><span class="php-comment"> * Handles `&lt;media:credit&gt;` as defined in Media RSS
</span></span><span id="4252" class="l"><a class="l" href="#4252"> 4252: </a><span class="php-comment"> *
</span></span><span id="4253" class="l"><a class="l" href="#4253"> 4253: </a><span class="php-comment"> * Used by {@see SimplePie_Enclosure::get_credit()} and {@see SimplePie_Enclosure::get_credits()}
</span></span><span id="4254" class="l"><a class="l" href="#4254"> 4254: </a><span class="php-comment"> *
</span></span><span id="4255" class="l"><a class="l" href="#4255"> 4255: </a><span class="php-comment"> * This class can be overloaded with {@see SimplePie::set_credit_class()}
</span></span><span id="4256" class="l"><a class="l" href="#4256"> 4256: </a><span class="php-comment"> *
</span></span><span id="4257" class="l"><a class="l" href="#4257"> 4257: </a><span class="php-comment"> * @package SimplePie
</span></span><span id="4258" class="l"><a class="l" href="#4258"> 4258: </a><span class="php-comment"> */</span>
</span><span id="4259" class="l"><a class="l" href="#4259"> 4259: </a><span class="php-keyword1">class</span> <a id="SimplePie_Credit" href="#SimplePie_Credit">SimplePie_Credit</a>
</span><span id="4260" class="l"><a class="l" href="#4260"> 4260: </a>{
</span><span id="4261" class="l"><a class="l" href="#4261"> 4261: </a>    <span class="php-comment">/**
</span></span><span id="4262" class="l"><a class="l" href="#4262"> 4262: </a><span class="php-comment">     * Credited role
</span></span><span id="4263" class="l"><a class="l" href="#4263"> 4263: </a><span class="php-comment">     *
</span></span><span id="4264" class="l"><a class="l" href="#4264"> 4264: </a><span class="php-comment">     * @var string
</span></span><span id="4265" class="l"><a class="l" href="#4265"> 4265: </a><span class="php-comment">     * @see get_role()
</span></span><span id="4266" class="l"><a class="l" href="#4266"> 4266: </a><span class="php-comment">     */</span>
</span><span id="4267" class="l"><a class="l" href="#4267"> 4267: </a>    <span class="php-keyword1">var</span> <span class="php-var"><a id="$role" href="#$role">$role</a></span>;
</span><span id="4268" class="l"><a class="l" href="#4268"> 4268: </a>
</span><span id="4269" class="l"><a class="l" href="#4269"> 4269: </a>    <span class="php-comment">/**
</span></span><span id="4270" class="l"><a class="l" href="#4270"> 4270: </a><span class="php-comment">     * Organizational scheme
</span></span><span id="4271" class="l"><a class="l" href="#4271"> 4271: </a><span class="php-comment">     *
</span></span><span id="4272" class="l"><a class="l" href="#4272"> 4272: </a><span class="php-comment">     * @var string
</span></span><span id="4273" class="l"><a class="l" href="#4273"> 4273: </a><span class="php-comment">     * @see get_scheme()
</span></span><span id="4274" class="l"><a class="l" href="#4274"> 4274: </a><span class="php-comment">     */</span>
</span><span id="4275" class="l"><a class="l" href="#4275"> 4275: </a>    <span class="php-keyword1">var</span> <span class="php-var"><a id="$scheme" href="#$scheme">$scheme</a></span>;
</span><span id="4276" class="l"><a class="l" href="#4276"> 4276: </a>
</span><span id="4277" class="l"><a class="l" href="#4277"> 4277: </a>    <span class="php-comment">/**
</span></span><span id="4278" class="l"><a class="l" href="#4278"> 4278: </a><span class="php-comment">     * Credited name
</span></span><span id="4279" class="l"><a class="l" href="#4279"> 4279: </a><span class="php-comment">     *
</span></span><span id="4280" class="l"><a class="l" href="#4280"> 4280: </a><span class="php-comment">     * @var string
</span></span><span id="4281" class="l"><a class="l" href="#4281"> 4281: </a><span class="php-comment">     * @see get_name()
</span></span><span id="4282" class="l"><a class="l" href="#4282"> 4282: </a><span class="php-comment">     */</span>
</span><span id="4283" class="l"><a class="l" href="#4283"> 4283: </a>    <span class="php-keyword1">var</span> <span class="php-var"><a id="$name" href="#$name">$name</a></span>;
</span><span id="4284" class="l"><a class="l" href="#4284"> 4284: </a>
</span><span id="4285" class="l"><a class="l" href="#4285"> 4285: </a>    <span class="php-comment">/**
</span></span><span id="4286" class="l"><a class="l" href="#4286"> 4286: </a><span class="php-comment">     * Constructor, used to input the data
</span></span><span id="4287" class="l"><a class="l" href="#4287"> 4287: </a><span class="php-comment">     *
</span></span><span id="4288" class="l"><a class="l" href="#4288"> 4288: </a><span class="php-comment">     * For documentation on all the parameters, see the corresponding
</span></span><span id="4289" class="l"><a class="l" href="#4289"> 4289: </a><span class="php-comment">     * properties and their accessors
</span></span><span id="4290" class="l"><a class="l" href="#4290"> 4290: </a><span class="php-comment">     */</span>
</span><span id="4291" class="l"><a class="l" href="#4291"> 4291: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="___construct" href="#___construct">__construct</a>(<span class="php-var">$role</span> = <span class="php-keyword1">null</span>, <span class="php-var">$scheme</span> = <span class="php-keyword1">null</span>, <span class="php-var">$name</span> = <span class="php-keyword1">null</span>)
</span><span id="4292" class="l"><a class="l" href="#4292"> 4292: </a>    {
</span><span id="4293" class="l"><a class="l" href="#4293"> 4293: </a>        <span class="php-var">$this</span>-&gt;role = <span class="php-var">$role</span>;
</span><span id="4294" class="l"><a class="l" href="#4294"> 4294: </a>        <span class="php-var">$this</span>-&gt;scheme = <span class="php-var">$scheme</span>;
</span><span id="4295" class="l"><a class="l" href="#4295"> 4295: </a>        <span class="php-var">$this</span>-&gt;name = <span class="php-var">$name</span>;
</span><span id="4296" class="l"><a class="l" href="#4296"> 4296: </a>    }
</span><span id="4297" class="l"><a class="l" href="#4297"> 4297: </a>
</span><span id="4298" class="l"><a class="l" href="#4298"> 4298: </a>    <span class="php-comment">/**
</span></span><span id="4299" class="l"><a class="l" href="#4299"> 4299: </a><span class="php-comment">     * String-ified version
</span></span><span id="4300" class="l"><a class="l" href="#4300"> 4300: </a><span class="php-comment">     *
</span></span><span id="4301" class="l"><a class="l" href="#4301"> 4301: </a><span class="php-comment">     * @return string
</span></span><span id="4302" class="l"><a class="l" href="#4302"> 4302: </a><span class="php-comment">     */</span>
</span><span id="4303" class="l"><a class="l" href="#4303"> 4303: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="___toString" href="#___toString">__toString</a>()
</span><span id="4304" class="l"><a class="l" href="#4304"> 4304: </a>    {
</span><span id="4305" class="l"><a class="l" href="#4305"> 4305: </a>        <span class="php-comment">// There is no $this-&gt;data here</span>
</span><span id="4306" class="l"><a class="l" href="#4306"> 4306: </a>        <span class="php-keyword1">return</span> <span class="php-keyword2">md5</span>(<span class="php-keyword2">serialize</span>(<span class="php-var">$this</span>));
</span><span id="4307" class="l"><a class="l" href="#4307"> 4307: </a>    }
</span><span id="4308" class="l"><a class="l" href="#4308"> 4308: </a>
</span><span id="4309" class="l"><a class="l" href="#4309"> 4309: </a>    <span class="php-comment">/**
</span></span><span id="4310" class="l"><a class="l" href="#4310"> 4310: </a><span class="php-comment">     * Get the role of the person receiving credit
</span></span><span id="4311" class="l"><a class="l" href="#4311"> 4311: </a><span class="php-comment">     *
</span></span><span id="4312" class="l"><a class="l" href="#4312"> 4312: </a><span class="php-comment">     * @return string|null
</span></span><span id="4313" class="l"><a class="l" href="#4313"> 4313: </a><span class="php-comment">     */</span>
</span><span id="4314" class="l"><a class="l" href="#4314"> 4314: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_get_role" href="#_get_role">get_role</a>()
</span><span id="4315" class="l"><a class="l" href="#4315"> 4315: </a>    {
</span><span id="4316" class="l"><a class="l" href="#4316"> 4316: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$this</span>-&gt;role !== <span class="php-keyword1">null</span>)
</span><span id="4317" class="l"><a class="l" href="#4317"> 4317: </a>        {
</span><span id="4318" class="l"><a class="l" href="#4318"> 4318: </a>            <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;role;
</span><span id="4319" class="l"><a class="l" href="#4319"> 4319: </a>        }
</span><span id="4320" class="l"><a class="l" href="#4320"> 4320: </a>        <span class="php-keyword1">else</span>
</span><span id="4321" class="l"><a class="l" href="#4321"> 4321: </a>        {
</span><span id="4322" class="l"><a class="l" href="#4322"> 4322: </a>            <span class="php-keyword1">return</span> <span class="php-keyword1">null</span>;
</span><span id="4323" class="l"><a class="l" href="#4323"> 4323: </a>        }
</span><span id="4324" class="l"><a class="l" href="#4324"> 4324: </a>    }
</span><span id="4325" class="l"><a class="l" href="#4325"> 4325: </a>
</span><span id="4326" class="l"><a class="l" href="#4326"> 4326: </a>    <span class="php-comment">/**
</span></span><span id="4327" class="l"><a class="l" href="#4327"> 4327: </a><span class="php-comment">     * Get the organizational scheme
</span></span><span id="4328" class="l"><a class="l" href="#4328"> 4328: </a><span class="php-comment">     *
</span></span><span id="4329" class="l"><a class="l" href="#4329"> 4329: </a><span class="php-comment">     * @return string|null
</span></span><span id="4330" class="l"><a class="l" href="#4330"> 4330: </a><span class="php-comment">     */</span>
</span><span id="4331" class="l"><a class="l" href="#4331"> 4331: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_get_scheme" href="#_get_scheme">get_scheme</a>()
</span><span id="4332" class="l"><a class="l" href="#4332"> 4332: </a>    {
</span><span id="4333" class="l"><a class="l" href="#4333"> 4333: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$this</span>-&gt;scheme !== <span class="php-keyword1">null</span>)
</span><span id="4334" class="l"><a class="l" href="#4334"> 4334: </a>        {
</span><span id="4335" class="l"><a class="l" href="#4335"> 4335: </a>            <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;scheme;
</span><span id="4336" class="l"><a class="l" href="#4336"> 4336: </a>        }
</span><span id="4337" class="l"><a class="l" href="#4337"> 4337: </a>        <span class="php-keyword1">else</span>
</span><span id="4338" class="l"><a class="l" href="#4338"> 4338: </a>        {
</span><span id="4339" class="l"><a class="l" href="#4339"> 4339: </a>            <span class="php-keyword1">return</span> <span class="php-keyword1">null</span>;
</span><span id="4340" class="l"><a class="l" href="#4340"> 4340: </a>        }
</span><span id="4341" class="l"><a class="l" href="#4341"> 4341: </a>    }
</span><span id="4342" class="l"><a class="l" href="#4342"> 4342: </a>
</span><span id="4343" class="l"><a class="l" href="#4343"> 4343: </a>    <span class="php-comment">/**
</span></span><span id="4344" class="l"><a class="l" href="#4344"> 4344: </a><span class="php-comment">     * Get the credited person/entity's name
</span></span><span id="4345" class="l"><a class="l" href="#4345"> 4345: </a><span class="php-comment">     *
</span></span><span id="4346" class="l"><a class="l" href="#4346"> 4346: </a><span class="php-comment">     * @return string|null
</span></span><span id="4347" class="l"><a class="l" href="#4347"> 4347: </a><span class="php-comment">     */</span>
</span><span id="4348" class="l"><a class="l" href="#4348"> 4348: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_get_name" href="#_get_name">get_name</a>()
</span><span id="4349" class="l"><a class="l" href="#4349"> 4349: </a>    {
</span><span id="4350" class="l"><a class="l" href="#4350"> 4350: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$this</span>-&gt;name !== <span class="php-keyword1">null</span>)
</span><span id="4351" class="l"><a class="l" href="#4351"> 4351: </a>        {
</span><span id="4352" class="l"><a class="l" href="#4352"> 4352: </a>            <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;name;
</span><span id="4353" class="l"><a class="l" href="#4353"> 4353: </a>        }
</span><span id="4354" class="l"><a class="l" href="#4354"> 4354: </a>        <span class="php-keyword1">else</span>
</span><span id="4355" class="l"><a class="l" href="#4355"> 4355: </a>        {
</span><span id="4356" class="l"><a class="l" href="#4356"> 4356: </a>            <span class="php-keyword1">return</span> <span class="php-keyword1">null</span>;
</span><span id="4357" class="l"><a class="l" href="#4357"> 4357: </a>        }
</span><span id="4358" class="l"><a class="l" href="#4358"> 4358: </a>    }
</span><span id="4359" class="l"><a class="l" href="#4359"> 4359: </a>}
</span><span id="4360" class="l"><a class="l" href="#4360"> 4360: </a>
</span><span id="4361" class="l"><a class="l" href="#4361"> 4361: </a><span class="php-comment">/**
</span></span><span id="4362" class="l"><a class="l" href="#4362"> 4362: </a><span class="php-comment"> * Decode HTML Entities
</span></span><span id="4363" class="l"><a class="l" href="#4363"> 4363: </a><span class="php-comment"> *
</span></span><span id="4364" class="l"><a class="l" href="#4364"> 4364: </a><span class="php-comment"> * This implements HTML5 as of revision 967 (2007-06-28)
</span></span><span id="4365" class="l"><a class="l" href="#4365"> 4365: </a><span class="php-comment"> *
</span></span><span id="4366" class="l"><a class="l" href="#4366"> 4366: </a><span class="php-comment"> * @deprecated Use DOMDocument instead!
</span></span><span id="4367" class="l"><a class="l" href="#4367"> 4367: </a><span class="php-comment"> * @package SimplePie
</span></span><span id="4368" class="l"><a class="l" href="#4368"> 4368: </a><span class="php-comment"> */</span>
</span><span id="4369" class="l"><a class="l" href="#4369"> 4369: </a><span class="php-keyword1">class</span> <a id="SimplePie_Decode_HTML_Entities" href="#SimplePie_Decode_HTML_Entities">SimplePie_Decode_HTML_Entities</a>
</span><span id="4370" class="l"><a class="l" href="#4370"> 4370: </a>{
</span><span id="4371" class="l"><a class="l" href="#4371"> 4371: </a>    <span class="php-comment">/**
</span></span><span id="4372" class="l"><a class="l" href="#4372"> 4372: </a><span class="php-comment">     * Data to be parsed
</span></span><span id="4373" class="l"><a class="l" href="#4373"> 4373: </a><span class="php-comment">     *
</span></span><span id="4374" class="l"><a class="l" href="#4374"> 4374: </a><span class="php-comment">     * @access private
</span></span><span id="4375" class="l"><a class="l" href="#4375"> 4375: </a><span class="php-comment">     * @var string
</span></span><span id="4376" class="l"><a class="l" href="#4376"> 4376: </a><span class="php-comment">     */</span>
</span><span id="4377" class="l"><a class="l" href="#4377"> 4377: </a>    <span class="php-keyword1">var</span> <span class="php-var"><a id="$data" href="#$data">$data</a></span> = <span class="php-quote">''</span>;
</span><span id="4378" class="l"><a class="l" href="#4378"> 4378: </a>
</span><span id="4379" class="l"><a class="l" href="#4379"> 4379: </a>    <span class="php-comment">/**
</span></span><span id="4380" class="l"><a class="l" href="#4380"> 4380: </a><span class="php-comment">     * Currently consumed bytes
</span></span><span id="4381" class="l"><a class="l" href="#4381"> 4381: </a><span class="php-comment">     *
</span></span><span id="4382" class="l"><a class="l" href="#4382"> 4382: </a><span class="php-comment">     * @access private
</span></span><span id="4383" class="l"><a class="l" href="#4383"> 4383: </a><span class="php-comment">     * @var string
</span></span><span id="4384" class="l"><a class="l" href="#4384"> 4384: </a><span class="php-comment">     */</span>
</span><span id="4385" class="l"><a class="l" href="#4385"> 4385: </a>    <span class="php-keyword1">var</span> <span class="php-var"><a id="$consumed" href="#$consumed">$consumed</a></span> = <span class="php-quote">''</span>;
</span><span id="4386" class="l"><a class="l" href="#4386"> 4386: </a>
</span><span id="4387" class="l"><a class="l" href="#4387"> 4387: </a>    <span class="php-comment">/**
</span></span><span id="4388" class="l"><a class="l" href="#4388"> 4388: </a><span class="php-comment">     * Position of the current byte being parsed
</span></span><span id="4389" class="l"><a class="l" href="#4389"> 4389: </a><span class="php-comment">     *
</span></span><span id="4390" class="l"><a class="l" href="#4390"> 4390: </a><span class="php-comment">     * @access private
</span></span><span id="4391" class="l"><a class="l" href="#4391"> 4391: </a><span class="php-comment">     * @var int
</span></span><span id="4392" class="l"><a class="l" href="#4392"> 4392: </a><span class="php-comment">     */</span>
</span><span id="4393" class="l"><a class="l" href="#4393"> 4393: </a>    <span class="php-keyword1">var</span> <span class="php-var"><a id="$position" href="#$position">$position</a></span> = <span class="php-num">0</span>;
</span><span id="4394" class="l"><a class="l" href="#4394"> 4394: </a>
</span><span id="4395" class="l"><a class="l" href="#4395"> 4395: </a>    <span class="php-comment">/**
</span></span><span id="4396" class="l"><a class="l" href="#4396"> 4396: </a><span class="php-comment">     * Create an instance of the class with the input data
</span></span><span id="4397" class="l"><a class="l" href="#4397"> 4397: </a><span class="php-comment">     *
</span></span><span id="4398" class="l"><a class="l" href="#4398"> 4398: </a><span class="php-comment">     * @access public
</span></span><span id="4399" class="l"><a class="l" href="#4399"> 4399: </a><span class="php-comment">     * @param string $data Input data
</span></span><span id="4400" class="l"><a class="l" href="#4400"> 4400: </a><span class="php-comment">     */</span>
</span><span id="4401" class="l"><a class="l" href="#4401"> 4401: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="___construct" href="#___construct">__construct</a>(<span class="php-var">$data</span>)
</span><span id="4402" class="l"><a class="l" href="#4402"> 4402: </a>    {
</span><span id="4403" class="l"><a class="l" href="#4403"> 4403: </a>        <span class="php-var">$this</span>-&gt;data = <span class="php-var">$data</span>;
</span><span id="4404" class="l"><a class="l" href="#4404"> 4404: </a>    }
</span><span id="4405" class="l"><a class="l" href="#4405"> 4405: </a>
</span><span id="4406" class="l"><a class="l" href="#4406"> 4406: </a>    <span class="php-comment">/**
</span></span><span id="4407" class="l"><a class="l" href="#4407"> 4407: </a><span class="php-comment">     * Parse the input data
</span></span><span id="4408" class="l"><a class="l" href="#4408"> 4408: </a><span class="php-comment">     *
</span></span><span id="4409" class="l"><a class="l" href="#4409"> 4409: </a><span class="php-comment">     * @access public
</span></span><span id="4410" class="l"><a class="l" href="#4410"> 4410: </a><span class="php-comment">     * @return string Output data
</span></span><span id="4411" class="l"><a class="l" href="#4411"> 4411: </a><span class="php-comment">     */</span>
</span><span id="4412" class="l"><a class="l" href="#4412"> 4412: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_parse" href="#_parse">parse</a>()
</span><span id="4413" class="l"><a class="l" href="#4413"> 4413: </a>    {
</span><span id="4414" class="l"><a class="l" href="#4414"> 4414: </a>        <span class="php-keyword1">while</span> ((<span class="php-var">$this</span>-&gt;position = <span class="php-keyword2">strpos</span>(<span class="php-var">$this</span>-&gt;data, <span class="php-quote">'&amp;'</span>, <span class="php-var">$this</span>-&gt;position)) !== <span class="php-keyword1">false</span>)
</span><span id="4415" class="l"><a class="l" href="#4415"> 4415: </a>        {
</span><span id="4416" class="l"><a class="l" href="#4416"> 4416: </a>            <span class="php-var">$this</span>-&gt;consume();
</span><span id="4417" class="l"><a class="l" href="#4417"> 4417: </a>            <span class="php-var">$this</span>-&gt;entity();
</span><span id="4418" class="l"><a class="l" href="#4418"> 4418: </a>            <span class="php-var">$this</span>-&gt;consumed = <span class="php-quote">''</span>;
</span><span id="4419" class="l"><a class="l" href="#4419"> 4419: </a>        }
</span><span id="4420" class="l"><a class="l" href="#4420"> 4420: </a>        <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;data;
</span><span id="4421" class="l"><a class="l" href="#4421"> 4421: </a>    }
</span><span id="4422" class="l"><a class="l" href="#4422"> 4422: </a>
</span><span id="4423" class="l"><a class="l" href="#4423"> 4423: </a>    <span class="php-comment">/**
</span></span><span id="4424" class="l"><a class="l" href="#4424"> 4424: </a><span class="php-comment">     * Consume the next byte
</span></span><span id="4425" class="l"><a class="l" href="#4425"> 4425: </a><span class="php-comment">     *
</span></span><span id="4426" class="l"><a class="l" href="#4426"> 4426: </a><span class="php-comment">     * @access private
</span></span><span id="4427" class="l"><a class="l" href="#4427"> 4427: </a><span class="php-comment">     * @return mixed The next byte, or false, if there is no more data
</span></span><span id="4428" class="l"><a class="l" href="#4428"> 4428: </a><span class="php-comment">     */</span>
</span><span id="4429" class="l"><a class="l" href="#4429"> 4429: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_consume" href="#_consume">consume</a>()
</span><span id="4430" class="l"><a class="l" href="#4430"> 4430: </a>    {
</span><span id="4431" class="l"><a class="l" href="#4431"> 4431: </a>        <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$this</span>-&gt;data[<span class="php-var">$this</span>-&gt;position]))
</span><span id="4432" class="l"><a class="l" href="#4432"> 4432: </a>        {
</span><span id="4433" class="l"><a class="l" href="#4433"> 4433: </a>            <span class="php-var">$this</span>-&gt;consumed .= <span class="php-var">$this</span>-&gt;data[<span class="php-var">$this</span>-&gt;position];
</span><span id="4434" class="l"><a class="l" href="#4434"> 4434: </a>            <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;data[<span class="php-var">$this</span>-&gt;position++];
</span><span id="4435" class="l"><a class="l" href="#4435"> 4435: </a>        }
</span><span id="4436" class="l"><a class="l" href="#4436"> 4436: </a>        <span class="php-keyword1">else</span>
</span><span id="4437" class="l"><a class="l" href="#4437"> 4437: </a>        {
</span><span id="4438" class="l"><a class="l" href="#4438"> 4438: </a>            <span class="php-keyword1">return</span> <span class="php-keyword1">false</span>;
</span><span id="4439" class="l"><a class="l" href="#4439"> 4439: </a>        }
</span><span id="4440" class="l"><a class="l" href="#4440"> 4440: </a>    }
</span><span id="4441" class="l"><a class="l" href="#4441"> 4441: </a>
</span><span id="4442" class="l"><a class="l" href="#4442"> 4442: </a>    <span class="php-comment">/**
</span></span><span id="4443" class="l"><a class="l" href="#4443"> 4443: </a><span class="php-comment">     * Consume a range of characters
</span></span><span id="4444" class="l"><a class="l" href="#4444"> 4444: </a><span class="php-comment">     *
</span></span><span id="4445" class="l"><a class="l" href="#4445"> 4445: </a><span class="php-comment">     * @access private
</span></span><span id="4446" class="l"><a class="l" href="#4446"> 4446: </a><span class="php-comment">     * @param string $chars Characters to consume
</span></span><span id="4447" class="l"><a class="l" href="#4447"> 4447: </a><span class="php-comment">     * @return mixed A series of characters that match the range, or false
</span></span><span id="4448" class="l"><a class="l" href="#4448"> 4448: </a><span class="php-comment">     */</span>
</span><span id="4449" class="l"><a class="l" href="#4449"> 4449: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_consume_range" href="#_consume_range">consume_range</a>(<span class="php-var">$chars</span>)
</span><span id="4450" class="l"><a class="l" href="#4450"> 4450: </a>    {
</span><span id="4451" class="l"><a class="l" href="#4451"> 4451: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$len</span> = <span class="php-keyword2">strspn</span>(<span class="php-var">$this</span>-&gt;data, <span class="php-var">$chars</span>, <span class="php-var">$this</span>-&gt;position))
</span><span id="4452" class="l"><a class="l" href="#4452"> 4452: </a>        {
</span><span id="4453" class="l"><a class="l" href="#4453"> 4453: </a>            <span class="php-var">$data</span> = <span class="php-keyword2">substr</span>(<span class="php-var">$this</span>-&gt;data, <span class="php-var">$this</span>-&gt;position, <span class="php-var">$len</span>);
</span><span id="4454" class="l"><a class="l" href="#4454"> 4454: </a>            <span class="php-var">$this</span>-&gt;consumed .= <span class="php-var">$data</span>;
</span><span id="4455" class="l"><a class="l" href="#4455"> 4455: </a>            <span class="php-var">$this</span>-&gt;position += <span class="php-var">$len</span>;
</span><span id="4456" class="l"><a class="l" href="#4456"> 4456: </a>            <span class="php-keyword1">return</span> <span class="php-var">$data</span>;
</span><span id="4457" class="l"><a class="l" href="#4457"> 4457: </a>        }
</span><span id="4458" class="l"><a class="l" href="#4458"> 4458: </a>        <span class="php-keyword1">else</span>
</span><span id="4459" class="l"><a class="l" href="#4459"> 4459: </a>        {
</span><span id="4460" class="l"><a class="l" href="#4460"> 4460: </a>            <span class="php-keyword1">return</span> <span class="php-keyword1">false</span>;
</span><span id="4461" class="l"><a class="l" href="#4461"> 4461: </a>        }
</span><span id="4462" class="l"><a class="l" href="#4462"> 4462: </a>    }
</span><span id="4463" class="l"><a class="l" href="#4463"> 4463: </a>
</span><span id="4464" class="l"><a class="l" href="#4464"> 4464: </a>    <span class="php-comment">/**
</span></span><span id="4465" class="l"><a class="l" href="#4465"> 4465: </a><span class="php-comment">     * Unconsume one byte
</span></span><span id="4466" class="l"><a class="l" href="#4466"> 4466: </a><span class="php-comment">     *
</span></span><span id="4467" class="l"><a class="l" href="#4467"> 4467: </a><span class="php-comment">     * @access private
</span></span><span id="4468" class="l"><a class="l" href="#4468"> 4468: </a><span class="php-comment">     */</span>
</span><span id="4469" class="l"><a class="l" href="#4469"> 4469: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_unconsume" href="#_unconsume">unconsume</a>()
</span><span id="4470" class="l"><a class="l" href="#4470"> 4470: </a>    {
</span><span id="4471" class="l"><a class="l" href="#4471"> 4471: </a>        <span class="php-var">$this</span>-&gt;consumed = <span class="php-keyword2">substr</span>(<span class="php-var">$this</span>-&gt;consumed, <span class="php-num">0</span>, -<span class="php-num">1</span>);
</span><span id="4472" class="l"><a class="l" href="#4472"> 4472: </a>        <span class="php-var">$this</span>-&gt;position--;
</span><span id="4473" class="l"><a class="l" href="#4473"> 4473: </a>    }
</span><span id="4474" class="l"><a class="l" href="#4474"> 4474: </a>
</span><span id="4475" class="l"><a class="l" href="#4475"> 4475: </a>    <span class="php-comment">/**
</span></span><span id="4476" class="l"><a class="l" href="#4476"> 4476: </a><span class="php-comment">     * Decode an entity
</span></span><span id="4477" class="l"><a class="l" href="#4477"> 4477: </a><span class="php-comment">     *
</span></span><span id="4478" class="l"><a class="l" href="#4478"> 4478: </a><span class="php-comment">     * @access private
</span></span><span id="4479" class="l"><a class="l" href="#4479"> 4479: </a><span class="php-comment">     */</span>
</span><span id="4480" class="l"><a class="l" href="#4480"> 4480: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_entity" href="#_entity">entity</a>()
</span><span id="4481" class="l"><a class="l" href="#4481"> 4481: </a>    {
</span><span id="4482" class="l"><a class="l" href="#4482"> 4482: </a>        <span class="php-keyword1">switch</span> (<span class="php-var">$this</span>-&gt;consume())
</span><span id="4483" class="l"><a class="l" href="#4483"> 4483: </a>        {
</span><span id="4484" class="l"><a class="l" href="#4484"> 4484: </a>            <span class="php-keyword1">case</span> <span class="php-quote">&quot;\x09&quot;</span>:
</span><span id="4485" class="l"><a class="l" href="#4485"> 4485: </a>            <span class="php-keyword1">case</span> <span class="php-quote">&quot;\x0A&quot;</span>:
</span><span id="4486" class="l"><a class="l" href="#4486"> 4486: </a>            <span class="php-keyword1">case</span> <span class="php-quote">&quot;\x0B&quot;</span>:
</span><span id="4487" class="l"><a class="l" href="#4487"> 4487: </a>            <span class="php-keyword1">case</span> <span class="php-quote">&quot;\x0B&quot;</span>:
</span><span id="4488" class="l"><a class="l" href="#4488"> 4488: </a>            <span class="php-keyword1">case</span> <span class="php-quote">&quot;\x0C&quot;</span>:
</span><span id="4489" class="l"><a class="l" href="#4489"> 4489: </a>            <span class="php-keyword1">case</span> <span class="php-quote">&quot;\x20&quot;</span>:
</span><span id="4490" class="l"><a class="l" href="#4490"> 4490: </a>            <span class="php-keyword1">case</span> <span class="php-quote">&quot;\x3C&quot;</span>:
</span><span id="4491" class="l"><a class="l" href="#4491"> 4491: </a>            <span class="php-keyword1">case</span> <span class="php-quote">&quot;\x26&quot;</span>:
</span><span id="4492" class="l"><a class="l" href="#4492"> 4492: </a>            <span class="php-keyword1">case</span> <span class="php-keyword1">false</span>:
</span><span id="4493" class="l"><a class="l" href="#4493"> 4493: </a>                <span class="php-keyword1">break</span>;
</span><span id="4494" class="l"><a class="l" href="#4494"> 4494: </a>
</span><span id="4495" class="l"><a class="l" href="#4495"> 4495: </a>            <span class="php-keyword1">case</span> <span class="php-quote">&quot;\x23&quot;</span>:
</span><span id="4496" class="l"><a class="l" href="#4496"> 4496: </a>                <span class="php-keyword1">switch</span> (<span class="php-var">$this</span>-&gt;consume())
</span><span id="4497" class="l"><a class="l" href="#4497"> 4497: </a>                {
</span><span id="4498" class="l"><a class="l" href="#4498"> 4498: </a>                    <span class="php-keyword1">case</span> <span class="php-quote">&quot;\x78&quot;</span>:
</span><span id="4499" class="l"><a class="l" href="#4499"> 4499: </a>                    <span class="php-keyword1">case</span> <span class="php-quote">&quot;\x58&quot;</span>:
</span><span id="4500" class="l"><a class="l" href="#4500"> 4500: </a>                        <span class="php-var">$range</span> = <span class="php-quote">'0123456789ABCDEFabcdef'</span>;
</span><span id="4501" class="l"><a class="l" href="#4501"> 4501: </a>                        <span class="php-var">$hex</span> = <span class="php-keyword1">true</span>;
</span><span id="4502" class="l"><a class="l" href="#4502"> 4502: </a>                        <span class="php-keyword1">break</span>;
</span><span id="4503" class="l"><a class="l" href="#4503"> 4503: </a>
</span><span id="4504" class="l"><a class="l" href="#4504"> 4504: </a>                    <span class="php-keyword1">default</span>:
</span><span id="4505" class="l"><a class="l" href="#4505"> 4505: </a>                        <span class="php-var">$range</span> = <span class="php-quote">'0123456789'</span>;
</span><span id="4506" class="l"><a class="l" href="#4506"> 4506: </a>                        <span class="php-var">$hex</span> = <span class="php-keyword1">false</span>;
</span><span id="4507" class="l"><a class="l" href="#4507"> 4507: </a>                        <span class="php-var">$this</span>-&gt;unconsume();
</span><span id="4508" class="l"><a class="l" href="#4508"> 4508: </a>                        <span class="php-keyword1">break</span>;
</span><span id="4509" class="l"><a class="l" href="#4509"> 4509: </a>                }
</span><span id="4510" class="l"><a class="l" href="#4510"> 4510: </a>
</span><span id="4511" class="l"><a class="l" href="#4511"> 4511: </a>                <span class="php-keyword1">if</span> (<span class="php-var">$codepoint</span> = <span class="php-var">$this</span>-&gt;consume_range(<span class="php-var">$range</span>))
</span><span id="4512" class="l"><a class="l" href="#4512"> 4512: </a>                {
</span><span id="4513" class="l"><a class="l" href="#4513"> 4513: </a>                    <span class="php-keyword1">static</span> <span class="php-var"><a id="$windows_1252_specials" href="#$windows_1252_specials">$windows_1252_specials</a></span> = <span class="php-keyword1">array</span>(<span class="php-num">0x0D</span> =&gt; <span class="php-quote">&quot;\x0A&quot;</span>, <span class="php-num">0x80</span> =&gt; <span class="php-quote">&quot;\xE2\x82\xAC&quot;</span>, <span class="php-num">0x81</span> =&gt; <span class="php-quote">&quot;\xEF\xBF\xBD&quot;</span>, <span class="php-num">0x82</span> =&gt; <span class="php-quote">&quot;\xE2\x80\x9A&quot;</span>, <span class="php-num">0x83</span> =&gt; <span class="php-quote">&quot;\xC6\x92&quot;</span>, <span class="php-num">0x84</span> =&gt; <span class="php-quote">&quot;\xE2\x80\x9E&quot;</span>, <span class="php-num">0x85</span> =&gt; <span class="php-quote">&quot;\xE2\x80\xA6&quot;</span>, <span class="php-num">0x86</span> =&gt; <span class="php-quote">&quot;\xE2\x80\xA0&quot;</span>, <span class="php-num">0x87</span> =&gt; <span class="php-quote">&quot;\xE2\x80\xA1&quot;</span>, <span class="php-num">0x88</span> =&gt; <span class="php-quote">&quot;\xCB\x86&quot;</span>, <span class="php-num">0x89</span> =&gt; <span class="php-quote">&quot;\xE2\x80\xB0&quot;</span>, <span class="php-num">0x8A</span> =&gt; <span class="php-quote">&quot;\xC5\xA0&quot;</span>, <span class="php-num">0x8B</span> =&gt; <span class="php-quote">&quot;\xE2\x80\xB9&quot;</span>, <span class="php-num">0x8C</span> =&gt; <span class="php-quote">&quot;\xC5\x92&quot;</span>, <span class="php-num">0x8D</span> =&gt; <span class="php-quote">&quot;\xEF\xBF\xBD&quot;</span>, <span class="php-num">0x8E</span> =&gt; <span class="php-quote">&quot;\xC5\xBD&quot;</span>, <span class="php-num">0x8F</span> =&gt; <span class="php-quote">&quot;\xEF\xBF\xBD&quot;</span>, <span class="php-num">0x90</span> =&gt; <span class="php-quote">&quot;\xEF\xBF\xBD&quot;</span>, <span class="php-num">0x91</span> =&gt; <span class="php-quote">&quot;\xE2\x80\x98&quot;</span>, <span class="php-num">0x92</span> =&gt; <span class="php-quote">&quot;\xE2\x80\x99&quot;</span>, <span class="php-num">0x93</span> =&gt; <span class="php-quote">&quot;\xE2\x80\x9C&quot;</span>, <span class="php-num">0x94</span> =&gt; <span class="php-quote">&quot;\xE2\x80\x9D&quot;</span>, <span class="php-num">0x95</span> =&gt; <span class="php-quote">&quot;\xE2\x80\xA2&quot;</span>, <span class="php-num">0x96</span> =&gt; <span class="php-quote">&quot;\xE2\x80\x93&quot;</span>, <span class="php-num">0x97</span> =&gt; <span class="php-quote">&quot;\xE2\x80\x94&quot;</span>, <span class="php-num">0x98</span> =&gt; <span class="php-quote">&quot;\xCB\x9C&quot;</span>, <span class="php-num">0x99</span> =&gt; <span class="php-quote">&quot;\xE2\x84\xA2&quot;</span>, <span class="php-num">0x9A</span> =&gt; <span class="php-quote">&quot;\xC5\xA1&quot;</span>, <span class="php-num">0x9B</span> =&gt; <span class="php-quote">&quot;\xE2\x80\xBA&quot;</span>, <span class="php-num">0x9C</span> =&gt; <span class="php-quote">&quot;\xC5\x93&quot;</span>, <span class="php-num">0x9D</span> =&gt; <span class="php-quote">&quot;\xEF\xBF\xBD&quot;</span>, <span class="php-num">0x9E</span> =&gt; <span class="php-quote">&quot;\xC5\xBE&quot;</span>, <span class="php-num">0x9F</span> =&gt; <span class="php-quote">&quot;\xC5\xB8&quot;</span>);
</span><span id="4514" class="l"><a class="l" href="#4514"> 4514: </a>
</span><span id="4515" class="l"><a class="l" href="#4515"> 4515: </a>                    <span class="php-keyword1">if</span> (<span class="php-var">$hex</span>)
</span><span id="4516" class="l"><a class="l" href="#4516"> 4516: </a>                    {
</span><span id="4517" class="l"><a class="l" href="#4517"> 4517: </a>                        <span class="php-var">$codepoint</span> = <span class="php-keyword2">hexdec</span>(<span class="php-var">$codepoint</span>);
</span><span id="4518" class="l"><a class="l" href="#4518"> 4518: </a>                    }
</span><span id="4519" class="l"><a class="l" href="#4519"> 4519: </a>                    <span class="php-keyword1">else</span>
</span><span id="4520" class="l"><a class="l" href="#4520"> 4520: </a>                    {
</span><span id="4521" class="l"><a class="l" href="#4521"> 4521: </a>                        <span class="php-var">$codepoint</span> = <span class="php-keyword2">intval</span>(<span class="php-var">$codepoint</span>);
</span><span id="4522" class="l"><a class="l" href="#4522"> 4522: </a>                    }
</span><span id="4523" class="l"><a class="l" href="#4523"> 4523: </a>
</span><span id="4524" class="l"><a class="l" href="#4524"> 4524: </a>                    <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$windows_1252_specials</span>[<span class="php-var">$codepoint</span>]))
</span><span id="4525" class="l"><a class="l" href="#4525"> 4525: </a>                    {
</span><span id="4526" class="l"><a class="l" href="#4526"> 4526: </a>                        <span class="php-var">$replacement</span> = <span class="php-var">$windows_1252_specials</span>[<span class="php-var">$codepoint</span>];
</span><span id="4527" class="l"><a class="l" href="#4527"> 4527: </a>                    }
</span><span id="4528" class="l"><a class="l" href="#4528"> 4528: </a>                    <span class="php-keyword1">else</span>
</span><span id="4529" class="l"><a class="l" href="#4529"> 4529: </a>                    {
</span><span id="4530" class="l"><a class="l" href="#4530"> 4530: </a>                        <span class="php-var">$replacement</span> = SimplePie_Misc::codepoint_to_utf8(<span class="php-var">$codepoint</span>);
</span><span id="4531" class="l"><a class="l" href="#4531"> 4531: </a>                    }
</span><span id="4532" class="l"><a class="l" href="#4532"> 4532: </a>
</span><span id="4533" class="l"><a class="l" href="#4533"> 4533: </a>                    <span class="php-keyword1">if</span> (!<span class="php-keyword2">in_array</span>(<span class="php-var">$this</span>-&gt;consume(), <span class="php-keyword1">array</span>(<span class="php-quote">';'</span>, <span class="php-keyword1">false</span>), <span class="php-keyword1">true</span>))
</span><span id="4534" class="l"><a class="l" href="#4534"> 4534: </a>                    {
</span><span id="4535" class="l"><a class="l" href="#4535"> 4535: </a>                        <span class="php-var">$this</span>-&gt;unconsume();
</span><span id="4536" class="l"><a class="l" href="#4536"> 4536: </a>                    }
</span><span id="4537" class="l"><a class="l" href="#4537"> 4537: </a>
</span><span id="4538" class="l"><a class="l" href="#4538"> 4538: </a>                    <span class="php-var">$consumed_length</span> = <span class="php-keyword2">strlen</span>(<span class="php-var">$this</span>-&gt;consumed);
</span><span id="4539" class="l"><a class="l" href="#4539"> 4539: </a>                    <span class="php-var">$this</span>-&gt;data = <span class="php-keyword2">substr_replace</span>(<span class="php-var">$this</span>-&gt;data, <span class="php-var">$replacement</span>, <span class="php-var">$this</span>-&gt;position - <span class="php-var">$consumed_length</span>, <span class="php-var">$consumed_length</span>);
</span><span id="4540" class="l"><a class="l" href="#4540"> 4540: </a>                    <span class="php-var">$this</span>-&gt;position += <span class="php-keyword2">strlen</span>(<span class="php-var">$replacement</span>) - <span class="php-var">$consumed_length</span>;
</span><span id="4541" class="l"><a class="l" href="#4541"> 4541: </a>                }
</span><span id="4542" class="l"><a class="l" href="#4542"> 4542: </a>                <span class="php-keyword1">break</span>;
</span><span id="4543" class="l"><a class="l" href="#4543"> 4543: </a>
</span><span id="4544" class="l"><a class="l" href="#4544"> 4544: </a>            <span class="php-keyword1">default</span>:
</span><span id="4545" class="l"><a class="l" href="#4545"> 4545: </a>                <span class="php-keyword1">static</span> <span class="php-var"><a id="$entities" href="#$entities">$entities</a></span> = <span class="php-keyword1">array</span>(<span class="php-quote">'Aacute'</span> =&gt; <span class="php-quote">&quot;\xC3\x81&quot;</span>, <span class="php-quote">'aacute'</span> =&gt; <span class="php-quote">&quot;\xC3\xA1&quot;</span>, <span class="php-quote">'Aacute;'</span> =&gt; <span class="php-quote">&quot;\xC3\x81&quot;</span>, <span class="php-quote">'aacute;'</span> =&gt; <span class="php-quote">&quot;\xC3\xA1&quot;</span>, <span class="php-quote">'Acirc'</span> =&gt; <span class="php-quote">&quot;\xC3\x82&quot;</span>, <span class="php-quote">'acirc'</span> =&gt; <span class="php-quote">&quot;\xC3\xA2&quot;</span>, <span class="php-quote">'Acirc;'</span> =&gt; <span class="php-quote">&quot;\xC3\x82&quot;</span>, <span class="php-quote">'acirc;'</span> =&gt; <span class="php-quote">&quot;\xC3\xA2&quot;</span>, <span class="php-quote">'acute'</span> =&gt; <span class="php-quote">&quot;\xC2\xB4&quot;</span>, <span class="php-quote">'acute;'</span> =&gt; <span class="php-quote">&quot;\xC2\xB4&quot;</span>, <span class="php-quote">'AElig'</span> =&gt; <span class="php-quote">&quot;\xC3\x86&quot;</span>, <span class="php-quote">'aelig'</span> =&gt; <span class="php-quote">&quot;\xC3\xA6&quot;</span>, <span class="php-quote">'AElig;'</span> =&gt; <span class="php-quote">&quot;\xC3\x86&quot;</span>, <span class="php-quote">'aelig;'</span> =&gt; <span class="php-quote">&quot;\xC3\xA6&quot;</span>, <span class="php-quote">'Agrave'</span> =&gt; <span class="php-quote">&quot;\xC3\x80&quot;</span>, <span class="php-quote">'agrave'</span> =&gt; <span class="php-quote">&quot;\xC3\xA0&quot;</span>, <span class="php-quote">'Agrave;'</span> =&gt; <span class="php-quote">&quot;\xC3\x80&quot;</span>, <span class="php-quote">'agrave;'</span> =&gt; <span class="php-quote">&quot;\xC3\xA0&quot;</span>, <span class="php-quote">'alefsym;'</span> =&gt; <span class="php-quote">&quot;\xE2\x84\xB5&quot;</span>, <span class="php-quote">'Alpha;'</span> =&gt; <span class="php-quote">&quot;\xCE\x91&quot;</span>, <span class="php-quote">'alpha;'</span> =&gt; <span class="php-quote">&quot;\xCE\xB1&quot;</span>, <span class="php-quote">'AMP'</span> =&gt; <span class="php-quote">&quot;\x26&quot;</span>, <span class="php-quote">'amp'</span> =&gt; <span class="php-quote">&quot;\x26&quot;</span>, <span class="php-quote">'AMP;'</span> =&gt; <span class="php-quote">&quot;\x26&quot;</span>, <span class="php-quote">'amp;'</span> =&gt; <span class="php-quote">&quot;\x26&quot;</span>, <span class="php-quote">'and;'</span> =&gt; <span class="php-quote">&quot;\xE2\x88\xA7&quot;</span>, <span class="php-quote">'ang;'</span> =&gt; <span class="php-quote">&quot;\xE2\x88\xA0&quot;</span>, <span class="php-quote">'apos;'</span> =&gt; <span class="php-quote">&quot;\x27&quot;</span>, <span class="php-quote">'Aring'</span> =&gt; <span class="php-quote">&quot;\xC3\x85&quot;</span>, <span class="php-quote">'aring'</span> =&gt; <span class="php-quote">&quot;\xC3\xA5&quot;</span>, <span class="php-quote">'Aring;'</span> =&gt; <span class="php-quote">&quot;\xC3\x85&quot;</span>, <span class="php-quote">'aring;'</span> =&gt; <span class="php-quote">&quot;\xC3\xA5&quot;</span>, <span class="php-quote">'asymp;'</span> =&gt; <span class="php-quote">&quot;\xE2\x89\x88&quot;</span>, <span class="php-quote">'Atilde'</span> =&gt; <span class="php-quote">&quot;\xC3\x83&quot;</span>, <span class="php-quote">'atilde'</span> =&gt; <span class="php-quote">&quot;\xC3\xA3&quot;</span>, <span class="php-quote">'Atilde;'</span> =&gt; <span class="php-quote">&quot;\xC3\x83&quot;</span>, <span class="php-quote">'atilde;'</span> =&gt; <span class="php-quote">&quot;\xC3\xA3&quot;</span>, <span class="php-quote">'Auml'</span> =&gt; <span class="php-quote">&quot;\xC3\x84&quot;</span>, <span class="php-quote">'auml'</span> =&gt; <span class="php-quote">&quot;\xC3\xA4&quot;</span>, <span class="php-quote">'Auml;'</span> =&gt; <span class="php-quote">&quot;\xC3\x84&quot;</span>, <span class="php-quote">'auml;'</span> =&gt; <span class="php-quote">&quot;\xC3\xA4&quot;</span>, <span class="php-quote">'bdquo;'</span> =&gt; <span class="php-quote">&quot;\xE2\x80\x9E&quot;</span>, <span class="php-quote">'Beta;'</span> =&gt; <span class="php-quote">&quot;\xCE\x92&quot;</span>, <span class="php-quote">'beta;'</span> =&gt; <span class="php-quote">&quot;\xCE\xB2&quot;</span>, <span class="php-quote">'brvbar'</span> =&gt; <span class="php-quote">&quot;\xC2\xA6&quot;</span>, <span class="php-quote">'brvbar;'</span> =&gt; <span class="php-quote">&quot;\xC2\xA6&quot;</span>, <span class="php-quote">'bull;'</span> =&gt; <span class="php-quote">&quot;\xE2\x80\xA2&quot;</span>, <span class="php-quote">'cap;'</span> =&gt; <span class="php-quote">&quot;\xE2\x88\xA9&quot;</span>, <span class="php-quote">'Ccedil'</span> =&gt; <span class="php-quote">&quot;\xC3\x87&quot;</span>, <span class="php-quote">'ccedil'</span> =&gt; <span class="php-quote">&quot;\xC3\xA7&quot;</span>, <span class="php-quote">'Ccedil;'</span> =&gt; <span class="php-quote">&quot;\xC3\x87&quot;</span>, <span class="php-quote">'ccedil;'</span> =&gt; <span class="php-quote">&quot;\xC3\xA7&quot;</span>, <span class="php-quote">'cedil'</span> =&gt; <span class="php-quote">&quot;\xC2\xB8&quot;</span>, <span class="php-quote">'cedil;'</span> =&gt; <span class="php-quote">&quot;\xC2\xB8&quot;</span>, <span class="php-quote">'cent'</span> =&gt; <span class="php-quote">&quot;\xC2\xA2&quot;</span>, <span class="php-quote">'cent;'</span> =&gt; <span class="php-quote">&quot;\xC2\xA2&quot;</span>, <span class="php-quote">'Chi;'</span> =&gt; <span class="php-quote">&quot;\xCE\xA7&quot;</span>, <span class="php-quote">'chi;'</span> =&gt; <span class="php-quote">&quot;\xCF\x87&quot;</span>, <span class="php-quote">'circ;'</span> =&gt; <span class="php-quote">&quot;\xCB\x86&quot;</span>, <span class="php-quote">'clubs;'</span> =&gt; <span class="php-quote">&quot;\xE2\x99\xA3&quot;</span>, <span class="php-quote">'cong;'</span> =&gt; <span class="php-quote">&quot;\xE2\x89\x85&quot;</span>, <span class="php-quote">'COPY'</span> =&gt; <span class="php-quote">&quot;\xC2\xA9&quot;</span>, <span class="php-quote">'copy'</span> =&gt; <span class="php-quote">&quot;\xC2\xA9&quot;</span>, <span class="php-quote">'COPY;'</span> =&gt; <span class="php-quote">&quot;\xC2\xA9&quot;</span>, <span class="php-quote">'copy;'</span> =&gt; <span class="php-quote">&quot;\xC2\xA9&quot;</span>, <span class="php-quote">'crarr;'</span> =&gt; <span class="php-quote">&quot;\xE2\x86\xB5&quot;</span>, <span class="php-quote">'cup;'</span> =&gt; <span class="php-quote">&quot;\xE2\x88\xAA&quot;</span>, <span class="php-quote">'curren'</span> =&gt; <span class="php-quote">&quot;\xC2\xA4&quot;</span>, <span class="php-quote">'curren;'</span> =&gt; <span class="php-quote">&quot;\xC2\xA4&quot;</span>, <span class="php-quote">'Dagger;'</span> =&gt; <span class="php-quote">&quot;\xE2\x80\xA1&quot;</span>, <span class="php-quote">'dagger;'</span> =&gt; <span class="php-quote">&quot;\xE2\x80\xA0&quot;</span>, <span class="php-quote">'dArr;'</span> =&gt; <span class="php-quote">&quot;\xE2\x87\x93&quot;</span>, <span class="php-quote">'darr;'</span> =&gt; <span class="php-quote">&quot;\xE2\x86\x93&quot;</span>, <span class="php-quote">'deg'</span> =&gt; <span class="php-quote">&quot;\xC2\xB0&quot;</span>, <span class="php-quote">'deg;'</span> =&gt; <span class="php-quote">&quot;\xC2\xB0&quot;</span>, <span class="php-quote">'Delta;'</span> =&gt; <span class="php-quote">&quot;\xCE\x94&quot;</span>, <span class="php-quote">'delta;'</span> =&gt; <span class="php-quote">&quot;\xCE\xB4&quot;</span>, <span class="php-quote">'diams;'</span> =&gt; <span class="php-quote">&quot;\xE2\x99\xA6&quot;</span>, <span class="php-quote">'divide'</span> =&gt; <span class="php-quote">&quot;\xC3\xB7&quot;</span>, <span class="php-quote">'divide;'</span> =&gt; <span class="php-quote">&quot;\xC3\xB7&quot;</span>, <span class="php-quote">'Eacute'</span> =&gt; <span class="php-quote">&quot;\xC3\x89&quot;</span>, <span class="php-quote">'eacute'</span> =&gt; <span class="php-quote">&quot;\xC3\xA9&quot;</span>, <span class="php-quote">'Eacute;'</span> =&gt; <span class="php-quote">&quot;\xC3\x89&quot;</span>, <span class="php-quote">'eacute;'</span> =&gt; <span class="php-quote">&quot;\xC3\xA9&quot;</span>, <span class="php-quote">'Ecirc'</span> =&gt; <span class="php-quote">&quot;\xC3\x8A&quot;</span>, <span class="php-quote">'ecirc'</span> =&gt; <span class="php-quote">&quot;\xC3\xAA&quot;</span>, <span class="php-quote">'Ecirc;'</span> =&gt; <span class="php-quote">&quot;\xC3\x8A&quot;</span>, <span class="php-quote">'ecirc;'</span> =&gt; <span class="php-quote">&quot;\xC3\xAA&quot;</span>, <span class="php-quote">'Egrave'</span> =&gt; <span class="php-quote">&quot;\xC3\x88&quot;</span>, <span class="php-quote">'egrave'</span> =&gt; <span class="php-quote">&quot;\xC3\xA8&quot;</span>, <span class="php-quote">'Egrave;'</span> =&gt; <span class="php-quote">&quot;\xC3\x88&quot;</span>, <span class="php-quote">'egrave;'</span> =&gt; <span class="php-quote">&quot;\xC3\xA8&quot;</span>, <span class="php-quote">'empty;'</span> =&gt; <span class="php-quote">&quot;\xE2\x88\x85&quot;</span>, <span class="php-quote">'emsp;'</span> =&gt; <span class="php-quote">&quot;\xE2\x80\x83&quot;</span>, <span class="php-quote">'ensp;'</span> =&gt; <span class="php-quote">&quot;\xE2\x80\x82&quot;</span>, <span class="php-quote">'Epsilon;'</span> =&gt; <span class="php-quote">&quot;\xCE\x95&quot;</span>, <span class="php-quote">'epsilon;'</span> =&gt; <span class="php-quote">&quot;\xCE\xB5&quot;</span>, <span class="php-quote">'equiv;'</span> =&gt; <span class="php-quote">&quot;\xE2\x89\xA1&quot;</span>, <span class="php-quote">'Eta;'</span> =&gt; <span class="php-quote">&quot;\xCE\x97&quot;</span>, <span class="php-quote">'eta;'</span> =&gt; <span class="php-quote">&quot;\xCE\xB7&quot;</span>, <span class="php-quote">'ETH'</span> =&gt; <span class="php-quote">&quot;\xC3\x90&quot;</span>, <span class="php-quote">'eth'</span> =&gt; <span class="php-quote">&quot;\xC3\xB0&quot;</span>, <span class="php-quote">'ETH;'</span> =&gt; <span class="php-quote">&quot;\xC3\x90&quot;</span>, <span class="php-quote">'eth;'</span> =&gt; <span class="php-quote">&quot;\xC3\xB0&quot;</span>, <span class="php-quote">'Euml'</span> =&gt; <span class="php-quote">&quot;\xC3\x8B&quot;</span>, <span class="php-quote">'euml'</span> =&gt; <span class="php-quote">&quot;\xC3\xAB&quot;</span>, <span class="php-quote">'Euml;'</span> =&gt; <span class="php-quote">&quot;\xC3\x8B&quot;</span>, <span class="php-quote">'euml;'</span> =&gt; <span class="php-quote">&quot;\xC3\xAB&quot;</span>, <span class="php-quote">'euro;'</span> =&gt; <span class="php-quote">&quot;\xE2\x82\xAC&quot;</span>, <span class="php-quote">'exist;'</span> =&gt; <span class="php-quote">&quot;\xE2\x88\x83&quot;</span>, <span class="php-quote">'fnof;'</span> =&gt; <span class="php-quote">&quot;\xC6\x92&quot;</span>, <span class="php-quote">'forall;'</span> =&gt; <span class="php-quote">&quot;\xE2\x88\x80&quot;</span>, <span class="php-quote">'frac12'</span> =&gt; <span class="php-quote">&quot;\xC2\xBD&quot;</span>, <span class="php-quote">'frac12;'</span> =&gt; <span class="php-quote">&quot;\xC2\xBD&quot;</span>, <span class="php-quote">'frac14'</span> =&gt; <span class="php-quote">&quot;\xC2\xBC&quot;</span>, <span class="php-quote">'frac14;'</span> =&gt; <span class="php-quote">&quot;\xC2\xBC&quot;</span>, <span class="php-quote">'frac34'</span> =&gt; <span class="php-quote">&quot;\xC2\xBE&quot;</span>, <span class="php-quote">'frac34;'</span> =&gt; <span class="php-quote">&quot;\xC2\xBE&quot;</span>, <span class="php-quote">'frasl;'</span> =&gt; <span class="php-quote">&quot;\xE2\x81\x84&quot;</span>, <span class="php-quote">'Gamma;'</span> =&gt; <span class="php-quote">&quot;\xCE\x93&quot;</span>, <span class="php-quote">'gamma;'</span> =&gt; <span class="php-quote">&quot;\xCE\xB3&quot;</span>, <span class="php-quote">'ge;'</span> =&gt; <span class="php-quote">&quot;\xE2\x89\xA5&quot;</span>, <span class="php-quote">'GT'</span> =&gt; <span class="php-quote">&quot;\x3E&quot;</span>, <span class="php-quote">'gt'</span> =&gt; <span class="php-quote">&quot;\x3E&quot;</span>, <span class="php-quote">'GT;'</span> =&gt; <span class="php-quote">&quot;\x3E&quot;</span>, <span class="php-quote">'gt;'</span> =&gt; <span class="php-quote">&quot;\x3E&quot;</span>, <span class="php-quote">'hArr;'</span> =&gt; <span class="php-quote">&quot;\xE2\x87\x94&quot;</span>, <span class="php-quote">'harr;'</span> =&gt; <span class="php-quote">&quot;\xE2\x86\x94&quot;</span>, <span class="php-quote">'hearts;'</span> =&gt; <span class="php-quote">&quot;\xE2\x99\xA5&quot;</span>, <span class="php-quote">'hellip;'</span> =&gt; <span class="php-quote">&quot;\xE2\x80\xA6&quot;</span>, <span class="php-quote">'Iacute'</span> =&gt; <span class="php-quote">&quot;\xC3\x8D&quot;</span>, <span class="php-quote">'iacute'</span> =&gt; <span class="php-quote">&quot;\xC3\xAD&quot;</span>, <span class="php-quote">'Iacute;'</span> =&gt; <span class="php-quote">&quot;\xC3\x8D&quot;</span>, <span class="php-quote">'iacute;'</span> =&gt; <span class="php-quote">&quot;\xC3\xAD&quot;</span>, <span class="php-quote">'Icirc'</span> =&gt; <span class="php-quote">&quot;\xC3\x8E&quot;</span>, <span class="php-quote">'icirc'</span> =&gt; <span class="php-quote">&quot;\xC3\xAE&quot;</span>, <span class="php-quote">'Icirc;'</span> =&gt; <span class="php-quote">&quot;\xC3\x8E&quot;</span>, <span class="php-quote">'icirc;'</span> =&gt; <span class="php-quote">&quot;\xC3\xAE&quot;</span>, <span class="php-quote">'iexcl'</span> =&gt; <span class="php-quote">&quot;\xC2\xA1&quot;</span>, <span class="php-quote">'iexcl;'</span> =&gt; <span class="php-quote">&quot;\xC2\xA1&quot;</span>, <span class="php-quote">'Igrave'</span> =&gt; <span class="php-quote">&quot;\xC3\x8C&quot;</span>, <span class="php-quote">'igrave'</span> =&gt; <span class="php-quote">&quot;\xC3\xAC&quot;</span>, <span class="php-quote">'Igrave;'</span> =&gt; <span class="php-quote">&quot;\xC3\x8C&quot;</span>, <span class="php-quote">'igrave;'</span> =&gt; <span class="php-quote">&quot;\xC3\xAC&quot;</span>, <span class="php-quote">'image;'</span> =&gt; <span class="php-quote">&quot;\xE2\x84\x91&quot;</span>, <span class="php-quote">'infin;'</span> =&gt; <span class="php-quote">&quot;\xE2\x88\x9E&quot;</span>, <span class="php-quote">'int;'</span> =&gt; <span class="php-quote">&quot;\xE2\x88\xAB&quot;</span>, <span class="php-quote">'Iota;'</span> =&gt; <span class="php-quote">&quot;\xCE\x99&quot;</span>, <span class="php-quote">'iota;'</span> =&gt; <span class="php-quote">&quot;\xCE\xB9&quot;</span>, <span class="php-quote">'iquest'</span> =&gt; <span class="php-quote">&quot;\xC2\xBF&quot;</span>, <span class="php-quote">'iquest;'</span> =&gt; <span class="php-quote">&quot;\xC2\xBF&quot;</span>, <span class="php-quote">'isin;'</span> =&gt; <span class="php-quote">&quot;\xE2\x88\x88&quot;</span>, <span class="php-quote">'Iuml'</span> =&gt; <span class="php-quote">&quot;\xC3\x8F&quot;</span>, <span class="php-quote">'iuml'</span> =&gt; <span class="php-quote">&quot;\xC3\xAF&quot;</span>, <span class="php-quote">'Iuml;'</span> =&gt; <span class="php-quote">&quot;\xC3\x8F&quot;</span>, <span class="php-quote">'iuml;'</span> =&gt; <span class="php-quote">&quot;\xC3\xAF&quot;</span>, <span class="php-quote">'Kappa;'</span> =&gt; <span class="php-quote">&quot;\xCE\x9A&quot;</span>, <span class="php-quote">'kappa;'</span> =&gt; <span class="php-quote">&quot;\xCE\xBA&quot;</span>, <span class="php-quote">'Lambda;'</span> =&gt; <span class="php-quote">&quot;\xCE\x9B&quot;</span>, <span class="php-quote">'lambda;'</span> =&gt; <span class="php-quote">&quot;\xCE\xBB&quot;</span>, <span class="php-quote">'lang;'</span> =&gt; <span class="php-quote">&quot;\xE3\x80\x88&quot;</span>, <span class="php-quote">'laquo'</span> =&gt; <span class="php-quote">&quot;\xC2\xAB&quot;</span>, <span class="php-quote">'laquo;'</span> =&gt; <span class="php-quote">&quot;\xC2\xAB&quot;</span>, <span class="php-quote">'lArr;'</span> =&gt; <span class="php-quote">&quot;\xE2\x87\x90&quot;</span>, <span class="php-quote">'larr;'</span> =&gt; <span class="php-quote">&quot;\xE2\x86\x90&quot;</span>, <span class="php-quote">'lceil;'</span> =&gt; <span class="php-quote">&quot;\xE2\x8C\x88&quot;</span>, <span class="php-quote">'ldquo;'</span> =&gt; <span class="php-quote">&quot;\xE2\x80\x9C&quot;</span>, <span class="php-quote">'le;'</span> =&gt; <span class="php-quote">&quot;\xE2\x89\xA4&quot;</span>, <span class="php-quote">'lfloor;'</span> =&gt; <span class="php-quote">&quot;\xE2\x8C\x8A&quot;</span>, <span class="php-quote">'lowast;'</span> =&gt; <span class="php-quote">&quot;\xE2\x88\x97&quot;</span>, <span class="php-quote">'loz;'</span> =&gt; <span class="php-quote">&quot;\xE2\x97\x8A&quot;</span>, <span class="php-quote">'lrm;'</span> =&gt; <span class="php-quote">&quot;\xE2\x80\x8E&quot;</span>, <span class="php-quote">'lsaquo;'</span> =&gt; <span class="php-quote">&quot;\xE2\x80\xB9&quot;</span>, <span class="php-quote">'lsquo;'</span> =&gt; <span class="php-quote">&quot;\xE2\x80\x98&quot;</span>, <span class="php-quote">'LT'</span> =&gt; <span class="php-quote">&quot;\x3C&quot;</span>, <span class="php-quote">'lt'</span> =&gt; <span class="php-quote">&quot;\x3C&quot;</span>, <span class="php-quote">'LT;'</span> =&gt; <span class="php-quote">&quot;\x3C&quot;</span>, <span class="php-quote">'lt;'</span> =&gt; <span class="php-quote">&quot;\x3C&quot;</span>, <span class="php-quote">'macr'</span> =&gt; <span class="php-quote">&quot;\xC2\xAF&quot;</span>, <span class="php-quote">'macr;'</span> =&gt; <span class="php-quote">&quot;\xC2\xAF&quot;</span>, <span class="php-quote">'mdash;'</span> =&gt; <span class="php-quote">&quot;\xE2\x80\x94&quot;</span>, <span class="php-quote">'micro'</span> =&gt; <span class="php-quote">&quot;\xC2\xB5&quot;</span>, <span class="php-quote">'micro;'</span> =&gt; <span class="php-quote">&quot;\xC2\xB5&quot;</span>, <span class="php-quote">'middot'</span> =&gt; <span class="php-quote">&quot;\xC2\xB7&quot;</span>, <span class="php-quote">'middot;'</span> =&gt; <span class="php-quote">&quot;\xC2\xB7&quot;</span>, <span class="php-quote">'minus;'</span> =&gt; <span class="php-quote">&quot;\xE2\x88\x92&quot;</span>, <span class="php-quote">'Mu;'</span> =&gt; <span class="php-quote">&quot;\xCE\x9C&quot;</span>, <span class="php-quote">'mu;'</span> =&gt; <span class="php-quote">&quot;\xCE\xBC&quot;</span>, <span class="php-quote">'nabla;'</span> =&gt; <span class="php-quote">&quot;\xE2\x88\x87&quot;</span>, <span class="php-quote">'nbsp'</span> =&gt; <span class="php-quote">&quot;\xC2\xA0&quot;</span>, <span class="php-quote">'nbsp;'</span> =&gt; <span class="php-quote">&quot;\xC2\xA0&quot;</span>, <span class="php-quote">'ndash;'</span> =&gt; <span class="php-quote">&quot;\xE2\x80\x93&quot;</span>, <span class="php-quote">'ne;'</span> =&gt; <span class="php-quote">&quot;\xE2\x89\xA0&quot;</span>, <span class="php-quote">'ni;'</span> =&gt; <span class="php-quote">&quot;\xE2\x88\x8B&quot;</span>, <span class="php-quote">'not'</span> =&gt; <span class="php-quote">&quot;\xC2\xAC&quot;</span>, <span class="php-quote">'not;'</span> =&gt; <span class="php-quote">&quot;\xC2\xAC&quot;</span>, <span class="php-quote">'notin;'</span> =&gt; <span class="php-quote">&quot;\xE2\x88\x89&quot;</span>, <span class="php-quote">'nsub;'</span> =&gt; <span class="php-quote">&quot;\xE2\x8A\x84&quot;</span>, <span class="php-quote">'Ntilde'</span> =&gt; <span class="php-quote">&quot;\xC3\x91&quot;</span>, <span class="php-quote">'ntilde'</span> =&gt; <span class="php-quote">&quot;\xC3\xB1&quot;</span>, <span class="php-quote">'Ntilde;'</span> =&gt; <span class="php-quote">&quot;\xC3\x91&quot;</span>, <span class="php-quote">'ntilde;'</span> =&gt; <span class="php-quote">&quot;\xC3\xB1&quot;</span>, <span class="php-quote">'Nu;'</span> =&gt; <span class="php-quote">&quot;\xCE\x9D&quot;</span>, <span class="php-quote">'nu;'</span> =&gt; <span class="php-quote">&quot;\xCE\xBD&quot;</span>, <span class="php-quote">'Oacute'</span> =&gt; <span class="php-quote">&quot;\xC3\x93&quot;</span>, <span class="php-quote">'oacute'</span> =&gt; <span class="php-quote">&quot;\xC3\xB3&quot;</span>, <span class="php-quote">'Oacute;'</span> =&gt; <span class="php-quote">&quot;\xC3\x93&quot;</span>, <span class="php-quote">'oacute;'</span> =&gt; <span class="php-quote">&quot;\xC3\xB3&quot;</span>, <span class="php-quote">'Ocirc'</span> =&gt; <span class="php-quote">&quot;\xC3\x94&quot;</span>, <span class="php-quote">'ocirc'</span> =&gt; <span class="php-quote">&quot;\xC3\xB4&quot;</span>, <span class="php-quote">'Ocirc;'</span> =&gt; <span class="php-quote">&quot;\xC3\x94&quot;</span>, <span class="php-quote">'ocirc;'</span> =&gt; <span class="php-quote">&quot;\xC3\xB4&quot;</span>, <span class="php-quote">'OElig;'</span> =&gt; <span class="php-quote">&quot;\xC5\x92&quot;</span>, <span class="php-quote">'oelig;'</span> =&gt; <span class="php-quote">&quot;\xC5\x93&quot;</span>, <span class="php-quote">'Ograve'</span> =&gt; <span class="php-quote">&quot;\xC3\x92&quot;</span>, <span class="php-quote">'ograve'</span> =&gt; <span class="php-quote">&quot;\xC3\xB2&quot;</span>, <span class="php-quote">'Ograve;'</span> =&gt; <span class="php-quote">&quot;\xC3\x92&quot;</span>, <span class="php-quote">'ograve;'</span> =&gt; <span class="php-quote">&quot;\xC3\xB2&quot;</span>, <span class="php-quote">'oline;'</span> =&gt; <span class="php-quote">&quot;\xE2\x80\xBE&quot;</span>, <span class="php-quote">'Omega;'</span> =&gt; <span class="php-quote">&quot;\xCE\xA9&quot;</span>, <span class="php-quote">'omega;'</span> =&gt; <span class="php-quote">&quot;\xCF\x89&quot;</span>, <span class="php-quote">'Omicron;'</span> =&gt; <span class="php-quote">&quot;\xCE\x9F&quot;</span>, <span class="php-quote">'omicron;'</span> =&gt; <span class="php-quote">&quot;\xCE\xBF&quot;</span>, <span class="php-quote">'oplus;'</span> =&gt; <span class="php-quote">&quot;\xE2\x8A\x95&quot;</span>, <span class="php-quote">'or;'</span> =&gt; <span class="php-quote">&quot;\xE2\x88\xA8&quot;</span>, <span class="php-quote">'ordf'</span> =&gt; <span class="php-quote">&quot;\xC2\xAA&quot;</span>, <span class="php-quote">'ordf;'</span> =&gt; <span class="php-quote">&quot;\xC2\xAA&quot;</span>, <span class="php-quote">'ordm'</span> =&gt; <span class="php-quote">&quot;\xC2\xBA&quot;</span>, <span class="php-quote">'ordm;'</span> =&gt; <span class="php-quote">&quot;\xC2\xBA&quot;</span>, <span class="php-quote">'Oslash'</span> =&gt; <span class="php-quote">&quot;\xC3\x98&quot;</span>, <span class="php-quote">'oslash'</span> =&gt; <span class="php-quote">&quot;\xC3\xB8&quot;</span>, <span class="php-quote">'Oslash;'</span> =&gt; <span class="php-quote">&quot;\xC3\x98&quot;</span>, <span class="php-quote">'oslash;'</span> =&gt; <span class="php-quote">&quot;\xC3\xB8&quot;</span>, <span class="php-quote">'Otilde'</span> =&gt; <span class="php-quote">&quot;\xC3\x95&quot;</span>, <span class="php-quote">'otilde'</span> =&gt; <span class="php-quote">&quot;\xC3\xB5&quot;</span>, <span class="php-quote">'Otilde;'</span> =&gt; <span class="php-quote">&quot;\xC3\x95&quot;</span>, <span class="php-quote">'otilde;'</span> =&gt; <span class="php-quote">&quot;\xC3\xB5&quot;</span>, <span class="php-quote">'otimes;'</span> =&gt; <span class="php-quote">&quot;\xE2\x8A\x97&quot;</span>, <span class="php-quote">'Ouml'</span> =&gt; <span class="php-quote">&quot;\xC3\x96&quot;</span>, <span class="php-quote">'ouml'</span> =&gt; <span class="php-quote">&quot;\xC3\xB6&quot;</span>, <span class="php-quote">'Ouml;'</span> =&gt; <span class="php-quote">&quot;\xC3\x96&quot;</span>, <span class="php-quote">'ouml;'</span> =&gt; <span class="php-quote">&quot;\xC3\xB6&quot;</span>, <span class="php-quote">'para'</span> =&gt; <span class="php-quote">&quot;\xC2\xB6&quot;</span>, <span class="php-quote">'para;'</span> =&gt; <span class="php-quote">&quot;\xC2\xB6&quot;</span>, <span class="php-quote">'part;'</span> =&gt; <span class="php-quote">&quot;\xE2\x88\x82&quot;</span>, <span class="php-quote">'permil;'</span> =&gt; <span class="php-quote">&quot;\xE2\x80\xB0&quot;</span>, <span class="php-quote">'perp;'</span> =&gt; <span class="php-quote">&quot;\xE2\x8A\xA5&quot;</span>, <span class="php-quote">'Phi;'</span> =&gt; <span class="php-quote">&quot;\xCE\xA6&quot;</span>, <span class="php-quote">'phi;'</span> =&gt; <span class="php-quote">&quot;\xCF\x86&quot;</span>, <span class="php-quote">'Pi;'</span> =&gt; <span class="php-quote">&quot;\xCE\xA0&quot;</span>, <span class="php-quote">'pi;'</span> =&gt; <span class="php-quote">&quot;\xCF\x80&quot;</span>, <span class="php-quote">'piv;'</span> =&gt; <span class="php-quote">&quot;\xCF\x96&quot;</span>, <span class="php-quote">'plusmn'</span> =&gt; <span class="php-quote">&quot;\xC2\xB1&quot;</span>, <span class="php-quote">'plusmn;'</span> =&gt; <span class="php-quote">&quot;\xC2\xB1&quot;</span>, <span class="php-quote">'pound'</span> =&gt; <span class="php-quote">&quot;\xC2\xA3&quot;</span>, <span class="php-quote">'pound;'</span> =&gt; <span class="php-quote">&quot;\xC2\xA3&quot;</span>, <span class="php-quote">'Prime;'</span> =&gt; <span class="php-quote">&quot;\xE2\x80\xB3&quot;</span>, <span class="php-quote">'prime;'</span> =&gt; <span class="php-quote">&quot;\xE2\x80\xB2&quot;</span>, <span class="php-quote">'prod;'</span> =&gt; <span class="php-quote">&quot;\xE2\x88\x8F&quot;</span>, <span class="php-quote">'prop;'</span> =&gt; <span class="php-quote">&quot;\xE2\x88\x9D&quot;</span>, <span class="php-quote">'Psi;'</span> =&gt; <span class="php-quote">&quot;\xCE\xA8&quot;</span>, <span class="php-quote">'psi;'</span> =&gt; <span class="php-quote">&quot;\xCF\x88&quot;</span>, <span class="php-quote">'QUOT'</span> =&gt; <span class="php-quote">&quot;\x22&quot;</span>, <span class="php-quote">'quot'</span> =&gt; <span class="php-quote">&quot;\x22&quot;</span>, <span class="php-quote">'QUOT;'</span> =&gt; <span class="php-quote">&quot;\x22&quot;</span>, <span class="php-quote">'quot;'</span> =&gt; <span class="php-quote">&quot;\x22&quot;</span>, <span class="php-quote">'radic;'</span> =&gt; <span class="php-quote">&quot;\xE2\x88\x9A&quot;</span>, <span class="php-quote">'rang;'</span> =&gt; <span class="php-quote">&quot;\xE3\x80\x89&quot;</span>, <span class="php-quote">'raquo'</span> =&gt; <span class="php-quote">&quot;\xC2\xBB&quot;</span>, <span class="php-quote">'raquo;'</span> =&gt; <span class="php-quote">&quot;\xC2\xBB&quot;</span>, <span class="php-quote">'rArr;'</span> =&gt; <span class="php-quote">&quot;\xE2\x87\x92&quot;</span>, <span class="php-quote">'rarr;'</span> =&gt; <span class="php-quote">&quot;\xE2\x86\x92&quot;</span>, <span class="php-quote">'rceil;'</span> =&gt; <span class="php-quote">&quot;\xE2\x8C\x89&quot;</span>, <span class="php-quote">'rdquo;'</span> =&gt; <span class="php-quote">&quot;\xE2\x80\x9D&quot;</span>, <span class="php-quote">'real;'</span> =&gt; <span class="php-quote">&quot;\xE2\x84\x9C&quot;</span>, <span class="php-quote">'REG'</span> =&gt; <span class="php-quote">&quot;\xC2\xAE&quot;</span>, <span class="php-quote">'reg'</span> =&gt; <span class="php-quote">&quot;\xC2\xAE&quot;</span>, <span class="php-quote">'REG;'</span> =&gt; <span class="php-quote">&quot;\xC2\xAE&quot;</span>, <span class="php-quote">'reg;'</span> =&gt; <span class="php-quote">&quot;\xC2\xAE&quot;</span>, <span class="php-quote">'rfloor;'</span> =&gt; <span class="php-quote">&quot;\xE2\x8C\x8B&quot;</span>, <span class="php-quote">'Rho;'</span> =&gt; <span class="php-quote">&quot;\xCE\xA1&quot;</span>, <span class="php-quote">'rho;'</span> =&gt; <span class="php-quote">&quot;\xCF\x81&quot;</span>, <span class="php-quote">'rlm;'</span> =&gt; <span class="php-quote">&quot;\xE2\x80\x8F&quot;</span>, <span class="php-quote">'rsaquo;'</span> =&gt; <span class="php-quote">&quot;\xE2\x80\xBA&quot;</span>, <span class="php-quote">'rsquo;'</span> =&gt; <span class="php-quote">&quot;\xE2\x80\x99&quot;</span>, <span class="php-quote">'sbquo;'</span> =&gt; <span class="php-quote">&quot;\xE2\x80\x9A&quot;</span>, <span class="php-quote">'Scaron;'</span> =&gt; <span class="php-quote">&quot;\xC5\xA0&quot;</span>, <span class="php-quote">'scaron;'</span> =&gt; <span class="php-quote">&quot;\xC5\xA1&quot;</span>, <span class="php-quote">'sdot;'</span> =&gt; <span class="php-quote">&quot;\xE2\x8B\x85&quot;</span>, <span class="php-quote">'sect'</span> =&gt; <span class="php-quote">&quot;\xC2\xA7&quot;</span>, <span class="php-quote">'sect;'</span> =&gt; <span class="php-quote">&quot;\xC2\xA7&quot;</span>, <span class="php-quote">'shy'</span> =&gt; <span class="php-quote">&quot;\xC2\xAD&quot;</span>, <span class="php-quote">'shy;'</span> =&gt; <span class="php-quote">&quot;\xC2\xAD&quot;</span>, <span class="php-quote">'Sigma;'</span> =&gt; <span class="php-quote">&quot;\xCE\xA3&quot;</span>, <span class="php-quote">'sigma;'</span> =&gt; <span class="php-quote">&quot;\xCF\x83&quot;</span>, <span class="php-quote">'sigmaf;'</span> =&gt; <span class="php-quote">&quot;\xCF\x82&quot;</span>, <span class="php-quote">'sim;'</span> =&gt; <span class="php-quote">&quot;\xE2\x88\xBC&quot;</span>, <span class="php-quote">'spades;'</span> =&gt; <span class="php-quote">&quot;\xE2\x99\xA0&quot;</span>, <span class="php-quote">'sub;'</span> =&gt; <span class="php-quote">&quot;\xE2\x8A\x82&quot;</span>, <span class="php-quote">'sube;'</span> =&gt; <span class="php-quote">&quot;\xE2\x8A\x86&quot;</span>, <span class="php-quote">'sum;'</span> =&gt; <span class="php-quote">&quot;\xE2\x88\x91&quot;</span>, <span class="php-quote">'sup;'</span> =&gt; <span class="php-quote">&quot;\xE2\x8A\x83&quot;</span>, <span class="php-quote">'sup1'</span> =&gt; <span class="php-quote">&quot;\xC2\xB9&quot;</span>, <span class="php-quote">'sup1;'</span> =&gt; <span class="php-quote">&quot;\xC2\xB9&quot;</span>, <span class="php-quote">'sup2'</span> =&gt; <span class="php-quote">&quot;\xC2\xB2&quot;</span>, <span class="php-quote">'sup2;'</span> =&gt; <span class="php-quote">&quot;\xC2\xB2&quot;</span>, <span class="php-quote">'sup3'</span> =&gt; <span class="php-quote">&quot;\xC2\xB3&quot;</span>, <span class="php-quote">'sup3;'</span> =&gt; <span class="php-quote">&quot;\xC2\xB3&quot;</span>, <span class="php-quote">'supe;'</span> =&gt; <span class="php-quote">&quot;\xE2\x8A\x87&quot;</span>, <span class="php-quote">'szlig'</span> =&gt; <span class="php-quote">&quot;\xC3\x9F&quot;</span>, <span class="php-quote">'szlig;'</span> =&gt; <span class="php-quote">&quot;\xC3\x9F&quot;</span>, <span class="php-quote">'Tau;'</span> =&gt; <span class="php-quote">&quot;\xCE\xA4&quot;</span>, <span class="php-quote">'tau;'</span> =&gt; <span class="php-quote">&quot;\xCF\x84&quot;</span>, <span class="php-quote">'there4;'</span> =&gt; <span class="php-quote">&quot;\xE2\x88\xB4&quot;</span>, <span class="php-quote">'Theta;'</span> =&gt; <span class="php-quote">&quot;\xCE\x98&quot;</span>, <span class="php-quote">'theta;'</span> =&gt; <span class="php-quote">&quot;\xCE\xB8&quot;</span>, <span class="php-quote">'thetasym;'</span> =&gt; <span class="php-quote">&quot;\xCF\x91&quot;</span>, <span class="php-quote">'thinsp;'</span> =&gt; <span class="php-quote">&quot;\xE2\x80\x89&quot;</span>, <span class="php-quote">'THORN'</span> =&gt; <span class="php-quote">&quot;\xC3\x9E&quot;</span>, <span class="php-quote">'thorn'</span> =&gt; <span class="php-quote">&quot;\xC3\xBE&quot;</span>, <span class="php-quote">'THORN;'</span> =&gt; <span class="php-quote">&quot;\xC3\x9E&quot;</span>, <span class="php-quote">'thorn;'</span> =&gt; <span class="php-quote">&quot;\xC3\xBE&quot;</span>, <span class="php-quote">'tilde;'</span> =&gt; <span class="php-quote">&quot;\xCB\x9C&quot;</span>, <span class="php-quote">'times'</span> =&gt; <span class="php-quote">&quot;\xC3\x97&quot;</span>, <span class="php-quote">'times;'</span> =&gt; <span class="php-quote">&quot;\xC3\x97&quot;</span>, <span class="php-quote">'TRADE;'</span> =&gt; <span class="php-quote">&quot;\xE2\x84\xA2&quot;</span>, <span class="php-quote">'trade;'</span> =&gt; <span class="php-quote">&quot;\xE2\x84\xA2&quot;</span>, <span class="php-quote">'Uacute'</span> =&gt; <span class="php-quote">&quot;\xC3\x9A&quot;</span>, <span class="php-quote">'uacute'</span> =&gt; <span class="php-quote">&quot;\xC3\xBA&quot;</span>, <span class="php-quote">'Uacute;'</span> =&gt; <span class="php-quote">&quot;\xC3\x9A&quot;</span>, <span class="php-quote">'uacute;'</span> =&gt; <span class="php-quote">&quot;\xC3\xBA&quot;</span>, <span class="php-quote">'uArr;'</span> =&gt; <span class="php-quote">&quot;\xE2\x87\x91&quot;</span>, <span class="php-quote">'uarr;'</span> =&gt; <span class="php-quote">&quot;\xE2\x86\x91&quot;</span>, <span class="php-quote">'Ucirc'</span> =&gt; <span class="php-quote">&quot;\xC3\x9B&quot;</span>, <span class="php-quote">'ucirc'</span> =&gt; <span class="php-quote">&quot;\xC3\xBB&quot;</span>, <span class="php-quote">'Ucirc;'</span> =&gt; <span class="php-quote">&quot;\xC3\x9B&quot;</span>, <span class="php-quote">'ucirc;'</span> =&gt; <span class="php-quote">&quot;\xC3\xBB&quot;</span>, <span class="php-quote">'Ugrave'</span> =&gt; <span class="php-quote">&quot;\xC3\x99&quot;</span>, <span class="php-quote">'ugrave'</span> =&gt; <span class="php-quote">&quot;\xC3\xB9&quot;</span>, <span class="php-quote">'Ugrave;'</span> =&gt; <span class="php-quote">&quot;\xC3\x99&quot;</span>, <span class="php-quote">'ugrave;'</span> =&gt; <span class="php-quote">&quot;\xC3\xB9&quot;</span>, <span class="php-quote">'uml'</span> =&gt; <span class="php-quote">&quot;\xC2\xA8&quot;</span>, <span class="php-quote">'uml;'</span> =&gt; <span class="php-quote">&quot;\xC2\xA8&quot;</span>, <span class="php-quote">'upsih;'</span> =&gt; <span class="php-quote">&quot;\xCF\x92&quot;</span>, <span class="php-quote">'Upsilon;'</span> =&gt; <span class="php-quote">&quot;\xCE\xA5&quot;</span>, <span class="php-quote">'upsilon;'</span> =&gt; <span class="php-quote">&quot;\xCF\x85&quot;</span>, <span class="php-quote">'Uuml'</span> =&gt; <span class="php-quote">&quot;\xC3\x9C&quot;</span>, <span class="php-quote">'uuml'</span> =&gt; <span class="php-quote">&quot;\xC3\xBC&quot;</span>, <span class="php-quote">'Uuml;'</span> =&gt; <span class="php-quote">&quot;\xC3\x9C&quot;</span>, <span class="php-quote">'uuml;'</span> =&gt; <span class="php-quote">&quot;\xC3\xBC&quot;</span>, <span class="php-quote">'weierp;'</span> =&gt; <span class="php-quote">&quot;\xE2\x84\x98&quot;</span>, <span class="php-quote">'Xi;'</span> =&gt; <span class="php-quote">&quot;\xCE\x9E&quot;</span>, <span class="php-quote">'xi;'</span> =&gt; <span class="php-quote">&quot;\xCE\xBE&quot;</span>, <span class="php-quote">'Yacute'</span> =&gt; <span class="php-quote">&quot;\xC3\x9D&quot;</span>, <span class="php-quote">'yacute'</span> =&gt; <span class="php-quote">&quot;\xC3\xBD&quot;</span>, <span class="php-quote">'Yacute;'</span> =&gt; <span class="php-quote">&quot;\xC3\x9D&quot;</span>, <span class="php-quote">'yacute;'</span> =&gt; <span class="php-quote">&quot;\xC3\xBD&quot;</span>, <span class="php-quote">'yen'</span> =&gt; <span class="php-quote">&quot;\xC2\xA5&quot;</span>, <span class="php-quote">'yen;'</span> =&gt; <span class="php-quote">&quot;\xC2\xA5&quot;</span>, <span class="php-quote">'yuml'</span> =&gt; <span class="php-quote">&quot;\xC3\xBF&quot;</span>, <span class="php-quote">'Yuml;'</span> =&gt; <span class="php-quote">&quot;\xC5\xB8&quot;</span>, <span class="php-quote">'yuml;'</span> =&gt; <span class="php-quote">&quot;\xC3\xBF&quot;</span>, <span class="php-quote">'Zeta;'</span> =&gt; <span class="php-quote">&quot;\xCE\x96&quot;</span>, <span class="php-quote">'zeta;'</span> =&gt; <span class="php-quote">&quot;\xCE\xB6&quot;</span>, <span class="php-quote">'zwj;'</span> =&gt; <span class="php-quote">&quot;\xE2\x80\x8D&quot;</span>, <span class="php-quote">'zwnj;'</span> =&gt; <span class="php-quote">&quot;\xE2\x80\x8C&quot;</span>);
</span><span id="4546" class="l"><a class="l" href="#4546"> 4546: </a>
</span><span id="4547" class="l"><a class="l" href="#4547"> 4547: </a>                <span class="php-keyword1">for</span> (<span class="php-var">$i</span> = <span class="php-num">0</span>, <span class="php-var">$match</span> = <span class="php-keyword1">null</span>; <span class="php-var">$i</span> &lt; <span class="php-num">9</span> &amp;&amp; <span class="php-var">$this</span>-&gt;consume() !== <span class="php-keyword1">false</span>; <span class="php-var">$i</span>++)
</span><span id="4548" class="l"><a class="l" href="#4548"> 4548: </a>                {
</span><span id="4549" class="l"><a class="l" href="#4549"> 4549: </a>                    <span class="php-var">$consumed</span> = <span class="php-keyword2">substr</span>(<span class="php-var">$this</span>-&gt;consumed, <span class="php-num">1</span>);
</span><span id="4550" class="l"><a class="l" href="#4550"> 4550: </a>                    <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$entities</span>[<span class="php-var">$consumed</span>]))
</span><span id="4551" class="l"><a class="l" href="#4551"> 4551: </a>                    {
</span><span id="4552" class="l"><a class="l" href="#4552"> 4552: </a>                        <span class="php-var">$match</span> = <span class="php-var">$consumed</span>;
</span><span id="4553" class="l"><a class="l" href="#4553"> 4553: </a>                    }
</span><span id="4554" class="l"><a class="l" href="#4554"> 4554: </a>                }
</span><span id="4555" class="l"><a class="l" href="#4555"> 4555: </a>
</span><span id="4556" class="l"><a class="l" href="#4556"> 4556: </a>                <span class="php-keyword1">if</span> (<span class="php-var">$match</span> !== <span class="php-keyword1">null</span>)
</span><span id="4557" class="l"><a class="l" href="#4557"> 4557: </a>                {
</span><span id="4558" class="l"><a class="l" href="#4558"> 4558: </a>                    <span class="php-var">$this</span>-&gt;data = <span class="php-keyword2">substr_replace</span>(<span class="php-var">$this</span>-&gt;data, <span class="php-var">$entities</span>[<span class="php-var">$match</span>], <span class="php-var">$this</span>-&gt;position - <span class="php-keyword2">strlen</span>(<span class="php-var">$consumed</span>) - <span class="php-num">1</span>, <span class="php-keyword2">strlen</span>(<span class="php-var">$match</span>) + <span class="php-num">1</span>);
</span><span id="4559" class="l"><a class="l" href="#4559"> 4559: </a>                    <span class="php-var">$this</span>-&gt;position += <span class="php-keyword2">strlen</span>(<span class="php-var">$entities</span>[<span class="php-var">$match</span>]) - <span class="php-keyword2">strlen</span>(<span class="php-var">$consumed</span>) - <span class="php-num">1</span>;
</span><span id="4560" class="l"><a class="l" href="#4560"> 4560: </a>                }
</span><span id="4561" class="l"><a class="l" href="#4561"> 4561: </a>                <span class="php-keyword1">break</span>;
</span><span id="4562" class="l"><a class="l" href="#4562"> 4562: </a>        }
</span><span id="4563" class="l"><a class="l" href="#4563"> 4563: </a>    }
</span><span id="4564" class="l"><a class="l" href="#4564"> 4564: </a>}
</span><span id="4565" class="l"><a class="l" href="#4565"> 4565: </a>
</span><span id="4566" class="l"><a class="l" href="#4566"> 4566: </a><span class="php-comment">/**
</span></span><span id="4567" class="l"><a class="l" href="#4567"> 4567: </a><span class="php-comment"> * Handles everything related to enclosures (including Media RSS and iTunes RSS)
</span></span><span id="4568" class="l"><a class="l" href="#4568"> 4568: </a><span class="php-comment"> *
</span></span><span id="4569" class="l"><a class="l" href="#4569"> 4569: </a><span class="php-comment"> * Used by {@see SimplePie_Item::get_enclosure()} and {@see SimplePie_Item::get_enclosures()}
</span></span><span id="4570" class="l"><a class="l" href="#4570"> 4570: </a><span class="php-comment"> *
</span></span><span id="4571" class="l"><a class="l" href="#4571"> 4571: </a><span class="php-comment"> * This class can be overloaded with {@see SimplePie::set_enclosure_class()}
</span></span><span id="4572" class="l"><a class="l" href="#4572"> 4572: </a><span class="php-comment"> *
</span></span><span id="4573" class="l"><a class="l" href="#4573"> 4573: </a><span class="php-comment"> * @package SimplePie
</span></span><span id="4574" class="l"><a class="l" href="#4574"> 4574: </a><span class="php-comment"> */</span>
</span><span id="4575" class="l"><a class="l" href="#4575"> 4575: </a><span class="php-keyword1">class</span> <a id="SimplePie_Enclosure" href="#SimplePie_Enclosure">SimplePie_Enclosure</a>
</span><span id="4576" class="l"><a class="l" href="#4576"> 4576: </a>{
</span><span id="4577" class="l"><a class="l" href="#4577"> 4577: </a>    <span class="php-comment">/**
</span></span><span id="4578" class="l"><a class="l" href="#4578"> 4578: </a><span class="php-comment">     * @var string
</span></span><span id="4579" class="l"><a class="l" href="#4579"> 4579: </a><span class="php-comment">     * @see get_bitrate()
</span></span><span id="4580" class="l"><a class="l" href="#4580"> 4580: </a><span class="php-comment">     */</span>
</span><span id="4581" class="l"><a class="l" href="#4581"> 4581: </a>    <span class="php-keyword1">var</span> <span class="php-var"><a id="$bitrate" href="#$bitrate">$bitrate</a></span>;
</span><span id="4582" class="l"><a class="l" href="#4582"> 4582: </a>
</span><span id="4583" class="l"><a class="l" href="#4583"> 4583: </a>    <span class="php-comment">/**
</span></span><span id="4584" class="l"><a class="l" href="#4584"> 4584: </a><span class="php-comment">     * @var array
</span></span><span id="4585" class="l"><a class="l" href="#4585"> 4585: </a><span class="php-comment">     * @see get_captions()
</span></span><span id="4586" class="l"><a class="l" href="#4586"> 4586: </a><span class="php-comment">     */</span>
</span><span id="4587" class="l"><a class="l" href="#4587"> 4587: </a>    <span class="php-keyword1">var</span> <span class="php-var"><a id="$captions" href="#$captions">$captions</a></span>;
</span><span id="4588" class="l"><a class="l" href="#4588"> 4588: </a>
</span><span id="4589" class="l"><a class="l" href="#4589"> 4589: </a>    <span class="php-comment">/**
</span></span><span id="4590" class="l"><a class="l" href="#4590"> 4590: </a><span class="php-comment">     * @var array
</span></span><span id="4591" class="l"><a class="l" href="#4591"> 4591: </a><span class="php-comment">     * @see get_categories()
</span></span><span id="4592" class="l"><a class="l" href="#4592"> 4592: </a><span class="php-comment">     */</span>
</span><span id="4593" class="l"><a class="l" href="#4593"> 4593: </a>    <span class="php-keyword1">var</span> <span class="php-var"><a id="$categories" href="#$categories">$categories</a></span>;
</span><span id="4594" class="l"><a class="l" href="#4594"> 4594: </a>
</span><span id="4595" class="l"><a class="l" href="#4595"> 4595: </a>    <span class="php-comment">/**
</span></span><span id="4596" class="l"><a class="l" href="#4596"> 4596: </a><span class="php-comment">     * @var int
</span></span><span id="4597" class="l"><a class="l" href="#4597"> 4597: </a><span class="php-comment">     * @see get_channels()
</span></span><span id="4598" class="l"><a class="l" href="#4598"> 4598: </a><span class="php-comment">     */</span>
</span><span id="4599" class="l"><a class="l" href="#4599"> 4599: </a>    <span class="php-keyword1">var</span> <span class="php-var"><a id="$channels" href="#$channels">$channels</a></span>;
</span><span id="4600" class="l"><a class="l" href="#4600"> 4600: </a>
</span><span id="4601" class="l"><a class="l" href="#4601"> 4601: </a>    <span class="php-comment">/**
</span></span><span id="4602" class="l"><a class="l" href="#4602"> 4602: </a><span class="php-comment">     * @var SimplePie_Copyright
</span></span><span id="4603" class="l"><a class="l" href="#4603"> 4603: </a><span class="php-comment">     * @see get_copyright()
</span></span><span id="4604" class="l"><a class="l" href="#4604"> 4604: </a><span class="php-comment">     */</span>
</span><span id="4605" class="l"><a class="l" href="#4605"> 4605: </a>    <span class="php-keyword1">var</span> <span class="php-var"><a id="$copyright" href="#$copyright">$copyright</a></span>;
</span><span id="4606" class="l"><a class="l" href="#4606"> 4606: </a>
</span><span id="4607" class="l"><a class="l" href="#4607"> 4607: </a>    <span class="php-comment">/**
</span></span><span id="4608" class="l"><a class="l" href="#4608"> 4608: </a><span class="php-comment">     * @var array
</span></span><span id="4609" class="l"><a class="l" href="#4609"> 4609: </a><span class="php-comment">     * @see get_credits()
</span></span><span id="4610" class="l"><a class="l" href="#4610"> 4610: </a><span class="php-comment">     */</span>
</span><span id="4611" class="l"><a class="l" href="#4611"> 4611: </a>    <span class="php-keyword1">var</span> <span class="php-var"><a id="$credits" href="#$credits">$credits</a></span>;
</span><span id="4612" class="l"><a class="l" href="#4612"> 4612: </a>
</span><span id="4613" class="l"><a class="l" href="#4613"> 4613: </a>    <span class="php-comment">/**
</span></span><span id="4614" class="l"><a class="l" href="#4614"> 4614: </a><span class="php-comment">     * @var string
</span></span><span id="4615" class="l"><a class="l" href="#4615"> 4615: </a><span class="php-comment">     * @see get_description()
</span></span><span id="4616" class="l"><a class="l" href="#4616"> 4616: </a><span class="php-comment">     */</span>
</span><span id="4617" class="l"><a class="l" href="#4617"> 4617: </a>    <span class="php-keyword1">var</span> <span class="php-var"><a id="$description" href="#$description">$description</a></span>;
</span><span id="4618" class="l"><a class="l" href="#4618"> 4618: </a>
</span><span id="4619" class="l"><a class="l" href="#4619"> 4619: </a>    <span class="php-comment">/**
</span></span><span id="4620" class="l"><a class="l" href="#4620"> 4620: </a><span class="php-comment">     * @var int
</span></span><span id="4621" class="l"><a class="l" href="#4621"> 4621: </a><span class="php-comment">     * @see get_duration()
</span></span><span id="4622" class="l"><a class="l" href="#4622"> 4622: </a><span class="php-comment">     */</span>
</span><span id="4623" class="l"><a class="l" href="#4623"> 4623: </a>    <span class="php-keyword1">var</span> <span class="php-var"><a id="$duration" href="#$duration">$duration</a></span>;
</span><span id="4624" class="l"><a class="l" href="#4624"> 4624: </a>
</span><span id="4625" class="l"><a class="l" href="#4625"> 4625: </a>    <span class="php-comment">/**
</span></span><span id="4626" class="l"><a class="l" href="#4626"> 4626: </a><span class="php-comment">     * @var string
</span></span><span id="4627" class="l"><a class="l" href="#4627"> 4627: </a><span class="php-comment">     * @see get_expression()
</span></span><span id="4628" class="l"><a class="l" href="#4628"> 4628: </a><span class="php-comment">     */</span>
</span><span id="4629" class="l"><a class="l" href="#4629"> 4629: </a>    <span class="php-keyword1">var</span> <span class="php-var"><a id="$expression" href="#$expression">$expression</a></span>;
</span><span id="4630" class="l"><a class="l" href="#4630"> 4630: </a>
</span><span id="4631" class="l"><a class="l" href="#4631"> 4631: </a>    <span class="php-comment">/**
</span></span><span id="4632" class="l"><a class="l" href="#4632"> 4632: </a><span class="php-comment">     * @var string
</span></span><span id="4633" class="l"><a class="l" href="#4633"> 4633: </a><span class="php-comment">     * @see get_framerate()
</span></span><span id="4634" class="l"><a class="l" href="#4634"> 4634: </a><span class="php-comment">     */</span>
</span><span id="4635" class="l"><a class="l" href="#4635"> 4635: </a>    <span class="php-keyword1">var</span> <span class="php-var"><a id="$framerate" href="#$framerate">$framerate</a></span>;
</span><span id="4636" class="l"><a class="l" href="#4636"> 4636: </a>
</span><span id="4637" class="l"><a class="l" href="#4637"> 4637: </a>    <span class="php-comment">/**
</span></span><span id="4638" class="l"><a class="l" href="#4638"> 4638: </a><span class="php-comment">     * @var string
</span></span><span id="4639" class="l"><a class="l" href="#4639"> 4639: </a><span class="php-comment">     * @see get_handler()
</span></span><span id="4640" class="l"><a class="l" href="#4640"> 4640: </a><span class="php-comment">     */</span>
</span><span id="4641" class="l"><a class="l" href="#4641"> 4641: </a>    <span class="php-keyword1">var</span> <span class="php-var"><a id="$handler" href="#$handler">$handler</a></span>;
</span><span id="4642" class="l"><a class="l" href="#4642"> 4642: </a>
</span><span id="4643" class="l"><a class="l" href="#4643"> 4643: </a>    <span class="php-comment">/**
</span></span><span id="4644" class="l"><a class="l" href="#4644"> 4644: </a><span class="php-comment">     * @var array
</span></span><span id="4645" class="l"><a class="l" href="#4645"> 4645: </a><span class="php-comment">     * @see get_hashes()
</span></span><span id="4646" class="l"><a class="l" href="#4646"> 4646: </a><span class="php-comment">     */</span>
</span><span id="4647" class="l"><a class="l" href="#4647"> 4647: </a>    <span class="php-keyword1">var</span> <span class="php-var"><a id="$hashes" href="#$hashes">$hashes</a></span>;
</span><span id="4648" class="l"><a class="l" href="#4648"> 4648: </a>
</span><span id="4649" class="l"><a class="l" href="#4649"> 4649: </a>    <span class="php-comment">/**
</span></span><span id="4650" class="l"><a class="l" href="#4650"> 4650: </a><span class="php-comment">     * @var string
</span></span><span id="4651" class="l"><a class="l" href="#4651"> 4651: </a><span class="php-comment">     * @see get_height()
</span></span><span id="4652" class="l"><a class="l" href="#4652"> 4652: </a><span class="php-comment">     */</span>
</span><span id="4653" class="l"><a class="l" href="#4653"> 4653: </a>    <span class="php-keyword1">var</span> <span class="php-var"><a id="$height" href="#$height">$height</a></span>;
</span><span id="4654" class="l"><a class="l" href="#4654"> 4654: </a>
</span><span id="4655" class="l"><a class="l" href="#4655"> 4655: </a>    <span class="php-comment">/**
</span></span><span id="4656" class="l"><a class="l" href="#4656"> 4656: </a><span class="php-comment">     * @deprecated
</span></span><span id="4657" class="l"><a class="l" href="#4657"> 4657: </a><span class="php-comment">     * @var null
</span></span><span id="4658" class="l"><a class="l" href="#4658"> 4658: </a><span class="php-comment">     */</span>
</span><span id="4659" class="l"><a class="l" href="#4659"> 4659: </a>    <span class="php-keyword1">var</span> <span class="php-var"><a id="$javascript" href="#$javascript">$javascript</a></span>;
</span><span id="4660" class="l"><a class="l" href="#4660"> 4660: </a>
</span><span id="4661" class="l"><a class="l" href="#4661"> 4661: </a>    <span class="php-comment">/**
</span></span><span id="4662" class="l"><a class="l" href="#4662"> 4662: </a><span class="php-comment">     * @var array
</span></span><span id="4663" class="l"><a class="l" href="#4663"> 4663: </a><span class="php-comment">     * @see get_keywords()
</span></span><span id="4664" class="l"><a class="l" href="#4664"> 4664: </a><span class="php-comment">     */</span>
</span><span id="4665" class="l"><a class="l" href="#4665"> 4665: </a>    <span class="php-keyword1">var</span> <span class="php-var"><a id="$keywords" href="#$keywords">$keywords</a></span>;
</span><span id="4666" class="l"><a class="l" href="#4666"> 4666: </a>
</span><span id="4667" class="l"><a class="l" href="#4667"> 4667: </a>    <span class="php-comment">/**
</span></span><span id="4668" class="l"><a class="l" href="#4668"> 4668: </a><span class="php-comment">     * @var string
</span></span><span id="4669" class="l"><a class="l" href="#4669"> 4669: </a><span class="php-comment">     * @see get_language()
</span></span><span id="4670" class="l"><a class="l" href="#4670"> 4670: </a><span class="php-comment">     */</span>
</span><span id="4671" class="l"><a class="l" href="#4671"> 4671: </a>    <span class="php-keyword1">var</span> <span class="php-var"><a id="$lang" href="#$lang">$lang</a></span>;
</span><span id="4672" class="l"><a class="l" href="#4672"> 4672: </a>
</span><span id="4673" class="l"><a class="l" href="#4673"> 4673: </a>    <span class="php-comment">/**
</span></span><span id="4674" class="l"><a class="l" href="#4674"> 4674: </a><span class="php-comment">     * @var string
</span></span><span id="4675" class="l"><a class="l" href="#4675"> 4675: </a><span class="php-comment">     * @see get_length()
</span></span><span id="4676" class="l"><a class="l" href="#4676"> 4676: </a><span class="php-comment">     */</span>
</span><span id="4677" class="l"><a class="l" href="#4677"> 4677: </a>    <span class="php-keyword1">var</span> <span class="php-var"><a id="$length" href="#$length">$length</a></span>;
</span><span id="4678" class="l"><a class="l" href="#4678"> 4678: </a>
</span><span id="4679" class="l"><a class="l" href="#4679"> 4679: </a>    <span class="php-comment">/**
</span></span><span id="4680" class="l"><a class="l" href="#4680"> 4680: </a><span class="php-comment">     * @var string
</span></span><span id="4681" class="l"><a class="l" href="#4681"> 4681: </a><span class="php-comment">     * @see get_link()
</span></span><span id="4682" class="l"><a class="l" href="#4682"> 4682: </a><span class="php-comment">     */</span>
</span><span id="4683" class="l"><a class="l" href="#4683"> 4683: </a>    <span class="php-keyword1">var</span> <span class="php-var"><a id="$link" href="#$link">$link</a></span>;
</span><span id="4684" class="l"><a class="l" href="#4684"> 4684: </a>
</span><span id="4685" class="l"><a class="l" href="#4685"> 4685: </a>    <span class="php-comment">/**
</span></span><span id="4686" class="l"><a class="l" href="#4686"> 4686: </a><span class="php-comment">     * @var string
</span></span><span id="4687" class="l"><a class="l" href="#4687"> 4687: </a><span class="php-comment">     * @see get_medium()
</span></span><span id="4688" class="l"><a class="l" href="#4688"> 4688: </a><span class="php-comment">     */</span>
</span><span id="4689" class="l"><a class="l" href="#4689"> 4689: </a>    <span class="php-keyword1">var</span> <span class="php-var"><a id="$medium" href="#$medium">$medium</a></span>;
</span><span id="4690" class="l"><a class="l" href="#4690"> 4690: </a>
</span><span id="4691" class="l"><a class="l" href="#4691"> 4691: </a>    <span class="php-comment">/**
</span></span><span id="4692" class="l"><a class="l" href="#4692"> 4692: </a><span class="php-comment">     * @var string
</span></span><span id="4693" class="l"><a class="l" href="#4693"> 4693: </a><span class="php-comment">     * @see get_player()
</span></span><span id="4694" class="l"><a class="l" href="#4694"> 4694: </a><span class="php-comment">     */</span>
</span><span id="4695" class="l"><a class="l" href="#4695"> 4695: </a>    <span class="php-keyword1">var</span> <span class="php-var"><a id="$player" href="#$player">$player</a></span>;
</span><span id="4696" class="l"><a class="l" href="#4696"> 4696: </a>
</span><span id="4697" class="l"><a class="l" href="#4697"> 4697: </a>    <span class="php-comment">/**
</span></span><span id="4698" class="l"><a class="l" href="#4698"> 4698: </a><span class="php-comment">     * @var array
</span></span><span id="4699" class="l"><a class="l" href="#4699"> 4699: </a><span class="php-comment">     * @see get_ratings()
</span></span><span id="4700" class="l"><a class="l" href="#4700"> 4700: </a><span class="php-comment">     */</span>
</span><span id="4701" class="l"><a class="l" href="#4701"> 4701: </a>    <span class="php-keyword1">var</span> <span class="php-var"><a id="$ratings" href="#$ratings">$ratings</a></span>;
</span><span id="4702" class="l"><a class="l" href="#4702"> 4702: </a>
</span><span id="4703" class="l"><a class="l" href="#4703"> 4703: </a>    <span class="php-comment">/**
</span></span><span id="4704" class="l"><a class="l" href="#4704"> 4704: </a><span class="php-comment">     * @var array
</span></span><span id="4705" class="l"><a class="l" href="#4705"> 4705: </a><span class="php-comment">     * @see get_restrictions()
</span></span><span id="4706" class="l"><a class="l" href="#4706"> 4706: </a><span class="php-comment">     */</span>
</span><span id="4707" class="l"><a class="l" href="#4707"> 4707: </a>    <span class="php-keyword1">var</span> <span class="php-var"><a id="$restrictions" href="#$restrictions">$restrictions</a></span>;
</span><span id="4708" class="l"><a class="l" href="#4708"> 4708: </a>
</span><span id="4709" class="l"><a class="l" href="#4709"> 4709: </a>    <span class="php-comment">/**
</span></span><span id="4710" class="l"><a class="l" href="#4710"> 4710: </a><span class="php-comment">     * @var string
</span></span><span id="4711" class="l"><a class="l" href="#4711"> 4711: </a><span class="php-comment">     * @see get_sampling_rate()
</span></span><span id="4712" class="l"><a class="l" href="#4712"> 4712: </a><span class="php-comment">     */</span>
</span><span id="4713" class="l"><a class="l" href="#4713"> 4713: </a>    <span class="php-keyword1">var</span> <span class="php-var"><a id="$samplingrate" href="#$samplingrate">$samplingrate</a></span>;
</span><span id="4714" class="l"><a class="l" href="#4714"> 4714: </a>
</span><span id="4715" class="l"><a class="l" href="#4715"> 4715: </a>    <span class="php-comment">/**
</span></span><span id="4716" class="l"><a class="l" href="#4716"> 4716: </a><span class="php-comment">     * @var array
</span></span><span id="4717" class="l"><a class="l" href="#4717"> 4717: </a><span class="php-comment">     * @see get_thumbnails()
</span></span><span id="4718" class="l"><a class="l" href="#4718"> 4718: </a><span class="php-comment">     */</span>
</span><span id="4719" class="l"><a class="l" href="#4719"> 4719: </a>    <span class="php-keyword1">var</span> <span class="php-var"><a id="$thumbnails" href="#$thumbnails">$thumbnails</a></span>;
</span><span id="4720" class="l"><a class="l" href="#4720"> 4720: </a>
</span><span id="4721" class="l"><a class="l" href="#4721"> 4721: </a>    <span class="php-comment">/**
</span></span><span id="4722" class="l"><a class="l" href="#4722"> 4722: </a><span class="php-comment">     * @var string
</span></span><span id="4723" class="l"><a class="l" href="#4723"> 4723: </a><span class="php-comment">     * @see get_title()
</span></span><span id="4724" class="l"><a class="l" href="#4724"> 4724: </a><span class="php-comment">     */</span>
</span><span id="4725" class="l"><a class="l" href="#4725"> 4725: </a>    <span class="php-keyword1">var</span> <span class="php-var"><a id="$title" href="#$title">$title</a></span>;
</span><span id="4726" class="l"><a class="l" href="#4726"> 4726: </a>
</span><span id="4727" class="l"><a class="l" href="#4727"> 4727: </a>    <span class="php-comment">/**
</span></span><span id="4728" class="l"><a class="l" href="#4728"> 4728: </a><span class="php-comment">     * @var string
</span></span><span id="4729" class="l"><a class="l" href="#4729"> 4729: </a><span class="php-comment">     * @see get_type()
</span></span><span id="4730" class="l"><a class="l" href="#4730"> 4730: </a><span class="php-comment">     */</span>
</span><span id="4731" class="l"><a class="l" href="#4731"> 4731: </a>    <span class="php-keyword1">var</span> <span class="php-var"><a id="$type" href="#$type">$type</a></span>;
</span><span id="4732" class="l"><a class="l" href="#4732"> 4732: </a>
</span><span id="4733" class="l"><a class="l" href="#4733"> 4733: </a>    <span class="php-comment">/**
</span></span><span id="4734" class="l"><a class="l" href="#4734"> 4734: </a><span class="php-comment">     * @var string
</span></span><span id="4735" class="l"><a class="l" href="#4735"> 4735: </a><span class="php-comment">     * @see get_width()
</span></span><span id="4736" class="l"><a class="l" href="#4736"> 4736: </a><span class="php-comment">     */</span>
</span><span id="4737" class="l"><a class="l" href="#4737"> 4737: </a>    <span class="php-keyword1">var</span> <span class="php-var"><a id="$width" href="#$width">$width</a></span>;
</span><span id="4738" class="l"><a class="l" href="#4738"> 4738: </a>
</span><span id="4739" class="l"><a class="l" href="#4739"> 4739: </a>    <span class="php-comment">/**
</span></span><span id="4740" class="l"><a class="l" href="#4740"> 4740: </a><span class="php-comment">     * Constructor, used to input the data
</span></span><span id="4741" class="l"><a class="l" href="#4741"> 4741: </a><span class="php-comment">     *
</span></span><span id="4742" class="l"><a class="l" href="#4742"> 4742: </a><span class="php-comment">     * For documentation on all the parameters, see the corresponding
</span></span><span id="4743" class="l"><a class="l" href="#4743"> 4743: </a><span class="php-comment">     * properties and their accessors
</span></span><span id="4744" class="l"><a class="l" href="#4744"> 4744: </a><span class="php-comment">     *
</span></span><span id="4745" class="l"><a class="l" href="#4745"> 4745: </a><span class="php-comment">     * @uses idna_convert If available, this will convert an IDN
</span></span><span id="4746" class="l"><a class="l" href="#4746"> 4746: </a><span class="php-comment">     */</span>
</span><span id="4747" class="l"><a class="l" href="#4747"> 4747: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="___construct" href="#___construct">__construct</a>(<span class="php-var">$link</span> = <span class="php-keyword1">null</span>, <span class="php-var">$type</span> = <span class="php-keyword1">null</span>, <span class="php-var">$length</span> = <span class="php-keyword1">null</span>, <span class="php-var">$javascript</span> = <span class="php-keyword1">null</span>, <span class="php-var">$bitrate</span> = <span class="php-keyword1">null</span>, <span class="php-var">$captions</span> = <span class="php-keyword1">null</span>, <span class="php-var">$categories</span> = <span class="php-keyword1">null</span>, <span class="php-var">$channels</span> = <span class="php-keyword1">null</span>, <span class="php-var">$copyright</span> = <span class="php-keyword1">null</span>, <span class="php-var">$credits</span> = <span class="php-keyword1">null</span>, <span class="php-var">$description</span> = <span class="php-keyword1">null</span>, <span class="php-var">$duration</span> = <span class="php-keyword1">null</span>, <span class="php-var">$expression</span> = <span class="php-keyword1">null</span>, <span class="php-var">$framerate</span> = <span class="php-keyword1">null</span>, <span class="php-var">$hashes</span> = <span class="php-keyword1">null</span>, <span class="php-var">$height</span> = <span class="php-keyword1">null</span>, <span class="php-var">$keywords</span> = <span class="php-keyword1">null</span>, <span class="php-var">$lang</span> = <span class="php-keyword1">null</span>, <span class="php-var">$medium</span> = <span class="php-keyword1">null</span>, <span class="php-var">$player</span> = <span class="php-keyword1">null</span>, <span class="php-var">$ratings</span> = <span class="php-keyword1">null</span>, <span class="php-var">$restrictions</span> = <span class="php-keyword1">null</span>, <span class="php-var">$samplingrate</span> = <span class="php-keyword1">null</span>, <span class="php-var">$thumbnails</span> = <span class="php-keyword1">null</span>, <span class="php-var">$title</span> = <span class="php-keyword1">null</span>, <span class="php-var">$width</span> = <span class="php-keyword1">null</span>)
</span><span id="4748" class="l"><a class="l" href="#4748"> 4748: </a>    {
</span><span id="4749" class="l"><a class="l" href="#4749"> 4749: </a>        <span class="php-var">$this</span>-&gt;bitrate = <span class="php-var">$bitrate</span>;
</span><span id="4750" class="l"><a class="l" href="#4750"> 4750: </a>        <span class="php-var">$this</span>-&gt;captions = <span class="php-var">$captions</span>;
</span><span id="4751" class="l"><a class="l" href="#4751"> 4751: </a>        <span class="php-var">$this</span>-&gt;categories = <span class="php-var">$categories</span>;
</span><span id="4752" class="l"><a class="l" href="#4752"> 4752: </a>        <span class="php-var">$this</span>-&gt;channels = <span class="php-var">$channels</span>;
</span><span id="4753" class="l"><a class="l" href="#4753"> 4753: </a>        <span class="php-var">$this</span>-&gt;copyright = <span class="php-var">$copyright</span>;
</span><span id="4754" class="l"><a class="l" href="#4754"> 4754: </a>        <span class="php-var">$this</span>-&gt;credits = <span class="php-var">$credits</span>;
</span><span id="4755" class="l"><a class="l" href="#4755"> 4755: </a>        <span class="php-var">$this</span>-&gt;description = <span class="php-var">$description</span>;
</span><span id="4756" class="l"><a class="l" href="#4756"> 4756: </a>        <span class="php-var">$this</span>-&gt;duration = <span class="php-var">$duration</span>;
</span><span id="4757" class="l"><a class="l" href="#4757"> 4757: </a>        <span class="php-var">$this</span>-&gt;expression = <span class="php-var">$expression</span>;
</span><span id="4758" class="l"><a class="l" href="#4758"> 4758: </a>        <span class="php-var">$this</span>-&gt;framerate = <span class="php-var">$framerate</span>;
</span><span id="4759" class="l"><a class="l" href="#4759"> 4759: </a>        <span class="php-var">$this</span>-&gt;hashes = <span class="php-var">$hashes</span>;
</span><span id="4760" class="l"><a class="l" href="#4760"> 4760: </a>        <span class="php-var">$this</span>-&gt;height = <span class="php-var">$height</span>;
</span><span id="4761" class="l"><a class="l" href="#4761"> 4761: </a>        <span class="php-var">$this</span>-&gt;keywords = <span class="php-var">$keywords</span>;
</span><span id="4762" class="l"><a class="l" href="#4762"> 4762: </a>        <span class="php-var">$this</span>-&gt;lang = <span class="php-var">$lang</span>;
</span><span id="4763" class="l"><a class="l" href="#4763"> 4763: </a>        <span class="php-var">$this</span>-&gt;length = <span class="php-var">$length</span>;
</span><span id="4764" class="l"><a class="l" href="#4764"> 4764: </a>        <span class="php-var">$this</span>-&gt;<span class="php-keyword2">link</span> = <span class="php-var">$link</span>;
</span><span id="4765" class="l"><a class="l" href="#4765"> 4765: </a>        <span class="php-var">$this</span>-&gt;medium = <span class="php-var">$medium</span>;
</span><span id="4766" class="l"><a class="l" href="#4766"> 4766: </a>        <span class="php-var">$this</span>-&gt;player = <span class="php-var">$player</span>;
</span><span id="4767" class="l"><a class="l" href="#4767"> 4767: </a>        <span class="php-var">$this</span>-&gt;ratings = <span class="php-var">$ratings</span>;
</span><span id="4768" class="l"><a class="l" href="#4768"> 4768: </a>        <span class="php-var">$this</span>-&gt;restrictions = <span class="php-var">$restrictions</span>;
</span><span id="4769" class="l"><a class="l" href="#4769"> 4769: </a>        <span class="php-var">$this</span>-&gt;samplingrate = <span class="php-var">$samplingrate</span>;
</span><span id="4770" class="l"><a class="l" href="#4770"> 4770: </a>        <span class="php-var">$this</span>-&gt;thumbnails = <span class="php-var">$thumbnails</span>;
</span><span id="4771" class="l"><a class="l" href="#4771"> 4771: </a>        <span class="php-var">$this</span>-&gt;title = <span class="php-var">$title</span>;
</span><span id="4772" class="l"><a class="l" href="#4772"> 4772: </a>        <span class="php-var">$this</span>-&gt;type = <span class="php-var">$type</span>;
</span><span id="4773" class="l"><a class="l" href="#4773"> 4773: </a>        <span class="php-var">$this</span>-&gt;width = <span class="php-var">$width</span>;
</span><span id="4774" class="l"><a class="l" href="#4774"> 4774: </a>
</span><span id="4775" class="l"><a class="l" href="#4775"> 4775: </a>        <span class="php-keyword1">if</span> (<span class="php-keyword2">class_exists</span>(<span class="php-quote">'idna_convert'</span>))
</span><span id="4776" class="l"><a class="l" href="#4776"> 4776: </a>        {
</span><span id="4777" class="l"><a class="l" href="#4777"> 4777: </a>            <span class="php-var">$idn</span> = <span class="php-keyword1">new</span> idna_convert();
</span><span id="4778" class="l"><a class="l" href="#4778"> 4778: </a>            <span class="php-var">$parsed</span> = SimplePie_Misc::<span class="php-keyword2">parse_url</span>(<span class="php-var">$link</span>);
</span><span id="4779" class="l"><a class="l" href="#4779"> 4779: </a>            <span class="php-var">$this</span>-&gt;<span class="php-keyword2">link</span> = SimplePie_Misc::compress_parse_url(<span class="php-var">$parsed</span>[<span class="php-quote">'scheme'</span>], <span class="php-var">$idn</span>-&gt;encode(<span class="php-var">$parsed</span>[<span class="php-quote">'authority'</span>]), <span class="php-var">$parsed</span>[<span class="php-quote">'path'</span>], <span class="php-var">$parsed</span>[<span class="php-quote">'query'</span>], <span class="php-var">$parsed</span>[<span class="php-quote">'fragment'</span>]);
</span><span id="4780" class="l"><a class="l" href="#4780"> 4780: </a>        }
</span><span id="4781" class="l"><a class="l" href="#4781"> 4781: </a>        <span class="php-var">$this</span>-&gt;handler = <span class="php-var">$this</span>-&gt;get_handler(); <span class="php-comment">// Needs to load last</span>
</span><span id="4782" class="l"><a class="l" href="#4782"> 4782: </a>    }
</span><span id="4783" class="l"><a class="l" href="#4783"> 4783: </a>
</span><span id="4784" class="l"><a class="l" href="#4784"> 4784: </a>    <span class="php-comment">/**
</span></span><span id="4785" class="l"><a class="l" href="#4785"> 4785: </a><span class="php-comment">     * String-ified version
</span></span><span id="4786" class="l"><a class="l" href="#4786"> 4786: </a><span class="php-comment">     *
</span></span><span id="4787" class="l"><a class="l" href="#4787"> 4787: </a><span class="php-comment">     * @return string
</span></span><span id="4788" class="l"><a class="l" href="#4788"> 4788: </a><span class="php-comment">     */</span>
</span><span id="4789" class="l"><a class="l" href="#4789"> 4789: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="___toString" href="#___toString">__toString</a>()
</span><span id="4790" class="l"><a class="l" href="#4790"> 4790: </a>    {
</span><span id="4791" class="l"><a class="l" href="#4791"> 4791: </a>        <span class="php-comment">// There is no $this-&gt;data here</span>
</span><span id="4792" class="l"><a class="l" href="#4792"> 4792: </a>        <span class="php-keyword1">return</span> <span class="php-keyword2">md5</span>(<span class="php-keyword2">serialize</span>(<span class="php-var">$this</span>));
</span><span id="4793" class="l"><a class="l" href="#4793"> 4793: </a>    }
</span><span id="4794" class="l"><a class="l" href="#4794"> 4794: </a>
</span><span id="4795" class="l"><a class="l" href="#4795"> 4795: </a>    <span class="php-comment">/**
</span></span><span id="4796" class="l"><a class="l" href="#4796"> 4796: </a><span class="php-comment">     * Get the bitrate
</span></span><span id="4797" class="l"><a class="l" href="#4797"> 4797: </a><span class="php-comment">     *
</span></span><span id="4798" class="l"><a class="l" href="#4798"> 4798: </a><span class="php-comment">     * @return string|null
</span></span><span id="4799" class="l"><a class="l" href="#4799"> 4799: </a><span class="php-comment">     */</span>
</span><span id="4800" class="l"><a class="l" href="#4800"> 4800: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_get_bitrate" href="#_get_bitrate">get_bitrate</a>()
</span><span id="4801" class="l"><a class="l" href="#4801"> 4801: </a>    {
</span><span id="4802" class="l"><a class="l" href="#4802"> 4802: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$this</span>-&gt;bitrate !== <span class="php-keyword1">null</span>)
</span><span id="4803" class="l"><a class="l" href="#4803"> 4803: </a>        {
</span><span id="4804" class="l"><a class="l" href="#4804"> 4804: </a>            <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;bitrate;
</span><span id="4805" class="l"><a class="l" href="#4805"> 4805: </a>        }
</span><span id="4806" class="l"><a class="l" href="#4806"> 4806: </a>        <span class="php-keyword1">else</span>
</span><span id="4807" class="l"><a class="l" href="#4807"> 4807: </a>        {
</span><span id="4808" class="l"><a class="l" href="#4808"> 4808: </a>            <span class="php-keyword1">return</span> <span class="php-keyword1">null</span>;
</span><span id="4809" class="l"><a class="l" href="#4809"> 4809: </a>        }
</span><span id="4810" class="l"><a class="l" href="#4810"> 4810: </a>    }
</span><span id="4811" class="l"><a class="l" href="#4811"> 4811: </a>
</span><span id="4812" class="l"><a class="l" href="#4812"> 4812: </a>    <span class="php-comment">/**
</span></span><span id="4813" class="l"><a class="l" href="#4813"> 4813: </a><span class="php-comment">     * Get a single caption
</span></span><span id="4814" class="l"><a class="l" href="#4814"> 4814: </a><span class="php-comment">     *
</span></span><span id="4815" class="l"><a class="l" href="#4815"> 4815: </a><span class="php-comment">     * @param int $key
</span></span><span id="4816" class="l"><a class="l" href="#4816"> 4816: </a><span class="php-comment">     * @return SimplePie_Caption|null
</span></span><span id="4817" class="l"><a class="l" href="#4817"> 4817: </a><span class="php-comment">     */</span>
</span><span id="4818" class="l"><a class="l" href="#4818"> 4818: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_get_caption" href="#_get_caption">get_caption</a>(<span class="php-var">$key</span> = <span class="php-num">0</span>)
</span><span id="4819" class="l"><a class="l" href="#4819"> 4819: </a>    {
</span><span id="4820" class="l"><a class="l" href="#4820"> 4820: </a>        <span class="php-var">$captions</span> = <span class="php-var">$this</span>-&gt;get_captions();
</span><span id="4821" class="l"><a class="l" href="#4821"> 4821: </a>        <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$captions</span>[<span class="php-var">$key</span>]))
</span><span id="4822" class="l"><a class="l" href="#4822"> 4822: </a>        {
</span><span id="4823" class="l"><a class="l" href="#4823"> 4823: </a>            <span class="php-keyword1">return</span> <span class="php-var">$captions</span>[<span class="php-var">$key</span>];
</span><span id="4824" class="l"><a class="l" href="#4824"> 4824: </a>        }
</span><span id="4825" class="l"><a class="l" href="#4825"> 4825: </a>        <span class="php-keyword1">else</span>
</span><span id="4826" class="l"><a class="l" href="#4826"> 4826: </a>        {
</span><span id="4827" class="l"><a class="l" href="#4827"> 4827: </a>            <span class="php-keyword1">return</span> <span class="php-keyword1">null</span>;
</span><span id="4828" class="l"><a class="l" href="#4828"> 4828: </a>        }
</span><span id="4829" class="l"><a class="l" href="#4829"> 4829: </a>    }
</span><span id="4830" class="l"><a class="l" href="#4830"> 4830: </a>
</span><span id="4831" class="l"><a class="l" href="#4831"> 4831: </a>    <span class="php-comment">/**
</span></span><span id="4832" class="l"><a class="l" href="#4832"> 4832: </a><span class="php-comment">     * Get all captions
</span></span><span id="4833" class="l"><a class="l" href="#4833"> 4833: </a><span class="php-comment">     *
</span></span><span id="4834" class="l"><a class="l" href="#4834"> 4834: </a><span class="php-comment">     * @return array|null Array of {@see SimplePie_Caption} objects
</span></span><span id="4835" class="l"><a class="l" href="#4835"> 4835: </a><span class="php-comment">     */</span>
</span><span id="4836" class="l"><a class="l" href="#4836"> 4836: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_get_captions" href="#_get_captions">get_captions</a>()
</span><span id="4837" class="l"><a class="l" href="#4837"> 4837: </a>    {
</span><span id="4838" class="l"><a class="l" href="#4838"> 4838: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$this</span>-&gt;captions !== <span class="php-keyword1">null</span>)
</span><span id="4839" class="l"><a class="l" href="#4839"> 4839: </a>        {
</span><span id="4840" class="l"><a class="l" href="#4840"> 4840: </a>            <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;captions;
</span><span id="4841" class="l"><a class="l" href="#4841"> 4841: </a>        }
</span><span id="4842" class="l"><a class="l" href="#4842"> 4842: </a>        <span class="php-keyword1">else</span>
</span><span id="4843" class="l"><a class="l" href="#4843"> 4843: </a>        {
</span><span id="4844" class="l"><a class="l" href="#4844"> 4844: </a>            <span class="php-keyword1">return</span> <span class="php-keyword1">null</span>;
</span><span id="4845" class="l"><a class="l" href="#4845"> 4845: </a>        }
</span><span id="4846" class="l"><a class="l" href="#4846"> 4846: </a>    }
</span><span id="4847" class="l"><a class="l" href="#4847"> 4847: </a>
</span><span id="4848" class="l"><a class="l" href="#4848"> 4848: </a>    <span class="php-comment">/**
</span></span><span id="4849" class="l"><a class="l" href="#4849"> 4849: </a><span class="php-comment">     * Get a single category
</span></span><span id="4850" class="l"><a class="l" href="#4850"> 4850: </a><span class="php-comment">     *
</span></span><span id="4851" class="l"><a class="l" href="#4851"> 4851: </a><span class="php-comment">     * @param int $key
</span></span><span id="4852" class="l"><a class="l" href="#4852"> 4852: </a><span class="php-comment">     * @return SimplePie_Category|null
</span></span><span id="4853" class="l"><a class="l" href="#4853"> 4853: </a><span class="php-comment">     */</span>
</span><span id="4854" class="l"><a class="l" href="#4854"> 4854: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_get_category" href="#_get_category">get_category</a>(<span class="php-var">$key</span> = <span class="php-num">0</span>)
</span><span id="4855" class="l"><a class="l" href="#4855"> 4855: </a>    {
</span><span id="4856" class="l"><a class="l" href="#4856"> 4856: </a>        <span class="php-var">$categories</span> = <span class="php-var">$this</span>-&gt;get_categories();
</span><span id="4857" class="l"><a class="l" href="#4857"> 4857: </a>        <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$categories</span>[<span class="php-var">$key</span>]))
</span><span id="4858" class="l"><a class="l" href="#4858"> 4858: </a>        {
</span><span id="4859" class="l"><a class="l" href="#4859"> 4859: </a>            <span class="php-keyword1">return</span> <span class="php-var">$categories</span>[<span class="php-var">$key</span>];
</span><span id="4860" class="l"><a class="l" href="#4860"> 4860: </a>        }
</span><span id="4861" class="l"><a class="l" href="#4861"> 4861: </a>        <span class="php-keyword1">else</span>
</span><span id="4862" class="l"><a class="l" href="#4862"> 4862: </a>        {
</span><span id="4863" class="l"><a class="l" href="#4863"> 4863: </a>            <span class="php-keyword1">return</span> <span class="php-keyword1">null</span>;
</span><span id="4864" class="l"><a class="l" href="#4864"> 4864: </a>        }
</span><span id="4865" class="l"><a class="l" href="#4865"> 4865: </a>    }
</span><span id="4866" class="l"><a class="l" href="#4866"> 4866: </a>
</span><span id="4867" class="l"><a class="l" href="#4867"> 4867: </a>    <span class="php-comment">/**
</span></span><span id="4868" class="l"><a class="l" href="#4868"> 4868: </a><span class="php-comment">     * Get all categories
</span></span><span id="4869" class="l"><a class="l" href="#4869"> 4869: </a><span class="php-comment">     *
</span></span><span id="4870" class="l"><a class="l" href="#4870"> 4870: </a><span class="php-comment">     * @return array|null Array of {@see SimplePie_Category} objects
</span></span><span id="4871" class="l"><a class="l" href="#4871"> 4871: </a><span class="php-comment">     */</span>
</span><span id="4872" class="l"><a class="l" href="#4872"> 4872: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_get_categories" href="#_get_categories">get_categories</a>()
</span><span id="4873" class="l"><a class="l" href="#4873"> 4873: </a>    {
</span><span id="4874" class="l"><a class="l" href="#4874"> 4874: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$this</span>-&gt;categories !== <span class="php-keyword1">null</span>)
</span><span id="4875" class="l"><a class="l" href="#4875"> 4875: </a>        {
</span><span id="4876" class="l"><a class="l" href="#4876"> 4876: </a>            <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;categories;
</span><span id="4877" class="l"><a class="l" href="#4877"> 4877: </a>        }
</span><span id="4878" class="l"><a class="l" href="#4878"> 4878: </a>        <span class="php-keyword1">else</span>
</span><span id="4879" class="l"><a class="l" href="#4879"> 4879: </a>        {
</span><span id="4880" class="l"><a class="l" href="#4880"> 4880: </a>            <span class="php-keyword1">return</span> <span class="php-keyword1">null</span>;
</span><span id="4881" class="l"><a class="l" href="#4881"> 4881: </a>        }
</span><span id="4882" class="l"><a class="l" href="#4882"> 4882: </a>    }
</span><span id="4883" class="l"><a class="l" href="#4883"> 4883: </a>
</span><span id="4884" class="l"><a class="l" href="#4884"> 4884: </a>    <span class="php-comment">/**
</span></span><span id="4885" class="l"><a class="l" href="#4885"> 4885: </a><span class="php-comment">     * Get the number of audio channels
</span></span><span id="4886" class="l"><a class="l" href="#4886"> 4886: </a><span class="php-comment">     *
</span></span><span id="4887" class="l"><a class="l" href="#4887"> 4887: </a><span class="php-comment">     * @return int|null
</span></span><span id="4888" class="l"><a class="l" href="#4888"> 4888: </a><span class="php-comment">     */</span>
</span><span id="4889" class="l"><a class="l" href="#4889"> 4889: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_get_channels" href="#_get_channels">get_channels</a>()
</span><span id="4890" class="l"><a class="l" href="#4890"> 4890: </a>    {
</span><span id="4891" class="l"><a class="l" href="#4891"> 4891: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$this</span>-&gt;channels !== <span class="php-keyword1">null</span>)
</span><span id="4892" class="l"><a class="l" href="#4892"> 4892: </a>        {
</span><span id="4893" class="l"><a class="l" href="#4893"> 4893: </a>            <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;channels;
</span><span id="4894" class="l"><a class="l" href="#4894"> 4894: </a>        }
</span><span id="4895" class="l"><a class="l" href="#4895"> 4895: </a>        <span class="php-keyword1">else</span>
</span><span id="4896" class="l"><a class="l" href="#4896"> 4896: </a>        {
</span><span id="4897" class="l"><a class="l" href="#4897"> 4897: </a>            <span class="php-keyword1">return</span> <span class="php-keyword1">null</span>;
</span><span id="4898" class="l"><a class="l" href="#4898"> 4898: </a>        }
</span><span id="4899" class="l"><a class="l" href="#4899"> 4899: </a>    }
</span><span id="4900" class="l"><a class="l" href="#4900"> 4900: </a>
</span><span id="4901" class="l"><a class="l" href="#4901"> 4901: </a>    <span class="php-comment">/**
</span></span><span id="4902" class="l"><a class="l" href="#4902"> 4902: </a><span class="php-comment">     * Get the copyright information
</span></span><span id="4903" class="l"><a class="l" href="#4903"> 4903: </a><span class="php-comment">     *
</span></span><span id="4904" class="l"><a class="l" href="#4904"> 4904: </a><span class="php-comment">     * @return SimplePie_Copyright|null
</span></span><span id="4905" class="l"><a class="l" href="#4905"> 4905: </a><span class="php-comment">     */</span>
</span><span id="4906" class="l"><a class="l" href="#4906"> 4906: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_get_copyright" href="#_get_copyright">get_copyright</a>()
</span><span id="4907" class="l"><a class="l" href="#4907"> 4907: </a>    {
</span><span id="4908" class="l"><a class="l" href="#4908"> 4908: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$this</span>-&gt;copyright !== <span class="php-keyword1">null</span>)
</span><span id="4909" class="l"><a class="l" href="#4909"> 4909: </a>        {
</span><span id="4910" class="l"><a class="l" href="#4910"> 4910: </a>            <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;copyright;
</span><span id="4911" class="l"><a class="l" href="#4911"> 4911: </a>        }
</span><span id="4912" class="l"><a class="l" href="#4912"> 4912: </a>        <span class="php-keyword1">else</span>
</span><span id="4913" class="l"><a class="l" href="#4913"> 4913: </a>        {
</span><span id="4914" class="l"><a class="l" href="#4914"> 4914: </a>            <span class="php-keyword1">return</span> <span class="php-keyword1">null</span>;
</span><span id="4915" class="l"><a class="l" href="#4915"> 4915: </a>        }
</span><span id="4916" class="l"><a class="l" href="#4916"> 4916: </a>    }
</span><span id="4917" class="l"><a class="l" href="#4917"> 4917: </a>
</span><span id="4918" class="l"><a class="l" href="#4918"> 4918: </a>    <span class="php-comment">/**
</span></span><span id="4919" class="l"><a class="l" href="#4919"> 4919: </a><span class="php-comment">     * Get a single credit
</span></span><span id="4920" class="l"><a class="l" href="#4920"> 4920: </a><span class="php-comment">     *
</span></span><span id="4921" class="l"><a class="l" href="#4921"> 4921: </a><span class="php-comment">     * @param int $key
</span></span><span id="4922" class="l"><a class="l" href="#4922"> 4922: </a><span class="php-comment">     * @return SimplePie_Credit|null
</span></span><span id="4923" class="l"><a class="l" href="#4923"> 4923: </a><span class="php-comment">     */</span>
</span><span id="4924" class="l"><a class="l" href="#4924"> 4924: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_get_credit" href="#_get_credit">get_credit</a>(<span class="php-var">$key</span> = <span class="php-num">0</span>)
</span><span id="4925" class="l"><a class="l" href="#4925"> 4925: </a>    {
</span><span id="4926" class="l"><a class="l" href="#4926"> 4926: </a>        <span class="php-var">$credits</span> = <span class="php-var">$this</span>-&gt;get_credits();
</span><span id="4927" class="l"><a class="l" href="#4927"> 4927: </a>        <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$credits</span>[<span class="php-var">$key</span>]))
</span><span id="4928" class="l"><a class="l" href="#4928"> 4928: </a>        {
</span><span id="4929" class="l"><a class="l" href="#4929"> 4929: </a>            <span class="php-keyword1">return</span> <span class="php-var">$credits</span>[<span class="php-var">$key</span>];
</span><span id="4930" class="l"><a class="l" href="#4930"> 4930: </a>        }
</span><span id="4931" class="l"><a class="l" href="#4931"> 4931: </a>        <span class="php-keyword1">else</span>
</span><span id="4932" class="l"><a class="l" href="#4932"> 4932: </a>        {
</span><span id="4933" class="l"><a class="l" href="#4933"> 4933: </a>            <span class="php-keyword1">return</span> <span class="php-keyword1">null</span>;
</span><span id="4934" class="l"><a class="l" href="#4934"> 4934: </a>        }
</span><span id="4935" class="l"><a class="l" href="#4935"> 4935: </a>    }
</span><span id="4936" class="l"><a class="l" href="#4936"> 4936: </a>
</span><span id="4937" class="l"><a class="l" href="#4937"> 4937: </a>    <span class="php-comment">/**
</span></span><span id="4938" class="l"><a class="l" href="#4938"> 4938: </a><span class="php-comment">     * Get all credits
</span></span><span id="4939" class="l"><a class="l" href="#4939"> 4939: </a><span class="php-comment">     *
</span></span><span id="4940" class="l"><a class="l" href="#4940"> 4940: </a><span class="php-comment">     * @return array|null Array of {@see SimplePie_Credit} objects
</span></span><span id="4941" class="l"><a class="l" href="#4941"> 4941: </a><span class="php-comment">     */</span>
</span><span id="4942" class="l"><a class="l" href="#4942"> 4942: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_get_credits" href="#_get_credits">get_credits</a>()
</span><span id="4943" class="l"><a class="l" href="#4943"> 4943: </a>    {
</span><span id="4944" class="l"><a class="l" href="#4944"> 4944: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$this</span>-&gt;credits !== <span class="php-keyword1">null</span>)
</span><span id="4945" class="l"><a class="l" href="#4945"> 4945: </a>        {
</span><span id="4946" class="l"><a class="l" href="#4946"> 4946: </a>            <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;credits;
</span><span id="4947" class="l"><a class="l" href="#4947"> 4947: </a>        }
</span><span id="4948" class="l"><a class="l" href="#4948"> 4948: </a>        <span class="php-keyword1">else</span>
</span><span id="4949" class="l"><a class="l" href="#4949"> 4949: </a>        {
</span><span id="4950" class="l"><a class="l" href="#4950"> 4950: </a>            <span class="php-keyword1">return</span> <span class="php-keyword1">null</span>;
</span><span id="4951" class="l"><a class="l" href="#4951"> 4951: </a>        }
</span><span id="4952" class="l"><a class="l" href="#4952"> 4952: </a>    }
</span><span id="4953" class="l"><a class="l" href="#4953"> 4953: </a>
</span><span id="4954" class="l"><a class="l" href="#4954"> 4954: </a>    <span class="php-comment">/**
</span></span><span id="4955" class="l"><a class="l" href="#4955"> 4955: </a><span class="php-comment">     * Get the description of the enclosure
</span></span><span id="4956" class="l"><a class="l" href="#4956"> 4956: </a><span class="php-comment">     *
</span></span><span id="4957" class="l"><a class="l" href="#4957"> 4957: </a><span class="php-comment">     * @return string|null
</span></span><span id="4958" class="l"><a class="l" href="#4958"> 4958: </a><span class="php-comment">     */</span>
</span><span id="4959" class="l"><a class="l" href="#4959"> 4959: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_get_description" href="#_get_description">get_description</a>()
</span><span id="4960" class="l"><a class="l" href="#4960"> 4960: </a>    {
</span><span id="4961" class="l"><a class="l" href="#4961"> 4961: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$this</span>-&gt;description !== <span class="php-keyword1">null</span>)
</span><span id="4962" class="l"><a class="l" href="#4962"> 4962: </a>        {
</span><span id="4963" class="l"><a class="l" href="#4963"> 4963: </a>            <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;description;
</span><span id="4964" class="l"><a class="l" href="#4964"> 4964: </a>        }
</span><span id="4965" class="l"><a class="l" href="#4965"> 4965: </a>        <span class="php-keyword1">else</span>
</span><span id="4966" class="l"><a class="l" href="#4966"> 4966: </a>        {
</span><span id="4967" class="l"><a class="l" href="#4967"> 4967: </a>            <span class="php-keyword1">return</span> <span class="php-keyword1">null</span>;
</span><span id="4968" class="l"><a class="l" href="#4968"> 4968: </a>        }
</span><span id="4969" class="l"><a class="l" href="#4969"> 4969: </a>    }
</span><span id="4970" class="l"><a class="l" href="#4970"> 4970: </a>
</span><span id="4971" class="l"><a class="l" href="#4971"> 4971: </a>    <span class="php-comment">/**
</span></span><span id="4972" class="l"><a class="l" href="#4972"> 4972: </a><span class="php-comment">     * Get the duration of the enclosure
</span></span><span id="4973" class="l"><a class="l" href="#4973"> 4973: </a><span class="php-comment">     *
</span></span><span id="4974" class="l"><a class="l" href="#4974"> 4974: </a><span class="php-comment">     * @param string $convert Convert seconds into hh:mm:ss
</span></span><span id="4975" class="l"><a class="l" href="#4975"> 4975: </a><span class="php-comment">     * @return string|int|null 'hh:mm:ss' string if `$convert` was specified, otherwise integer (or null if none found)
</span></span><span id="4976" class="l"><a class="l" href="#4976"> 4976: </a><span class="php-comment">     */</span>
</span><span id="4977" class="l"><a class="l" href="#4977"> 4977: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_get_duration" href="#_get_duration">get_duration</a>(<span class="php-var">$convert</span> = <span class="php-keyword1">false</span>)
</span><span id="4978" class="l"><a class="l" href="#4978"> 4978: </a>    {
</span><span id="4979" class="l"><a class="l" href="#4979"> 4979: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$this</span>-&gt;duration !== <span class="php-keyword1">null</span>)
</span><span id="4980" class="l"><a class="l" href="#4980"> 4980: </a>        {
</span><span id="4981" class="l"><a class="l" href="#4981"> 4981: </a>            <span class="php-keyword1">if</span> (<span class="php-var">$convert</span>)
</span><span id="4982" class="l"><a class="l" href="#4982"> 4982: </a>            {
</span><span id="4983" class="l"><a class="l" href="#4983"> 4983: </a>                <span class="php-var">$time</span> = SimplePie_Misc::time_hms(<span class="php-var">$this</span>-&gt;duration);
</span><span id="4984" class="l"><a class="l" href="#4984"> 4984: </a>                <span class="php-keyword1">return</span> <span class="php-var">$time</span>;
</span><span id="4985" class="l"><a class="l" href="#4985"> 4985: </a>            }
</span><span id="4986" class="l"><a class="l" href="#4986"> 4986: </a>            <span class="php-keyword1">else</span>
</span><span id="4987" class="l"><a class="l" href="#4987"> 4987: </a>            {
</span><span id="4988" class="l"><a class="l" href="#4988"> 4988: </a>                <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;duration;
</span><span id="4989" class="l"><a class="l" href="#4989"> 4989: </a>            }
</span><span id="4990" class="l"><a class="l" href="#4990"> 4990: </a>        }
</span><span id="4991" class="l"><a class="l" href="#4991"> 4991: </a>        <span class="php-keyword1">else</span>
</span><span id="4992" class="l"><a class="l" href="#4992"> 4992: </a>        {
</span><span id="4993" class="l"><a class="l" href="#4993"> 4993: </a>            <span class="php-keyword1">return</span> <span class="php-keyword1">null</span>;
</span><span id="4994" class="l"><a class="l" href="#4994"> 4994: </a>        }
</span><span id="4995" class="l"><a class="l" href="#4995"> 4995: </a>    }
</span><span id="4996" class="l"><a class="l" href="#4996"> 4996: </a>
</span><span id="4997" class="l"><a class="l" href="#4997"> 4997: </a>    <span class="php-comment">/**
</span></span><span id="4998" class="l"><a class="l" href="#4998"> 4998: </a><span class="php-comment">     * Get the expression
</span></span><span id="4999" class="l"><a class="l" href="#4999"> 4999: </a><span class="php-comment">     *
</span></span><span id="5000" class="l"><a class="l" href="#5000"> 5000: </a><span class="php-comment">     * @return string Probably one of 'sample', 'full', 'nonstop', 'clip'. Defaults to 'full'
</span></span><span id="5001" class="l"><a class="l" href="#5001"> 5001: </a><span class="php-comment">     */</span>
</span><span id="5002" class="l"><a class="l" href="#5002"> 5002: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_get_expression" href="#_get_expression">get_expression</a>()
</span><span id="5003" class="l"><a class="l" href="#5003"> 5003: </a>    {
</span><span id="5004" class="l"><a class="l" href="#5004"> 5004: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$this</span>-&gt;expression !== <span class="php-keyword1">null</span>)
</span><span id="5005" class="l"><a class="l" href="#5005"> 5005: </a>        {
</span><span id="5006" class="l"><a class="l" href="#5006"> 5006: </a>            <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;expression;
</span><span id="5007" class="l"><a class="l" href="#5007"> 5007: </a>        }
</span><span id="5008" class="l"><a class="l" href="#5008"> 5008: </a>        <span class="php-keyword1">else</span>
</span><span id="5009" class="l"><a class="l" href="#5009"> 5009: </a>        {
</span><span id="5010" class="l"><a class="l" href="#5010"> 5010: </a>            <span class="php-keyword1">return</span> <span class="php-quote">'full'</span>;
</span><span id="5011" class="l"><a class="l" href="#5011"> 5011: </a>        }
</span><span id="5012" class="l"><a class="l" href="#5012"> 5012: </a>    }
</span><span id="5013" class="l"><a class="l" href="#5013"> 5013: </a>
</span><span id="5014" class="l"><a class="l" href="#5014"> 5014: </a>    <span class="php-comment">/**
</span></span><span id="5015" class="l"><a class="l" href="#5015"> 5015: </a><span class="php-comment">     * Get the file extension
</span></span><span id="5016" class="l"><a class="l" href="#5016"> 5016: </a><span class="php-comment">     *
</span></span><span id="5017" class="l"><a class="l" href="#5017"> 5017: </a><span class="php-comment">     * @return string|null
</span></span><span id="5018" class="l"><a class="l" href="#5018"> 5018: </a><span class="php-comment">     */</span>
</span><span id="5019" class="l"><a class="l" href="#5019"> 5019: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_get_extension" href="#_get_extension">get_extension</a>()
</span><span id="5020" class="l"><a class="l" href="#5020"> 5020: </a>    {
</span><span id="5021" class="l"><a class="l" href="#5021"> 5021: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$this</span>-&gt;<span class="php-keyword2">link</span> !== <span class="php-keyword1">null</span>)
</span><span id="5022" class="l"><a class="l" href="#5022"> 5022: </a>        {
</span><span id="5023" class="l"><a class="l" href="#5023"> 5023: </a>            <span class="php-var">$url</span> = SimplePie_Misc::<span class="php-keyword2">parse_url</span>(<span class="php-var">$this</span>-&gt;<span class="php-keyword2">link</span>);
</span><span id="5024" class="l"><a class="l" href="#5024"> 5024: </a>            <span class="php-keyword1">if</span> (<span class="php-var">$url</span>[<span class="php-quote">'path'</span>] !== <span class="php-quote">''</span>)
</span><span id="5025" class="l"><a class="l" href="#5025"> 5025: </a>            {
</span><span id="5026" class="l"><a class="l" href="#5026"> 5026: </a>                <span class="php-keyword1">return</span> <span class="php-keyword2">pathinfo</span>(<span class="php-var">$url</span>[<span class="php-quote">'path'</span>], PATHINFO_EXTENSION);
</span><span id="5027" class="l"><a class="l" href="#5027"> 5027: </a>            }
</span><span id="5028" class="l"><a class="l" href="#5028"> 5028: </a>        }
</span><span id="5029" class="l"><a class="l" href="#5029"> 5029: </a>        <span class="php-keyword1">return</span> <span class="php-keyword1">null</span>;
</span><span id="5030" class="l"><a class="l" href="#5030"> 5030: </a>    }
</span><span id="5031" class="l"><a class="l" href="#5031"> 5031: </a>
</span><span id="5032" class="l"><a class="l" href="#5032"> 5032: </a>    <span class="php-comment">/**
</span></span><span id="5033" class="l"><a class="l" href="#5033"> 5033: </a><span class="php-comment">     * Get the framerate (in frames-per-second)
</span></span><span id="5034" class="l"><a class="l" href="#5034"> 5034: </a><span class="php-comment">     *
</span></span><span id="5035" class="l"><a class="l" href="#5035"> 5035: </a><span class="php-comment">     * @return string|null
</span></span><span id="5036" class="l"><a class="l" href="#5036"> 5036: </a><span class="php-comment">     */</span>
</span><span id="5037" class="l"><a class="l" href="#5037"> 5037: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_get_framerate" href="#_get_framerate">get_framerate</a>()
</span><span id="5038" class="l"><a class="l" href="#5038"> 5038: </a>    {
</span><span id="5039" class="l"><a class="l" href="#5039"> 5039: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$this</span>-&gt;framerate !== <span class="php-keyword1">null</span>)
</span><span id="5040" class="l"><a class="l" href="#5040"> 5040: </a>        {
</span><span id="5041" class="l"><a class="l" href="#5041"> 5041: </a>            <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;framerate;
</span><span id="5042" class="l"><a class="l" href="#5042"> 5042: </a>        }
</span><span id="5043" class="l"><a class="l" href="#5043"> 5043: </a>        <span class="php-keyword1">else</span>
</span><span id="5044" class="l"><a class="l" href="#5044"> 5044: </a>        {
</span><span id="5045" class="l"><a class="l" href="#5045"> 5045: </a>            <span class="php-keyword1">return</span> <span class="php-keyword1">null</span>;
</span><span id="5046" class="l"><a class="l" href="#5046"> 5046: </a>        }
</span><span id="5047" class="l"><a class="l" href="#5047"> 5047: </a>    }
</span><span id="5048" class="l"><a class="l" href="#5048"> 5048: </a>
</span><span id="5049" class="l"><a class="l" href="#5049"> 5049: </a>    <span class="php-comment">/**
</span></span><span id="5050" class="l"><a class="l" href="#5050"> 5050: </a><span class="php-comment">     * Get the preferred handler
</span></span><span id="5051" class="l"><a class="l" href="#5051"> 5051: </a><span class="php-comment">     *
</span></span><span id="5052" class="l"><a class="l" href="#5052"> 5052: </a><span class="php-comment">     * @return string|null One of 'flash', 'fmedia', 'quicktime', 'wmedia', 'mp3'
</span></span><span id="5053" class="l"><a class="l" href="#5053"> 5053: </a><span class="php-comment">     */</span>
</span><span id="5054" class="l"><a class="l" href="#5054"> 5054: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_get_handler" href="#_get_handler">get_handler</a>()
</span><span id="5055" class="l"><a class="l" href="#5055"> 5055: </a>    {
</span><span id="5056" class="l"><a class="l" href="#5056"> 5056: </a>        <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;get_real_type(<span class="php-keyword1">true</span>);
</span><span id="5057" class="l"><a class="l" href="#5057"> 5057: </a>    }
</span><span id="5058" class="l"><a class="l" href="#5058"> 5058: </a>
</span><span id="5059" class="l"><a class="l" href="#5059"> 5059: </a>    <span class="php-comment">/**
</span></span><span id="5060" class="l"><a class="l" href="#5060"> 5060: </a><span class="php-comment">     * Get a single hash
</span></span><span id="5061" class="l"><a class="l" href="#5061"> 5061: </a><span class="php-comment">     *
</span></span><span id="5062" class="l"><a class="l" href="#5062"> 5062: </a><span class="php-comment">     * @link http://www.rssboard.org/media-rss#media-hash
</span></span><span id="5063" class="l"><a class="l" href="#5063"> 5063: </a><span class="php-comment">     * @param int $key
</span></span><span id="5064" class="l"><a class="l" href="#5064"> 5064: </a><span class="php-comment">     * @return string|null Hash as per `media:hash`, prefixed with &quot;$algo:&quot;
</span></span><span id="5065" class="l"><a class="l" href="#5065"> 5065: </a><span class="php-comment">     */</span>
</span><span id="5066" class="l"><a class="l" href="#5066"> 5066: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_get_hash" href="#_get_hash">get_hash</a>(<span class="php-var">$key</span> = <span class="php-num">0</span>)
</span><span id="5067" class="l"><a class="l" href="#5067"> 5067: </a>    {
</span><span id="5068" class="l"><a class="l" href="#5068"> 5068: </a>        <span class="php-var">$hashes</span> = <span class="php-var">$this</span>-&gt;get_hashes();
</span><span id="5069" class="l"><a class="l" href="#5069"> 5069: </a>        <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$hashes</span>[<span class="php-var">$key</span>]))
</span><span id="5070" class="l"><a class="l" href="#5070"> 5070: </a>        {
</span><span id="5071" class="l"><a class="l" href="#5071"> 5071: </a>            <span class="php-keyword1">return</span> <span class="php-var">$hashes</span>[<span class="php-var">$key</span>];
</span><span id="5072" class="l"><a class="l" href="#5072"> 5072: </a>        }
</span><span id="5073" class="l"><a class="l" href="#5073"> 5073: </a>        <span class="php-keyword1">else</span>
</span><span id="5074" class="l"><a class="l" href="#5074"> 5074: </a>        {
</span><span id="5075" class="l"><a class="l" href="#5075"> 5075: </a>            <span class="php-keyword1">return</span> <span class="php-keyword1">null</span>;
</span><span id="5076" class="l"><a class="l" href="#5076"> 5076: </a>        }
</span><span id="5077" class="l"><a class="l" href="#5077"> 5077: </a>    }
</span><span id="5078" class="l"><a class="l" href="#5078"> 5078: </a>
</span><span id="5079" class="l"><a class="l" href="#5079"> 5079: </a>    <span class="php-comment">/**
</span></span><span id="5080" class="l"><a class="l" href="#5080"> 5080: </a><span class="php-comment">     * Get all credits
</span></span><span id="5081" class="l"><a class="l" href="#5081"> 5081: </a><span class="php-comment">     *
</span></span><span id="5082" class="l"><a class="l" href="#5082"> 5082: </a><span class="php-comment">     * @return array|null Array of strings, see {@see get_hash()}
</span></span><span id="5083" class="l"><a class="l" href="#5083"> 5083: </a><span class="php-comment">     */</span>
</span><span id="5084" class="l"><a class="l" href="#5084"> 5084: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_get_hashes" href="#_get_hashes">get_hashes</a>()
</span><span id="5085" class="l"><a class="l" href="#5085"> 5085: </a>    {
</span><span id="5086" class="l"><a class="l" href="#5086"> 5086: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$this</span>-&gt;hashes !== <span class="php-keyword1">null</span>)
</span><span id="5087" class="l"><a class="l" href="#5087"> 5087: </a>        {
</span><span id="5088" class="l"><a class="l" href="#5088"> 5088: </a>            <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;hashes;
</span><span id="5089" class="l"><a class="l" href="#5089"> 5089: </a>        }
</span><span id="5090" class="l"><a class="l" href="#5090"> 5090: </a>        <span class="php-keyword1">else</span>
</span><span id="5091" class="l"><a class="l" href="#5091"> 5091: </a>        {
</span><span id="5092" class="l"><a class="l" href="#5092"> 5092: </a>            <span class="php-keyword1">return</span> <span class="php-keyword1">null</span>;
</span><span id="5093" class="l"><a class="l" href="#5093"> 5093: </a>        }
</span><span id="5094" class="l"><a class="l" href="#5094"> 5094: </a>    }
</span><span id="5095" class="l"><a class="l" href="#5095"> 5095: </a>
</span><span id="5096" class="l"><a class="l" href="#5096"> 5096: </a>    <span class="php-comment">/**
</span></span><span id="5097" class="l"><a class="l" href="#5097"> 5097: </a><span class="php-comment">     * Get the height
</span></span><span id="5098" class="l"><a class="l" href="#5098"> 5098: </a><span class="php-comment">     *
</span></span><span id="5099" class="l"><a class="l" href="#5099"> 5099: </a><span class="php-comment">     * @return string|null
</span></span><span id="5100" class="l"><a class="l" href="#5100"> 5100: </a><span class="php-comment">     */</span>
</span><span id="5101" class="l"><a class="l" href="#5101"> 5101: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_get_height" href="#_get_height">get_height</a>()
</span><span id="5102" class="l"><a class="l" href="#5102"> 5102: </a>    {
</span><span id="5103" class="l"><a class="l" href="#5103"> 5103: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$this</span>-&gt;height !== <span class="php-keyword1">null</span>)
</span><span id="5104" class="l"><a class="l" href="#5104"> 5104: </a>        {
</span><span id="5105" class="l"><a class="l" href="#5105"> 5105: </a>            <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;height;
</span><span id="5106" class="l"><a class="l" href="#5106"> 5106: </a>        }
</span><span id="5107" class="l"><a class="l" href="#5107"> 5107: </a>        <span class="php-keyword1">else</span>
</span><span id="5108" class="l"><a class="l" href="#5108"> 5108: </a>        {
</span><span id="5109" class="l"><a class="l" href="#5109"> 5109: </a>            <span class="php-keyword1">return</span> <span class="php-keyword1">null</span>;
</span><span id="5110" class="l"><a class="l" href="#5110"> 5110: </a>        }
</span><span id="5111" class="l"><a class="l" href="#5111"> 5111: </a>    }
</span><span id="5112" class="l"><a class="l" href="#5112"> 5112: </a>
</span><span id="5113" class="l"><a class="l" href="#5113"> 5113: </a>    <span class="php-comment">/**
</span></span><span id="5114" class="l"><a class="l" href="#5114"> 5114: </a><span class="php-comment">     * Get the language
</span></span><span id="5115" class="l"><a class="l" href="#5115"> 5115: </a><span class="php-comment">     *
</span></span><span id="5116" class="l"><a class="l" href="#5116"> 5116: </a><span class="php-comment">     * @link http://tools.ietf.org/html/rfc3066
</span></span><span id="5117" class="l"><a class="l" href="#5117"> 5117: </a><span class="php-comment">     * @return string|null Language code as per RFC 3066
</span></span><span id="5118" class="l"><a class="l" href="#5118"> 5118: </a><span class="php-comment">     */</span>
</span><span id="5119" class="l"><a class="l" href="#5119"> 5119: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_get_language" href="#_get_language">get_language</a>()
</span><span id="5120" class="l"><a class="l" href="#5120"> 5120: </a>    {
</span><span id="5121" class="l"><a class="l" href="#5121"> 5121: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$this</span>-&gt;lang !== <span class="php-keyword1">null</span>)
</span><span id="5122" class="l"><a class="l" href="#5122"> 5122: </a>        {
</span><span id="5123" class="l"><a class="l" href="#5123"> 5123: </a>            <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;lang;
</span><span id="5124" class="l"><a class="l" href="#5124"> 5124: </a>        }
</span><span id="5125" class="l"><a class="l" href="#5125"> 5125: </a>        <span class="php-keyword1">else</span>
</span><span id="5126" class="l"><a class="l" href="#5126"> 5126: </a>        {
</span><span id="5127" class="l"><a class="l" href="#5127"> 5127: </a>            <span class="php-keyword1">return</span> <span class="php-keyword1">null</span>;
</span><span id="5128" class="l"><a class="l" href="#5128"> 5128: </a>        }
</span><span id="5129" class="l"><a class="l" href="#5129"> 5129: </a>    }
</span><span id="5130" class="l"><a class="l" href="#5130"> 5130: </a>
</span><span id="5131" class="l"><a class="l" href="#5131"> 5131: </a>    <span class="php-comment">/**
</span></span><span id="5132" class="l"><a class="l" href="#5132"> 5132: </a><span class="php-comment">     * Get a single keyword
</span></span><span id="5133" class="l"><a class="l" href="#5133"> 5133: </a><span class="php-comment">     *
</span></span><span id="5134" class="l"><a class="l" href="#5134"> 5134: </a><span class="php-comment">     * @param int $key
</span></span><span id="5135" class="l"><a class="l" href="#5135"> 5135: </a><span class="php-comment">     * @return string|null
</span></span><span id="5136" class="l"><a class="l" href="#5136"> 5136: </a><span class="php-comment">     */</span>
</span><span id="5137" class="l"><a class="l" href="#5137"> 5137: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_get_keyword" href="#_get_keyword">get_keyword</a>(<span class="php-var">$key</span> = <span class="php-num">0</span>)
</span><span id="5138" class="l"><a class="l" href="#5138"> 5138: </a>    {
</span><span id="5139" class="l"><a class="l" href="#5139"> 5139: </a>        <span class="php-var">$keywords</span> = <span class="php-var">$this</span>-&gt;get_keywords();
</span><span id="5140" class="l"><a class="l" href="#5140"> 5140: </a>        <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$keywords</span>[<span class="php-var">$key</span>]))
</span><span id="5141" class="l"><a class="l" href="#5141"> 5141: </a>        {
</span><span id="5142" class="l"><a class="l" href="#5142"> 5142: </a>            <span class="php-keyword1">return</span> <span class="php-var">$keywords</span>[<span class="php-var">$key</span>];
</span><span id="5143" class="l"><a class="l" href="#5143"> 5143: </a>        }
</span><span id="5144" class="l"><a class="l" href="#5144"> 5144: </a>        <span class="php-keyword1">else</span>
</span><span id="5145" class="l"><a class="l" href="#5145"> 5145: </a>        {
</span><span id="5146" class="l"><a class="l" href="#5146"> 5146: </a>            <span class="php-keyword1">return</span> <span class="php-keyword1">null</span>;
</span><span id="5147" class="l"><a class="l" href="#5147"> 5147: </a>        }
</span><span id="5148" class="l"><a class="l" href="#5148"> 5148: </a>    }
</span><span id="5149" class="l"><a class="l" href="#5149"> 5149: </a>
</span><span id="5150" class="l"><a class="l" href="#5150"> 5150: </a>    <span class="php-comment">/**
</span></span><span id="5151" class="l"><a class="l" href="#5151"> 5151: </a><span class="php-comment">     * Get all keywords
</span></span><span id="5152" class="l"><a class="l" href="#5152"> 5152: </a><span class="php-comment">     *
</span></span><span id="5153" class="l"><a class="l" href="#5153"> 5153: </a><span class="php-comment">     * @return array|null Array of strings
</span></span><span id="5154" class="l"><a class="l" href="#5154"> 5154: </a><span class="php-comment">     */</span>
</span><span id="5155" class="l"><a class="l" href="#5155"> 5155: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_get_keywords" href="#_get_keywords">get_keywords</a>()
</span><span id="5156" class="l"><a class="l" href="#5156"> 5156: </a>    {
</span><span id="5157" class="l"><a class="l" href="#5157"> 5157: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$this</span>-&gt;keywords !== <span class="php-keyword1">null</span>)
</span><span id="5158" class="l"><a class="l" href="#5158"> 5158: </a>        {
</span><span id="5159" class="l"><a class="l" href="#5159"> 5159: </a>            <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;keywords;
</span><span id="5160" class="l"><a class="l" href="#5160"> 5160: </a>        }
</span><span id="5161" class="l"><a class="l" href="#5161"> 5161: </a>        <span class="php-keyword1">else</span>
</span><span id="5162" class="l"><a class="l" href="#5162"> 5162: </a>        {
</span><span id="5163" class="l"><a class="l" href="#5163"> 5163: </a>            <span class="php-keyword1">return</span> <span class="php-keyword1">null</span>;
</span><span id="5164" class="l"><a class="l" href="#5164"> 5164: </a>        }
</span><span id="5165" class="l"><a class="l" href="#5165"> 5165: </a>    }
</span><span id="5166" class="l"><a class="l" href="#5166"> 5166: </a>
</span><span id="5167" class="l"><a class="l" href="#5167"> 5167: </a>    <span class="php-comment">/**
</span></span><span id="5168" class="l"><a class="l" href="#5168"> 5168: </a><span class="php-comment">     * Get length
</span></span><span id="5169" class="l"><a class="l" href="#5169"> 5169: </a><span class="php-comment">     *
</span></span><span id="5170" class="l"><a class="l" href="#5170"> 5170: </a><span class="php-comment">     * @return float Length in bytes
</span></span><span id="5171" class="l"><a class="l" href="#5171"> 5171: </a><span class="php-comment">     */</span>
</span><span id="5172" class="l"><a class="l" href="#5172"> 5172: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_get_length" href="#_get_length">get_length</a>()
</span><span id="5173" class="l"><a class="l" href="#5173"> 5173: </a>    {
</span><span id="5174" class="l"><a class="l" href="#5174"> 5174: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$this</span>-&gt;length !== <span class="php-keyword1">null</span>)
</span><span id="5175" class="l"><a class="l" href="#5175"> 5175: </a>        {
</span><span id="5176" class="l"><a class="l" href="#5176"> 5176: </a>            <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;length;
</span><span id="5177" class="l"><a class="l" href="#5177"> 5177: </a>        }
</span><span id="5178" class="l"><a class="l" href="#5178"> 5178: </a>        <span class="php-keyword1">else</span>
</span><span id="5179" class="l"><a class="l" href="#5179"> 5179: </a>        {
</span><span id="5180" class="l"><a class="l" href="#5180"> 5180: </a>            <span class="php-keyword1">return</span> <span class="php-keyword1">null</span>;
</span><span id="5181" class="l"><a class="l" href="#5181"> 5181: </a>        }
</span><span id="5182" class="l"><a class="l" href="#5182"> 5182: </a>    }
</span><span id="5183" class="l"><a class="l" href="#5183"> 5183: </a>
</span><span id="5184" class="l"><a class="l" href="#5184"> 5184: </a>    <span class="php-comment">/**
</span></span><span id="5185" class="l"><a class="l" href="#5185"> 5185: </a><span class="php-comment">     * Get the URL
</span></span><span id="5186" class="l"><a class="l" href="#5186"> 5186: </a><span class="php-comment">     *
</span></span><span id="5187" class="l"><a class="l" href="#5187"> 5187: </a><span class="php-comment">     * @return string|null
</span></span><span id="5188" class="l"><a class="l" href="#5188"> 5188: </a><span class="php-comment">     */</span>
</span><span id="5189" class="l"><a class="l" href="#5189"> 5189: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_get_link" href="#_get_link">get_link</a>()
</span><span id="5190" class="l"><a class="l" href="#5190"> 5190: </a>    {
</span><span id="5191" class="l"><a class="l" href="#5191"> 5191: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$this</span>-&gt;<span class="php-keyword2">link</span> !== <span class="php-keyword1">null</span>)
</span><span id="5192" class="l"><a class="l" href="#5192"> 5192: </a>        {
</span><span id="5193" class="l"><a class="l" href="#5193"> 5193: </a>            <span class="php-keyword1">return</span> <span class="php-keyword2">urldecode</span>(<span class="php-var">$this</span>-&gt;<span class="php-keyword2">link</span>);
</span><span id="5194" class="l"><a class="l" href="#5194"> 5194: </a>        }
</span><span id="5195" class="l"><a class="l" href="#5195"> 5195: </a>        <span class="php-keyword1">else</span>
</span><span id="5196" class="l"><a class="l" href="#5196"> 5196: </a>        {
</span><span id="5197" class="l"><a class="l" href="#5197"> 5197: </a>            <span class="php-keyword1">return</span> <span class="php-keyword1">null</span>;
</span><span id="5198" class="l"><a class="l" href="#5198"> 5198: </a>        }
</span><span id="5199" class="l"><a class="l" href="#5199"> 5199: </a>    }
</span><span id="5200" class="l"><a class="l" href="#5200"> 5200: </a>
</span><span id="5201" class="l"><a class="l" href="#5201"> 5201: </a>    <span class="php-comment">/**
</span></span><span id="5202" class="l"><a class="l" href="#5202"> 5202: </a><span class="php-comment">     * Get the medium
</span></span><span id="5203" class="l"><a class="l" href="#5203"> 5203: </a><span class="php-comment">     *
</span></span><span id="5204" class="l"><a class="l" href="#5204"> 5204: </a><span class="php-comment">     * @link http://www.rssboard.org/media-rss#media-content
</span></span><span id="5205" class="l"><a class="l" href="#5205"> 5205: </a><span class="php-comment">     * @return string|null Should be one of 'image', 'audio', 'video', 'document', 'executable'
</span></span><span id="5206" class="l"><a class="l" href="#5206"> 5206: </a><span class="php-comment">     */</span>
</span><span id="5207" class="l"><a class="l" href="#5207"> 5207: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_get_medium" href="#_get_medium">get_medium</a>()
</span><span id="5208" class="l"><a class="l" href="#5208"> 5208: </a>    {
</span><span id="5209" class="l"><a class="l" href="#5209"> 5209: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$this</span>-&gt;medium !== <span class="php-keyword1">null</span>)
</span><span id="5210" class="l"><a class="l" href="#5210"> 5210: </a>        {
</span><span id="5211" class="l"><a class="l" href="#5211"> 5211: </a>            <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;medium;
</span><span id="5212" class="l"><a class="l" href="#5212"> 5212: </a>        }
</span><span id="5213" class="l"><a class="l" href="#5213"> 5213: </a>        <span class="php-keyword1">else</span>
</span><span id="5214" class="l"><a class="l" href="#5214"> 5214: </a>        {
</span><span id="5215" class="l"><a class="l" href="#5215"> 5215: </a>            <span class="php-keyword1">return</span> <span class="php-keyword1">null</span>;
</span><span id="5216" class="l"><a class="l" href="#5216"> 5216: </a>        }
</span><span id="5217" class="l"><a class="l" href="#5217"> 5217: </a>    }
</span><span id="5218" class="l"><a class="l" href="#5218"> 5218: </a>
</span><span id="5219" class="l"><a class="l" href="#5219"> 5219: </a>    <span class="php-comment">/**
</span></span><span id="5220" class="l"><a class="l" href="#5220"> 5220: </a><span class="php-comment">     * Get the player URL
</span></span><span id="5221" class="l"><a class="l" href="#5221"> 5221: </a><span class="php-comment">     *
</span></span><span id="5222" class="l"><a class="l" href="#5222"> 5222: </a><span class="php-comment">     * Typically the same as {@see get_permalink()}
</span></span><span id="5223" class="l"><a class="l" href="#5223"> 5223: </a><span class="php-comment">     * @return string|null Player URL
</span></span><span id="5224" class="l"><a class="l" href="#5224"> 5224: </a><span class="php-comment">     */</span>
</span><span id="5225" class="l"><a class="l" href="#5225"> 5225: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_get_player" href="#_get_player">get_player</a>()
</span><span id="5226" class="l"><a class="l" href="#5226"> 5226: </a>    {
</span><span id="5227" class="l"><a class="l" href="#5227"> 5227: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$this</span>-&gt;player !== <span class="php-keyword1">null</span>)
</span><span id="5228" class="l"><a class="l" href="#5228"> 5228: </a>        {
</span><span id="5229" class="l"><a class="l" href="#5229"> 5229: </a>            <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;player;
</span><span id="5230" class="l"><a class="l" href="#5230"> 5230: </a>        }
</span><span id="5231" class="l"><a class="l" href="#5231"> 5231: </a>        <span class="php-keyword1">else</span>
</span><span id="5232" class="l"><a class="l" href="#5232"> 5232: </a>        {
</span><span id="5233" class="l"><a class="l" href="#5233"> 5233: </a>            <span class="php-keyword1">return</span> <span class="php-keyword1">null</span>;
</span><span id="5234" class="l"><a class="l" href="#5234"> 5234: </a>        }
</span><span id="5235" class="l"><a class="l" href="#5235"> 5235: </a>    }
</span><span id="5236" class="l"><a class="l" href="#5236"> 5236: </a>
</span><span id="5237" class="l"><a class="l" href="#5237"> 5237: </a>    <span class="php-comment">/**
</span></span><span id="5238" class="l"><a class="l" href="#5238"> 5238: </a><span class="php-comment">     * Get a single rating
</span></span><span id="5239" class="l"><a class="l" href="#5239"> 5239: </a><span class="php-comment">     *
</span></span><span id="5240" class="l"><a class="l" href="#5240"> 5240: </a><span class="php-comment">     * @param int $key
</span></span><span id="5241" class="l"><a class="l" href="#5241"> 5241: </a><span class="php-comment">     * @return SimplePie_Rating|null
</span></span><span id="5242" class="l"><a class="l" href="#5242"> 5242: </a><span class="php-comment">     */</span>
</span><span id="5243" class="l"><a class="l" href="#5243"> 5243: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_get_rating" href="#_get_rating">get_rating</a>(<span class="php-var">$key</span> = <span class="php-num">0</span>)
</span><span id="5244" class="l"><a class="l" href="#5244"> 5244: </a>    {
</span><span id="5245" class="l"><a class="l" href="#5245"> 5245: </a>        <span class="php-var">$ratings</span> = <span class="php-var">$this</span>-&gt;get_ratings();
</span><span id="5246" class="l"><a class="l" href="#5246"> 5246: </a>        <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$ratings</span>[<span class="php-var">$key</span>]))
</span><span id="5247" class="l"><a class="l" href="#5247"> 5247: </a>        {
</span><span id="5248" class="l"><a class="l" href="#5248"> 5248: </a>            <span class="php-keyword1">return</span> <span class="php-var">$ratings</span>[<span class="php-var">$key</span>];
</span><span id="5249" class="l"><a class="l" href="#5249"> 5249: </a>        }
</span><span id="5250" class="l"><a class="l" href="#5250"> 5250: </a>        <span class="php-keyword1">else</span>
</span><span id="5251" class="l"><a class="l" href="#5251"> 5251: </a>        {
</span><span id="5252" class="l"><a class="l" href="#5252"> 5252: </a>            <span class="php-keyword1">return</span> <span class="php-keyword1">null</span>;
</span><span id="5253" class="l"><a class="l" href="#5253"> 5253: </a>        }
</span><span id="5254" class="l"><a class="l" href="#5254"> 5254: </a>    }
</span><span id="5255" class="l"><a class="l" href="#5255"> 5255: </a>
</span><span id="5256" class="l"><a class="l" href="#5256"> 5256: </a>    <span class="php-comment">/**
</span></span><span id="5257" class="l"><a class="l" href="#5257"> 5257: </a><span class="php-comment">     * Get all ratings
</span></span><span id="5258" class="l"><a class="l" href="#5258"> 5258: </a><span class="php-comment">     *
</span></span><span id="5259" class="l"><a class="l" href="#5259"> 5259: </a><span class="php-comment">     * @return array|null Array of {@see SimplePie_Rating} objects
</span></span><span id="5260" class="l"><a class="l" href="#5260"> 5260: </a><span class="php-comment">     */</span>
</span><span id="5261" class="l"><a class="l" href="#5261"> 5261: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_get_ratings" href="#_get_ratings">get_ratings</a>()
</span><span id="5262" class="l"><a class="l" href="#5262"> 5262: </a>    {
</span><span id="5263" class="l"><a class="l" href="#5263"> 5263: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$this</span>-&gt;ratings !== <span class="php-keyword1">null</span>)
</span><span id="5264" class="l"><a class="l" href="#5264"> 5264: </a>        {
</span><span id="5265" class="l"><a class="l" href="#5265"> 5265: </a>            <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;ratings;
</span><span id="5266" class="l"><a class="l" href="#5266"> 5266: </a>        }
</span><span id="5267" class="l"><a class="l" href="#5267"> 5267: </a>        <span class="php-keyword1">else</span>
</span><span id="5268" class="l"><a class="l" href="#5268"> 5268: </a>        {
</span><span id="5269" class="l"><a class="l" href="#5269"> 5269: </a>            <span class="php-keyword1">return</span> <span class="php-keyword1">null</span>;
</span><span id="5270" class="l"><a class="l" href="#5270"> 5270: </a>        }
</span><span id="5271" class="l"><a class="l" href="#5271"> 5271: </a>    }
</span><span id="5272" class="l"><a class="l" href="#5272"> 5272: </a>
</span><span id="5273" class="l"><a class="l" href="#5273"> 5273: </a>    <span class="php-comment">/**
</span></span><span id="5274" class="l"><a class="l" href="#5274"> 5274: </a><span class="php-comment">     * Get a single restriction
</span></span><span id="5275" class="l"><a class="l" href="#5275"> 5275: </a><span class="php-comment">     *
</span></span><span id="5276" class="l"><a class="l" href="#5276"> 5276: </a><span class="php-comment">     * @param int $key
</span></span><span id="5277" class="l"><a class="l" href="#5277"> 5277: </a><span class="php-comment">     * @return SimplePie_Restriction|null
</span></span><span id="5278" class="l"><a class="l" href="#5278"> 5278: </a><span class="php-comment">     */</span>
</span><span id="5279" class="l"><a class="l" href="#5279"> 5279: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_get_restriction" href="#_get_restriction">get_restriction</a>(<span class="php-var">$key</span> = <span class="php-num">0</span>)
</span><span id="5280" class="l"><a class="l" href="#5280"> 5280: </a>    {
</span><span id="5281" class="l"><a class="l" href="#5281"> 5281: </a>        <span class="php-var">$restrictions</span> = <span class="php-var">$this</span>-&gt;get_restrictions();
</span><span id="5282" class="l"><a class="l" href="#5282"> 5282: </a>        <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$restrictions</span>[<span class="php-var">$key</span>]))
</span><span id="5283" class="l"><a class="l" href="#5283"> 5283: </a>        {
</span><span id="5284" class="l"><a class="l" href="#5284"> 5284: </a>            <span class="php-keyword1">return</span> <span class="php-var">$restrictions</span>[<span class="php-var">$key</span>];
</span><span id="5285" class="l"><a class="l" href="#5285"> 5285: </a>        }
</span><span id="5286" class="l"><a class="l" href="#5286"> 5286: </a>        <span class="php-keyword1">else</span>
</span><span id="5287" class="l"><a class="l" href="#5287"> 5287: </a>        {
</span><span id="5288" class="l"><a class="l" href="#5288"> 5288: </a>            <span class="php-keyword1">return</span> <span class="php-keyword1">null</span>;
</span><span id="5289" class="l"><a class="l" href="#5289"> 5289: </a>        }
</span><span id="5290" class="l"><a class="l" href="#5290"> 5290: </a>    }
</span><span id="5291" class="l"><a class="l" href="#5291"> 5291: </a>
</span><span id="5292" class="l"><a class="l" href="#5292"> 5292: </a>    <span class="php-comment">/**
</span></span><span id="5293" class="l"><a class="l" href="#5293"> 5293: </a><span class="php-comment">     * Get all restrictions
</span></span><span id="5294" class="l"><a class="l" href="#5294"> 5294: </a><span class="php-comment">     *
</span></span><span id="5295" class="l"><a class="l" href="#5295"> 5295: </a><span class="php-comment">     * @return array|null Array of {@see SimplePie_Restriction} objects
</span></span><span id="5296" class="l"><a class="l" href="#5296"> 5296: </a><span class="php-comment">     */</span>
</span><span id="5297" class="l"><a class="l" href="#5297"> 5297: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_get_restrictions" href="#_get_restrictions">get_restrictions</a>()
</span><span id="5298" class="l"><a class="l" href="#5298"> 5298: </a>    {
</span><span id="5299" class="l"><a class="l" href="#5299"> 5299: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$this</span>-&gt;restrictions !== <span class="php-keyword1">null</span>)
</span><span id="5300" class="l"><a class="l" href="#5300"> 5300: </a>        {
</span><span id="5301" class="l"><a class="l" href="#5301"> 5301: </a>            <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;restrictions;
</span><span id="5302" class="l"><a class="l" href="#5302"> 5302: </a>        }
</span><span id="5303" class="l"><a class="l" href="#5303"> 5303: </a>        <span class="php-keyword1">else</span>
</span><span id="5304" class="l"><a class="l" href="#5304"> 5304: </a>        {
</span><span id="5305" class="l"><a class="l" href="#5305"> 5305: </a>            <span class="php-keyword1">return</span> <span class="php-keyword1">null</span>;
</span><span id="5306" class="l"><a class="l" href="#5306"> 5306: </a>        }
</span><span id="5307" class="l"><a class="l" href="#5307"> 5307: </a>    }
</span><span id="5308" class="l"><a class="l" href="#5308"> 5308: </a>
</span><span id="5309" class="l"><a class="l" href="#5309"> 5309: </a>    <span class="php-comment">/**
</span></span><span id="5310" class="l"><a class="l" href="#5310"> 5310: </a><span class="php-comment">     * Get the sampling rate (in kHz)
</span></span><span id="5311" class="l"><a class="l" href="#5311"> 5311: </a><span class="php-comment">     *
</span></span><span id="5312" class="l"><a class="l" href="#5312"> 5312: </a><span class="php-comment">     * @return string|null
</span></span><span id="5313" class="l"><a class="l" href="#5313"> 5313: </a><span class="php-comment">     */</span>
</span><span id="5314" class="l"><a class="l" href="#5314"> 5314: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_get_sampling_rate" href="#_get_sampling_rate">get_sampling_rate</a>()
</span><span id="5315" class="l"><a class="l" href="#5315"> 5315: </a>    {
</span><span id="5316" class="l"><a class="l" href="#5316"> 5316: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$this</span>-&gt;samplingrate !== <span class="php-keyword1">null</span>)
</span><span id="5317" class="l"><a class="l" href="#5317"> 5317: </a>        {
</span><span id="5318" class="l"><a class="l" href="#5318"> 5318: </a>            <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;samplingrate;
</span><span id="5319" class="l"><a class="l" href="#5319"> 5319: </a>        }
</span><span id="5320" class="l"><a class="l" href="#5320"> 5320: </a>        <span class="php-keyword1">else</span>
</span><span id="5321" class="l"><a class="l" href="#5321"> 5321: </a>        {
</span><span id="5322" class="l"><a class="l" href="#5322"> 5322: </a>            <span class="php-keyword1">return</span> <span class="php-keyword1">null</span>;
</span><span id="5323" class="l"><a class="l" href="#5323"> 5323: </a>        }
</span><span id="5324" class="l"><a class="l" href="#5324"> 5324: </a>    }
</span><span id="5325" class="l"><a class="l" href="#5325"> 5325: </a>
</span><span id="5326" class="l"><a class="l" href="#5326"> 5326: </a>    <span class="php-comment">/**
</span></span><span id="5327" class="l"><a class="l" href="#5327"> 5327: </a><span class="php-comment">     * Get the file size (in MiB)
</span></span><span id="5328" class="l"><a class="l" href="#5328"> 5328: </a><span class="php-comment">     *
</span></span><span id="5329" class="l"><a class="l" href="#5329"> 5329: </a><span class="php-comment">     * @return float|null File size in mebibytes (1048 bytes)
</span></span><span id="5330" class="l"><a class="l" href="#5330"> 5330: </a><span class="php-comment">     */</span>
</span><span id="5331" class="l"><a class="l" href="#5331"> 5331: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_get_size" href="#_get_size">get_size</a>()
</span><span id="5332" class="l"><a class="l" href="#5332"> 5332: </a>    {
</span><span id="5333" class="l"><a class="l" href="#5333"> 5333: </a>        <span class="php-var">$length</span> = <span class="php-var">$this</span>-&gt;get_length();
</span><span id="5334" class="l"><a class="l" href="#5334"> 5334: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$length</span> !== <span class="php-keyword1">null</span>)
</span><span id="5335" class="l"><a class="l" href="#5335"> 5335: </a>        {
</span><span id="5336" class="l"><a class="l" href="#5336"> 5336: </a>            <span class="php-keyword1">return</span> <span class="php-keyword2">round</span>(<span class="php-var">$length</span>/<span class="php-num">1048576</span>, <span class="php-num">2</span>);
</span><span id="5337" class="l"><a class="l" href="#5337"> 5337: </a>        }
</span><span id="5338" class="l"><a class="l" href="#5338"> 5338: </a>        <span class="php-keyword1">else</span>
</span><span id="5339" class="l"><a class="l" href="#5339"> 5339: </a>        {
</span><span id="5340" class="l"><a class="l" href="#5340"> 5340: </a>            <span class="php-keyword1">return</span> <span class="php-keyword1">null</span>;
</span><span id="5341" class="l"><a class="l" href="#5341"> 5341: </a>        }
</span><span id="5342" class="l"><a class="l" href="#5342"> 5342: </a>    }
</span><span id="5343" class="l"><a class="l" href="#5343"> 5343: </a>
</span><span id="5344" class="l"><a class="l" href="#5344"> 5344: </a>    <span class="php-comment">/**
</span></span><span id="5345" class="l"><a class="l" href="#5345"> 5345: </a><span class="php-comment">     * Get a single thumbnail
</span></span><span id="5346" class="l"><a class="l" href="#5346"> 5346: </a><span class="php-comment">     *
</span></span><span id="5347" class="l"><a class="l" href="#5347"> 5347: </a><span class="php-comment">     * @param int $key
</span></span><span id="5348" class="l"><a class="l" href="#5348"> 5348: </a><span class="php-comment">     * @return string|null Thumbnail URL
</span></span><span id="5349" class="l"><a class="l" href="#5349"> 5349: </a><span class="php-comment">     */</span>
</span><span id="5350" class="l"><a class="l" href="#5350"> 5350: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_get_thumbnail" href="#_get_thumbnail">get_thumbnail</a>(<span class="php-var">$key</span> = <span class="php-num">0</span>)
</span><span id="5351" class="l"><a class="l" href="#5351"> 5351: </a>    {
</span><span id="5352" class="l"><a class="l" href="#5352"> 5352: </a>        <span class="php-var">$thumbnails</span> = <span class="php-var">$this</span>-&gt;get_thumbnails();
</span><span id="5353" class="l"><a class="l" href="#5353"> 5353: </a>        <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$thumbnails</span>[<span class="php-var">$key</span>]))
</span><span id="5354" class="l"><a class="l" href="#5354"> 5354: </a>        {
</span><span id="5355" class="l"><a class="l" href="#5355"> 5355: </a>            <span class="php-keyword1">return</span> <span class="php-var">$thumbnails</span>[<span class="php-var">$key</span>];
</span><span id="5356" class="l"><a class="l" href="#5356"> 5356: </a>        }
</span><span id="5357" class="l"><a class="l" href="#5357"> 5357: </a>        <span class="php-keyword1">else</span>
</span><span id="5358" class="l"><a class="l" href="#5358"> 5358: </a>        {
</span><span id="5359" class="l"><a class="l" href="#5359"> 5359: </a>            <span class="php-keyword1">return</span> <span class="php-keyword1">null</span>;
</span><span id="5360" class="l"><a class="l" href="#5360"> 5360: </a>        }
</span><span id="5361" class="l"><a class="l" href="#5361"> 5361: </a>    }
</span><span id="5362" class="l"><a class="l" href="#5362"> 5362: </a>
</span><span id="5363" class="l"><a class="l" href="#5363"> 5363: </a>    <span class="php-comment">/**
</span></span><span id="5364" class="l"><a class="l" href="#5364"> 5364: </a><span class="php-comment">     * Get all thumbnails
</span></span><span id="5365" class="l"><a class="l" href="#5365"> 5365: </a><span class="php-comment">     *
</span></span><span id="5366" class="l"><a class="l" href="#5366"> 5366: </a><span class="php-comment">     * @return array|null Array of thumbnail URLs
</span></span><span id="5367" class="l"><a class="l" href="#5367"> 5367: </a><span class="php-comment">     */</span>
</span><span id="5368" class="l"><a class="l" href="#5368"> 5368: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_get_thumbnails" href="#_get_thumbnails">get_thumbnails</a>()
</span><span id="5369" class="l"><a class="l" href="#5369"> 5369: </a>    {
</span><span id="5370" class="l"><a class="l" href="#5370"> 5370: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$this</span>-&gt;thumbnails !== <span class="php-keyword1">null</span>)
</span><span id="5371" class="l"><a class="l" href="#5371"> 5371: </a>        {
</span><span id="5372" class="l"><a class="l" href="#5372"> 5372: </a>            <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;thumbnails;
</span><span id="5373" class="l"><a class="l" href="#5373"> 5373: </a>        }
</span><span id="5374" class="l"><a class="l" href="#5374"> 5374: </a>        <span class="php-keyword1">else</span>
</span><span id="5375" class="l"><a class="l" href="#5375"> 5375: </a>        {
</span><span id="5376" class="l"><a class="l" href="#5376"> 5376: </a>            <span class="php-keyword1">return</span> <span class="php-keyword1">null</span>;
</span><span id="5377" class="l"><a class="l" href="#5377"> 5377: </a>        }
</span><span id="5378" class="l"><a class="l" href="#5378"> 5378: </a>    }
</span><span id="5379" class="l"><a class="l" href="#5379"> 5379: </a>
</span><span id="5380" class="l"><a class="l" href="#5380"> 5380: </a>    <span class="php-comment">/**
</span></span><span id="5381" class="l"><a class="l" href="#5381"> 5381: </a><span class="php-comment">     * Get the title
</span></span><span id="5382" class="l"><a class="l" href="#5382"> 5382: </a><span class="php-comment">     *
</span></span><span id="5383" class="l"><a class="l" href="#5383"> 5383: </a><span class="php-comment">     * @return string|null
</span></span><span id="5384" class="l"><a class="l" href="#5384"> 5384: </a><span class="php-comment">     */</span>
</span><span id="5385" class="l"><a class="l" href="#5385"> 5385: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_get_title" href="#_get_title">get_title</a>()
</span><span id="5386" class="l"><a class="l" href="#5386"> 5386: </a>    {
</span><span id="5387" class="l"><a class="l" href="#5387"> 5387: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$this</span>-&gt;title !== <span class="php-keyword1">null</span>)
</span><span id="5388" class="l"><a class="l" href="#5388"> 5388: </a>        {
</span><span id="5389" class="l"><a class="l" href="#5389"> 5389: </a>            <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;title;
</span><span id="5390" class="l"><a class="l" href="#5390"> 5390: </a>        }
</span><span id="5391" class="l"><a class="l" href="#5391"> 5391: </a>        <span class="php-keyword1">else</span>
</span><span id="5392" class="l"><a class="l" href="#5392"> 5392: </a>        {
</span><span id="5393" class="l"><a class="l" href="#5393"> 5393: </a>            <span class="php-keyword1">return</span> <span class="php-keyword1">null</span>;
</span><span id="5394" class="l"><a class="l" href="#5394"> 5394: </a>        }
</span><span id="5395" class="l"><a class="l" href="#5395"> 5395: </a>    }
</span><span id="5396" class="l"><a class="l" href="#5396"> 5396: </a>
</span><span id="5397" class="l"><a class="l" href="#5397"> 5397: </a>    <span class="php-comment">/**
</span></span><span id="5398" class="l"><a class="l" href="#5398"> 5398: </a><span class="php-comment">     * Get mimetype of the enclosure
</span></span><span id="5399" class="l"><a class="l" href="#5399"> 5399: </a><span class="php-comment">     *
</span></span><span id="5400" class="l"><a class="l" href="#5400"> 5400: </a><span class="php-comment">     * @see get_real_type()
</span></span><span id="5401" class="l"><a class="l" href="#5401"> 5401: </a><span class="php-comment">     * @return string|null MIME type
</span></span><span id="5402" class="l"><a class="l" href="#5402"> 5402: </a><span class="php-comment">     */</span>
</span><span id="5403" class="l"><a class="l" href="#5403"> 5403: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_get_type" href="#_get_type">get_type</a>()
</span><span id="5404" class="l"><a class="l" href="#5404"> 5404: </a>    {
</span><span id="5405" class="l"><a class="l" href="#5405"> 5405: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$this</span>-&gt;type !== <span class="php-keyword1">null</span>)
</span><span id="5406" class="l"><a class="l" href="#5406"> 5406: </a>        {
</span><span id="5407" class="l"><a class="l" href="#5407"> 5407: </a>            <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;type;
</span><span id="5408" class="l"><a class="l" href="#5408"> 5408: </a>        }
</span><span id="5409" class="l"><a class="l" href="#5409"> 5409: </a>        <span class="php-keyword1">else</span>
</span><span id="5410" class="l"><a class="l" href="#5410"> 5410: </a>        {
</span><span id="5411" class="l"><a class="l" href="#5411"> 5411: </a>            <span class="php-keyword1">return</span> <span class="php-keyword1">null</span>;
</span><span id="5412" class="l"><a class="l" href="#5412"> 5412: </a>        }
</span><span id="5413" class="l"><a class="l" href="#5413"> 5413: </a>    }
</span><span id="5414" class="l"><a class="l" href="#5414"> 5414: </a>
</span><span id="5415" class="l"><a class="l" href="#5415"> 5415: </a>    <span class="php-comment">/**
</span></span><span id="5416" class="l"><a class="l" href="#5416"> 5416: </a><span class="php-comment">     * Get the width
</span></span><span id="5417" class="l"><a class="l" href="#5417"> 5417: </a><span class="php-comment">     *
</span></span><span id="5418" class="l"><a class="l" href="#5418"> 5418: </a><span class="php-comment">     * @return string|null
</span></span><span id="5419" class="l"><a class="l" href="#5419"> 5419: </a><span class="php-comment">     */</span>
</span><span id="5420" class="l"><a class="l" href="#5420"> 5420: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_get_width" href="#_get_width">get_width</a>()
</span><span id="5421" class="l"><a class="l" href="#5421"> 5421: </a>    {
</span><span id="5422" class="l"><a class="l" href="#5422"> 5422: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$this</span>-&gt;width !== <span class="php-keyword1">null</span>)
</span><span id="5423" class="l"><a class="l" href="#5423"> 5423: </a>        {
</span><span id="5424" class="l"><a class="l" href="#5424"> 5424: </a>            <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;width;
</span><span id="5425" class="l"><a class="l" href="#5425"> 5425: </a>        }
</span><span id="5426" class="l"><a class="l" href="#5426"> 5426: </a>        <span class="php-keyword1">else</span>
</span><span id="5427" class="l"><a class="l" href="#5427"> 5427: </a>        {
</span><span id="5428" class="l"><a class="l" href="#5428"> 5428: </a>            <span class="php-keyword1">return</span> <span class="php-keyword1">null</span>;
</span><span id="5429" class="l"><a class="l" href="#5429"> 5429: </a>        }
</span><span id="5430" class="l"><a class="l" href="#5430"> 5430: </a>    }
</span><span id="5431" class="l"><a class="l" href="#5431"> 5431: </a>
</span><span id="5432" class="l"><a class="l" href="#5432"> 5432: </a>    <span class="php-comment">/**
</span></span><span id="5433" class="l"><a class="l" href="#5433"> 5433: </a><span class="php-comment">     * Embed the enclosure using `&lt;embed&gt;`
</span></span><span id="5434" class="l"><a class="l" href="#5434"> 5434: </a><span class="php-comment">     *
</span></span><span id="5435" class="l"><a class="l" href="#5435"> 5435: </a><span class="php-comment">     * @deprecated Use the second parameter to {@see embed} instead
</span></span><span id="5436" class="l"><a class="l" href="#5436"> 5436: </a><span class="php-comment">     *
</span></span><span id="5437" class="l"><a class="l" href="#5437"> 5437: </a><span class="php-comment">     * @param array|string $options See first paramter to {@see embed}
</span></span><span id="5438" class="l"><a class="l" href="#5438"> 5438: </a><span class="php-comment">     * @return string HTML string to output
</span></span><span id="5439" class="l"><a class="l" href="#5439"> 5439: </a><span class="php-comment">     */</span>
</span><span id="5440" class="l"><a class="l" href="#5440"> 5440: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_native_embed" href="#_native_embed">native_embed</a>(<span class="php-var">$options</span>=<span class="php-quote">''</span>)
</span><span id="5441" class="l"><a class="l" href="#5441"> 5441: </a>    {
</span><span id="5442" class="l"><a class="l" href="#5442"> 5442: </a>        <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;embed(<span class="php-var">$options</span>, <span class="php-keyword1">true</span>);
</span><span id="5443" class="l"><a class="l" href="#5443"> 5443: </a>    }
</span><span id="5444" class="l"><a class="l" href="#5444"> 5444: </a>
</span><span id="5445" class="l"><a class="l" href="#5445"> 5445: </a>    <span class="php-comment">/**
</span></span><span id="5446" class="l"><a class="l" href="#5446"> 5446: </a><span class="php-comment">     * Embed the enclosure using Javascript
</span></span><span id="5447" class="l"><a class="l" href="#5447"> 5447: </a><span class="php-comment">     *
</span></span><span id="5448" class="l"><a class="l" href="#5448"> 5448: </a><span class="php-comment">     * `$options` is an array or comma-separated key:value string, with the
</span></span><span id="5449" class="l"><a class="l" href="#5449"> 5449: </a><span class="php-comment">     * following properties:
</span></span><span id="5450" class="l"><a class="l" href="#5450"> 5450: </a><span class="php-comment">     *
</span></span><span id="5451" class="l"><a class="l" href="#5451"> 5451: </a><span class="php-comment">     * - `alt` (string): Alternate content for when an end-user does not have
</span></span><span id="5452" class="l"><a class="l" href="#5452"> 5452: </a><span class="php-comment">     *    the appropriate handler installed or when a file type is
</span></span><span id="5453" class="l"><a class="l" href="#5453"> 5453: </a><span class="php-comment">     *    unsupported. Can be any text or HTML. Defaults to blank.
</span></span><span id="5454" class="l"><a class="l" href="#5454"> 5454: </a><span class="php-comment">     * - `altclass` (string): If a file type is unsupported, the end-user will
</span></span><span id="5455" class="l"><a class="l" href="#5455"> 5455: </a><span class="php-comment">     *    see the alt text (above) linked directly to the content. That link
</span></span><span id="5456" class="l"><a class="l" href="#5456"> 5456: </a><span class="php-comment">     *    will have this value as its class name. Defaults to blank.
</span></span><span id="5457" class="l"><a class="l" href="#5457"> 5457: </a><span class="php-comment">     * - `audio` (string): This is an image that should be used as a
</span></span><span id="5458" class="l"><a class="l" href="#5458"> 5458: </a><span class="php-comment">     *    placeholder for audio files before they're loaded (QuickTime-only).
</span></span><span id="5459" class="l"><a class="l" href="#5459"> 5459: </a><span class="php-comment">     *    Can be any relative or absolute URL. Defaults to blank.
</span></span><span id="5460" class="l"><a class="l" href="#5460"> 5460: </a><span class="php-comment">     * - `bgcolor` (string): The background color for the media, if not
</span></span><span id="5461" class="l"><a class="l" href="#5461"> 5461: </a><span class="php-comment">     *    already transparent. Defaults to `#ffffff`.
</span></span><span id="5462" class="l"><a class="l" href="#5462"> 5462: </a><span class="php-comment">     * - `height` (integer): The height of the embedded media. Accepts any
</span></span><span id="5463" class="l"><a class="l" href="#5463"> 5463: </a><span class="php-comment">     *    numeric pixel value (such as `360`) or `auto`. Defaults to `auto`,
</span></span><span id="5464" class="l"><a class="l" href="#5464"> 5464: </a><span class="php-comment">     *    and it is recommended that you use this default.
</span></span><span id="5465" class="l"><a class="l" href="#5465"> 5465: </a><span class="php-comment">     * - `loop` (boolean): Do you want the media to loop when its done?
</span></span><span id="5466" class="l"><a class="l" href="#5466"> 5466: </a><span class="php-comment">     *    Defaults to `false`.
</span></span><span id="5467" class="l"><a class="l" href="#5467"> 5467: </a><span class="php-comment">     * - `mediaplayer` (string): The location of the included
</span></span><span id="5468" class="l"><a class="l" href="#5468"> 5468: </a><span class="php-comment">     *    `mediaplayer.swf` file. This allows for the playback of Flash Video
</span></span><span id="5469" class="l"><a class="l" href="#5469"> 5469: </a><span class="php-comment">     *    (`.flv`) files, and is the default handler for non-Odeo MP3's.
</span></span><span id="5470" class="l"><a class="l" href="#5470"> 5470: </a><span class="php-comment">     *    Defaults to blank.
</span></span><span id="5471" class="l"><a class="l" href="#5471"> 5471: </a><span class="php-comment">     * - `video` (string): This is an image that should be used as a
</span></span><span id="5472" class="l"><a class="l" href="#5472"> 5472: </a><span class="php-comment">     *    placeholder for video files before they're loaded (QuickTime-only).
</span></span><span id="5473" class="l"><a class="l" href="#5473"> 5473: </a><span class="php-comment">     *    Can be any relative or absolute URL. Defaults to blank.
</span></span><span id="5474" class="l"><a class="l" href="#5474"> 5474: </a><span class="php-comment">     * - `width` (integer): The width of the embedded media. Accepts any
</span></span><span id="5475" class="l"><a class="l" href="#5475"> 5475: </a><span class="php-comment">     *    numeric pixel value (such as `480`) or `auto`. Defaults to `auto`,
</span></span><span id="5476" class="l"><a class="l" href="#5476"> 5476: </a><span class="php-comment">     *    and it is recommended that you use this default.
</span></span><span id="5477" class="l"><a class="l" href="#5477"> 5477: </a><span class="php-comment">     * - `widescreen` (boolean): Is the enclosure widescreen or standard?
</span></span><span id="5478" class="l"><a class="l" href="#5478"> 5478: </a><span class="php-comment">     *    This applies only to video enclosures, and will automatically resize
</span></span><span id="5479" class="l"><a class="l" href="#5479"> 5479: </a><span class="php-comment">     *    the content appropriately.  Defaults to `false`, implying 4:3 mode.
</span></span><span id="5480" class="l"><a class="l" href="#5480"> 5480: </a><span class="php-comment">     *
</span></span><span id="5481" class="l"><a class="l" href="#5481"> 5481: </a><span class="php-comment">     * Note: Non-widescreen (4:3) mode with `width` and `height` set to `auto`
</span></span><span id="5482" class="l"><a class="l" href="#5482"> 5482: </a><span class="php-comment">     * will default to 480x360 video resolution.  Widescreen (16:9) mode with
</span></span><span id="5483" class="l"><a class="l" href="#5483"> 5483: </a><span class="php-comment">     * `width` and `height` set to `auto` will default to 480x270 video resolution.
</span></span><span id="5484" class="l"><a class="l" href="#5484"> 5484: </a><span class="php-comment">     *
</span></span><span id="5485" class="l"><a class="l" href="#5485"> 5485: </a><span class="php-comment">     * @todo If the dimensions for media:content are defined, use them when width/height are set to 'auto'.
</span></span><span id="5486" class="l"><a class="l" href="#5486"> 5486: </a><span class="php-comment">     * @param array|string $options Comma-separated key:value list, or array
</span></span><span id="5487" class="l"><a class="l" href="#5487"> 5487: </a><span class="php-comment">     * @param bool $native Use `&lt;embed&gt;`
</span></span><span id="5488" class="l"><a class="l" href="#5488"> 5488: </a><span class="php-comment">     * @return string HTML string to output
</span></span><span id="5489" class="l"><a class="l" href="#5489"> 5489: </a><span class="php-comment">     */</span>
</span><span id="5490" class="l"><a class="l" href="#5490"> 5490: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_embed" href="#_embed">embed</a>(<span class="php-var">$options</span> = <span class="php-quote">''</span>, <span class="php-var">$native</span> = <span class="php-keyword1">false</span>)
</span><span id="5491" class="l"><a class="l" href="#5491"> 5491: </a>    {
</span><span id="5492" class="l"><a class="l" href="#5492"> 5492: </a>        <span class="php-comment">// Set up defaults</span>
</span><span id="5493" class="l"><a class="l" href="#5493"> 5493: </a>        <span class="php-var">$audio</span> = <span class="php-quote">''</span>;
</span><span id="5494" class="l"><a class="l" href="#5494"> 5494: </a>        <span class="php-var">$video</span> = <span class="php-quote">''</span>;
</span><span id="5495" class="l"><a class="l" href="#5495"> 5495: </a>        <span class="php-var">$alt</span> = <span class="php-quote">''</span>;
</span><span id="5496" class="l"><a class="l" href="#5496"> 5496: </a>        <span class="php-var">$altclass</span> = <span class="php-quote">''</span>;
</span><span id="5497" class="l"><a class="l" href="#5497"> 5497: </a>        <span class="php-var">$loop</span> = <span class="php-quote">'false'</span>;
</span><span id="5498" class="l"><a class="l" href="#5498"> 5498: </a>        <span class="php-var">$width</span> = <span class="php-quote">'auto'</span>;
</span><span id="5499" class="l"><a class="l" href="#5499"> 5499: </a>        <span class="php-var">$height</span> = <span class="php-quote">'auto'</span>;
</span><span id="5500" class="l"><a class="l" href="#5500"> 5500: </a>        <span class="php-var">$bgcolor</span> = <span class="php-quote">'#ffffff'</span>;
</span><span id="5501" class="l"><a class="l" href="#5501"> 5501: </a>        <span class="php-var">$mediaplayer</span> = <span class="php-quote">''</span>;
</span><span id="5502" class="l"><a class="l" href="#5502"> 5502: </a>        <span class="php-var">$widescreen</span> = <span class="php-keyword1">false</span>;
</span><span id="5503" class="l"><a class="l" href="#5503"> 5503: </a>        <span class="php-var">$handler</span> = <span class="php-var">$this</span>-&gt;get_handler();
</span><span id="5504" class="l"><a class="l" href="#5504"> 5504: </a>        <span class="php-var">$type</span> = <span class="php-var">$this</span>-&gt;get_real_type();
</span><span id="5505" class="l"><a class="l" href="#5505"> 5505: </a>
</span><span id="5506" class="l"><a class="l" href="#5506"> 5506: </a>        <span class="php-comment">// Process options and reassign values as necessary</span>
</span><span id="5507" class="l"><a class="l" href="#5507"> 5507: </a>        <span class="php-keyword1">if</span> (<span class="php-keyword2">is_array</span>(<span class="php-var">$options</span>))
</span><span id="5508" class="l"><a class="l" href="#5508"> 5508: </a>        {
</span><span id="5509" class="l"><a class="l" href="#5509"> 5509: </a>            <span class="php-keyword2">extract</span>(<span class="php-var">$options</span>);
</span><span id="5510" class="l"><a class="l" href="#5510"> 5510: </a>        }
</span><span id="5511" class="l"><a class="l" href="#5511"> 5511: </a>        <span class="php-keyword1">else</span>
</span><span id="5512" class="l"><a class="l" href="#5512"> 5512: </a>        {
</span><span id="5513" class="l"><a class="l" href="#5513"> 5513: </a>            <span class="php-var">$options</span> = <span class="php-keyword2">explode</span>(<span class="php-quote">','</span>, <span class="php-var">$options</span>);
</span><span id="5514" class="l"><a class="l" href="#5514"> 5514: </a>            <span class="php-keyword1">foreach</span>(<span class="php-var">$options</span> <span class="php-keyword1">as</span> <span class="php-var">$option</span>)
</span><span id="5515" class="l"><a class="l" href="#5515"> 5515: </a>            {
</span><span id="5516" class="l"><a class="l" href="#5516"> 5516: </a>                <span class="php-var">$opt</span> = <span class="php-keyword2">explode</span>(<span class="php-quote">':'</span>, <span class="php-var">$option</span>, <span class="php-num">2</span>);
</span><span id="5517" class="l"><a class="l" href="#5517"> 5517: </a>                <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$opt</span>[<span class="php-num">0</span>], <span class="php-var">$opt</span>[<span class="php-num">1</span>]))
</span><span id="5518" class="l"><a class="l" href="#5518"> 5518: </a>                {
</span><span id="5519" class="l"><a class="l" href="#5519"> 5519: </a>                    <span class="php-var">$opt</span>[<span class="php-num">0</span>] = <span class="php-keyword2">trim</span>(<span class="php-var">$opt</span>[<span class="php-num">0</span>]);
</span><span id="5520" class="l"><a class="l" href="#5520"> 5520: </a>                    <span class="php-var">$opt</span>[<span class="php-num">1</span>] = <span class="php-keyword2">trim</span>(<span class="php-var">$opt</span>[<span class="php-num">1</span>]);
</span><span id="5521" class="l"><a class="l" href="#5521"> 5521: </a>                    <span class="php-keyword1">switch</span> (<span class="php-var">$opt</span>[<span class="php-num">0</span>])
</span><span id="5522" class="l"><a class="l" href="#5522"> 5522: </a>                    {
</span><span id="5523" class="l"><a class="l" href="#5523"> 5523: </a>                        <span class="php-keyword1">case</span> <span class="php-quote">'audio'</span>:
</span><span id="5524" class="l"><a class="l" href="#5524"> 5524: </a>                            <span class="php-var">$audio</span> = <span class="php-var">$opt</span>[<span class="php-num">1</span>];
</span><span id="5525" class="l"><a class="l" href="#5525"> 5525: </a>                            <span class="php-keyword1">break</span>;
</span><span id="5526" class="l"><a class="l" href="#5526"> 5526: </a>
</span><span id="5527" class="l"><a class="l" href="#5527"> 5527: </a>                        <span class="php-keyword1">case</span> <span class="php-quote">'video'</span>:
</span><span id="5528" class="l"><a class="l" href="#5528"> 5528: </a>                            <span class="php-var">$video</span> = <span class="php-var">$opt</span>[<span class="php-num">1</span>];
</span><span id="5529" class="l"><a class="l" href="#5529"> 5529: </a>                            <span class="php-keyword1">break</span>;
</span><span id="5530" class="l"><a class="l" href="#5530"> 5530: </a>
</span><span id="5531" class="l"><a class="l" href="#5531"> 5531: </a>                        <span class="php-keyword1">case</span> <span class="php-quote">'alt'</span>:
</span><span id="5532" class="l"><a class="l" href="#5532"> 5532: </a>                            <span class="php-var">$alt</span> = <span class="php-var">$opt</span>[<span class="php-num">1</span>];
</span><span id="5533" class="l"><a class="l" href="#5533"> 5533: </a>                            <span class="php-keyword1">break</span>;
</span><span id="5534" class="l"><a class="l" href="#5534"> 5534: </a>
</span><span id="5535" class="l"><a class="l" href="#5535"> 5535: </a>                        <span class="php-keyword1">case</span> <span class="php-quote">'altclass'</span>:
</span><span id="5536" class="l"><a class="l" href="#5536"> 5536: </a>                            <span class="php-var">$altclass</span> = <span class="php-var">$opt</span>[<span class="php-num">1</span>];
</span><span id="5537" class="l"><a class="l" href="#5537"> 5537: </a>                            <span class="php-keyword1">break</span>;
</span><span id="5538" class="l"><a class="l" href="#5538"> 5538: </a>
</span><span id="5539" class="l"><a class="l" href="#5539"> 5539: </a>                        <span class="php-keyword1">case</span> <span class="php-quote">'loop'</span>:
</span><span id="5540" class="l"><a class="l" href="#5540"> 5540: </a>                            <span class="php-var">$loop</span> = <span class="php-var">$opt</span>[<span class="php-num">1</span>];
</span><span id="5541" class="l"><a class="l" href="#5541"> 5541: </a>                            <span class="php-keyword1">break</span>;
</span><span id="5542" class="l"><a class="l" href="#5542"> 5542: </a>
</span><span id="5543" class="l"><a class="l" href="#5543"> 5543: </a>                        <span class="php-keyword1">case</span> <span class="php-quote">'width'</span>:
</span><span id="5544" class="l"><a class="l" href="#5544"> 5544: </a>                            <span class="php-var">$width</span> = <span class="php-var">$opt</span>[<span class="php-num">1</span>];
</span><span id="5545" class="l"><a class="l" href="#5545"> 5545: </a>                            <span class="php-keyword1">break</span>;
</span><span id="5546" class="l"><a class="l" href="#5546"> 5546: </a>
</span><span id="5547" class="l"><a class="l" href="#5547"> 5547: </a>                        <span class="php-keyword1">case</span> <span class="php-quote">'height'</span>:
</span><span id="5548" class="l"><a class="l" href="#5548"> 5548: </a>                            <span class="php-var">$height</span> = <span class="php-var">$opt</span>[<span class="php-num">1</span>];
</span><span id="5549" class="l"><a class="l" href="#5549"> 5549: </a>                            <span class="php-keyword1">break</span>;
</span><span id="5550" class="l"><a class="l" href="#5550"> 5550: </a>
</span><span id="5551" class="l"><a class="l" href="#5551"> 5551: </a>                        <span class="php-keyword1">case</span> <span class="php-quote">'bgcolor'</span>:
</span><span id="5552" class="l"><a class="l" href="#5552"> 5552: </a>                            <span class="php-var">$bgcolor</span> = <span class="php-var">$opt</span>[<span class="php-num">1</span>];
</span><span id="5553" class="l"><a class="l" href="#5553"> 5553: </a>                            <span class="php-keyword1">break</span>;
</span><span id="5554" class="l"><a class="l" href="#5554"> 5554: </a>
</span><span id="5555" class="l"><a class="l" href="#5555"> 5555: </a>                        <span class="php-keyword1">case</span> <span class="php-quote">'mediaplayer'</span>:
</span><span id="5556" class="l"><a class="l" href="#5556"> 5556: </a>                            <span class="php-var">$mediaplayer</span> = <span class="php-var">$opt</span>[<span class="php-num">1</span>];
</span><span id="5557" class="l"><a class="l" href="#5557"> 5557: </a>                            <span class="php-keyword1">break</span>;
</span><span id="5558" class="l"><a class="l" href="#5558"> 5558: </a>
</span><span id="5559" class="l"><a class="l" href="#5559"> 5559: </a>                        <span class="php-keyword1">case</span> <span class="php-quote">'widescreen'</span>:
</span><span id="5560" class="l"><a class="l" href="#5560"> 5560: </a>                            <span class="php-var">$widescreen</span> = <span class="php-var">$opt</span>[<span class="php-num">1</span>];
</span><span id="5561" class="l"><a class="l" href="#5561"> 5561: </a>                            <span class="php-keyword1">break</span>;
</span><span id="5562" class="l"><a class="l" href="#5562"> 5562: </a>                    }
</span><span id="5563" class="l"><a class="l" href="#5563"> 5563: </a>                }
</span><span id="5564" class="l"><a class="l" href="#5564"> 5564: </a>            }
</span><span id="5565" class="l"><a class="l" href="#5565"> 5565: </a>        }
</span><span id="5566" class="l"><a class="l" href="#5566"> 5566: </a>
</span><span id="5567" class="l"><a class="l" href="#5567"> 5567: </a>        <span class="php-var">$mime</span> = <span class="php-keyword2">explode</span>(<span class="php-quote">'/'</span>, <span class="php-var">$type</span>, <span class="php-num">2</span>);
</span><span id="5568" class="l"><a class="l" href="#5568"> 5568: </a>        <span class="php-var">$mime</span> = <span class="php-var">$mime</span>[<span class="php-num">0</span>];
</span><span id="5569" class="l"><a class="l" href="#5569"> 5569: </a>
</span><span id="5570" class="l"><a class="l" href="#5570"> 5570: </a>        <span class="php-comment">// Process values for 'auto'</span>
</span><span id="5571" class="l"><a class="l" href="#5571"> 5571: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$width</span> === <span class="php-quote">'auto'</span>)
</span><span id="5572" class="l"><a class="l" href="#5572"> 5572: </a>        {
</span><span id="5573" class="l"><a class="l" href="#5573"> 5573: </a>            <span class="php-keyword1">if</span> (<span class="php-var">$mime</span> === <span class="php-quote">'video'</span>)
</span><span id="5574" class="l"><a class="l" href="#5574"> 5574: </a>            {
</span><span id="5575" class="l"><a class="l" href="#5575"> 5575: </a>                <span class="php-keyword1">if</span> (<span class="php-var">$height</span> === <span class="php-quote">'auto'</span>)
</span><span id="5576" class="l"><a class="l" href="#5576"> 5576: </a>                {
</span><span id="5577" class="l"><a class="l" href="#5577"> 5577: </a>                    <span class="php-var">$width</span> = <span class="php-num">480</span>;
</span><span id="5578" class="l"><a class="l" href="#5578"> 5578: </a>                }
</span><span id="5579" class="l"><a class="l" href="#5579"> 5579: </a>                <span class="php-keyword1">elseif</span> (<span class="php-var">$widescreen</span>)
</span><span id="5580" class="l"><a class="l" href="#5580"> 5580: </a>                {
</span><span id="5581" class="l"><a class="l" href="#5581"> 5581: </a>                    <span class="php-var">$width</span> = <span class="php-keyword2">round</span>((<span class="php-keyword2">intval</span>(<span class="php-var">$height</span>)/<span class="php-num">9</span>)*<span class="php-num">16</span>);
</span><span id="5582" class="l"><a class="l" href="#5582"> 5582: </a>                }
</span><span id="5583" class="l"><a class="l" href="#5583"> 5583: </a>                <span class="php-keyword1">else</span>
</span><span id="5584" class="l"><a class="l" href="#5584"> 5584: </a>                {
</span><span id="5585" class="l"><a class="l" href="#5585"> 5585: </a>                    <span class="php-var">$width</span> = <span class="php-keyword2">round</span>((<span class="php-keyword2">intval</span>(<span class="php-var">$height</span>)/<span class="php-num">3</span>)*<span class="php-num">4</span>);
</span><span id="5586" class="l"><a class="l" href="#5586"> 5586: </a>                }
</span><span id="5587" class="l"><a class="l" href="#5587"> 5587: </a>            }
</span><span id="5588" class="l"><a class="l" href="#5588"> 5588: </a>            <span class="php-keyword1">else</span>
</span><span id="5589" class="l"><a class="l" href="#5589"> 5589: </a>            {
</span><span id="5590" class="l"><a class="l" href="#5590"> 5590: </a>                <span class="php-var">$width</span> = <span class="php-quote">'100%'</span>;
</span><span id="5591" class="l"><a class="l" href="#5591"> 5591: </a>            }
</span><span id="5592" class="l"><a class="l" href="#5592"> 5592: </a>        }
</span><span id="5593" class="l"><a class="l" href="#5593"> 5593: </a>
</span><span id="5594" class="l"><a class="l" href="#5594"> 5594: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$height</span> === <span class="php-quote">'auto'</span>)
</span><span id="5595" class="l"><a class="l" href="#5595"> 5595: </a>        {
</span><span id="5596" class="l"><a class="l" href="#5596"> 5596: </a>            <span class="php-keyword1">if</span> (<span class="php-var">$mime</span> === <span class="php-quote">'audio'</span>)
</span><span id="5597" class="l"><a class="l" href="#5597"> 5597: </a>            {
</span><span id="5598" class="l"><a class="l" href="#5598"> 5598: </a>                <span class="php-var">$height</span> = <span class="php-num">0</span>;
</span><span id="5599" class="l"><a class="l" href="#5599"> 5599: </a>            }
</span><span id="5600" class="l"><a class="l" href="#5600"> 5600: </a>            <span class="php-keyword1">elseif</span> (<span class="php-var">$mime</span> === <span class="php-quote">'video'</span>)
</span><span id="5601" class="l"><a class="l" href="#5601"> 5601: </a>            {
</span><span id="5602" class="l"><a class="l" href="#5602"> 5602: </a>                <span class="php-keyword1">if</span> (<span class="php-var">$width</span> === <span class="php-quote">'auto'</span>)
</span><span id="5603" class="l"><a class="l" href="#5603"> 5603: </a>                {
</span><span id="5604" class="l"><a class="l" href="#5604"> 5604: </a>                    <span class="php-keyword1">if</span> (<span class="php-var">$widescreen</span>)
</span><span id="5605" class="l"><a class="l" href="#5605"> 5605: </a>                    {
</span><span id="5606" class="l"><a class="l" href="#5606"> 5606: </a>                        <span class="php-var">$height</span> = <span class="php-num">270</span>;
</span><span id="5607" class="l"><a class="l" href="#5607"> 5607: </a>                    }
</span><span id="5608" class="l"><a class="l" href="#5608"> 5608: </a>                    <span class="php-keyword1">else</span>
</span><span id="5609" class="l"><a class="l" href="#5609"> 5609: </a>                    {
</span><span id="5610" class="l"><a class="l" href="#5610"> 5610: </a>                        <span class="php-var">$height</span> = <span class="php-num">360</span>;
</span><span id="5611" class="l"><a class="l" href="#5611"> 5611: </a>                    }
</span><span id="5612" class="l"><a class="l" href="#5612"> 5612: </a>                }
</span><span id="5613" class="l"><a class="l" href="#5613"> 5613: </a>                <span class="php-keyword1">elseif</span> (<span class="php-var">$widescreen</span>)
</span><span id="5614" class="l"><a class="l" href="#5614"> 5614: </a>                {
</span><span id="5615" class="l"><a class="l" href="#5615"> 5615: </a>                    <span class="php-var">$height</span> = <span class="php-keyword2">round</span>((<span class="php-keyword2">intval</span>(<span class="php-var">$width</span>)/<span class="php-num">16</span>)*<span class="php-num">9</span>);
</span><span id="5616" class="l"><a class="l" href="#5616"> 5616: </a>                }
</span><span id="5617" class="l"><a class="l" href="#5617"> 5617: </a>                <span class="php-keyword1">else</span>
</span><span id="5618" class="l"><a class="l" href="#5618"> 5618: </a>                {
</span><span id="5619" class="l"><a class="l" href="#5619"> 5619: </a>                    <span class="php-var">$height</span> = <span class="php-keyword2">round</span>((<span class="php-keyword2">intval</span>(<span class="php-var">$width</span>)/<span class="php-num">4</span>)*<span class="php-num">3</span>);
</span><span id="5620" class="l"><a class="l" href="#5620"> 5620: </a>                }
</span><span id="5621" class="l"><a class="l" href="#5621"> 5621: </a>            }
</span><span id="5622" class="l"><a class="l" href="#5622"> 5622: </a>            <span class="php-keyword1">else</span>
</span><span id="5623" class="l"><a class="l" href="#5623"> 5623: </a>            {
</span><span id="5624" class="l"><a class="l" href="#5624"> 5624: </a>                <span class="php-var">$height</span> = <span class="php-num">376</span>;
</span><span id="5625" class="l"><a class="l" href="#5625"> 5625: </a>            }
</span><span id="5626" class="l"><a class="l" href="#5626"> 5626: </a>        }
</span><span id="5627" class="l"><a class="l" href="#5627"> 5627: </a>        <span class="php-keyword1">elseif</span> (<span class="php-var">$mime</span> === <span class="php-quote">'audio'</span>)
</span><span id="5628" class="l"><a class="l" href="#5628"> 5628: </a>        {
</span><span id="5629" class="l"><a class="l" href="#5629"> 5629: </a>            <span class="php-var">$height</span> = <span class="php-num">0</span>;
</span><span id="5630" class="l"><a class="l" href="#5630"> 5630: </a>        }
</span><span id="5631" class="l"><a class="l" href="#5631"> 5631: </a>
</span><span id="5632" class="l"><a class="l" href="#5632"> 5632: </a>        <span class="php-comment">// Set proper placeholder value</span>
</span><span id="5633" class="l"><a class="l" href="#5633"> 5633: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$mime</span> === <span class="php-quote">'audio'</span>)
</span><span id="5634" class="l"><a class="l" href="#5634"> 5634: </a>        {
</span><span id="5635" class="l"><a class="l" href="#5635"> 5635: </a>            <span class="php-var">$placeholder</span> = <span class="php-var">$audio</span>;
</span><span id="5636" class="l"><a class="l" href="#5636"> 5636: </a>        }
</span><span id="5637" class="l"><a class="l" href="#5637"> 5637: </a>        <span class="php-keyword1">elseif</span> (<span class="php-var">$mime</span> === <span class="php-quote">'video'</span>)
</span><span id="5638" class="l"><a class="l" href="#5638"> 5638: </a>        {
</span><span id="5639" class="l"><a class="l" href="#5639"> 5639: </a>            <span class="php-var">$placeholder</span> = <span class="php-var">$video</span>;
</span><span id="5640" class="l"><a class="l" href="#5640"> 5640: </a>        }
</span><span id="5641" class="l"><a class="l" href="#5641"> 5641: </a>
</span><span id="5642" class="l"><a class="l" href="#5642"> 5642: </a>        <span class="php-var">$embed</span> = <span class="php-quote">''</span>;
</span><span id="5643" class="l"><a class="l" href="#5643"> 5643: </a>
</span><span id="5644" class="l"><a class="l" href="#5644"> 5644: </a>        <span class="php-comment">// Flash</span>
</span><span id="5645" class="l"><a class="l" href="#5645"> 5645: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$handler</span> === <span class="php-quote">'flash'</span>)
</span><span id="5646" class="l"><a class="l" href="#5646"> 5646: </a>        {
</span><span id="5647" class="l"><a class="l" href="#5647"> 5647: </a>            <span class="php-keyword1">if</span> (<span class="php-var">$native</span>)
</span><span id="5648" class="l"><a class="l" href="#5648"> 5648: </a>            {
</span><span id="5649" class="l"><a class="l" href="#5649"> 5649: </a>                <span class="php-var">$embed</span> .= <span class="php-quote">&quot;&lt;embed src=\&quot;&quot;</span> . <span class="php-var">$this</span>-&gt;get_link() . <span class="php-quote">&quot;\&quot; pluginspage=\&quot;http://adobe.com/go/getflashplayer\&quot; type=\&quot;</span><span class="php-var">$type</span><span class="php-quote">\&quot; quality=\&quot;high\&quot; width=\&quot;</span><span class="php-var">$width</span><span class="php-quote">\&quot; height=\&quot;</span><span class="php-var">$height</span><span class="php-quote">\&quot; bgcolor=\&quot;</span><span class="php-var">$bgcolor</span><span class="php-quote">\&quot; loop=\&quot;</span><span class="php-var">$loop</span><span class="php-quote">\&quot;&gt;&lt;/embed&gt;&quot;</span>;
</span><span id="5650" class="l"><a class="l" href="#5650"> 5650: </a>            }
</span><span id="5651" class="l"><a class="l" href="#5651"> 5651: </a>            <span class="php-keyword1">else</span>
</span><span id="5652" class="l"><a class="l" href="#5652"> 5652: </a>            {
</span><span id="5653" class="l"><a class="l" href="#5653"> 5653: </a>                <span class="php-var">$embed</span> .= <span class="php-quote">&quot;&lt;script type='text/javascript'&gt;embed_flash('</span><span class="php-var">$bgcolor</span><span class="php-quote">', '</span><span class="php-var">$width</span><span class="php-quote">', '</span><span class="php-var">$height</span><span class="php-quote">', '&quot;</span> . <span class="php-var">$this</span>-&gt;get_link() . <span class="php-quote">&quot;', '</span><span class="php-var">$loop</span><span class="php-quote">', '</span><span class="php-var">$type</span><span class="php-quote">');&lt;/script&gt;&quot;</span>;
</span><span id="5654" class="l"><a class="l" href="#5654"> 5654: </a>            }
</span><span id="5655" class="l"><a class="l" href="#5655"> 5655: </a>        }
</span><span id="5656" class="l"><a class="l" href="#5656"> 5656: </a>
</span><span id="5657" class="l"><a class="l" href="#5657"> 5657: </a>        <span class="php-comment">// Flash Media Player file types.</span>
</span><span id="5658" class="l"><a class="l" href="#5658"> 5658: </a>        <span class="php-comment">// Preferred handler for MP3 file types.</span>
</span><span id="5659" class="l"><a class="l" href="#5659"> 5659: </a>        <span class="php-keyword1">elseif</span> (<span class="php-var">$handler</span> === <span class="php-quote">'fmedia'</span> || (<span class="php-var">$handler</span> === <span class="php-quote">'mp3'</span> &amp;&amp; <span class="php-var">$mediaplayer</span> !== <span class="php-quote">''</span>))
</span><span id="5660" class="l"><a class="l" href="#5660"> 5660: </a>        {
</span><span id="5661" class="l"><a class="l" href="#5661"> 5661: </a>            <span class="php-var">$height</span> += <span class="php-num">20</span>;
</span><span id="5662" class="l"><a class="l" href="#5662"> 5662: </a>            <span class="php-keyword1">if</span> (<span class="php-var">$native</span>)
</span><span id="5663" class="l"><a class="l" href="#5663"> 5663: </a>            {
</span><span id="5664" class="l"><a class="l" href="#5664"> 5664: </a>                <span class="php-var">$embed</span> .= <span class="php-quote">&quot;&lt;embed src=\&quot;</span><span class="php-var">$mediaplayer</span><span class="php-quote">\&quot; pluginspage=\&quot;http://adobe.com/go/getflashplayer\&quot; type=\&quot;application/x-shockwave-flash\&quot; quality=\&quot;high\&quot; width=\&quot;</span><span class="php-var">$width</span><span class="php-quote">\&quot; height=\&quot;</span><span class="php-var">$height</span><span class="php-quote">\&quot; wmode=\&quot;transparent\&quot; flashvars=\&quot;file=&quot;</span> . <span class="php-keyword2">rawurlencode</span>(<span class="php-var">$this</span>-&gt;get_link().<span class="php-quote">'?file_extension=.'</span>.<span class="php-var">$this</span>-&gt;get_extension()) . <span class="php-quote">&quot;&amp;autostart=false&amp;repeat=</span><span class="php-var">$loop</span><span class="php-quote">&amp;showdigits=true&amp;showfsbutton=false\&quot;&gt;&lt;/embed&gt;&quot;</span>;
</span><span id="5665" class="l"><a class="l" href="#5665"> 5665: </a>            }
</span><span id="5666" class="l"><a class="l" href="#5666"> 5666: </a>            <span class="php-keyword1">else</span>
</span><span id="5667" class="l"><a class="l" href="#5667"> 5667: </a>            {
</span><span id="5668" class="l"><a class="l" href="#5668"> 5668: </a>                <span class="php-var">$embed</span> .= <span class="php-quote">&quot;&lt;script type='text/javascript'&gt;embed_flv('</span><span class="php-var">$width</span><span class="php-quote">', '</span><span class="php-var">$height</span><span class="php-quote">', '&quot;</span> . <span class="php-keyword2">rawurlencode</span>(<span class="php-var">$this</span>-&gt;get_link().<span class="php-quote">'?file_extension=.'</span>.<span class="php-var">$this</span>-&gt;get_extension()) . <span class="php-quote">&quot;', '</span><span class="php-var">$placeholder</span><span class="php-quote">', '</span><span class="php-var">$loop</span><span class="php-quote">', '</span><span class="php-var">$mediaplayer</span><span class="php-quote">');&lt;/script&gt;&quot;</span>;
</span><span id="5669" class="l"><a class="l" href="#5669"> 5669: </a>            }
</span><span id="5670" class="l"><a class="l" href="#5670"> 5670: </a>        }
</span><span id="5671" class="l"><a class="l" href="#5671"> 5671: </a>
</span><span id="5672" class="l"><a class="l" href="#5672"> 5672: </a>        <span class="php-comment">// QuickTime 7 file types.  Need to test with QuickTime 6.</span>
</span><span id="5673" class="l"><a class="l" href="#5673"> 5673: </a>        <span class="php-comment">// Only handle MP3's if the Flash Media Player is not present.</span>
</span><span id="5674" class="l"><a class="l" href="#5674"> 5674: </a>        <span class="php-keyword1">elseif</span> (<span class="php-var">$handler</span> === <span class="php-quote">'quicktime'</span> || (<span class="php-var">$handler</span> === <span class="php-quote">'mp3'</span> &amp;&amp; <span class="php-var">$mediaplayer</span> === <span class="php-quote">''</span>))
</span><span id="5675" class="l"><a class="l" href="#5675"> 5675: </a>        {
</span><span id="5676" class="l"><a class="l" href="#5676"> 5676: </a>            <span class="php-var">$height</span> += <span class="php-num">16</span>;
</span><span id="5677" class="l"><a class="l" href="#5677"> 5677: </a>            <span class="php-keyword1">if</span> (<span class="php-var">$native</span>)
</span><span id="5678" class="l"><a class="l" href="#5678"> 5678: </a>            {
</span><span id="5679" class="l"><a class="l" href="#5679"> 5679: </a>                <span class="php-keyword1">if</span> (<span class="php-var">$placeholder</span> !== <span class="php-quote">''</span>)
</span><span id="5680" class="l"><a class="l" href="#5680"> 5680: </a>                {
</span><span id="5681" class="l"><a class="l" href="#5681"> 5681: </a>                    <span class="php-var">$embed</span> .= <span class="php-quote">&quot;&lt;embed type=\&quot;</span><span class="php-var">$type</span><span class="php-quote">\&quot; style=\&quot;cursor:hand; cursor:pointer;\&quot; href=\&quot;&quot;</span> . <span class="php-var">$this</span>-&gt;get_link() . <span class="php-quote">&quot;\&quot; src=\&quot;</span><span class="php-var">$placeholder</span><span class="php-quote">\&quot; width=\&quot;</span><span class="php-var">$width</span><span class="php-quote">\&quot; height=\&quot;</span><span class="php-var">$height</span><span class="php-quote">\&quot; autoplay=\&quot;false\&quot; target=\&quot;myself\&quot; controller=\&quot;false\&quot; loop=\&quot;</span><span class="php-var">$loop</span><span class="php-quote">\&quot; scale=\&quot;aspect\&quot; bgcolor=\&quot;</span><span class="php-var">$bgcolor</span><span class="php-quote">\&quot; pluginspage=\&quot;http://apple.com/quicktime/download/\&quot;&gt;&lt;/embed&gt;&quot;</span>;
</span><span id="5682" class="l"><a class="l" href="#5682"> 5682: </a>                }
</span><span id="5683" class="l"><a class="l" href="#5683"> 5683: </a>                <span class="php-keyword1">else</span>
</span><span id="5684" class="l"><a class="l" href="#5684"> 5684: </a>                {
</span><span id="5685" class="l"><a class="l" href="#5685"> 5685: </a>                    <span class="php-var">$embed</span> .= <span class="php-quote">&quot;&lt;embed type=\&quot;</span><span class="php-var">$type</span><span class="php-quote">\&quot; style=\&quot;cursor:hand; cursor:pointer;\&quot; src=\&quot;&quot;</span> . <span class="php-var">$this</span>-&gt;get_link() . <span class="php-quote">&quot;\&quot; width=\&quot;</span><span class="php-var">$width</span><span class="php-quote">\&quot; height=\&quot;</span><span class="php-var">$height</span><span class="php-quote">\&quot; autoplay=\&quot;false\&quot; target=\&quot;myself\&quot; controller=\&quot;true\&quot; loop=\&quot;</span><span class="php-var">$loop</span><span class="php-quote">\&quot; scale=\&quot;aspect\&quot; bgcolor=\&quot;</span><span class="php-var">$bgcolor</span><span class="php-quote">\&quot; pluginspage=\&quot;http://apple.com/quicktime/download/\&quot;&gt;&lt;/embed&gt;&quot;</span>;
</span><span id="5686" class="l"><a class="l" href="#5686"> 5686: </a>                }
</span><span id="5687" class="l"><a class="l" href="#5687"> 5687: </a>            }
</span><span id="5688" class="l"><a class="l" href="#5688"> 5688: </a>            <span class="php-keyword1">else</span>
</span><span id="5689" class="l"><a class="l" href="#5689"> 5689: </a>            {
</span><span id="5690" class="l"><a class="l" href="#5690"> 5690: </a>                <span class="php-var">$embed</span> .= <span class="php-quote">&quot;&lt;script type='text/javascript'&gt;embed_quicktime('</span><span class="php-var">$type</span><span class="php-quote">', '</span><span class="php-var">$bgcolor</span><span class="php-quote">', '</span><span class="php-var">$width</span><span class="php-quote">', '</span><span class="php-var">$height</span><span class="php-quote">', '&quot;</span> . <span class="php-var">$this</span>-&gt;get_link() . <span class="php-quote">&quot;', '</span><span class="php-var">$placeholder</span><span class="php-quote">', '</span><span class="php-var">$loop</span><span class="php-quote">');&lt;/script&gt;&quot;</span>;
</span><span id="5691" class="l"><a class="l" href="#5691"> 5691: </a>            }
</span><span id="5692" class="l"><a class="l" href="#5692"> 5692: </a>        }
</span><span id="5693" class="l"><a class="l" href="#5693"> 5693: </a>
</span><span id="5694" class="l"><a class="l" href="#5694"> 5694: </a>        <span class="php-comment">// Windows Media</span>
</span><span id="5695" class="l"><a class="l" href="#5695"> 5695: </a>        <span class="php-keyword1">elseif</span> (<span class="php-var">$handler</span> === <span class="php-quote">'wmedia'</span>)
</span><span id="5696" class="l"><a class="l" href="#5696"> 5696: </a>        {
</span><span id="5697" class="l"><a class="l" href="#5697"> 5697: </a>            <span class="php-var">$height</span> += <span class="php-num">45</span>;
</span><span id="5698" class="l"><a class="l" href="#5698"> 5698: </a>            <span class="php-keyword1">if</span> (<span class="php-var">$native</span>)
</span><span id="5699" class="l"><a class="l" href="#5699"> 5699: </a>            {
</span><span id="5700" class="l"><a class="l" href="#5700"> 5700: </a>                <span class="php-var">$embed</span> .= <span class="php-quote">&quot;&lt;embed type=\&quot;application/x-mplayer2\&quot; src=\&quot;&quot;</span> . <span class="php-var">$this</span>-&gt;get_link() . <span class="php-quote">&quot;\&quot; autosize=\&quot;1\&quot; width=\&quot;</span><span class="php-var">$width</span><span class="php-quote">\&quot; height=\&quot;</span><span class="php-var">$height</span><span class="php-quote">\&quot; showcontrols=\&quot;1\&quot; showstatusbar=\&quot;0\&quot; showdisplay=\&quot;0\&quot; autostart=\&quot;0\&quot;&gt;&lt;/embed&gt;&quot;</span>;
</span><span id="5701" class="l"><a class="l" href="#5701"> 5701: </a>            }
</span><span id="5702" class="l"><a class="l" href="#5702"> 5702: </a>            <span class="php-keyword1">else</span>
</span><span id="5703" class="l"><a class="l" href="#5703"> 5703: </a>            {
</span><span id="5704" class="l"><a class="l" href="#5704"> 5704: </a>                <span class="php-var">$embed</span> .= <span class="php-quote">&quot;&lt;script type='text/javascript'&gt;embed_wmedia('</span><span class="php-var">$width</span><span class="php-quote">', '</span><span class="php-var">$height</span><span class="php-quote">', '&quot;</span> . <span class="php-var">$this</span>-&gt;get_link() . <span class="php-quote">&quot;');&lt;/script&gt;&quot;</span>;
</span><span id="5705" class="l"><a class="l" href="#5705"> 5705: </a>            }
</span><span id="5706" class="l"><a class="l" href="#5706"> 5706: </a>        }
</span><span id="5707" class="l"><a class="l" href="#5707"> 5707: </a>
</span><span id="5708" class="l"><a class="l" href="#5708"> 5708: </a>        <span class="php-comment">// Everything else</span>
</span><span id="5709" class="l"><a class="l" href="#5709"> 5709: </a>        <span class="php-keyword1">else</span> <span class="php-var">$embed</span> .= <span class="php-quote">'&lt;a href=&quot;'</span> . <span class="php-var">$this</span>-&gt;get_link() . <span class="php-quote">'&quot; class=&quot;'</span> . <span class="php-var">$altclass</span> . <span class="php-quote">'&quot;&gt;'</span> . <span class="php-var">$alt</span> . <span class="php-quote">'&lt;/a&gt;'</span>;
</span><span id="5710" class="l"><a class="l" href="#5710"> 5710: </a>
</span><span id="5711" class="l"><a class="l" href="#5711"> 5711: </a>        <span class="php-keyword1">return</span> <span class="php-var">$embed</span>;
</span><span id="5712" class="l"><a class="l" href="#5712"> 5712: </a>    }
</span><span id="5713" class="l"><a class="l" href="#5713"> 5713: </a>
</span><span id="5714" class="l"><a class="l" href="#5714"> 5714: </a>    <span class="php-comment">/**
</span></span><span id="5715" class="l"><a class="l" href="#5715"> 5715: </a><span class="php-comment">     * Get the real media type
</span></span><span id="5716" class="l"><a class="l" href="#5716"> 5716: </a><span class="php-comment">     *
</span></span><span id="5717" class="l"><a class="l" href="#5717"> 5717: </a><span class="php-comment">     * Often, feeds lie to us, necessitating a bit of deeper inspection. This
</span></span><span id="5718" class="l"><a class="l" href="#5718"> 5718: </a><span class="php-comment">     * converts types to their canonical representations based on the file
</span></span><span id="5719" class="l"><a class="l" href="#5719"> 5719: </a><span class="php-comment">     * extension
</span></span><span id="5720" class="l"><a class="l" href="#5720"> 5720: </a><span class="php-comment">     *
</span></span><span id="5721" class="l"><a class="l" href="#5721"> 5721: </a><span class="php-comment">     * @see get_type()
</span></span><span id="5722" class="l"><a class="l" href="#5722"> 5722: </a><span class="php-comment">     * @param bool $find_handler Internal use only, use {@see get_handler()} instead
</span></span><span id="5723" class="l"><a class="l" href="#5723"> 5723: </a><span class="php-comment">     * @return string MIME type
</span></span><span id="5724" class="l"><a class="l" href="#5724"> 5724: </a><span class="php-comment">     */</span>
</span><span id="5725" class="l"><a class="l" href="#5725"> 5725: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_get_real_type" href="#_get_real_type">get_real_type</a>(<span class="php-var">$find_handler</span> = <span class="php-keyword1">false</span>)
</span><span id="5726" class="l"><a class="l" href="#5726"> 5726: </a>    {
</span><span id="5727" class="l"><a class="l" href="#5727"> 5727: </a>        <span class="php-comment">// Mime-types by handler.</span>
</span><span id="5728" class="l"><a class="l" href="#5728"> 5728: </a>        <span class="php-var">$types_flash</span> = <span class="php-keyword1">array</span>(<span class="php-quote">'application/x-shockwave-flash'</span>, <span class="php-quote">'application/futuresplash'</span>); <span class="php-comment">// Flash</span>
</span><span id="5729" class="l"><a class="l" href="#5729"> 5729: </a>        <span class="php-var">$types_fmedia</span> = <span class="php-keyword1">array</span>(<span class="php-quote">'video/flv'</span>, <span class="php-quote">'video/x-flv'</span>,<span class="php-quote">'flv-application/octet-stream'</span>); <span class="php-comment">// Flash Media Player</span>
</span><span id="5730" class="l"><a class="l" href="#5730"> 5730: </a>        <span class="php-var">$types_quicktime</span> = <span class="php-keyword1">array</span>(<span class="php-quote">'audio/3gpp'</span>, <span class="php-quote">'audio/3gpp2'</span>, <span class="php-quote">'audio/aac'</span>, <span class="php-quote">'audio/x-aac'</span>, <span class="php-quote">'audio/aiff'</span>, <span class="php-quote">'audio/x-aiff'</span>, <span class="php-quote">'audio/mid'</span>, <span class="php-quote">'audio/midi'</span>, <span class="php-quote">'audio/x-midi'</span>, <span class="php-quote">'audio/mp4'</span>, <span class="php-quote">'audio/m4a'</span>, <span class="php-quote">'audio/x-m4a'</span>, <span class="php-quote">'audio/wav'</span>, <span class="php-quote">'audio/x-wav'</span>, <span class="php-quote">'video/3gpp'</span>, <span class="php-quote">'video/3gpp2'</span>, <span class="php-quote">'video/m4v'</span>, <span class="php-quote">'video/x-m4v'</span>, <span class="php-quote">'video/mp4'</span>, <span class="php-quote">'video/mpeg'</span>, <span class="php-quote">'video/x-mpeg'</span>, <span class="php-quote">'video/quicktime'</span>, <span class="php-quote">'video/sd-video'</span>); <span class="php-comment">// QuickTime</span>
</span><span id="5731" class="l"><a class="l" href="#5731"> 5731: </a>        <span class="php-var">$types_wmedia</span> = <span class="php-keyword1">array</span>(<span class="php-quote">'application/asx'</span>, <span class="php-quote">'application/x-mplayer2'</span>, <span class="php-quote">'audio/x-ms-wma'</span>, <span class="php-quote">'audio/x-ms-wax'</span>, <span class="php-quote">'video/x-ms-asf-plugin'</span>, <span class="php-quote">'video/x-ms-asf'</span>, <span class="php-quote">'video/x-ms-wm'</span>, <span class="php-quote">'video/x-ms-wmv'</span>, <span class="php-quote">'video/x-ms-wvx'</span>); <span class="php-comment">// Windows Media</span>
</span><span id="5732" class="l"><a class="l" href="#5732"> 5732: </a>        <span class="php-var">$types_mp3</span> = <span class="php-keyword1">array</span>(<span class="php-quote">'audio/mp3'</span>, <span class="php-quote">'audio/x-mp3'</span>, <span class="php-quote">'audio/mpeg'</span>, <span class="php-quote">'audio/x-mpeg'</span>); <span class="php-comment">// MP3</span>
</span><span id="5733" class="l"><a class="l" href="#5733"> 5733: </a>
</span><span id="5734" class="l"><a class="l" href="#5734"> 5734: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$this</span>-&gt;get_type() !== <span class="php-keyword1">null</span>)
</span><span id="5735" class="l"><a class="l" href="#5735"> 5735: </a>        {
</span><span id="5736" class="l"><a class="l" href="#5736"> 5736: </a>            <span class="php-var">$type</span> = <span class="php-keyword2">strtolower</span>(<span class="php-var">$this</span>-&gt;type);
</span><span id="5737" class="l"><a class="l" href="#5737"> 5737: </a>        }
</span><span id="5738" class="l"><a class="l" href="#5738"> 5738: </a>        <span class="php-keyword1">else</span>
</span><span id="5739" class="l"><a class="l" href="#5739"> 5739: </a>        {
</span><span id="5740" class="l"><a class="l" href="#5740"> 5740: </a>            <span class="php-var">$type</span> = <span class="php-keyword1">null</span>;
</span><span id="5741" class="l"><a class="l" href="#5741"> 5741: </a>        }
</span><span id="5742" class="l"><a class="l" href="#5742"> 5742: </a>
</span><span id="5743" class="l"><a class="l" href="#5743"> 5743: </a>        <span class="php-comment">// If we encounter an unsupported mime-type, check the file extension and guess intelligently.</span>
</span><span id="5744" class="l"><a class="l" href="#5744"> 5744: </a>        <span class="php-keyword1">if</span> (!<span class="php-keyword2">in_array</span>(<span class="php-var">$type</span>, <span class="php-keyword2">array_merge</span>(<span class="php-var">$types_flash</span>, <span class="php-var">$types_fmedia</span>, <span class="php-var">$types_quicktime</span>, <span class="php-var">$types_wmedia</span>, <span class="php-var">$types_mp3</span>)))
</span><span id="5745" class="l"><a class="l" href="#5745"> 5745: </a>        {
</span><span id="5746" class="l"><a class="l" href="#5746"> 5746: </a>            <span class="php-keyword1">switch</span> (<span class="php-keyword2">strtolower</span>(<span class="php-var">$this</span>-&gt;get_extension()))
</span><span id="5747" class="l"><a class="l" href="#5747"> 5747: </a>            {
</span><span id="5748" class="l"><a class="l" href="#5748"> 5748: </a>                <span class="php-comment">// Audio mime-types</span>
</span><span id="5749" class="l"><a class="l" href="#5749"> 5749: </a>                <span class="php-keyword1">case</span> <span class="php-quote">'aac'</span>:
</span><span id="5750" class="l"><a class="l" href="#5750"> 5750: </a>                <span class="php-keyword1">case</span> <span class="php-quote">'adts'</span>:
</span><span id="5751" class="l"><a class="l" href="#5751"> 5751: </a>                    <span class="php-var">$type</span> = <span class="php-quote">'audio/acc'</span>;
</span><span id="5752" class="l"><a class="l" href="#5752"> 5752: </a>                    <span class="php-keyword1">break</span>;
</span><span id="5753" class="l"><a class="l" href="#5753"> 5753: </a>
</span><span id="5754" class="l"><a class="l" href="#5754"> 5754: </a>                <span class="php-keyword1">case</span> <span class="php-quote">'aif'</span>:
</span><span id="5755" class="l"><a class="l" href="#5755"> 5755: </a>                <span class="php-keyword1">case</span> <span class="php-quote">'aifc'</span>:
</span><span id="5756" class="l"><a class="l" href="#5756"> 5756: </a>                <span class="php-keyword1">case</span> <span class="php-quote">'aiff'</span>:
</span><span id="5757" class="l"><a class="l" href="#5757"> 5757: </a>                <span class="php-keyword1">case</span> <span class="php-quote">'cdda'</span>:
</span><span id="5758" class="l"><a class="l" href="#5758"> 5758: </a>                    <span class="php-var">$type</span> = <span class="php-quote">'audio/aiff'</span>;
</span><span id="5759" class="l"><a class="l" href="#5759"> 5759: </a>                    <span class="php-keyword1">break</span>;
</span><span id="5760" class="l"><a class="l" href="#5760"> 5760: </a>
</span><span id="5761" class="l"><a class="l" href="#5761"> 5761: </a>                <span class="php-keyword1">case</span> <span class="php-quote">'bwf'</span>:
</span><span id="5762" class="l"><a class="l" href="#5762"> 5762: </a>                    <span class="php-var">$type</span> = <span class="php-quote">'audio/wav'</span>;
</span><span id="5763" class="l"><a class="l" href="#5763"> 5763: </a>                    <span class="php-keyword1">break</span>;
</span><span id="5764" class="l"><a class="l" href="#5764"> 5764: </a>
</span><span id="5765" class="l"><a class="l" href="#5765"> 5765: </a>                <span class="php-keyword1">case</span> <span class="php-quote">'kar'</span>:
</span><span id="5766" class="l"><a class="l" href="#5766"> 5766: </a>                <span class="php-keyword1">case</span> <span class="php-quote">'mid'</span>:
</span><span id="5767" class="l"><a class="l" href="#5767"> 5767: </a>                <span class="php-keyword1">case</span> <span class="php-quote">'midi'</span>:
</span><span id="5768" class="l"><a class="l" href="#5768"> 5768: </a>                <span class="php-keyword1">case</span> <span class="php-quote">'smf'</span>:
</span><span id="5769" class="l"><a class="l" href="#5769"> 5769: </a>                    <span class="php-var">$type</span> = <span class="php-quote">'audio/midi'</span>;
</span><span id="5770" class="l"><a class="l" href="#5770"> 5770: </a>                    <span class="php-keyword1">break</span>;
</span><span id="5771" class="l"><a class="l" href="#5771"> 5771: </a>
</span><span id="5772" class="l"><a class="l" href="#5772"> 5772: </a>                <span class="php-keyword1">case</span> <span class="php-quote">'m4a'</span>:
</span><span id="5773" class="l"><a class="l" href="#5773"> 5773: </a>                    <span class="php-var">$type</span> = <span class="php-quote">'audio/x-m4a'</span>;
</span><span id="5774" class="l"><a class="l" href="#5774"> 5774: </a>                    <span class="php-keyword1">break</span>;
</span><span id="5775" class="l"><a class="l" href="#5775"> 5775: </a>
</span><span id="5776" class="l"><a class="l" href="#5776"> 5776: </a>                <span class="php-keyword1">case</span> <span class="php-quote">'mp3'</span>:
</span><span id="5777" class="l"><a class="l" href="#5777"> 5777: </a>                <span class="php-keyword1">case</span> <span class="php-quote">'swa'</span>:
</span><span id="5778" class="l"><a class="l" href="#5778"> 5778: </a>                    <span class="php-var">$type</span> = <span class="php-quote">'audio/mp3'</span>;
</span><span id="5779" class="l"><a class="l" href="#5779"> 5779: </a>                    <span class="php-keyword1">break</span>;
</span><span id="5780" class="l"><a class="l" href="#5780"> 5780: </a>
</span><span id="5781" class="l"><a class="l" href="#5781"> 5781: </a>                <span class="php-keyword1">case</span> <span class="php-quote">'wav'</span>:
</span><span id="5782" class="l"><a class="l" href="#5782"> 5782: </a>                    <span class="php-var">$type</span> = <span class="php-quote">'audio/wav'</span>;
</span><span id="5783" class="l"><a class="l" href="#5783"> 5783: </a>                    <span class="php-keyword1">break</span>;
</span><span id="5784" class="l"><a class="l" href="#5784"> 5784: </a>
</span><span id="5785" class="l"><a class="l" href="#5785"> 5785: </a>                <span class="php-keyword1">case</span> <span class="php-quote">'wax'</span>:
</span><span id="5786" class="l"><a class="l" href="#5786"> 5786: </a>                    <span class="php-var">$type</span> = <span class="php-quote">'audio/x-ms-wax'</span>;
</span><span id="5787" class="l"><a class="l" href="#5787"> 5787: </a>                    <span class="php-keyword1">break</span>;
</span><span id="5788" class="l"><a class="l" href="#5788"> 5788: </a>
</span><span id="5789" class="l"><a class="l" href="#5789"> 5789: </a>                <span class="php-keyword1">case</span> <span class="php-quote">'wma'</span>:
</span><span id="5790" class="l"><a class="l" href="#5790"> 5790: </a>                    <span class="php-var">$type</span> = <span class="php-quote">'audio/x-ms-wma'</span>;
</span><span id="5791" class="l"><a class="l" href="#5791"> 5791: </a>                    <span class="php-keyword1">break</span>;
</span><span id="5792" class="l"><a class="l" href="#5792"> 5792: </a>
</span><span id="5793" class="l"><a class="l" href="#5793"> 5793: </a>                <span class="php-comment">// Video mime-types</span>
</span><span id="5794" class="l"><a class="l" href="#5794"> 5794: </a>                <span class="php-keyword1">case</span> <span class="php-quote">'3gp'</span>:
</span><span id="5795" class="l"><a class="l" href="#5795"> 5795: </a>                <span class="php-keyword1">case</span> <span class="php-quote">'3gpp'</span>:
</span><span id="5796" class="l"><a class="l" href="#5796"> 5796: </a>                    <span class="php-var">$type</span> = <span class="php-quote">'video/3gpp'</span>;
</span><span id="5797" class="l"><a class="l" href="#5797"> 5797: </a>                    <span class="php-keyword1">break</span>;
</span><span id="5798" class="l"><a class="l" href="#5798"> 5798: </a>
</span><span id="5799" class="l"><a class="l" href="#5799"> 5799: </a>                <span class="php-keyword1">case</span> <span class="php-quote">'3g2'</span>:
</span><span id="5800" class="l"><a class="l" href="#5800"> 5800: </a>                <span class="php-keyword1">case</span> <span class="php-quote">'3gp2'</span>:
</span><span id="5801" class="l"><a class="l" href="#5801"> 5801: </a>                    <span class="php-var">$type</span> = <span class="php-quote">'video/3gpp2'</span>;
</span><span id="5802" class="l"><a class="l" href="#5802"> 5802: </a>                    <span class="php-keyword1">break</span>;
</span><span id="5803" class="l"><a class="l" href="#5803"> 5803: </a>
</span><span id="5804" class="l"><a class="l" href="#5804"> 5804: </a>                <span class="php-keyword1">case</span> <span class="php-quote">'asf'</span>:
</span><span id="5805" class="l"><a class="l" href="#5805"> 5805: </a>                    <span class="php-var">$type</span> = <span class="php-quote">'video/x-ms-asf'</span>;
</span><span id="5806" class="l"><a class="l" href="#5806"> 5806: </a>                    <span class="php-keyword1">break</span>;
</span><span id="5807" class="l"><a class="l" href="#5807"> 5807: </a>
</span><span id="5808" class="l"><a class="l" href="#5808"> 5808: </a>                <span class="php-keyword1">case</span> <span class="php-quote">'flv'</span>:
</span><span id="5809" class="l"><a class="l" href="#5809"> 5809: </a>                    <span class="php-var">$type</span> = <span class="php-quote">'video/x-flv'</span>;
</span><span id="5810" class="l"><a class="l" href="#5810"> 5810: </a>                    <span class="php-keyword1">break</span>;
</span><span id="5811" class="l"><a class="l" href="#5811"> 5811: </a>
</span><span id="5812" class="l"><a class="l" href="#5812"> 5812: </a>                <span class="php-keyword1">case</span> <span class="php-quote">'m1a'</span>:
</span><span id="5813" class="l"><a class="l" href="#5813"> 5813: </a>                <span class="php-keyword1">case</span> <span class="php-quote">'m1s'</span>:
</span><span id="5814" class="l"><a class="l" href="#5814"> 5814: </a>                <span class="php-keyword1">case</span> <span class="php-quote">'m1v'</span>:
</span><span id="5815" class="l"><a class="l" href="#5815"> 5815: </a>                <span class="php-keyword1">case</span> <span class="php-quote">'m15'</span>:
</span><span id="5816" class="l"><a class="l" href="#5816"> 5816: </a>                <span class="php-keyword1">case</span> <span class="php-quote">'m75'</span>:
</span><span id="5817" class="l"><a class="l" href="#5817"> 5817: </a>                <span class="php-keyword1">case</span> <span class="php-quote">'mp2'</span>:
</span><span id="5818" class="l"><a class="l" href="#5818"> 5818: </a>                <span class="php-keyword1">case</span> <span class="php-quote">'mpa'</span>:
</span><span id="5819" class="l"><a class="l" href="#5819"> 5819: </a>                <span class="php-keyword1">case</span> <span class="php-quote">'mpeg'</span>:
</span><span id="5820" class="l"><a class="l" href="#5820"> 5820: </a>                <span class="php-keyword1">case</span> <span class="php-quote">'mpg'</span>:
</span><span id="5821" class="l"><a class="l" href="#5821"> 5821: </a>                <span class="php-keyword1">case</span> <span class="php-quote">'mpm'</span>:
</span><span id="5822" class="l"><a class="l" href="#5822"> 5822: </a>                <span class="php-keyword1">case</span> <span class="php-quote">'mpv'</span>:
</span><span id="5823" class="l"><a class="l" href="#5823"> 5823: </a>                    <span class="php-var">$type</span> = <span class="php-quote">'video/mpeg'</span>;
</span><span id="5824" class="l"><a class="l" href="#5824"> 5824: </a>                    <span class="php-keyword1">break</span>;
</span><span id="5825" class="l"><a class="l" href="#5825"> 5825: </a>
</span><span id="5826" class="l"><a class="l" href="#5826"> 5826: </a>                <span class="php-keyword1">case</span> <span class="php-quote">'m4v'</span>:
</span><span id="5827" class="l"><a class="l" href="#5827"> 5827: </a>                    <span class="php-var">$type</span> = <span class="php-quote">'video/x-m4v'</span>;
</span><span id="5828" class="l"><a class="l" href="#5828"> 5828: </a>                    <span class="php-keyword1">break</span>;
</span><span id="5829" class="l"><a class="l" href="#5829"> 5829: </a>
</span><span id="5830" class="l"><a class="l" href="#5830"> 5830: </a>                <span class="php-keyword1">case</span> <span class="php-quote">'mov'</span>:
</span><span id="5831" class="l"><a class="l" href="#5831"> 5831: </a>                <span class="php-keyword1">case</span> <span class="php-quote">'qt'</span>:
</span><span id="5832" class="l"><a class="l" href="#5832"> 5832: </a>                    <span class="php-var">$type</span> = <span class="php-quote">'video/quicktime'</span>;
</span><span id="5833" class="l"><a class="l" href="#5833"> 5833: </a>                    <span class="php-keyword1">break</span>;
</span><span id="5834" class="l"><a class="l" href="#5834"> 5834: </a>
</span><span id="5835" class="l"><a class="l" href="#5835"> 5835: </a>                <span class="php-keyword1">case</span> <span class="php-quote">'mp4'</span>:
</span><span id="5836" class="l"><a class="l" href="#5836"> 5836: </a>                <span class="php-keyword1">case</span> <span class="php-quote">'mpg4'</span>:
</span><span id="5837" class="l"><a class="l" href="#5837"> 5837: </a>                    <span class="php-var">$type</span> = <span class="php-quote">'video/mp4'</span>;
</span><span id="5838" class="l"><a class="l" href="#5838"> 5838: </a>                    <span class="php-keyword1">break</span>;
</span><span id="5839" class="l"><a class="l" href="#5839"> 5839: </a>
</span><span id="5840" class="l"><a class="l" href="#5840"> 5840: </a>                <span class="php-keyword1">case</span> <span class="php-quote">'sdv'</span>:
</span><span id="5841" class="l"><a class="l" href="#5841"> 5841: </a>                    <span class="php-var">$type</span> = <span class="php-quote">'video/sd-video'</span>;
</span><span id="5842" class="l"><a class="l" href="#5842"> 5842: </a>                    <span class="php-keyword1">break</span>;
</span><span id="5843" class="l"><a class="l" href="#5843"> 5843: </a>
</span><span id="5844" class="l"><a class="l" href="#5844"> 5844: </a>                <span class="php-keyword1">case</span> <span class="php-quote">'wm'</span>:
</span><span id="5845" class="l"><a class="l" href="#5845"> 5845: </a>                    <span class="php-var">$type</span> = <span class="php-quote">'video/x-ms-wm'</span>;
</span><span id="5846" class="l"><a class="l" href="#5846"> 5846: </a>                    <span class="php-keyword1">break</span>;
</span><span id="5847" class="l"><a class="l" href="#5847"> 5847: </a>
</span><span id="5848" class="l"><a class="l" href="#5848"> 5848: </a>                <span class="php-keyword1">case</span> <span class="php-quote">'wmv'</span>:
</span><span id="5849" class="l"><a class="l" href="#5849"> 5849: </a>                    <span class="php-var">$type</span> = <span class="php-quote">'video/x-ms-wmv'</span>;
</span><span id="5850" class="l"><a class="l" href="#5850"> 5850: </a>                    <span class="php-keyword1">break</span>;
</span><span id="5851" class="l"><a class="l" href="#5851"> 5851: </a>
</span><span id="5852" class="l"><a class="l" href="#5852"> 5852: </a>                <span class="php-keyword1">case</span> <span class="php-quote">'wvx'</span>:
</span><span id="5853" class="l"><a class="l" href="#5853"> 5853: </a>                    <span class="php-var">$type</span> = <span class="php-quote">'video/x-ms-wvx'</span>;
</span><span id="5854" class="l"><a class="l" href="#5854"> 5854: </a>                    <span class="php-keyword1">break</span>;
</span><span id="5855" class="l"><a class="l" href="#5855"> 5855: </a>
</span><span id="5856" class="l"><a class="l" href="#5856"> 5856: </a>                <span class="php-comment">// Flash mime-types</span>
</span><span id="5857" class="l"><a class="l" href="#5857"> 5857: </a>                <span class="php-keyword1">case</span> <span class="php-quote">'spl'</span>:
</span><span id="5858" class="l"><a class="l" href="#5858"> 5858: </a>                    <span class="php-var">$type</span> = <span class="php-quote">'application/futuresplash'</span>;
</span><span id="5859" class="l"><a class="l" href="#5859"> 5859: </a>                    <span class="php-keyword1">break</span>;
</span><span id="5860" class="l"><a class="l" href="#5860"> 5860: </a>
</span><span id="5861" class="l"><a class="l" href="#5861"> 5861: </a>                <span class="php-keyword1">case</span> <span class="php-quote">'swf'</span>:
</span><span id="5862" class="l"><a class="l" href="#5862"> 5862: </a>                    <span class="php-var">$type</span> = <span class="php-quote">'application/x-shockwave-flash'</span>;
</span><span id="5863" class="l"><a class="l" href="#5863"> 5863: </a>                    <span class="php-keyword1">break</span>;
</span><span id="5864" class="l"><a class="l" href="#5864"> 5864: </a>            }
</span><span id="5865" class="l"><a class="l" href="#5865"> 5865: </a>        }
</span><span id="5866" class="l"><a class="l" href="#5866"> 5866: </a>
</span><span id="5867" class="l"><a class="l" href="#5867"> 5867: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$find_handler</span>)
</span><span id="5868" class="l"><a class="l" href="#5868"> 5868: </a>        {
</span><span id="5869" class="l"><a class="l" href="#5869"> 5869: </a>            <span class="php-keyword1">if</span> (<span class="php-keyword2">in_array</span>(<span class="php-var">$type</span>, <span class="php-var">$types_flash</span>))
</span><span id="5870" class="l"><a class="l" href="#5870"> 5870: </a>            {
</span><span id="5871" class="l"><a class="l" href="#5871"> 5871: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'flash'</span>;
</span><span id="5872" class="l"><a class="l" href="#5872"> 5872: </a>            }
</span><span id="5873" class="l"><a class="l" href="#5873"> 5873: </a>            <span class="php-keyword1">elseif</span> (<span class="php-keyword2">in_array</span>(<span class="php-var">$type</span>, <span class="php-var">$types_fmedia</span>))
</span><span id="5874" class="l"><a class="l" href="#5874"> 5874: </a>            {
</span><span id="5875" class="l"><a class="l" href="#5875"> 5875: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'fmedia'</span>;
</span><span id="5876" class="l"><a class="l" href="#5876"> 5876: </a>            }
</span><span id="5877" class="l"><a class="l" href="#5877"> 5877: </a>            <span class="php-keyword1">elseif</span> (<span class="php-keyword2">in_array</span>(<span class="php-var">$type</span>, <span class="php-var">$types_quicktime</span>))
</span><span id="5878" class="l"><a class="l" href="#5878"> 5878: </a>            {
</span><span id="5879" class="l"><a class="l" href="#5879"> 5879: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'quicktime'</span>;
</span><span id="5880" class="l"><a class="l" href="#5880"> 5880: </a>            }
</span><span id="5881" class="l"><a class="l" href="#5881"> 5881: </a>            <span class="php-keyword1">elseif</span> (<span class="php-keyword2">in_array</span>(<span class="php-var">$type</span>, <span class="php-var">$types_wmedia</span>))
</span><span id="5882" class="l"><a class="l" href="#5882"> 5882: </a>            {
</span><span id="5883" class="l"><a class="l" href="#5883"> 5883: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'wmedia'</span>;
</span><span id="5884" class="l"><a class="l" href="#5884"> 5884: </a>            }
</span><span id="5885" class="l"><a class="l" href="#5885"> 5885: </a>            <span class="php-keyword1">elseif</span> (<span class="php-keyword2">in_array</span>(<span class="php-var">$type</span>, <span class="php-var">$types_mp3</span>))
</span><span id="5886" class="l"><a class="l" href="#5886"> 5886: </a>            {
</span><span id="5887" class="l"><a class="l" href="#5887"> 5887: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'mp3'</span>;
</span><span id="5888" class="l"><a class="l" href="#5888"> 5888: </a>            }
</span><span id="5889" class="l"><a class="l" href="#5889"> 5889: </a>            <span class="php-keyword1">else</span>
</span><span id="5890" class="l"><a class="l" href="#5890"> 5890: </a>            {
</span><span id="5891" class="l"><a class="l" href="#5891"> 5891: </a>                <span class="php-keyword1">return</span> <span class="php-keyword1">null</span>;
</span><span id="5892" class="l"><a class="l" href="#5892"> 5892: </a>            }
</span><span id="5893" class="l"><a class="l" href="#5893"> 5893: </a>        }
</span><span id="5894" class="l"><a class="l" href="#5894"> 5894: </a>        <span class="php-keyword1">else</span>
</span><span id="5895" class="l"><a class="l" href="#5895"> 5895: </a>        {
</span><span id="5896" class="l"><a class="l" href="#5896"> 5896: </a>            <span class="php-keyword1">return</span> <span class="php-var">$type</span>;
</span><span id="5897" class="l"><a class="l" href="#5897"> 5897: </a>        }
</span><span id="5898" class="l"><a class="l" href="#5898"> 5898: </a>    }
</span><span id="5899" class="l"><a class="l" href="#5899"> 5899: </a>}
</span><span id="5900" class="l"><a class="l" href="#5900"> 5900: </a>
</span><span id="5901" class="l"><a class="l" href="#5901"> 5901: </a><span class="php-comment">/**
</span></span><span id="5902" class="l"><a class="l" href="#5902"> 5902: </a><span class="php-comment"> * Used for fetching remote files and reading local files
</span></span><span id="5903" class="l"><a class="l" href="#5903"> 5903: </a><span class="php-comment"> *
</span></span><span id="5904" class="l"><a class="l" href="#5904"> 5904: </a><span class="php-comment"> * Supports HTTP 1.0 via cURL or fsockopen, with spotty HTTP 1.1 support
</span></span><span id="5905" class="l"><a class="l" href="#5905"> 5905: </a><span class="php-comment"> *
</span></span><span id="5906" class="l"><a class="l" href="#5906"> 5906: </a><span class="php-comment"> * This class can be overloaded with {@see SimplePie::set_file_class()}
</span></span><span id="5907" class="l"><a class="l" href="#5907"> 5907: </a><span class="php-comment"> *
</span></span><span id="5908" class="l"><a class="l" href="#5908"> 5908: </a><span class="php-comment"> * @package SimplePie
</span></span><span id="5909" class="l"><a class="l" href="#5909"> 5909: </a><span class="php-comment"> * @todo Move to properly supporting RFC2616 (HTTP/1.1)
</span></span><span id="5910" class="l"><a class="l" href="#5910"> 5910: </a><span class="php-comment"> */</span>
</span><span id="5911" class="l"><a class="l" href="#5911"> 5911: </a><span class="php-keyword1">class</span> <a id="SimplePie_File" href="#SimplePie_File">SimplePie_File</a>
</span><span id="5912" class="l"><a class="l" href="#5912"> 5912: </a>{
</span><span id="5913" class="l"><a class="l" href="#5913"> 5913: </a>    <span class="php-keyword1">var</span> <span class="php-var"><a id="$url" href="#$url">$url</a></span>;
</span><span id="5914" class="l"><a class="l" href="#5914"> 5914: </a>    <span class="php-keyword1">var</span> <span class="php-var"><a id="$useragent" href="#$useragent">$useragent</a></span>;
</span><span id="5915" class="l"><a class="l" href="#5915"> 5915: </a>    <span class="php-keyword1">var</span> <span class="php-var"><a id="$success" href="#$success">$success</a></span> = <span class="php-keyword1">true</span>;
</span><span id="5916" class="l"><a class="l" href="#5916"> 5916: </a>    <span class="php-keyword1">var</span> <span class="php-var"><a id="$headers" href="#$headers">$headers</a></span> = <span class="php-keyword1">array</span>();
</span><span id="5917" class="l"><a class="l" href="#5917"> 5917: </a>    <span class="php-keyword1">var</span> <span class="php-var"><a id="$body" href="#$body">$body</a></span>;
</span><span id="5918" class="l"><a class="l" href="#5918"> 5918: </a>    <span class="php-keyword1">var</span> <span class="php-var"><a id="$status_code" href="#$status_code">$status_code</a></span>;
</span><span id="5919" class="l"><a class="l" href="#5919"> 5919: </a>    <span class="php-keyword1">var</span> <span class="php-var"><a id="$redirects" href="#$redirects">$redirects</a></span> = <span class="php-num">0</span>;
</span><span id="5920" class="l"><a class="l" href="#5920"> 5920: </a>    <span class="php-keyword1">var</span> <span class="php-var"><a id="$error" href="#$error">$error</a></span>;
</span><span id="5921" class="l"><a class="l" href="#5921"> 5921: </a>    <span class="php-keyword1">var</span> <span class="php-var"><a id="$method" href="#$method">$method</a></span> = SIMPLEPIE_FILE_SOURCE_NONE;
</span><span id="5922" class="l"><a class="l" href="#5922"> 5922: </a>
</span><span id="5923" class="l"><a class="l" href="#5923"> 5923: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="___construct" href="#___construct">__construct</a>(<span class="php-var">$url</span>, <span class="php-var">$timeout</span> = <span class="php-num">10</span>, <span class="php-var">$redirects</span> = <span class="php-num">5</span>, <span class="php-var">$headers</span> = <span class="php-keyword1">null</span>, <span class="php-var">$useragent</span> = <span class="php-keyword1">null</span>, <span class="php-var">$force_fsockopen</span> = <span class="php-keyword1">false</span>)
</span><span id="5924" class="l"><a class="l" href="#5924"> 5924: </a>    {
</span><span id="5925" class="l"><a class="l" href="#5925"> 5925: </a>        <span class="php-keyword1">if</span> (<span class="php-keyword2">class_exists</span>(<span class="php-quote">'idna_convert'</span>))
</span><span id="5926" class="l"><a class="l" href="#5926"> 5926: </a>        {
</span><span id="5927" class="l"><a class="l" href="#5927"> 5927: </a>            <span class="php-var">$idn</span> = <span class="php-keyword1">new</span> idna_convert();
</span><span id="5928" class="l"><a class="l" href="#5928"> 5928: </a>            <span class="php-var">$parsed</span> = SimplePie_Misc::<span class="php-keyword2">parse_url</span>(<span class="php-var">$url</span>);
</span><span id="5929" class="l"><a class="l" href="#5929"> 5929: </a>            <span class="php-var">$url</span> = SimplePie_Misc::compress_parse_url(<span class="php-var">$parsed</span>[<span class="php-quote">'scheme'</span>], <span class="php-var">$idn</span>-&gt;encode(<span class="php-var">$parsed</span>[<span class="php-quote">'authority'</span>]), <span class="php-var">$parsed</span>[<span class="php-quote">'path'</span>], <span class="php-var">$parsed</span>[<span class="php-quote">'query'</span>], <span class="php-var">$parsed</span>[<span class="php-quote">'fragment'</span>]);
</span><span id="5930" class="l"><a class="l" href="#5930"> 5930: </a>        }
</span><span id="5931" class="l"><a class="l" href="#5931"> 5931: </a>        <span class="php-var">$this</span>-&gt;url = <span class="php-var">$url</span>;
</span><span id="5932" class="l"><a class="l" href="#5932"> 5932: </a>        <span class="php-var">$this</span>-&gt;useragent = <span class="php-var">$useragent</span>;
</span><span id="5933" class="l"><a class="l" href="#5933"> 5933: </a>        <span class="php-keyword1">if</span> (<span class="php-keyword2">preg_match</span>(<span class="php-quote">'/^http(s)?:\/\//i'</span>, <span class="php-var">$url</span>))
</span><span id="5934" class="l"><a class="l" href="#5934"> 5934: </a>        {
</span><span id="5935" class="l"><a class="l" href="#5935"> 5935: </a>            <span class="php-keyword1">if</span> (<span class="php-var">$useragent</span> === <span class="php-keyword1">null</span>)
</span><span id="5936" class="l"><a class="l" href="#5936"> 5936: </a>            {
</span><span id="5937" class="l"><a class="l" href="#5937"> 5937: </a>                <span class="php-var">$useragent</span> = <span class="php-keyword2">ini_get</span>(<span class="php-quote">'user_agent'</span>);
</span><span id="5938" class="l"><a class="l" href="#5938"> 5938: </a>                <span class="php-var">$this</span>-&gt;useragent = <span class="php-var">$useragent</span>;
</span><span id="5939" class="l"><a class="l" href="#5939"> 5939: </a>            }
</span><span id="5940" class="l"><a class="l" href="#5940"> 5940: </a>            <span class="php-keyword1">if</span> (!<span class="php-keyword2">is_array</span>(<span class="php-var">$headers</span>))
</span><span id="5941" class="l"><a class="l" href="#5941"> 5941: </a>            {
</span><span id="5942" class="l"><a class="l" href="#5942"> 5942: </a>                <span class="php-var">$headers</span> = <span class="php-keyword1">array</span>();
</span><span id="5943" class="l"><a class="l" href="#5943"> 5943: </a>            }
</span><span id="5944" class="l"><a class="l" href="#5944"> 5944: </a>            <span class="php-keyword1">if</span> (!<span class="php-var">$force_fsockopen</span> &amp;&amp; <span class="php-keyword2">function_exists</span>(<span class="php-quote">'curl_exec'</span>))
</span><span id="5945" class="l"><a class="l" href="#5945"> 5945: </a>            {
</span><span id="5946" class="l"><a class="l" href="#5946"> 5946: </a>                <span class="php-var">$this</span>-&gt;method = SIMPLEPIE_FILE_SOURCE_REMOTE | SIMPLEPIE_FILE_SOURCE_CURL;
</span><span id="5947" class="l"><a class="l" href="#5947"> 5947: </a>                <span class="php-var">$fp</span> = <span class="php-keyword2">curl_init</span>();
</span><span id="5948" class="l"><a class="l" href="#5948"> 5948: </a>                <span class="php-var">$headers2</span> = <span class="php-keyword1">array</span>();
</span><span id="5949" class="l"><a class="l" href="#5949"> 5949: </a>                <span class="php-keyword1">foreach</span> (<span class="php-var">$headers</span> <span class="php-keyword1">as</span> <span class="php-var">$key</span> =&gt; <span class="php-var">$value</span>)
</span><span id="5950" class="l"><a class="l" href="#5950"> 5950: </a>                {
</span><span id="5951" class="l"><a class="l" href="#5951"> 5951: </a>                    <span class="php-var">$headers2</span>[] = <span class="php-quote">&quot;</span><span class="php-var">$key</span><span class="php-quote">: </span><span class="php-var">$value</span><span class="php-quote">&quot;</span>;
</span><span id="5952" class="l"><a class="l" href="#5952"> 5952: </a>                }
</span><span id="5953" class="l"><a class="l" href="#5953"> 5953: </a>                <span class="php-keyword1">if</span> (<span class="php-keyword2">version_compare</span>(SimplePie_Misc::get_curl_version(), <span class="php-quote">'7.10.5'</span>, <span class="php-quote">'&gt;='</span>))
</span><span id="5954" class="l"><a class="l" href="#5954"> 5954: </a>                {
</span><span id="5955" class="l"><a class="l" href="#5955"> 5955: </a>                    <span class="php-keyword2">curl_setopt</span>(<span class="php-var">$fp</span>, CURLOPT_ENCODING, <span class="php-quote">''</span>);
</span><span id="5956" class="l"><a class="l" href="#5956"> 5956: </a>                }
</span><span id="5957" class="l"><a class="l" href="#5957"> 5957: </a>                <span class="php-keyword2">curl_setopt</span>(<span class="php-var">$fp</span>, CURLOPT_URL, <span class="php-var">$url</span>);
</span><span id="5958" class="l"><a class="l" href="#5958"> 5958: </a>                <span class="php-keyword2">curl_setopt</span>(<span class="php-var">$fp</span>, CURLOPT_HEADER, <span class="php-num">1</span>);
</span><span id="5959" class="l"><a class="l" href="#5959"> 5959: </a>                <span class="php-keyword2">curl_setopt</span>(<span class="php-var">$fp</span>, CURLOPT_RETURNTRANSFER, <span class="php-num">1</span>);
</span><span id="5960" class="l"><a class="l" href="#5960"> 5960: </a>                <span class="php-keyword2">curl_setopt</span>(<span class="php-var">$fp</span>, CURLOPT_TIMEOUT, <span class="php-var">$timeout</span>);
</span><span id="5961" class="l"><a class="l" href="#5961"> 5961: </a>                <span class="php-keyword2">curl_setopt</span>(<span class="php-var">$fp</span>, CURLOPT_CONNECTTIMEOUT, <span class="php-var">$timeout</span>);
</span><span id="5962" class="l"><a class="l" href="#5962"> 5962: </a>                <span class="php-keyword2">curl_setopt</span>(<span class="php-var">$fp</span>, CURLOPT_REFERER, <span class="php-var">$url</span>);
</span><span id="5963" class="l"><a class="l" href="#5963"> 5963: </a>                <span class="php-keyword2">curl_setopt</span>(<span class="php-var">$fp</span>, CURLOPT_USERAGENT, <span class="php-var">$useragent</span>);
</span><span id="5964" class="l"><a class="l" href="#5964"> 5964: </a>                <span class="php-keyword2">curl_setopt</span>(<span class="php-var">$fp</span>, CURLOPT_HTTPHEADER, <span class="php-var">$headers2</span>);
</span><span id="5965" class="l"><a class="l" href="#5965"> 5965: </a>                <span class="php-keyword1">if</span> (!<span class="php-keyword2">ini_get</span>(<span class="php-quote">'open_basedir'</span>) &amp;&amp; !<span class="php-keyword2">ini_get</span>(<span class="php-quote">'safe_mode'</span>) &amp;&amp; <span class="php-keyword2">version_compare</span>(SimplePie_Misc::get_curl_version(), <span class="php-quote">'7.15.2'</span>, <span class="php-quote">'&gt;='</span>))
</span><span id="5966" class="l"><a class="l" href="#5966"> 5966: </a>                {
</span><span id="5967" class="l"><a class="l" href="#5967"> 5967: </a>                    <span class="php-keyword2">curl_setopt</span>(<span class="php-var">$fp</span>, CURLOPT_FOLLOWLOCATION, <span class="php-num">1</span>);
</span><span id="5968" class="l"><a class="l" href="#5968"> 5968: </a>                    <span class="php-keyword2">curl_setopt</span>(<span class="php-var">$fp</span>, CURLOPT_MAXREDIRS, <span class="php-var">$redirects</span>);
</span><span id="5969" class="l"><a class="l" href="#5969"> 5969: </a>                }
</span><span id="5970" class="l"><a class="l" href="#5970"> 5970: </a>
</span><span id="5971" class="l"><a class="l" href="#5971"> 5971: </a>                <span class="php-var">$this</span>-&gt;headers = <span class="php-keyword2">curl_exec</span>(<span class="php-var">$fp</span>);
</span><span id="5972" class="l"><a class="l" href="#5972"> 5972: </a>                <span class="php-keyword1">if</span> (<span class="php-keyword2">curl_errno</span>(<span class="php-var">$fp</span>) === <span class="php-num">23</span> || <span class="php-keyword2">curl_errno</span>(<span class="php-var">$fp</span>) === <span class="php-num">61</span>)
</span><span id="5973" class="l"><a class="l" href="#5973"> 5973: </a>                {
</span><span id="5974" class="l"><a class="l" href="#5974"> 5974: </a>                    <span class="php-keyword2">curl_setopt</span>(<span class="php-var">$fp</span>, CURLOPT_ENCODING, <span class="php-quote">'none'</span>);
</span><span id="5975" class="l"><a class="l" href="#5975"> 5975: </a>                    <span class="php-var">$this</span>-&gt;headers = <span class="php-keyword2">curl_exec</span>(<span class="php-var">$fp</span>);
</span><span id="5976" class="l"><a class="l" href="#5976"> 5976: </a>                }
</span><span id="5977" class="l"><a class="l" href="#5977"> 5977: </a>                <span class="php-keyword1">if</span> (<span class="php-keyword2">curl_errno</span>(<span class="php-var">$fp</span>))
</span><span id="5978" class="l"><a class="l" href="#5978"> 5978: </a>                {
</span><span id="5979" class="l"><a class="l" href="#5979"> 5979: </a>                    <span class="php-var">$this</span>-&gt;error = <span class="php-quote">'cURL error '</span> . <span class="php-keyword2">curl_errno</span>(<span class="php-var">$fp</span>) . <span class="php-quote">': '</span> . <span class="php-keyword2">curl_error</span>(<span class="php-var">$fp</span>);
</span><span id="5980" class="l"><a class="l" href="#5980"> 5980: </a>                    <span class="php-var">$this</span>-&gt;success = <span class="php-keyword1">false</span>;
</span><span id="5981" class="l"><a class="l" href="#5981"> 5981: </a>                }
</span><span id="5982" class="l"><a class="l" href="#5982"> 5982: </a>                <span class="php-keyword1">else</span>
</span><span id="5983" class="l"><a class="l" href="#5983"> 5983: </a>                {
</span><span id="5984" class="l"><a class="l" href="#5984"> 5984: </a>                    <span class="php-var">$info</span> = <span class="php-keyword2">curl_getinfo</span>(<span class="php-var">$fp</span>);
</span><span id="5985" class="l"><a class="l" href="#5985"> 5985: </a>                    <span class="php-keyword2">curl_close</span>(<span class="php-var">$fp</span>);
</span><span id="5986" class="l"><a class="l" href="#5986"> 5986: </a>                    <span class="php-var">$this</span>-&gt;headers = <span class="php-keyword2">explode</span>(<span class="php-quote">&quot;\r\n\r\n&quot;</span>, <span class="php-var">$this</span>-&gt;headers, <span class="php-var">$info</span>[<span class="php-quote">'redirect_count'</span>] + <span class="php-num">1</span>);
</span><span id="5987" class="l"><a class="l" href="#5987"> 5987: </a>                    <span class="php-var">$this</span>-&gt;headers = <span class="php-keyword2">array_pop</span>(<span class="php-var">$this</span>-&gt;headers);
</span><span id="5988" class="l"><a class="l" href="#5988"> 5988: </a>                    <span class="php-var">$parser</span> = <span class="php-keyword1">new</span> SimplePie_HTTP_Parser(<span class="php-var">$this</span>-&gt;headers);
</span><span id="5989" class="l"><a class="l" href="#5989"> 5989: </a>                    <span class="php-keyword1">if</span> (<span class="php-var">$parser</span>-&gt;parse())
</span><span id="5990" class="l"><a class="l" href="#5990"> 5990: </a>                    {
</span><span id="5991" class="l"><a class="l" href="#5991"> 5991: </a>                        <span class="php-var">$this</span>-&gt;headers = <span class="php-var">$parser</span>-&gt;headers;
</span><span id="5992" class="l"><a class="l" href="#5992"> 5992: </a>                        <span class="php-var">$this</span>-&gt;body = <span class="php-var">$parser</span>-&gt;body;
</span><span id="5993" class="l"><a class="l" href="#5993"> 5993: </a>                        <span class="php-var">$this</span>-&gt;status_code = <span class="php-var">$parser</span>-&gt;status_code;
</span><span id="5994" class="l"><a class="l" href="#5994"> 5994: </a>                        <span class="php-keyword1">if</span> ((<span class="php-keyword2">in_array</span>(<span class="php-var">$this</span>-&gt;status_code, <span class="php-keyword1">array</span>(<span class="php-num">300</span>, <span class="php-num">301</span>, <span class="php-num">302</span>, <span class="php-num">303</span>, <span class="php-num">307</span>)) || <span class="php-var">$this</span>-&gt;status_code &gt; <span class="php-num">307</span> &amp;&amp; <span class="php-var">$this</span>-&gt;status_code &lt; <span class="php-num">400</span>) &amp;&amp; <span class="php-keyword1">isset</span>(<span class="php-var">$this</span>-&gt;headers[<span class="php-quote">'location'</span>]) &amp;&amp; <span class="php-var">$this</span>-&gt;redirects &lt; <span class="php-var">$redirects</span>)
</span><span id="5995" class="l"><a class="l" href="#5995"> 5995: </a>                        {
</span><span id="5996" class="l"><a class="l" href="#5996"> 5996: </a>                            <span class="php-var">$this</span>-&gt;redirects++;
</span><span id="5997" class="l"><a class="l" href="#5997"> 5997: </a>                            <span class="php-var">$location</span> = SimplePie_Misc::absolutize_url(<span class="php-var">$this</span>-&gt;headers[<span class="php-quote">'location'</span>], <span class="php-var">$url</span>);
</span><span id="5998" class="l"><a class="l" href="#5998"> 5998: </a>                            <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;__construct(<span class="php-var">$location</span>, <span class="php-var">$timeout</span>, <span class="php-var">$redirects</span>, <span class="php-var">$headers</span>, <span class="php-var">$useragent</span>, <span class="php-var">$force_fsockopen</span>);
</span><span id="5999" class="l"><a class="l" href="#5999"> 5999: </a>                        }
</span><span id="6000" class="l"><a class="l" href="#6000"> 6000: </a>                    }
</span><span id="6001" class="l"><a class="l" href="#6001"> 6001: </a>                }
</span><span id="6002" class="l"><a class="l" href="#6002"> 6002: </a>            }
</span><span id="6003" class="l"><a class="l" href="#6003"> 6003: </a>            <span class="php-keyword1">else</span>
</span><span id="6004" class="l"><a class="l" href="#6004"> 6004: </a>            {
</span><span id="6005" class="l"><a class="l" href="#6005"> 6005: </a>                <span class="php-var">$this</span>-&gt;method = SIMPLEPIE_FILE_SOURCE_REMOTE | SIMPLEPIE_FILE_SOURCE_FSOCKOPEN;
</span><span id="6006" class="l"><a class="l" href="#6006"> 6006: </a>                <span class="php-var">$url_parts</span> = <span class="php-keyword2">parse_url</span>(<span class="php-var">$url</span>);
</span><span id="6007" class="l"><a class="l" href="#6007"> 6007: </a>                <span class="php-var">$socket_host</span> = <span class="php-var">$url_parts</span>[<span class="php-quote">'host'</span>];
</span><span id="6008" class="l"><a class="l" href="#6008"> 6008: </a>                <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$url_parts</span>[<span class="php-quote">'scheme'</span>]) &amp;&amp; <span class="php-keyword2">strtolower</span>(<span class="php-var">$url_parts</span>[<span class="php-quote">'scheme'</span>]) === <span class="php-quote">'https'</span>)
</span><span id="6009" class="l"><a class="l" href="#6009"> 6009: </a>                {
</span><span id="6010" class="l"><a class="l" href="#6010"> 6010: </a>                    <span class="php-var">$socket_host</span> = <span class="php-quote">&quot;ssl://</span><span class="php-var">$url_parts</span><span class="php-quote">[host]&quot;</span>;
</span><span id="6011" class="l"><a class="l" href="#6011"> 6011: </a>                    <span class="php-var">$url_parts</span>[<span class="php-quote">'port'</span>] = <span class="php-num">443</span>;
</span><span id="6012" class="l"><a class="l" href="#6012"> 6012: </a>                }
</span><span id="6013" class="l"><a class="l" href="#6013"> 6013: </a>                <span class="php-keyword1">if</span> (!<span class="php-keyword1">isset</span>(<span class="php-var">$url_parts</span>[<span class="php-quote">'port'</span>]))
</span><span id="6014" class="l"><a class="l" href="#6014"> 6014: </a>                {
</span><span id="6015" class="l"><a class="l" href="#6015"> 6015: </a>                    <span class="php-var">$url_parts</span>[<span class="php-quote">'port'</span>] = <span class="php-num">80</span>;
</span><span id="6016" class="l"><a class="l" href="#6016"> 6016: </a>                }
</span><span id="6017" class="l"><a class="l" href="#6017"> 6017: </a>                <span class="php-var">$fp</span> = @<span class="php-keyword2">fsockopen</span>(<span class="php-var">$socket_host</span>, <span class="php-var">$url_parts</span>[<span class="php-quote">'port'</span>], <span class="php-var">$errno</span>, <span class="php-var">$errstr</span>, <span class="php-var">$timeout</span>);
</span><span id="6018" class="l"><a class="l" href="#6018"> 6018: </a>                <span class="php-keyword1">if</span> (!<span class="php-var">$fp</span>)
</span><span id="6019" class="l"><a class="l" href="#6019"> 6019: </a>                {
</span><span id="6020" class="l"><a class="l" href="#6020"> 6020: </a>                    <span class="php-var">$this</span>-&gt;error = <span class="php-quote">'fsockopen error: '</span> . <span class="php-var">$errstr</span>;
</span><span id="6021" class="l"><a class="l" href="#6021"> 6021: </a>                    <span class="php-var">$this</span>-&gt;success = <span class="php-keyword1">false</span>;
</span><span id="6022" class="l"><a class="l" href="#6022"> 6022: </a>                }
</span><span id="6023" class="l"><a class="l" href="#6023"> 6023: </a>                <span class="php-keyword1">else</span>
</span><span id="6024" class="l"><a class="l" href="#6024"> 6024: </a>                {
</span><span id="6025" class="l"><a class="l" href="#6025"> 6025: </a>                    <span class="php-keyword2">stream_set_timeout</span>(<span class="php-var">$fp</span>, <span class="php-var">$timeout</span>);
</span><span id="6026" class="l"><a class="l" href="#6026"> 6026: </a>                    <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$url_parts</span>[<span class="php-quote">'path'</span>]))
</span><span id="6027" class="l"><a class="l" href="#6027"> 6027: </a>                    {
</span><span id="6028" class="l"><a class="l" href="#6028"> 6028: </a>                        <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$url_parts</span>[<span class="php-quote">'query'</span>]))
</span><span id="6029" class="l"><a class="l" href="#6029"> 6029: </a>                        {
</span><span id="6030" class="l"><a class="l" href="#6030"> 6030: </a>                            <span class="php-var">$get</span> = <span class="php-quote">&quot;</span><span class="php-var">$url_parts</span><span class="php-quote">[path]?</span><span class="php-var">$url_parts</span><span class="php-quote">[query]&quot;</span>;
</span><span id="6031" class="l"><a class="l" href="#6031"> 6031: </a>                        }
</span><span id="6032" class="l"><a class="l" href="#6032"> 6032: </a>                        <span class="php-keyword1">else</span>
</span><span id="6033" class="l"><a class="l" href="#6033"> 6033: </a>                        {
</span><span id="6034" class="l"><a class="l" href="#6034"> 6034: </a>                            <span class="php-var">$get</span> = <span class="php-var">$url_parts</span>[<span class="php-quote">'path'</span>];
</span><span id="6035" class="l"><a class="l" href="#6035"> 6035: </a>                        }
</span><span id="6036" class="l"><a class="l" href="#6036"> 6036: </a>                    }
</span><span id="6037" class="l"><a class="l" href="#6037"> 6037: </a>                    <span class="php-keyword1">else</span>
</span><span id="6038" class="l"><a class="l" href="#6038"> 6038: </a>                    {
</span><span id="6039" class="l"><a class="l" href="#6039"> 6039: </a>                        <span class="php-var">$get</span> = <span class="php-quote">'/'</span>;
</span><span id="6040" class="l"><a class="l" href="#6040"> 6040: </a>                    }
</span><span id="6041" class="l"><a class="l" href="#6041"> 6041: </a>                    <span class="php-var">$out</span> = <span class="php-quote">&quot;GET </span><span class="php-var">$get</span><span class="php-quote"> HTTP/1.1\r\n&quot;</span>;
</span><span id="6042" class="l"><a class="l" href="#6042"> 6042: </a>                    <span class="php-var">$out</span> .= <span class="php-quote">&quot;Host: </span><span class="php-var">$url_parts</span><span class="php-quote">[host]\r\n&quot;</span>;
</span><span id="6043" class="l"><a class="l" href="#6043"> 6043: </a>                    <span class="php-var">$out</span> .= <span class="php-quote">&quot;User-Agent: </span><span class="php-var">$useragent</span><span class="php-quote">\r\n&quot;</span>;
</span><span id="6044" class="l"><a class="l" href="#6044"> 6044: </a>                    <span class="php-keyword1">if</span> (<span class="php-keyword2">extension_loaded</span>(<span class="php-quote">'zlib'</span>))
</span><span id="6045" class="l"><a class="l" href="#6045"> 6045: </a>                    {
</span><span id="6046" class="l"><a class="l" href="#6046"> 6046: </a>                        <span class="php-var">$out</span> .= <span class="php-quote">&quot;Accept-Encoding: x-gzip,gzip,deflate\r\n&quot;</span>;
</span><span id="6047" class="l"><a class="l" href="#6047"> 6047: </a>                    }
</span><span id="6048" class="l"><a class="l" href="#6048"> 6048: </a>
</span><span id="6049" class="l"><a class="l" href="#6049"> 6049: </a>                    <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$url_parts</span>[<span class="php-quote">'user'</span>]) &amp;&amp; <span class="php-keyword1">isset</span>(<span class="php-var">$url_parts</span>[<span class="php-quote">'pass'</span>]))
</span><span id="6050" class="l"><a class="l" href="#6050"> 6050: </a>                    {
</span><span id="6051" class="l"><a class="l" href="#6051"> 6051: </a>                        <span class="php-var">$out</span> .= <span class="php-quote">&quot;Authorization: Basic &quot;</span> . <span class="php-keyword2">base64_encode</span>(<span class="php-quote">&quot;</span><span class="php-var">$url_parts</span><span class="php-quote">[user]:</span><span class="php-var">$url_parts</span><span class="php-quote">[pass]&quot;</span>) . <span class="php-quote">&quot;\r\n&quot;</span>;
</span><span id="6052" class="l"><a class="l" href="#6052"> 6052: </a>                    }
</span><span id="6053" class="l"><a class="l" href="#6053"> 6053: </a>                    <span class="php-keyword1">foreach</span> (<span class="php-var">$headers</span> <span class="php-keyword1">as</span> <span class="php-var">$key</span> =&gt; <span class="php-var">$value</span>)
</span><span id="6054" class="l"><a class="l" href="#6054"> 6054: </a>                    {
</span><span id="6055" class="l"><a class="l" href="#6055"> 6055: </a>                        <span class="php-var">$out</span> .= <span class="php-quote">&quot;</span><span class="php-var">$key</span><span class="php-quote">: </span><span class="php-var">$value</span><span class="php-quote">\r\n&quot;</span>;
</span><span id="6056" class="l"><a class="l" href="#6056"> 6056: </a>                    }
</span><span id="6057" class="l"><a class="l" href="#6057"> 6057: </a>                    <span class="php-var">$out</span> .= <span class="php-quote">&quot;Connection: Close\r\n\r\n&quot;</span>;
</span><span id="6058" class="l"><a class="l" href="#6058"> 6058: </a>                    <span class="php-keyword2">fwrite</span>(<span class="php-var">$fp</span>, <span class="php-var">$out</span>);
</span><span id="6059" class="l"><a class="l" href="#6059"> 6059: </a>
</span><span id="6060" class="l"><a class="l" href="#6060"> 6060: </a>                    <span class="php-var">$info</span> = <span class="php-keyword2">stream_get_meta_data</span>(<span class="php-var">$fp</span>);
</span><span id="6061" class="l"><a class="l" href="#6061"> 6061: </a>
</span><span id="6062" class="l"><a class="l" href="#6062"> 6062: </a>                    <span class="php-var">$this</span>-&gt;headers = <span class="php-quote">''</span>;
</span><span id="6063" class="l"><a class="l" href="#6063"> 6063: </a>                    <span class="php-keyword1">while</span> (!<span class="php-var">$info</span>[<span class="php-quote">'eof'</span>] &amp;&amp; !<span class="php-var">$info</span>[<span class="php-quote">'timed_out'</span>])
</span><span id="6064" class="l"><a class="l" href="#6064"> 6064: </a>                    {
</span><span id="6065" class="l"><a class="l" href="#6065"> 6065: </a>                        <span class="php-var">$this</span>-&gt;headers .= <span class="php-keyword2">fread</span>(<span class="php-var">$fp</span>, <span class="php-num">1160</span>);
</span><span id="6066" class="l"><a class="l" href="#6066"> 6066: </a>                        <span class="php-var">$info</span> = <span class="php-keyword2">stream_get_meta_data</span>(<span class="php-var">$fp</span>);
</span><span id="6067" class="l"><a class="l" href="#6067"> 6067: </a>                    }
</span><span id="6068" class="l"><a class="l" href="#6068"> 6068: </a>                    <span class="php-keyword1">if</span> (!<span class="php-var">$info</span>[<span class="php-quote">'timed_out'</span>])
</span><span id="6069" class="l"><a class="l" href="#6069"> 6069: </a>                    {
</span><span id="6070" class="l"><a class="l" href="#6070"> 6070: </a>                        <span class="php-var">$parser</span> = <span class="php-keyword1">new</span> SimplePie_HTTP_Parser(<span class="php-var">$this</span>-&gt;headers);
</span><span id="6071" class="l"><a class="l" href="#6071"> 6071: </a>                        <span class="php-keyword1">if</span> (<span class="php-var">$parser</span>-&gt;parse())
</span><span id="6072" class="l"><a class="l" href="#6072"> 6072: </a>                        {
</span><span id="6073" class="l"><a class="l" href="#6073"> 6073: </a>                            <span class="php-var">$this</span>-&gt;headers = <span class="php-var">$parser</span>-&gt;headers;
</span><span id="6074" class="l"><a class="l" href="#6074"> 6074: </a>                            <span class="php-var">$this</span>-&gt;body = <span class="php-var">$parser</span>-&gt;body;
</span><span id="6075" class="l"><a class="l" href="#6075"> 6075: </a>                            <span class="php-var">$this</span>-&gt;status_code = <span class="php-var">$parser</span>-&gt;status_code;
</span><span id="6076" class="l"><a class="l" href="#6076"> 6076: </a>                            <span class="php-keyword1">if</span> ((<span class="php-keyword2">in_array</span>(<span class="php-var">$this</span>-&gt;status_code, <span class="php-keyword1">array</span>(<span class="php-num">300</span>, <span class="php-num">301</span>, <span class="php-num">302</span>, <span class="php-num">303</span>, <span class="php-num">307</span>)) || <span class="php-var">$this</span>-&gt;status_code &gt; <span class="php-num">307</span> &amp;&amp; <span class="php-var">$this</span>-&gt;status_code &lt; <span class="php-num">400</span>) &amp;&amp; <span class="php-keyword1">isset</span>(<span class="php-var">$this</span>-&gt;headers[<span class="php-quote">'location'</span>]) &amp;&amp; <span class="php-var">$this</span>-&gt;redirects &lt; <span class="php-var">$redirects</span>)
</span><span id="6077" class="l"><a class="l" href="#6077"> 6077: </a>                            {
</span><span id="6078" class="l"><a class="l" href="#6078"> 6078: </a>                                <span class="php-var">$this</span>-&gt;redirects++;
</span><span id="6079" class="l"><a class="l" href="#6079"> 6079: </a>                                <span class="php-var">$location</span> = SimplePie_Misc::absolutize_url(<span class="php-var">$this</span>-&gt;headers[<span class="php-quote">'location'</span>], <span class="php-var">$url</span>);
</span><span id="6080" class="l"><a class="l" href="#6080"> 6080: </a>                                <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;__construct(<span class="php-var">$location</span>, <span class="php-var">$timeout</span>, <span class="php-var">$redirects</span>, <span class="php-var">$headers</span>, <span class="php-var">$useragent</span>, <span class="php-var">$force_fsockopen</span>);
</span><span id="6081" class="l"><a class="l" href="#6081"> 6081: </a>                            }
</span><span id="6082" class="l"><a class="l" href="#6082"> 6082: </a>                            <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$this</span>-&gt;headers[<span class="php-quote">'content-encoding'</span>]))
</span><span id="6083" class="l"><a class="l" href="#6083"> 6083: </a>                            {
</span><span id="6084" class="l"><a class="l" href="#6084"> 6084: </a>                                <span class="php-comment">// Hey, we act dumb elsewhere, so let's do that here too</span>
</span><span id="6085" class="l"><a class="l" href="#6085"> 6085: </a>                                <span class="php-keyword1">switch</span> (<span class="php-keyword2">strtolower</span>(<span class="php-keyword2">trim</span>(<span class="php-var">$this</span>-&gt;headers[<span class="php-quote">'content-encoding'</span>], <span class="php-quote">&quot;\x09\x0A\x0D\x20&quot;</span>)))
</span><span id="6086" class="l"><a class="l" href="#6086"> 6086: </a>                                {
</span><span id="6087" class="l"><a class="l" href="#6087"> 6087: </a>                                    <span class="php-keyword1">case</span> <span class="php-quote">'gzip'</span>:
</span><span id="6088" class="l"><a class="l" href="#6088"> 6088: </a>                                    <span class="php-keyword1">case</span> <span class="php-quote">'x-gzip'</span>:
</span><span id="6089" class="l"><a class="l" href="#6089"> 6089: </a>                                        <span class="php-var">$decoder</span> = <span class="php-keyword1">new</span> SimplePie_gzdecode(<span class="php-var">$this</span>-&gt;body);
</span><span id="6090" class="l"><a class="l" href="#6090"> 6090: </a>                                        <span class="php-keyword1">if</span> (!<span class="php-var">$decoder</span>-&gt;parse())
</span><span id="6091" class="l"><a class="l" href="#6091"> 6091: </a>                                        {
</span><span id="6092" class="l"><a class="l" href="#6092"> 6092: </a>                                            <span class="php-var">$this</span>-&gt;error = <span class="php-quote">'Unable to decode HTTP &quot;gzip&quot; stream'</span>;
</span><span id="6093" class="l"><a class="l" href="#6093"> 6093: </a>                                            <span class="php-var">$this</span>-&gt;success = <span class="php-keyword1">false</span>;
</span><span id="6094" class="l"><a class="l" href="#6094"> 6094: </a>                                        }
</span><span id="6095" class="l"><a class="l" href="#6095"> 6095: </a>                                        <span class="php-keyword1">else</span>
</span><span id="6096" class="l"><a class="l" href="#6096"> 6096: </a>                                        {
</span><span id="6097" class="l"><a class="l" href="#6097"> 6097: </a>                                            <span class="php-var">$this</span>-&gt;body = <span class="php-var">$decoder</span>-&gt;data;
</span><span id="6098" class="l"><a class="l" href="#6098"> 6098: </a>                                        }
</span><span id="6099" class="l"><a class="l" href="#6099"> 6099: </a>                                        <span class="php-keyword1">break</span>;
</span><span id="6100" class="l"><a class="l" href="#6100"> 6100: </a>
</span><span id="6101" class="l"><a class="l" href="#6101"> 6101: </a>                                    <span class="php-keyword1">case</span> <span class="php-quote">'deflate'</span>:
</span><span id="6102" class="l"><a class="l" href="#6102"> 6102: </a>                                        <span class="php-keyword1">if</span> ((<span class="php-var">$decompressed</span> = <span class="php-keyword2">gzinflate</span>(<span class="php-var">$this</span>-&gt;body)) !== <span class="php-keyword1">false</span>)
</span><span id="6103" class="l"><a class="l" href="#6103"> 6103: </a>                                        {
</span><span id="6104" class="l"><a class="l" href="#6104"> 6104: </a>                                            <span class="php-var">$this</span>-&gt;body = <span class="php-var">$decompressed</span>;
</span><span id="6105" class="l"><a class="l" href="#6105"> 6105: </a>                                        }
</span><span id="6106" class="l"><a class="l" href="#6106"> 6106: </a>                                        <span class="php-keyword1">else</span> <span class="php-keyword1">if</span> ((<span class="php-var">$decompressed</span> = <span class="php-keyword2">gzuncompress</span>(<span class="php-var">$this</span>-&gt;body)) !== <span class="php-keyword1">false</span>)
</span><span id="6107" class="l"><a class="l" href="#6107"> 6107: </a>                                        {
</span><span id="6108" class="l"><a class="l" href="#6108"> 6108: </a>                                            <span class="php-var">$this</span>-&gt;body = <span class="php-var">$decompressed</span>;
</span><span id="6109" class="l"><a class="l" href="#6109"> 6109: </a>                                        }
</span><span id="6110" class="l"><a class="l" href="#6110"> 6110: </a>                                        <span class="php-keyword1">else</span> <span class="php-keyword1">if</span> (<span class="php-keyword2">function_exists</span>(<span class="php-quote">'gzdecode'</span>) &amp;&amp; (<span class="php-var">$decompressed</span> = <span class="php-keyword2">gzdecode</span>(<span class="php-var">$this</span>-&gt;body)) !== <span class="php-keyword1">false</span>)
</span><span id="6111" class="l"><a class="l" href="#6111"> 6111: </a>                                        {
</span><span id="6112" class="l"><a class="l" href="#6112"> 6112: </a>                                            <span class="php-var">$this</span>-&gt;body = <span class="php-var">$decompressed</span>;
</span><span id="6113" class="l"><a class="l" href="#6113"> 6113: </a>                                        }
</span><span id="6114" class="l"><a class="l" href="#6114"> 6114: </a>                                        <span class="php-keyword1">else</span>
</span><span id="6115" class="l"><a class="l" href="#6115"> 6115: </a>                                        {
</span><span id="6116" class="l"><a class="l" href="#6116"> 6116: </a>                                            <span class="php-var">$this</span>-&gt;error = <span class="php-quote">'Unable to decode HTTP &quot;deflate&quot; stream'</span>;
</span><span id="6117" class="l"><a class="l" href="#6117"> 6117: </a>                                            <span class="php-var">$this</span>-&gt;success = <span class="php-keyword1">false</span>;
</span><span id="6118" class="l"><a class="l" href="#6118"> 6118: </a>                                        }
</span><span id="6119" class="l"><a class="l" href="#6119"> 6119: </a>                                        <span class="php-keyword1">break</span>;
</span><span id="6120" class="l"><a class="l" href="#6120"> 6120: </a>
</span><span id="6121" class="l"><a class="l" href="#6121"> 6121: </a>                                    <span class="php-keyword1">default</span>:
</span><span id="6122" class="l"><a class="l" href="#6122"> 6122: </a>                                        <span class="php-var">$this</span>-&gt;error = <span class="php-quote">'Unknown content coding'</span>;
</span><span id="6123" class="l"><a class="l" href="#6123"> 6123: </a>                                        <span class="php-var">$this</span>-&gt;success = <span class="php-keyword1">false</span>;
</span><span id="6124" class="l"><a class="l" href="#6124"> 6124: </a>                                }
</span><span id="6125" class="l"><a class="l" href="#6125"> 6125: </a>                            }
</span><span id="6126" class="l"><a class="l" href="#6126"> 6126: </a>                        }
</span><span id="6127" class="l"><a class="l" href="#6127"> 6127: </a>                    }
</span><span id="6128" class="l"><a class="l" href="#6128"> 6128: </a>                    <span class="php-keyword1">else</span>
</span><span id="6129" class="l"><a class="l" href="#6129"> 6129: </a>                    {
</span><span id="6130" class="l"><a class="l" href="#6130"> 6130: </a>                        <span class="php-var">$this</span>-&gt;error = <span class="php-quote">'fsocket timed out'</span>;
</span><span id="6131" class="l"><a class="l" href="#6131"> 6131: </a>                        <span class="php-var">$this</span>-&gt;success = <span class="php-keyword1">false</span>;
</span><span id="6132" class="l"><a class="l" href="#6132"> 6132: </a>                    }
</span><span id="6133" class="l"><a class="l" href="#6133"> 6133: </a>                    <span class="php-keyword2">fclose</span>(<span class="php-var">$fp</span>);
</span><span id="6134" class="l"><a class="l" href="#6134"> 6134: </a>                }
</span><span id="6135" class="l"><a class="l" href="#6135"> 6135: </a>            }
</span><span id="6136" class="l"><a class="l" href="#6136"> 6136: </a>        }
</span><span id="6137" class="l"><a class="l" href="#6137"> 6137: </a>        <span class="php-keyword1">else</span>
</span><span id="6138" class="l"><a class="l" href="#6138"> 6138: </a>        {
</span><span id="6139" class="l"><a class="l" href="#6139"> 6139: </a>            <span class="php-var">$this</span>-&gt;method = SIMPLEPIE_FILE_SOURCE_LOCAL | SIMPLEPIE_FILE_SOURCE_FILE_GET_CONTENTS;
</span><span id="6140" class="l"><a class="l" href="#6140"> 6140: </a>            <span class="php-keyword1">if</span> (!<span class="php-var">$this</span>-&gt;body = <span class="php-keyword2">file_get_contents</span>(<span class="php-var">$url</span>))
</span><span id="6141" class="l"><a class="l" href="#6141"> 6141: </a>            {
</span><span id="6142" class="l"><a class="l" href="#6142"> 6142: </a>                <span class="php-var">$this</span>-&gt;error = <span class="php-quote">'file_get_contents could not read the file'</span>;
</span><span id="6143" class="l"><a class="l" href="#6143"> 6143: </a>                <span class="php-var">$this</span>-&gt;success = <span class="php-keyword1">false</span>;
</span><span id="6144" class="l"><a class="l" href="#6144"> 6144: </a>            }
</span><span id="6145" class="l"><a class="l" href="#6145"> 6145: </a>        }
</span><span id="6146" class="l"><a class="l" href="#6146"> 6146: </a>    }
</span><span id="6147" class="l"><a class="l" href="#6147"> 6147: </a>}
</span><span id="6148" class="l"><a class="l" href="#6148"> 6148: </a>
</span><span id="6149" class="l"><a class="l" href="#6149"> 6149: </a><span class="php-comment">/**
</span></span><span id="6150" class="l"><a class="l" href="#6150"> 6150: </a><span class="php-comment"> * Decode 'gzip' encoded HTTP data
</span></span><span id="6151" class="l"><a class="l" href="#6151"> 6151: </a><span class="php-comment"> *
</span></span><span id="6152" class="l"><a class="l" href="#6152"> 6152: </a><span class="php-comment"> * @package SimplePie
</span></span><span id="6153" class="l"><a class="l" href="#6153"> 6153: </a><span class="php-comment"> * @link http://www.gzip.org/format.txt
</span></span><span id="6154" class="l"><a class="l" href="#6154"> 6154: </a><span class="php-comment"> */</span>
</span><span id="6155" class="l"><a class="l" href="#6155"> 6155: </a><span class="php-keyword1">class</span> <a id="SimplePie_gzdecode" href="#SimplePie_gzdecode">SimplePie_gzdecode</a>
</span><span id="6156" class="l"><a class="l" href="#6156"> 6156: </a>{
</span><span id="6157" class="l"><a class="l" href="#6157"> 6157: </a>    <span class="php-comment">/**
</span></span><span id="6158" class="l"><a class="l" href="#6158"> 6158: </a><span class="php-comment">     * Compressed data
</span></span><span id="6159" class="l"><a class="l" href="#6159"> 6159: </a><span class="php-comment">     *
</span></span><span id="6160" class="l"><a class="l" href="#6160"> 6160: </a><span class="php-comment">     * @access private
</span></span><span id="6161" class="l"><a class="l" href="#6161"> 6161: </a><span class="php-comment">     * @var string
</span></span><span id="6162" class="l"><a class="l" href="#6162"> 6162: </a><span class="php-comment">     * @see gzdecode::$data
</span></span><span id="6163" class="l"><a class="l" href="#6163"> 6163: </a><span class="php-comment">     */</span>
</span><span id="6164" class="l"><a class="l" href="#6164"> 6164: </a>    <span class="php-keyword1">var</span> <span class="php-var"><a id="$compressed_data" href="#$compressed_data">$compressed_data</a></span>;
</span><span id="6165" class="l"><a class="l" href="#6165"> 6165: </a>
</span><span id="6166" class="l"><a class="l" href="#6166"> 6166: </a>    <span class="php-comment">/**
</span></span><span id="6167" class="l"><a class="l" href="#6167"> 6167: </a><span class="php-comment">     * Size of compressed data
</span></span><span id="6168" class="l"><a class="l" href="#6168"> 6168: </a><span class="php-comment">     *
</span></span><span id="6169" class="l"><a class="l" href="#6169"> 6169: </a><span class="php-comment">     * @access private
</span></span><span id="6170" class="l"><a class="l" href="#6170"> 6170: </a><span class="php-comment">     * @var int
</span></span><span id="6171" class="l"><a class="l" href="#6171"> 6171: </a><span class="php-comment">     */</span>
</span><span id="6172" class="l"><a class="l" href="#6172"> 6172: </a>    <span class="php-keyword1">var</span> <span class="php-var"><a id="$compressed_size" href="#$compressed_size">$compressed_size</a></span>;
</span><span id="6173" class="l"><a class="l" href="#6173"> 6173: </a>
</span><span id="6174" class="l"><a class="l" href="#6174"> 6174: </a>    <span class="php-comment">/**
</span></span><span id="6175" class="l"><a class="l" href="#6175"> 6175: </a><span class="php-comment">     * Minimum size of a valid gzip string
</span></span><span id="6176" class="l"><a class="l" href="#6176"> 6176: </a><span class="php-comment">     *
</span></span><span id="6177" class="l"><a class="l" href="#6177"> 6177: </a><span class="php-comment">     * @access private
</span></span><span id="6178" class="l"><a class="l" href="#6178"> 6178: </a><span class="php-comment">     * @var int
</span></span><span id="6179" class="l"><a class="l" href="#6179"> 6179: </a><span class="php-comment">     */</span>
</span><span id="6180" class="l"><a class="l" href="#6180"> 6180: </a>    <span class="php-keyword1">var</span> <span class="php-var"><a id="$min_compressed_size" href="#$min_compressed_size">$min_compressed_size</a></span> = <span class="php-num">18</span>;
</span><span id="6181" class="l"><a class="l" href="#6181"> 6181: </a>
</span><span id="6182" class="l"><a class="l" href="#6182"> 6182: </a>    <span class="php-comment">/**
</span></span><span id="6183" class="l"><a class="l" href="#6183"> 6183: </a><span class="php-comment">     * Current position of pointer
</span></span><span id="6184" class="l"><a class="l" href="#6184"> 6184: </a><span class="php-comment">     *
</span></span><span id="6185" class="l"><a class="l" href="#6185"> 6185: </a><span class="php-comment">     * @access private
</span></span><span id="6186" class="l"><a class="l" href="#6186"> 6186: </a><span class="php-comment">     * @var int
</span></span><span id="6187" class="l"><a class="l" href="#6187"> 6187: </a><span class="php-comment">     */</span>
</span><span id="6188" class="l"><a class="l" href="#6188"> 6188: </a>    <span class="php-keyword1">var</span> <span class="php-var"><a id="$position" href="#$position">$position</a></span> = <span class="php-num">0</span>;
</span><span id="6189" class="l"><a class="l" href="#6189"> 6189: </a>
</span><span id="6190" class="l"><a class="l" href="#6190"> 6190: </a>    <span class="php-comment">/**
</span></span><span id="6191" class="l"><a class="l" href="#6191"> 6191: </a><span class="php-comment">     * Flags (FLG)
</span></span><span id="6192" class="l"><a class="l" href="#6192"> 6192: </a><span class="php-comment">     *
</span></span><span id="6193" class="l"><a class="l" href="#6193"> 6193: </a><span class="php-comment">     * @access private
</span></span><span id="6194" class="l"><a class="l" href="#6194"> 6194: </a><span class="php-comment">     * @var int
</span></span><span id="6195" class="l"><a class="l" href="#6195"> 6195: </a><span class="php-comment">     */</span>
</span><span id="6196" class="l"><a class="l" href="#6196"> 6196: </a>    <span class="php-keyword1">var</span> <span class="php-var"><a id="$flags" href="#$flags">$flags</a></span>;
</span><span id="6197" class="l"><a class="l" href="#6197"> 6197: </a>
</span><span id="6198" class="l"><a class="l" href="#6198"> 6198: </a>    <span class="php-comment">/**
</span></span><span id="6199" class="l"><a class="l" href="#6199"> 6199: </a><span class="php-comment">     * Uncompressed data
</span></span><span id="6200" class="l"><a class="l" href="#6200"> 6200: </a><span class="php-comment">     *
</span></span><span id="6201" class="l"><a class="l" href="#6201"> 6201: </a><span class="php-comment">     * @access public
</span></span><span id="6202" class="l"><a class="l" href="#6202"> 6202: </a><span class="php-comment">     * @see gzdecode::$compressed_data
</span></span><span id="6203" class="l"><a class="l" href="#6203"> 6203: </a><span class="php-comment">     * @var string
</span></span><span id="6204" class="l"><a class="l" href="#6204"> 6204: </a><span class="php-comment">     */</span>
</span><span id="6205" class="l"><a class="l" href="#6205"> 6205: </a>    <span class="php-keyword1">var</span> <span class="php-var"><a id="$data" href="#$data">$data</a></span>;
</span><span id="6206" class="l"><a class="l" href="#6206"> 6206: </a>
</span><span id="6207" class="l"><a class="l" href="#6207"> 6207: </a>    <span class="php-comment">/**
</span></span><span id="6208" class="l"><a class="l" href="#6208"> 6208: </a><span class="php-comment">     * Modified time
</span></span><span id="6209" class="l"><a class="l" href="#6209"> 6209: </a><span class="php-comment">     *
</span></span><span id="6210" class="l"><a class="l" href="#6210"> 6210: </a><span class="php-comment">     * @access public
</span></span><span id="6211" class="l"><a class="l" href="#6211"> 6211: </a><span class="php-comment">     * @var int
</span></span><span id="6212" class="l"><a class="l" href="#6212"> 6212: </a><span class="php-comment">     */</span>
</span><span id="6213" class="l"><a class="l" href="#6213"> 6213: </a>    <span class="php-keyword1">var</span> <span class="php-var"><a id="$MTIME" href="#$MTIME">$MTIME</a></span>;
</span><span id="6214" class="l"><a class="l" href="#6214"> 6214: </a>
</span><span id="6215" class="l"><a class="l" href="#6215"> 6215: </a>    <span class="php-comment">/**
</span></span><span id="6216" class="l"><a class="l" href="#6216"> 6216: </a><span class="php-comment">     * Extra Flags
</span></span><span id="6217" class="l"><a class="l" href="#6217"> 6217: </a><span class="php-comment">     *
</span></span><span id="6218" class="l"><a class="l" href="#6218"> 6218: </a><span class="php-comment">     * @access public
</span></span><span id="6219" class="l"><a class="l" href="#6219"> 6219: </a><span class="php-comment">     * @var int
</span></span><span id="6220" class="l"><a class="l" href="#6220"> 6220: </a><span class="php-comment">     */</span>
</span><span id="6221" class="l"><a class="l" href="#6221"> 6221: </a>    <span class="php-keyword1">var</span> <span class="php-var"><a id="$XFL" href="#$XFL">$XFL</a></span>;
</span><span id="6222" class="l"><a class="l" href="#6222"> 6222: </a>
</span><span id="6223" class="l"><a class="l" href="#6223"> 6223: </a>    <span class="php-comment">/**
</span></span><span id="6224" class="l"><a class="l" href="#6224"> 6224: </a><span class="php-comment">     * Operating System
</span></span><span id="6225" class="l"><a class="l" href="#6225"> 6225: </a><span class="php-comment">     *
</span></span><span id="6226" class="l"><a class="l" href="#6226"> 6226: </a><span class="php-comment">     * @access public
</span></span><span id="6227" class="l"><a class="l" href="#6227"> 6227: </a><span class="php-comment">     * @var int
</span></span><span id="6228" class="l"><a class="l" href="#6228"> 6228: </a><span class="php-comment">     */</span>
</span><span id="6229" class="l"><a class="l" href="#6229"> 6229: </a>    <span class="php-keyword1">var</span> <span class="php-var"><a id="$OS" href="#$OS">$OS</a></span>;
</span><span id="6230" class="l"><a class="l" href="#6230"> 6230: </a>
</span><span id="6231" class="l"><a class="l" href="#6231"> 6231: </a>    <span class="php-comment">/**
</span></span><span id="6232" class="l"><a class="l" href="#6232"> 6232: </a><span class="php-comment">     * Subfield ID 1
</span></span><span id="6233" class="l"><a class="l" href="#6233"> 6233: </a><span class="php-comment">     *
</span></span><span id="6234" class="l"><a class="l" href="#6234"> 6234: </a><span class="php-comment">     * @access public
</span></span><span id="6235" class="l"><a class="l" href="#6235"> 6235: </a><span class="php-comment">     * @see gzdecode::$extra_field
</span></span><span id="6236" class="l"><a class="l" href="#6236"> 6236: </a><span class="php-comment">     * @see gzdecode::$SI2
</span></span><span id="6237" class="l"><a class="l" href="#6237"> 6237: </a><span class="php-comment">     * @var string
</span></span><span id="6238" class="l"><a class="l" href="#6238"> 6238: </a><span class="php-comment">     */</span>
</span><span id="6239" class="l"><a class="l" href="#6239"> 6239: </a>    <span class="php-keyword1">var</span> <span class="php-var"><a id="$SI1" href="#$SI1">$SI1</a></span>;
</span><span id="6240" class="l"><a class="l" href="#6240"> 6240: </a>
</span><span id="6241" class="l"><a class="l" href="#6241"> 6241: </a>    <span class="php-comment">/**
</span></span><span id="6242" class="l"><a class="l" href="#6242"> 6242: </a><span class="php-comment">     * Subfield ID 2
</span></span><span id="6243" class="l"><a class="l" href="#6243"> 6243: </a><span class="php-comment">     *
</span></span><span id="6244" class="l"><a class="l" href="#6244"> 6244: </a><span class="php-comment">     * @access public
</span></span><span id="6245" class="l"><a class="l" href="#6245"> 6245: </a><span class="php-comment">     * @see gzdecode::$extra_field
</span></span><span id="6246" class="l"><a class="l" href="#6246"> 6246: </a><span class="php-comment">     * @see gzdecode::$SI1
</span></span><span id="6247" class="l"><a class="l" href="#6247"> 6247: </a><span class="php-comment">     * @var string
</span></span><span id="6248" class="l"><a class="l" href="#6248"> 6248: </a><span class="php-comment">     */</span>
</span><span id="6249" class="l"><a class="l" href="#6249"> 6249: </a>    <span class="php-keyword1">var</span> <span class="php-var"><a id="$SI2" href="#$SI2">$SI2</a></span>;
</span><span id="6250" class="l"><a class="l" href="#6250"> 6250: </a>
</span><span id="6251" class="l"><a class="l" href="#6251"> 6251: </a>    <span class="php-comment">/**
</span></span><span id="6252" class="l"><a class="l" href="#6252"> 6252: </a><span class="php-comment">     * Extra field content
</span></span><span id="6253" class="l"><a class="l" href="#6253"> 6253: </a><span class="php-comment">     *
</span></span><span id="6254" class="l"><a class="l" href="#6254"> 6254: </a><span class="php-comment">     * @access public
</span></span><span id="6255" class="l"><a class="l" href="#6255"> 6255: </a><span class="php-comment">     * @see gzdecode::$SI1
</span></span><span id="6256" class="l"><a class="l" href="#6256"> 6256: </a><span class="php-comment">     * @see gzdecode::$SI2
</span></span><span id="6257" class="l"><a class="l" href="#6257"> 6257: </a><span class="php-comment">     * @var string
</span></span><span id="6258" class="l"><a class="l" href="#6258"> 6258: </a><span class="php-comment">     */</span>
</span><span id="6259" class="l"><a class="l" href="#6259"> 6259: </a>    <span class="php-keyword1">var</span> <span class="php-var"><a id="$extra_field" href="#$extra_field">$extra_field</a></span>;
</span><span id="6260" class="l"><a class="l" href="#6260"> 6260: </a>
</span><span id="6261" class="l"><a class="l" href="#6261"> 6261: </a>    <span class="php-comment">/**
</span></span><span id="6262" class="l"><a class="l" href="#6262"> 6262: </a><span class="php-comment">     * Original filename
</span></span><span id="6263" class="l"><a class="l" href="#6263"> 6263: </a><span class="php-comment">     *
</span></span><span id="6264" class="l"><a class="l" href="#6264"> 6264: </a><span class="php-comment">     * @access public
</span></span><span id="6265" class="l"><a class="l" href="#6265"> 6265: </a><span class="php-comment">     * @var string
</span></span><span id="6266" class="l"><a class="l" href="#6266"> 6266: </a><span class="php-comment">     */</span>
</span><span id="6267" class="l"><a class="l" href="#6267"> 6267: </a>    <span class="php-keyword1">var</span> <span class="php-var"><a id="$filename" href="#$filename">$filename</a></span>;
</span><span id="6268" class="l"><a class="l" href="#6268"> 6268: </a>
</span><span id="6269" class="l"><a class="l" href="#6269"> 6269: </a>    <span class="php-comment">/**
</span></span><span id="6270" class="l"><a class="l" href="#6270"> 6270: </a><span class="php-comment">     * Human readable comment
</span></span><span id="6271" class="l"><a class="l" href="#6271"> 6271: </a><span class="php-comment">     *
</span></span><span id="6272" class="l"><a class="l" href="#6272"> 6272: </a><span class="php-comment">     * @access public
</span></span><span id="6273" class="l"><a class="l" href="#6273"> 6273: </a><span class="php-comment">     * @var string
</span></span><span id="6274" class="l"><a class="l" href="#6274"> 6274: </a><span class="php-comment">     */</span>
</span><span id="6275" class="l"><a class="l" href="#6275"> 6275: </a>    <span class="php-keyword1">var</span> <span class="php-var"><a id="$comment" href="#$comment">$comment</a></span>;
</span><span id="6276" class="l"><a class="l" href="#6276"> 6276: </a>
</span><span id="6277" class="l"><a class="l" href="#6277"> 6277: </a>    <span class="php-comment">/**
</span></span><span id="6278" class="l"><a class="l" href="#6278"> 6278: </a><span class="php-comment">     * Don't allow anything to be set
</span></span><span id="6279" class="l"><a class="l" href="#6279"> 6279: </a><span class="php-comment">     *
</span></span><span id="6280" class="l"><a class="l" href="#6280"> 6280: </a><span class="php-comment">     * @param string $name
</span></span><span id="6281" class="l"><a class="l" href="#6281"> 6281: </a><span class="php-comment">     * @param mixed $value
</span></span><span id="6282" class="l"><a class="l" href="#6282"> 6282: </a><span class="php-comment">     */</span>
</span><span id="6283" class="l"><a class="l" href="#6283"> 6283: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="___set" href="#___set">__set</a>(<span class="php-var">$name</span>, <span class="php-var">$value</span>)
</span><span id="6284" class="l"><a class="l" href="#6284"> 6284: </a>    {
</span><span id="6285" class="l"><a class="l" href="#6285"> 6285: </a>        <span class="php-keyword2">trigger_error</span>(<span class="php-quote">&quot;Cannot write property </span><span class="php-var">$name</span><span class="php-quote">&quot;</span>, E_USER_ERROR);
</span><span id="6286" class="l"><a class="l" href="#6286"> 6286: </a>    }
</span><span id="6287" class="l"><a class="l" href="#6287"> 6287: </a>
</span><span id="6288" class="l"><a class="l" href="#6288"> 6288: </a>    <span class="php-comment">/**
</span></span><span id="6289" class="l"><a class="l" href="#6289"> 6289: </a><span class="php-comment">     * Set the compressed string and related properties
</span></span><span id="6290" class="l"><a class="l" href="#6290"> 6290: </a><span class="php-comment">     *
</span></span><span id="6291" class="l"><a class="l" href="#6291"> 6291: </a><span class="php-comment">     * @param string $data
</span></span><span id="6292" class="l"><a class="l" href="#6292"> 6292: </a><span class="php-comment">     */</span>
</span><span id="6293" class="l"><a class="l" href="#6293"> 6293: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="___construct" href="#___construct">__construct</a>(<span class="php-var">$data</span>)
</span><span id="6294" class="l"><a class="l" href="#6294"> 6294: </a>    {
</span><span id="6295" class="l"><a class="l" href="#6295"> 6295: </a>        <span class="php-var">$this</span>-&gt;compressed_data = <span class="php-var">$data</span>;
</span><span id="6296" class="l"><a class="l" href="#6296"> 6296: </a>        <span class="php-var">$this</span>-&gt;compressed_size = <span class="php-keyword2">strlen</span>(<span class="php-var">$data</span>);
</span><span id="6297" class="l"><a class="l" href="#6297"> 6297: </a>    }
</span><span id="6298" class="l"><a class="l" href="#6298"> 6298: </a>
</span><span id="6299" class="l"><a class="l" href="#6299"> 6299: </a>    <span class="php-comment">/**
</span></span><span id="6300" class="l"><a class="l" href="#6300"> 6300: </a><span class="php-comment">     * Decode the GZIP stream
</span></span><span id="6301" class="l"><a class="l" href="#6301"> 6301: </a><span class="php-comment">     *
</span></span><span id="6302" class="l"><a class="l" href="#6302"> 6302: </a><span class="php-comment">     * @return bool Successfulness
</span></span><span id="6303" class="l"><a class="l" href="#6303"> 6303: </a><span class="php-comment">     */</span>
</span><span id="6304" class="l"><a class="l" href="#6304"> 6304: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_parse" href="#_parse">parse</a>()
</span><span id="6305" class="l"><a class="l" href="#6305"> 6305: </a>    {
</span><span id="6306" class="l"><a class="l" href="#6306"> 6306: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$this</span>-&gt;compressed_size &gt;= <span class="php-var">$this</span>-&gt;min_compressed_size)
</span><span id="6307" class="l"><a class="l" href="#6307"> 6307: </a>        {
</span><span id="6308" class="l"><a class="l" href="#6308"> 6308: </a>            <span class="php-comment">// Check ID1, ID2, and CM</span>
</span><span id="6309" class="l"><a class="l" href="#6309"> 6309: </a>            <span class="php-keyword1">if</span> (<span class="php-keyword2">substr</span>(<span class="php-var">$this</span>-&gt;compressed_data, <span class="php-num">0</span>, <span class="php-num">3</span>) !== <span class="php-quote">&quot;\x1F\x8B\x08&quot;</span>)
</span><span id="6310" class="l"><a class="l" href="#6310"> 6310: </a>            {
</span><span id="6311" class="l"><a class="l" href="#6311"> 6311: </a>                <span class="php-keyword1">return</span> <span class="php-keyword1">false</span>;
</span><span id="6312" class="l"><a class="l" href="#6312"> 6312: </a>            }
</span><span id="6313" class="l"><a class="l" href="#6313"> 6313: </a>
</span><span id="6314" class="l"><a class="l" href="#6314"> 6314: </a>            <span class="php-comment">// Get the FLG (FLaGs)</span>
</span><span id="6315" class="l"><a class="l" href="#6315"> 6315: </a>            <span class="php-var">$this</span>-&gt;flags = <span class="php-keyword2">ord</span>(<span class="php-var">$this</span>-&gt;compressed_data[<span class="php-num">3</span>]);
</span><span id="6316" class="l"><a class="l" href="#6316"> 6316: </a>
</span><span id="6317" class="l"><a class="l" href="#6317"> 6317: </a>            <span class="php-comment">// FLG bits above (1 &lt;&lt; 4) are reserved</span>
</span><span id="6318" class="l"><a class="l" href="#6318"> 6318: </a>            <span class="php-keyword1">if</span> (<span class="php-var">$this</span>-&gt;flags &gt; <span class="php-num">0x1F</span>)
</span><span id="6319" class="l"><a class="l" href="#6319"> 6319: </a>            {
</span><span id="6320" class="l"><a class="l" href="#6320"> 6320: </a>                <span class="php-keyword1">return</span> <span class="php-keyword1">false</span>;
</span><span id="6321" class="l"><a class="l" href="#6321"> 6321: </a>            }
</span><span id="6322" class="l"><a class="l" href="#6322"> 6322: </a>
</span><span id="6323" class="l"><a class="l" href="#6323"> 6323: </a>            <span class="php-comment">// Advance the pointer after the above</span>
</span><span id="6324" class="l"><a class="l" href="#6324"> 6324: </a>            <span class="php-var">$this</span>-&gt;position += <span class="php-num">4</span>;
</span><span id="6325" class="l"><a class="l" href="#6325"> 6325: </a>
</span><span id="6326" class="l"><a class="l" href="#6326"> 6326: </a>            <span class="php-comment">// MTIME</span>
</span><span id="6327" class="l"><a class="l" href="#6327"> 6327: </a>            <span class="php-var">$mtime</span> = <span class="php-keyword2">substr</span>(<span class="php-var">$this</span>-&gt;compressed_data, <span class="php-var">$this</span>-&gt;position, <span class="php-num">4</span>);
</span><span id="6328" class="l"><a class="l" href="#6328"> 6328: </a>            <span class="php-comment">// Reverse the string if we're on a big-endian arch because l is the only signed long and is machine endianness</span>
</span><span id="6329" class="l"><a class="l" href="#6329"> 6329: </a>            <span class="php-keyword1">if</span> (<span class="php-keyword2">current</span>(<span class="php-keyword2">unpack</span>(<span class="php-quote">'S'</span>, <span class="php-quote">&quot;\x00\x01&quot;</span>)) === <span class="php-num">1</span>)
</span><span id="6330" class="l"><a class="l" href="#6330"> 6330: </a>            {
</span><span id="6331" class="l"><a class="l" href="#6331"> 6331: </a>                <span class="php-var">$mtime</span> = <span class="php-keyword2">strrev</span>(<span class="php-var">$mtime</span>);
</span><span id="6332" class="l"><a class="l" href="#6332"> 6332: </a>            }
</span><span id="6333" class="l"><a class="l" href="#6333"> 6333: </a>            <span class="php-var">$this</span>-&gt;MTIME = <span class="php-keyword2">current</span>(<span class="php-keyword2">unpack</span>(<span class="php-quote">'l'</span>, <span class="php-var">$mtime</span>));
</span><span id="6334" class="l"><a class="l" href="#6334"> 6334: </a>            <span class="php-var">$this</span>-&gt;position += <span class="php-num">4</span>;
</span><span id="6335" class="l"><a class="l" href="#6335"> 6335: </a>
</span><span id="6336" class="l"><a class="l" href="#6336"> 6336: </a>            <span class="php-comment">// Get the XFL (eXtra FLags)</span>
</span><span id="6337" class="l"><a class="l" href="#6337"> 6337: </a>            <span class="php-var">$this</span>-&gt;XFL = <span class="php-keyword2">ord</span>(<span class="php-var">$this</span>-&gt;compressed_data[<span class="php-var">$this</span>-&gt;position++]);
</span><span id="6338" class="l"><a class="l" href="#6338"> 6338: </a>
</span><span id="6339" class="l"><a class="l" href="#6339"> 6339: </a>            <span class="php-comment">// Get the OS (Operating System)</span>
</span><span id="6340" class="l"><a class="l" href="#6340"> 6340: </a>            <span class="php-var">$this</span>-&gt;OS = <span class="php-keyword2">ord</span>(<span class="php-var">$this</span>-&gt;compressed_data[<span class="php-var">$this</span>-&gt;position++]);
</span><span id="6341" class="l"><a class="l" href="#6341"> 6341: </a>
</span><span id="6342" class="l"><a class="l" href="#6342"> 6342: </a>            <span class="php-comment">// Parse the FEXTRA</span>
</span><span id="6343" class="l"><a class="l" href="#6343"> 6343: </a>            <span class="php-keyword1">if</span> (<span class="php-var">$this</span>-&gt;flags &amp; <span class="php-num">4</span>)
</span><span id="6344" class="l"><a class="l" href="#6344"> 6344: </a>            {
</span><span id="6345" class="l"><a class="l" href="#6345"> 6345: </a>                <span class="php-comment">// Read subfield IDs</span>
</span><span id="6346" class="l"><a class="l" href="#6346"> 6346: </a>                <span class="php-var">$this</span>-&gt;SI1 = <span class="php-var">$this</span>-&gt;compressed_data[<span class="php-var">$this</span>-&gt;position++];
</span><span id="6347" class="l"><a class="l" href="#6347"> 6347: </a>                <span class="php-var">$this</span>-&gt;SI2 = <span class="php-var">$this</span>-&gt;compressed_data[<span class="php-var">$this</span>-&gt;position++];
</span><span id="6348" class="l"><a class="l" href="#6348"> 6348: </a>
</span><span id="6349" class="l"><a class="l" href="#6349"> 6349: </a>                <span class="php-comment">// SI2 set to zero is reserved for future use</span>
</span><span id="6350" class="l"><a class="l" href="#6350"> 6350: </a>                <span class="php-keyword1">if</span> (<span class="php-var">$this</span>-&gt;SI2 === <span class="php-quote">&quot;\x00&quot;</span>)
</span><span id="6351" class="l"><a class="l" href="#6351"> 6351: </a>                {
</span><span id="6352" class="l"><a class="l" href="#6352"> 6352: </a>                    <span class="php-keyword1">return</span> <span class="php-keyword1">false</span>;
</span><span id="6353" class="l"><a class="l" href="#6353"> 6353: </a>                }
</span><span id="6354" class="l"><a class="l" href="#6354"> 6354: </a>
</span><span id="6355" class="l"><a class="l" href="#6355"> 6355: </a>                <span class="php-comment">// Get the length of the extra field</span>
</span><span id="6356" class="l"><a class="l" href="#6356"> 6356: </a>                <span class="php-var">$len</span> = <span class="php-keyword2">current</span>(<span class="php-keyword2">unpack</span>(<span class="php-quote">'v'</span>, <span class="php-keyword2">substr</span>(<span class="php-var">$this</span>-&gt;compressed_data, <span class="php-var">$this</span>-&gt;position, <span class="php-num">2</span>)));
</span><span id="6357" class="l"><a class="l" href="#6357"> 6357: </a>                <span class="php-var">$this</span>-&gt;position += <span class="php-num">2</span>;
</span><span id="6358" class="l"><a class="l" href="#6358"> 6358: </a>
</span><span id="6359" class="l"><a class="l" href="#6359"> 6359: </a>                <span class="php-comment">// Check the length of the string is still valid</span>
</span><span id="6360" class="l"><a class="l" href="#6360"> 6360: </a>                <span class="php-var">$this</span>-&gt;min_compressed_size += <span class="php-var">$len</span> + <span class="php-num">4</span>;
</span><span id="6361" class="l"><a class="l" href="#6361"> 6361: </a>                <span class="php-keyword1">if</span> (<span class="php-var">$this</span>-&gt;compressed_size &gt;= <span class="php-var">$this</span>-&gt;min_compressed_size)
</span><span id="6362" class="l"><a class="l" href="#6362"> 6362: </a>                {
</span><span id="6363" class="l"><a class="l" href="#6363"> 6363: </a>                    <span class="php-comment">// Set the extra field to the given data</span>
</span><span id="6364" class="l"><a class="l" href="#6364"> 6364: </a>                    <span class="php-var">$this</span>-&gt;extra_field = <span class="php-keyword2">substr</span>(<span class="php-var">$this</span>-&gt;compressed_data, <span class="php-var">$this</span>-&gt;position, <span class="php-var">$len</span>);
</span><span id="6365" class="l"><a class="l" href="#6365"> 6365: </a>                    <span class="php-var">$this</span>-&gt;position += <span class="php-var">$len</span>;
</span><span id="6366" class="l"><a class="l" href="#6366"> 6366: </a>                }
</span><span id="6367" class="l"><a class="l" href="#6367"> 6367: </a>                <span class="php-keyword1">else</span>
</span><span id="6368" class="l"><a class="l" href="#6368"> 6368: </a>                {
</span><span id="6369" class="l"><a class="l" href="#6369"> 6369: </a>                    <span class="php-keyword1">return</span> <span class="php-keyword1">false</span>;
</span><span id="6370" class="l"><a class="l" href="#6370"> 6370: </a>                }
</span><span id="6371" class="l"><a class="l" href="#6371"> 6371: </a>            }
</span><span id="6372" class="l"><a class="l" href="#6372"> 6372: </a>
</span><span id="6373" class="l"><a class="l" href="#6373"> 6373: </a>            <span class="php-comment">// Parse the FNAME</span>
</span><span id="6374" class="l"><a class="l" href="#6374"> 6374: </a>            <span class="php-keyword1">if</span> (<span class="php-var">$this</span>-&gt;flags &amp; <span class="php-num">8</span>)
</span><span id="6375" class="l"><a class="l" href="#6375"> 6375: </a>            {
</span><span id="6376" class="l"><a class="l" href="#6376"> 6376: </a>                <span class="php-comment">// Get the length of the filename</span>
</span><span id="6377" class="l"><a class="l" href="#6377"> 6377: </a>                <span class="php-var">$len</span> = <span class="php-keyword2">strcspn</span>(<span class="php-var">$this</span>-&gt;compressed_data, <span class="php-quote">&quot;\x00&quot;</span>, <span class="php-var">$this</span>-&gt;position);
</span><span id="6378" class="l"><a class="l" href="#6378"> 6378: </a>
</span><span id="6379" class="l"><a class="l" href="#6379"> 6379: </a>                <span class="php-comment">// Check the length of the string is still valid</span>
</span><span id="6380" class="l"><a class="l" href="#6380"> 6380: </a>                <span class="php-var">$this</span>-&gt;min_compressed_size += <span class="php-var">$len</span> + <span class="php-num">1</span>;
</span><span id="6381" class="l"><a class="l" href="#6381"> 6381: </a>                <span class="php-keyword1">if</span> (<span class="php-var">$this</span>-&gt;compressed_size &gt;= <span class="php-var">$this</span>-&gt;min_compressed_size)
</span><span id="6382" class="l"><a class="l" href="#6382"> 6382: </a>                {
</span><span id="6383" class="l"><a class="l" href="#6383"> 6383: </a>                    <span class="php-comment">// Set the original filename to the given string</span>
</span><span id="6384" class="l"><a class="l" href="#6384"> 6384: </a>                    <span class="php-var">$this</span>-&gt;filename = <span class="php-keyword2">substr</span>(<span class="php-var">$this</span>-&gt;compressed_data, <span class="php-var">$this</span>-&gt;position, <span class="php-var">$len</span>);
</span><span id="6385" class="l"><a class="l" href="#6385"> 6385: </a>                    <span class="php-var">$this</span>-&gt;position += <span class="php-var">$len</span> + <span class="php-num">1</span>;
</span><span id="6386" class="l"><a class="l" href="#6386"> 6386: </a>                }
</span><span id="6387" class="l"><a class="l" href="#6387"> 6387: </a>                <span class="php-keyword1">else</span>
</span><span id="6388" class="l"><a class="l" href="#6388"> 6388: </a>                {
</span><span id="6389" class="l"><a class="l" href="#6389"> 6389: </a>                    <span class="php-keyword1">return</span> <span class="php-keyword1">false</span>;
</span><span id="6390" class="l"><a class="l" href="#6390"> 6390: </a>                }
</span><span id="6391" class="l"><a class="l" href="#6391"> 6391: </a>            }
</span><span id="6392" class="l"><a class="l" href="#6392"> 6392: </a>
</span><span id="6393" class="l"><a class="l" href="#6393"> 6393: </a>            <span class="php-comment">// Parse the FCOMMENT</span>
</span><span id="6394" class="l"><a class="l" href="#6394"> 6394: </a>            <span class="php-keyword1">if</span> (<span class="php-var">$this</span>-&gt;flags &amp; <span class="php-num">16</span>)
</span><span id="6395" class="l"><a class="l" href="#6395"> 6395: </a>            {
</span><span id="6396" class="l"><a class="l" href="#6396"> 6396: </a>                <span class="php-comment">// Get the length of the comment</span>
</span><span id="6397" class="l"><a class="l" href="#6397"> 6397: </a>                <span class="php-var">$len</span> = <span class="php-keyword2">strcspn</span>(<span class="php-var">$this</span>-&gt;compressed_data, <span class="php-quote">&quot;\x00&quot;</span>, <span class="php-var">$this</span>-&gt;position);
</span><span id="6398" class="l"><a class="l" href="#6398"> 6398: </a>
</span><span id="6399" class="l"><a class="l" href="#6399"> 6399: </a>                <span class="php-comment">// Check the length of the string is still valid</span>
</span><span id="6400" class="l"><a class="l" href="#6400"> 6400: </a>                <span class="php-var">$this</span>-&gt;min_compressed_size += <span class="php-var">$len</span> + <span class="php-num">1</span>;
</span><span id="6401" class="l"><a class="l" href="#6401"> 6401: </a>                <span class="php-keyword1">if</span> (<span class="php-var">$this</span>-&gt;compressed_size &gt;= <span class="php-var">$this</span>-&gt;min_compressed_size)
</span><span id="6402" class="l"><a class="l" href="#6402"> 6402: </a>                {
</span><span id="6403" class="l"><a class="l" href="#6403"> 6403: </a>                    <span class="php-comment">// Set the original comment to the given string</span>
</span><span id="6404" class="l"><a class="l" href="#6404"> 6404: </a>                    <span class="php-var">$this</span>-&gt;comment = <span class="php-keyword2">substr</span>(<span class="php-var">$this</span>-&gt;compressed_data, <span class="php-var">$this</span>-&gt;position, <span class="php-var">$len</span>);
</span><span id="6405" class="l"><a class="l" href="#6405"> 6405: </a>                    <span class="php-var">$this</span>-&gt;position += <span class="php-var">$len</span> + <span class="php-num">1</span>;
</span><span id="6406" class="l"><a class="l" href="#6406"> 6406: </a>                }
</span><span id="6407" class="l"><a class="l" href="#6407"> 6407: </a>                <span class="php-keyword1">else</span>
</span><span id="6408" class="l"><a class="l" href="#6408"> 6408: </a>                {
</span><span id="6409" class="l"><a class="l" href="#6409"> 6409: </a>                    <span class="php-keyword1">return</span> <span class="php-keyword1">false</span>;
</span><span id="6410" class="l"><a class="l" href="#6410"> 6410: </a>                }
</span><span id="6411" class="l"><a class="l" href="#6411"> 6411: </a>            }
</span><span id="6412" class="l"><a class="l" href="#6412"> 6412: </a>
</span><span id="6413" class="l"><a class="l" href="#6413"> 6413: </a>            <span class="php-comment">// Parse the FHCRC</span>
</span><span id="6414" class="l"><a class="l" href="#6414"> 6414: </a>            <span class="php-keyword1">if</span> (<span class="php-var">$this</span>-&gt;flags &amp; <span class="php-num">2</span>)
</span><span id="6415" class="l"><a class="l" href="#6415"> 6415: </a>            {
</span><span id="6416" class="l"><a class="l" href="#6416"> 6416: </a>                <span class="php-comment">// Check the length of the string is still valid</span>
</span><span id="6417" class="l"><a class="l" href="#6417"> 6417: </a>                <span class="php-var">$this</span>-&gt;min_compressed_size += <span class="php-var">$len</span> + <span class="php-num">2</span>;
</span><span id="6418" class="l"><a class="l" href="#6418"> 6418: </a>                <span class="php-keyword1">if</span> (<span class="php-var">$this</span>-&gt;compressed_size &gt;= <span class="php-var">$this</span>-&gt;min_compressed_size)
</span><span id="6419" class="l"><a class="l" href="#6419"> 6419: </a>                {
</span><span id="6420" class="l"><a class="l" href="#6420"> 6420: </a>                    <span class="php-comment">// Read the CRC</span>
</span><span id="6421" class="l"><a class="l" href="#6421"> 6421: </a>                    <span class="php-var">$crc</span> = <span class="php-keyword2">current</span>(<span class="php-keyword2">unpack</span>(<span class="php-quote">'v'</span>, <span class="php-keyword2">substr</span>(<span class="php-var">$this</span>-&gt;compressed_data, <span class="php-var">$this</span>-&gt;position, <span class="php-num">2</span>)));
</span><span id="6422" class="l"><a class="l" href="#6422"> 6422: </a>
</span><span id="6423" class="l"><a class="l" href="#6423"> 6423: </a>                    <span class="php-comment">// Check the CRC matches</span>
</span><span id="6424" class="l"><a class="l" href="#6424"> 6424: </a>                    <span class="php-keyword1">if</span> ((<span class="php-keyword2">crc32</span>(<span class="php-keyword2">substr</span>(<span class="php-var">$this</span>-&gt;compressed_data, <span class="php-num">0</span>, <span class="php-var">$this</span>-&gt;position)) &amp; <span class="php-num">0xFFFF</span>) === <span class="php-var">$crc</span>)
</span><span id="6425" class="l"><a class="l" href="#6425"> 6425: </a>                    {
</span><span id="6426" class="l"><a class="l" href="#6426"> 6426: </a>                        <span class="php-var">$this</span>-&gt;position += <span class="php-num">2</span>;
</span><span id="6427" class="l"><a class="l" href="#6427"> 6427: </a>                    }
</span><span id="6428" class="l"><a class="l" href="#6428"> 6428: </a>                    <span class="php-keyword1">else</span>
</span><span id="6429" class="l"><a class="l" href="#6429"> 6429: </a>                    {
</span><span id="6430" class="l"><a class="l" href="#6430"> 6430: </a>                        <span class="php-keyword1">return</span> <span class="php-keyword1">false</span>;
</span><span id="6431" class="l"><a class="l" href="#6431"> 6431: </a>                    }
</span><span id="6432" class="l"><a class="l" href="#6432"> 6432: </a>                }
</span><span id="6433" class="l"><a class="l" href="#6433"> 6433: </a>                <span class="php-keyword1">else</span>
</span><span id="6434" class="l"><a class="l" href="#6434"> 6434: </a>                {
</span><span id="6435" class="l"><a class="l" href="#6435"> 6435: </a>                    <span class="php-keyword1">return</span> <span class="php-keyword1">false</span>;
</span><span id="6436" class="l"><a class="l" href="#6436"> 6436: </a>                }
</span><span id="6437" class="l"><a class="l" href="#6437"> 6437: </a>            }
</span><span id="6438" class="l"><a class="l" href="#6438"> 6438: </a>
</span><span id="6439" class="l"><a class="l" href="#6439"> 6439: </a>            <span class="php-comment">// Decompress the actual data</span>
</span><span id="6440" class="l"><a class="l" href="#6440"> 6440: </a>            <span class="php-keyword1">if</span> ((<span class="php-var">$this</span>-&gt;data = <span class="php-keyword2">gzinflate</span>(<span class="php-keyword2">substr</span>(<span class="php-var">$this</span>-&gt;compressed_data, <span class="php-var">$this</span>-&gt;position, -<span class="php-num">8</span>))) === <span class="php-keyword1">false</span>)
</span><span id="6441" class="l"><a class="l" href="#6441"> 6441: </a>            {
</span><span id="6442" class="l"><a class="l" href="#6442"> 6442: </a>                <span class="php-keyword1">return</span> <span class="php-keyword1">false</span>;
</span><span id="6443" class="l"><a class="l" href="#6443"> 6443: </a>            }
</span><span id="6444" class="l"><a class="l" href="#6444"> 6444: </a>            <span class="php-keyword1">else</span>
</span><span id="6445" class="l"><a class="l" href="#6445"> 6445: </a>            {
</span><span id="6446" class="l"><a class="l" href="#6446"> 6446: </a>                <span class="php-var">$this</span>-&gt;position = <span class="php-var">$this</span>-&gt;compressed_size - <span class="php-num">8</span>;
</span><span id="6447" class="l"><a class="l" href="#6447"> 6447: </a>            }
</span><span id="6448" class="l"><a class="l" href="#6448"> 6448: </a>
</span><span id="6449" class="l"><a class="l" href="#6449"> 6449: </a>            <span class="php-comment">// Check CRC of data</span>
</span><span id="6450" class="l"><a class="l" href="#6450"> 6450: </a>            <span class="php-var">$crc</span> = <span class="php-keyword2">current</span>(<span class="php-keyword2">unpack</span>(<span class="php-quote">'V'</span>, <span class="php-keyword2">substr</span>(<span class="php-var">$this</span>-&gt;compressed_data, <span class="php-var">$this</span>-&gt;position, <span class="php-num">4</span>)));
</span><span id="6451" class="l"><a class="l" href="#6451"> 6451: </a>            <span class="php-var">$this</span>-&gt;position += <span class="php-num">4</span>;
</span><span id="6452" class="l"><a class="l" href="#6452"> 6452: </a>            <span class="php-comment">/*if (extension_loaded('hash') &amp;&amp; sprintf('%u', current(unpack('V', hash('crc32b', $this-&gt;data)))) !== sprintf('%u', $crc))
</span></span><span id="6453" class="l"><a class="l" href="#6453"> 6453: </a><span class="php-comment">            {
</span></span><span id="6454" class="l"><a class="l" href="#6454"> 6454: </a><span class="php-comment">                return false;
</span></span><span id="6455" class="l"><a class="l" href="#6455"> 6455: </a><span class="php-comment">            }*/</span>
</span><span id="6456" class="l"><a class="l" href="#6456"> 6456: </a>
</span><span id="6457" class="l"><a class="l" href="#6457"> 6457: </a>            <span class="php-comment">// Check ISIZE of data</span>
</span><span id="6458" class="l"><a class="l" href="#6458"> 6458: </a>            <span class="php-var">$isize</span> = <span class="php-keyword2">current</span>(<span class="php-keyword2">unpack</span>(<span class="php-quote">'V'</span>, <span class="php-keyword2">substr</span>(<span class="php-var">$this</span>-&gt;compressed_data, <span class="php-var">$this</span>-&gt;position, <span class="php-num">4</span>)));
</span><span id="6459" class="l"><a class="l" href="#6459"> 6459: </a>            <span class="php-var">$this</span>-&gt;position += <span class="php-num">4</span>;
</span><span id="6460" class="l"><a class="l" href="#6460"> 6460: </a>            <span class="php-keyword1">if</span> (<span class="php-keyword2">sprintf</span>(<span class="php-quote">'%u'</span>, <span class="php-keyword2">strlen</span>(<span class="php-var">$this</span>-&gt;data) &amp; <span class="php-num">0xFFFFFFFF</span>) !== <span class="php-keyword2">sprintf</span>(<span class="php-quote">'%u'</span>, <span class="php-var">$isize</span>))
</span><span id="6461" class="l"><a class="l" href="#6461"> 6461: </a>            {
</span><span id="6462" class="l"><a class="l" href="#6462"> 6462: </a>                <span class="php-keyword1">return</span> <span class="php-keyword1">false</span>;
</span><span id="6463" class="l"><a class="l" href="#6463"> 6463: </a>            }
</span><span id="6464" class="l"><a class="l" href="#6464"> 6464: </a>
</span><span id="6465" class="l"><a class="l" href="#6465"> 6465: </a>            <span class="php-comment">// Wow, against all odds, we've actually got a valid gzip string</span>
</span><span id="6466" class="l"><a class="l" href="#6466"> 6466: </a>            <span class="php-keyword1">return</span> <span class="php-keyword1">true</span>;
</span><span id="6467" class="l"><a class="l" href="#6467"> 6467: </a>        }
</span><span id="6468" class="l"><a class="l" href="#6468"> 6468: </a>        <span class="php-keyword1">else</span>
</span><span id="6469" class="l"><a class="l" href="#6469"> 6469: </a>        {
</span><span id="6470" class="l"><a class="l" href="#6470"> 6470: </a>            <span class="php-keyword1">return</span> <span class="php-keyword1">false</span>;
</span><span id="6471" class="l"><a class="l" href="#6471"> 6471: </a>        }
</span><span id="6472" class="l"><a class="l" href="#6472"> 6472: </a>    }
</span><span id="6473" class="l"><a class="l" href="#6473"> 6473: </a>}
</span><span id="6474" class="l"><a class="l" href="#6474"> 6474: </a>
</span><span id="6475" class="l"><a class="l" href="#6475"> 6475: </a><span class="php-comment">/**
</span></span><span id="6476" class="l"><a class="l" href="#6476"> 6476: </a><span class="php-comment"> * HTTP Response Parser
</span></span><span id="6477" class="l"><a class="l" href="#6477"> 6477: </a><span class="php-comment"> *
</span></span><span id="6478" class="l"><a class="l" href="#6478"> 6478: </a><span class="php-comment"> * @package SimplePie
</span></span><span id="6479" class="l"><a class="l" href="#6479"> 6479: </a><span class="php-comment"> */</span>
</span><span id="6480" class="l"><a class="l" href="#6480"> 6480: </a><span class="php-keyword1">class</span> <a id="SimplePie_HTTP_Parser" href="#SimplePie_HTTP_Parser">SimplePie_HTTP_Parser</a>
</span><span id="6481" class="l"><a class="l" href="#6481"> 6481: </a>{
</span><span id="6482" class="l"><a class="l" href="#6482"> 6482: </a>    <span class="php-comment">/**
</span></span><span id="6483" class="l"><a class="l" href="#6483"> 6483: </a><span class="php-comment">     * HTTP Version
</span></span><span id="6484" class="l"><a class="l" href="#6484"> 6484: </a><span class="php-comment">     *
</span></span><span id="6485" class="l"><a class="l" href="#6485"> 6485: </a><span class="php-comment">     * @var float
</span></span><span id="6486" class="l"><a class="l" href="#6486"> 6486: </a><span class="php-comment">     */</span>
</span><span id="6487" class="l"><a class="l" href="#6487"> 6487: </a>    <span class="php-keyword1">public</span> <span class="php-var"><a id="$http_version" href="#$http_version">$http_version</a></span> = <span class="php-num">0.0</span>;
</span><span id="6488" class="l"><a class="l" href="#6488"> 6488: </a>
</span><span id="6489" class="l"><a class="l" href="#6489"> 6489: </a>    <span class="php-comment">/**
</span></span><span id="6490" class="l"><a class="l" href="#6490"> 6490: </a><span class="php-comment">     * Status code
</span></span><span id="6491" class="l"><a class="l" href="#6491"> 6491: </a><span class="php-comment">     *
</span></span><span id="6492" class="l"><a class="l" href="#6492"> 6492: </a><span class="php-comment">     * @var int
</span></span><span id="6493" class="l"><a class="l" href="#6493"> 6493: </a><span class="php-comment">     */</span>
</span><span id="6494" class="l"><a class="l" href="#6494"> 6494: </a>    <span class="php-keyword1">public</span> <span class="php-var"><a id="$status_code" href="#$status_code">$status_code</a></span> = <span class="php-num">0</span>;
</span><span id="6495" class="l"><a class="l" href="#6495"> 6495: </a>
</span><span id="6496" class="l"><a class="l" href="#6496"> 6496: </a>    <span class="php-comment">/**
</span></span><span id="6497" class="l"><a class="l" href="#6497"> 6497: </a><span class="php-comment">     * Reason phrase
</span></span><span id="6498" class="l"><a class="l" href="#6498"> 6498: </a><span class="php-comment">     *
</span></span><span id="6499" class="l"><a class="l" href="#6499"> 6499: </a><span class="php-comment">     * @var string
</span></span><span id="6500" class="l"><a class="l" href="#6500"> 6500: </a><span class="php-comment">     */</span>
</span><span id="6501" class="l"><a class="l" href="#6501"> 6501: </a>    <span class="php-keyword1">public</span> <span class="php-var"><a id="$reason" href="#$reason">$reason</a></span> = <span class="php-quote">''</span>;
</span><span id="6502" class="l"><a class="l" href="#6502"> 6502: </a>
</span><span id="6503" class="l"><a class="l" href="#6503"> 6503: </a>    <span class="php-comment">/**
</span></span><span id="6504" class="l"><a class="l" href="#6504"> 6504: </a><span class="php-comment">     * Key/value pairs of the headers
</span></span><span id="6505" class="l"><a class="l" href="#6505"> 6505: </a><span class="php-comment">     *
</span></span><span id="6506" class="l"><a class="l" href="#6506"> 6506: </a><span class="php-comment">     * @var array
</span></span><span id="6507" class="l"><a class="l" href="#6507"> 6507: </a><span class="php-comment">     */</span>
</span><span id="6508" class="l"><a class="l" href="#6508"> 6508: </a>    <span class="php-keyword1">public</span> <span class="php-var"><a id="$headers" href="#$headers">$headers</a></span> = <span class="php-keyword1">array</span>();
</span><span id="6509" class="l"><a class="l" href="#6509"> 6509: </a>
</span><span id="6510" class="l"><a class="l" href="#6510"> 6510: </a>    <span class="php-comment">/**
</span></span><span id="6511" class="l"><a class="l" href="#6511"> 6511: </a><span class="php-comment">     * Body of the response
</span></span><span id="6512" class="l"><a class="l" href="#6512"> 6512: </a><span class="php-comment">     *
</span></span><span id="6513" class="l"><a class="l" href="#6513"> 6513: </a><span class="php-comment">     * @var string
</span></span><span id="6514" class="l"><a class="l" href="#6514"> 6514: </a><span class="php-comment">     */</span>
</span><span id="6515" class="l"><a class="l" href="#6515"> 6515: </a>    <span class="php-keyword1">public</span> <span class="php-var"><a id="$body" href="#$body">$body</a></span> = <span class="php-quote">''</span>;
</span><span id="6516" class="l"><a class="l" href="#6516"> 6516: </a>
</span><span id="6517" class="l"><a class="l" href="#6517"> 6517: </a>    <span class="php-comment">/**
</span></span><span id="6518" class="l"><a class="l" href="#6518"> 6518: </a><span class="php-comment">     * Current state of the state machine
</span></span><span id="6519" class="l"><a class="l" href="#6519"> 6519: </a><span class="php-comment">     *
</span></span><span id="6520" class="l"><a class="l" href="#6520"> 6520: </a><span class="php-comment">     * @var string
</span></span><span id="6521" class="l"><a class="l" href="#6521"> 6521: </a><span class="php-comment">     */</span>
</span><span id="6522" class="l"><a class="l" href="#6522"> 6522: </a>    <span class="php-keyword1">protected</span> <span class="php-var"><a id="$state" href="#$state">$state</a></span> = <span class="php-quote">'http_version'</span>;
</span><span id="6523" class="l"><a class="l" href="#6523"> 6523: </a>
</span><span id="6524" class="l"><a class="l" href="#6524"> 6524: </a>    <span class="php-comment">/**
</span></span><span id="6525" class="l"><a class="l" href="#6525"> 6525: </a><span class="php-comment">     * Input data
</span></span><span id="6526" class="l"><a class="l" href="#6526"> 6526: </a><span class="php-comment">     *
</span></span><span id="6527" class="l"><a class="l" href="#6527"> 6527: </a><span class="php-comment">     * @var string
</span></span><span id="6528" class="l"><a class="l" href="#6528"> 6528: </a><span class="php-comment">     */</span>
</span><span id="6529" class="l"><a class="l" href="#6529"> 6529: </a>    <span class="php-keyword1">protected</span> <span class="php-var"><a id="$data" href="#$data">$data</a></span> = <span class="php-quote">''</span>;
</span><span id="6530" class="l"><a class="l" href="#6530"> 6530: </a>
</span><span id="6531" class="l"><a class="l" href="#6531"> 6531: </a>    <span class="php-comment">/**
</span></span><span id="6532" class="l"><a class="l" href="#6532"> 6532: </a><span class="php-comment">     * Input data length (to avoid calling strlen() everytime this is needed)
</span></span><span id="6533" class="l"><a class="l" href="#6533"> 6533: </a><span class="php-comment">     *
</span></span><span id="6534" class="l"><a class="l" href="#6534"> 6534: </a><span class="php-comment">     * @var int
</span></span><span id="6535" class="l"><a class="l" href="#6535"> 6535: </a><span class="php-comment">     */</span>
</span><span id="6536" class="l"><a class="l" href="#6536"> 6536: </a>    <span class="php-keyword1">protected</span> <span class="php-var"><a id="$data_length" href="#$data_length">$data_length</a></span> = <span class="php-num">0</span>;
</span><span id="6537" class="l"><a class="l" href="#6537"> 6537: </a>
</span><span id="6538" class="l"><a class="l" href="#6538"> 6538: </a>    <span class="php-comment">/**
</span></span><span id="6539" class="l"><a class="l" href="#6539"> 6539: </a><span class="php-comment">     * Current position of the pointer
</span></span><span id="6540" class="l"><a class="l" href="#6540"> 6540: </a><span class="php-comment">     *
</span></span><span id="6541" class="l"><a class="l" href="#6541"> 6541: </a><span class="php-comment">     * @var int
</span></span><span id="6542" class="l"><a class="l" href="#6542"> 6542: </a><span class="php-comment">     */</span>
</span><span id="6543" class="l"><a class="l" href="#6543"> 6543: </a>    <span class="php-keyword1">protected</span> <span class="php-var"><a id="$position" href="#$position">$position</a></span> = <span class="php-num">0</span>;
</span><span id="6544" class="l"><a class="l" href="#6544"> 6544: </a>
</span><span id="6545" class="l"><a class="l" href="#6545"> 6545: </a>    <span class="php-comment">/**
</span></span><span id="6546" class="l"><a class="l" href="#6546"> 6546: </a><span class="php-comment">     * Name of the hedaer currently being parsed
</span></span><span id="6547" class="l"><a class="l" href="#6547"> 6547: </a><span class="php-comment">     *
</span></span><span id="6548" class="l"><a class="l" href="#6548"> 6548: </a><span class="php-comment">     * @var string
</span></span><span id="6549" class="l"><a class="l" href="#6549"> 6549: </a><span class="php-comment">     */</span>
</span><span id="6550" class="l"><a class="l" href="#6550"> 6550: </a>    <span class="php-keyword1">protected</span> <span class="php-var"><a id="$name" href="#$name">$name</a></span> = <span class="php-quote">''</span>;
</span><span id="6551" class="l"><a class="l" href="#6551"> 6551: </a>
</span><span id="6552" class="l"><a class="l" href="#6552"> 6552: </a>    <span class="php-comment">/**
</span></span><span id="6553" class="l"><a class="l" href="#6553"> 6553: </a><span class="php-comment">     * Value of the hedaer currently being parsed
</span></span><span id="6554" class="l"><a class="l" href="#6554"> 6554: </a><span class="php-comment">     *
</span></span><span id="6555" class="l"><a class="l" href="#6555"> 6555: </a><span class="php-comment">     * @var string
</span></span><span id="6556" class="l"><a class="l" href="#6556"> 6556: </a><span class="php-comment">     */</span>
</span><span id="6557" class="l"><a class="l" href="#6557"> 6557: </a>    <span class="php-keyword1">protected</span> <span class="php-var"><a id="$value" href="#$value">$value</a></span> = <span class="php-quote">''</span>;
</span><span id="6558" class="l"><a class="l" href="#6558"> 6558: </a>
</span><span id="6559" class="l"><a class="l" href="#6559"> 6559: </a>    <span class="php-comment">/**
</span></span><span id="6560" class="l"><a class="l" href="#6560"> 6560: </a><span class="php-comment">     * Create an instance of the class with the input data
</span></span><span id="6561" class="l"><a class="l" href="#6561"> 6561: </a><span class="php-comment">     *
</span></span><span id="6562" class="l"><a class="l" href="#6562"> 6562: </a><span class="php-comment">     * @param string $data Input data
</span></span><span id="6563" class="l"><a class="l" href="#6563"> 6563: </a><span class="php-comment">     */</span>
</span><span id="6564" class="l"><a class="l" href="#6564"> 6564: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="___construct" href="#___construct">__construct</a>(<span class="php-var">$data</span>)
</span><span id="6565" class="l"><a class="l" href="#6565"> 6565: </a>    {
</span><span id="6566" class="l"><a class="l" href="#6566"> 6566: </a>        <span class="php-var">$this</span>-&gt;data = <span class="php-var">$data</span>;
</span><span id="6567" class="l"><a class="l" href="#6567"> 6567: </a>        <span class="php-var">$this</span>-&gt;data_length = <span class="php-keyword2">strlen</span>(<span class="php-var">$this</span>-&gt;data);
</span><span id="6568" class="l"><a class="l" href="#6568"> 6568: </a>    }
</span><span id="6569" class="l"><a class="l" href="#6569"> 6569: </a>
</span><span id="6570" class="l"><a class="l" href="#6570"> 6570: </a>    <span class="php-comment">/**
</span></span><span id="6571" class="l"><a class="l" href="#6571"> 6571: </a><span class="php-comment">     * Parse the input data
</span></span><span id="6572" class="l"><a class="l" href="#6572"> 6572: </a><span class="php-comment">     *
</span></span><span id="6573" class="l"><a class="l" href="#6573"> 6573: </a><span class="php-comment">     * @return bool true on success, false on failure
</span></span><span id="6574" class="l"><a class="l" href="#6574"> 6574: </a><span class="php-comment">     */</span>
</span><span id="6575" class="l"><a class="l" href="#6575"> 6575: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_parse" href="#_parse">parse</a>()
</span><span id="6576" class="l"><a class="l" href="#6576"> 6576: </a>    {
</span><span id="6577" class="l"><a class="l" href="#6577"> 6577: </a>        <span class="php-keyword1">while</span> (<span class="php-var">$this</span>-&gt;state &amp;&amp; <span class="php-var">$this</span>-&gt;state !== <span class="php-quote">'emit'</span> &amp;&amp; <span class="php-var">$this</span>-&gt;has_data())
</span><span id="6578" class="l"><a class="l" href="#6578"> 6578: </a>        {
</span><span id="6579" class="l"><a class="l" href="#6579"> 6579: </a>            <span class="php-var">$state</span> = <span class="php-var">$this</span>-&gt;state;
</span><span id="6580" class="l"><a class="l" href="#6580"> 6580: </a>            <span class="php-var">$this</span>-&gt;<span class="php-var">$state</span>();
</span><span id="6581" class="l"><a class="l" href="#6581"> 6581: </a>        }
</span><span id="6582" class="l"><a class="l" href="#6582"> 6582: </a>        <span class="php-var">$this</span>-&gt;data = <span class="php-quote">''</span>;
</span><span id="6583" class="l"><a class="l" href="#6583"> 6583: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$this</span>-&gt;state === <span class="php-quote">'emit'</span> || <span class="php-var">$this</span>-&gt;state === <span class="php-quote">'body'</span>)
</span><span id="6584" class="l"><a class="l" href="#6584"> 6584: </a>        {
</span><span id="6585" class="l"><a class="l" href="#6585"> 6585: </a>            <span class="php-keyword1">return</span> <span class="php-keyword1">true</span>;
</span><span id="6586" class="l"><a class="l" href="#6586"> 6586: </a>        }
</span><span id="6587" class="l"><a class="l" href="#6587"> 6587: </a>        <span class="php-keyword1">else</span>
</span><span id="6588" class="l"><a class="l" href="#6588"> 6588: </a>        {
</span><span id="6589" class="l"><a class="l" href="#6589"> 6589: </a>            <span class="php-var">$this</span>-&gt;http_version = <span class="php-quote">''</span>;
</span><span id="6590" class="l"><a class="l" href="#6590"> 6590: </a>            <span class="php-var">$this</span>-&gt;status_code = <span class="php-quote">''</span>;
</span><span id="6591" class="l"><a class="l" href="#6591"> 6591: </a>            <span class="php-var">$this</span>-&gt;reason = <span class="php-quote">''</span>;
</span><span id="6592" class="l"><a class="l" href="#6592"> 6592: </a>            <span class="php-var">$this</span>-&gt;headers = <span class="php-keyword1">array</span>();
</span><span id="6593" class="l"><a class="l" href="#6593"> 6593: </a>            <span class="php-var">$this</span>-&gt;body = <span class="php-quote">''</span>;
</span><span id="6594" class="l"><a class="l" href="#6594"> 6594: </a>            <span class="php-keyword1">return</span> <span class="php-keyword1">false</span>;
</span><span id="6595" class="l"><a class="l" href="#6595"> 6595: </a>        }
</span><span id="6596" class="l"><a class="l" href="#6596"> 6596: </a>    }
</span><span id="6597" class="l"><a class="l" href="#6597"> 6597: </a>
</span><span id="6598" class="l"><a class="l" href="#6598"> 6598: </a>    <span class="php-comment">/**
</span></span><span id="6599" class="l"><a class="l" href="#6599"> 6599: </a><span class="php-comment">     * Check whether there is data beyond the pointer
</span></span><span id="6600" class="l"><a class="l" href="#6600"> 6600: </a><span class="php-comment">     *
</span></span><span id="6601" class="l"><a class="l" href="#6601"> 6601: </a><span class="php-comment">     * @return bool true if there is further data, false if not
</span></span><span id="6602" class="l"><a class="l" href="#6602"> 6602: </a><span class="php-comment">     */</span>
</span><span id="6603" class="l"><a class="l" href="#6603"> 6603: </a>    <span class="php-keyword1">protected</span> <span class="php-keyword1">function</span> <a id="_has_data" href="#_has_data">has_data</a>()
</span><span id="6604" class="l"><a class="l" href="#6604"> 6604: </a>    {
</span><span id="6605" class="l"><a class="l" href="#6605"> 6605: </a>        <span class="php-keyword1">return</span> (bool) (<span class="php-var">$this</span>-&gt;position &lt; <span class="php-var">$this</span>-&gt;data_length);
</span><span id="6606" class="l"><a class="l" href="#6606"> 6606: </a>    }
</span><span id="6607" class="l"><a class="l" href="#6607"> 6607: </a>
</span><span id="6608" class="l"><a class="l" href="#6608"> 6608: </a>    <span class="php-comment">/**
</span></span><span id="6609" class="l"><a class="l" href="#6609"> 6609: </a><span class="php-comment">     * See if the next character is LWS
</span></span><span id="6610" class="l"><a class="l" href="#6610"> 6610: </a><span class="php-comment">     *
</span></span><span id="6611" class="l"><a class="l" href="#6611"> 6611: </a><span class="php-comment">     * @return bool true if the next character is LWS, false if not
</span></span><span id="6612" class="l"><a class="l" href="#6612"> 6612: </a><span class="php-comment">     */</span>
</span><span id="6613" class="l"><a class="l" href="#6613"> 6613: </a>    <span class="php-keyword1">protected</span> <span class="php-keyword1">function</span> <a id="_is_linear_whitespace" href="#_is_linear_whitespace">is_linear_whitespace</a>()
</span><span id="6614" class="l"><a class="l" href="#6614"> 6614: </a>    {
</span><span id="6615" class="l"><a class="l" href="#6615"> 6615: </a>        <span class="php-keyword1">return</span> (bool) (<span class="php-var">$this</span>-&gt;data[<span class="php-var">$this</span>-&gt;position] === <span class="php-quote">&quot;\x09&quot;</span>
</span><span id="6616" class="l"><a class="l" href="#6616"> 6616: </a>            || <span class="php-var">$this</span>-&gt;data[<span class="php-var">$this</span>-&gt;position] === <span class="php-quote">&quot;\x20&quot;</span>
</span><span id="6617" class="l"><a class="l" href="#6617"> 6617: </a>            || (<span class="php-var">$this</span>-&gt;data[<span class="php-var">$this</span>-&gt;position] === <span class="php-quote">&quot;\x0A&quot;</span>
</span><span id="6618" class="l"><a class="l" href="#6618"> 6618: </a>                &amp;&amp; <span class="php-keyword1">isset</span>(<span class="php-var">$this</span>-&gt;data[<span class="php-var">$this</span>-&gt;position + <span class="php-num">1</span>])
</span><span id="6619" class="l"><a class="l" href="#6619"> 6619: </a>                &amp;&amp; (<span class="php-var">$this</span>-&gt;data[<span class="php-var">$this</span>-&gt;position + <span class="php-num">1</span>] === <span class="php-quote">&quot;\x09&quot;</span> || <span class="php-var">$this</span>-&gt;data[<span class="php-var">$this</span>-&gt;position + <span class="php-num">1</span>] === <span class="php-quote">&quot;\x20&quot;</span>)));
</span><span id="6620" class="l"><a class="l" href="#6620"> 6620: </a>    }
</span><span id="6621" class="l"><a class="l" href="#6621"> 6621: </a>
</span><span id="6622" class="l"><a class="l" href="#6622"> 6622: </a>    <span class="php-comment">/**
</span></span><span id="6623" class="l"><a class="l" href="#6623"> 6623: </a><span class="php-comment">     * Parse the HTTP version
</span></span><span id="6624" class="l"><a class="l" href="#6624"> 6624: </a><span class="php-comment">     */</span>
</span><span id="6625" class="l"><a class="l" href="#6625"> 6625: </a>    <span class="php-keyword1">protected</span> <span class="php-keyword1">function</span> <a id="_http_version" href="#_http_version">http_version</a>()
</span><span id="6626" class="l"><a class="l" href="#6626"> 6626: </a>    {
</span><span id="6627" class="l"><a class="l" href="#6627"> 6627: </a>        <span class="php-keyword1">if</span> (<span class="php-keyword2">strpos</span>(<span class="php-var">$this</span>-&gt;data, <span class="php-quote">&quot;\x0A&quot;</span>) !== <span class="php-keyword1">false</span> &amp;&amp; <span class="php-keyword2">strtoupper</span>(<span class="php-keyword2">substr</span>(<span class="php-var">$this</span>-&gt;data, <span class="php-num">0</span>, <span class="php-num">5</span>)) === <span class="php-quote">'HTTP/'</span>)
</span><span id="6628" class="l"><a class="l" href="#6628"> 6628: </a>        {
</span><span id="6629" class="l"><a class="l" href="#6629"> 6629: </a>            <span class="php-var">$len</span> = <span class="php-keyword2">strspn</span>(<span class="php-var">$this</span>-&gt;data, <span class="php-quote">'0123456789.'</span>, <span class="php-num">5</span>);
</span><span id="6630" class="l"><a class="l" href="#6630"> 6630: </a>            <span class="php-var">$this</span>-&gt;http_version = <span class="php-keyword2">substr</span>(<span class="php-var">$this</span>-&gt;data, <span class="php-num">5</span>, <span class="php-var">$len</span>);
</span><span id="6631" class="l"><a class="l" href="#6631"> 6631: </a>            <span class="php-var">$this</span>-&gt;position += <span class="php-num">5</span> + <span class="php-var">$len</span>;
</span><span id="6632" class="l"><a class="l" href="#6632"> 6632: </a>            <span class="php-keyword1">if</span> (<span class="php-keyword2">substr_count</span>(<span class="php-var">$this</span>-&gt;http_version, <span class="php-quote">'.'</span>) &lt;= <span class="php-num">1</span>)
</span><span id="6633" class="l"><a class="l" href="#6633"> 6633: </a>            {
</span><span id="6634" class="l"><a class="l" href="#6634"> 6634: </a>                <span class="php-var">$this</span>-&gt;http_version = (float) <span class="php-var">$this</span>-&gt;http_version;
</span><span id="6635" class="l"><a class="l" href="#6635"> 6635: </a>                <span class="php-var">$this</span>-&gt;position += <span class="php-keyword2">strspn</span>(<span class="php-var">$this</span>-&gt;data, <span class="php-quote">&quot;\x09\x20&quot;</span>, <span class="php-var">$this</span>-&gt;position);
</span><span id="6636" class="l"><a class="l" href="#6636"> 6636: </a>                <span class="php-var">$this</span>-&gt;state = <span class="php-quote">'status'</span>;
</span><span id="6637" class="l"><a class="l" href="#6637"> 6637: </a>            }
</span><span id="6638" class="l"><a class="l" href="#6638"> 6638: </a>            <span class="php-keyword1">else</span>
</span><span id="6639" class="l"><a class="l" href="#6639"> 6639: </a>            {
</span><span id="6640" class="l"><a class="l" href="#6640"> 6640: </a>                <span class="php-var">$this</span>-&gt;state = <span class="php-keyword1">false</span>;
</span><span id="6641" class="l"><a class="l" href="#6641"> 6641: </a>            }
</span><span id="6642" class="l"><a class="l" href="#6642"> 6642: </a>        }
</span><span id="6643" class="l"><a class="l" href="#6643"> 6643: </a>        <span class="php-keyword1">else</span>
</span><span id="6644" class="l"><a class="l" href="#6644"> 6644: </a>        {
</span><span id="6645" class="l"><a class="l" href="#6645"> 6645: </a>            <span class="php-var">$this</span>-&gt;state = <span class="php-keyword1">false</span>;
</span><span id="6646" class="l"><a class="l" href="#6646"> 6646: </a>        }
</span><span id="6647" class="l"><a class="l" href="#6647"> 6647: </a>    }
</span><span id="6648" class="l"><a class="l" href="#6648"> 6648: </a>
</span><span id="6649" class="l"><a class="l" href="#6649"> 6649: </a>    <span class="php-comment">/**
</span></span><span id="6650" class="l"><a class="l" href="#6650"> 6650: </a><span class="php-comment">     * Parse the status code
</span></span><span id="6651" class="l"><a class="l" href="#6651"> 6651: </a><span class="php-comment">     */</span>
</span><span id="6652" class="l"><a class="l" href="#6652"> 6652: </a>    <span class="php-keyword1">protected</span> <span class="php-keyword1">function</span> <a id="_status" href="#_status">status</a>()
</span><span id="6653" class="l"><a class="l" href="#6653"> 6653: </a>    {
</span><span id="6654" class="l"><a class="l" href="#6654"> 6654: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$len</span> = <span class="php-keyword2">strspn</span>(<span class="php-var">$this</span>-&gt;data, <span class="php-quote">'0123456789'</span>, <span class="php-var">$this</span>-&gt;position))
</span><span id="6655" class="l"><a class="l" href="#6655"> 6655: </a>        {
</span><span id="6656" class="l"><a class="l" href="#6656"> 6656: </a>            <span class="php-var">$this</span>-&gt;status_code = (int) <span class="php-keyword2">substr</span>(<span class="php-var">$this</span>-&gt;data, <span class="php-var">$this</span>-&gt;position, <span class="php-var">$len</span>);
</span><span id="6657" class="l"><a class="l" href="#6657"> 6657: </a>            <span class="php-var">$this</span>-&gt;position += <span class="php-var">$len</span>;
</span><span id="6658" class="l"><a class="l" href="#6658"> 6658: </a>            <span class="php-var">$this</span>-&gt;state = <span class="php-quote">'reason'</span>;
</span><span id="6659" class="l"><a class="l" href="#6659"> 6659: </a>        }
</span><span id="6660" class="l"><a class="l" href="#6660"> 6660: </a>        <span class="php-keyword1">else</span>
</span><span id="6661" class="l"><a class="l" href="#6661"> 6661: </a>        {
</span><span id="6662" class="l"><a class="l" href="#6662"> 6662: </a>            <span class="php-var">$this</span>-&gt;state = <span class="php-keyword1">false</span>;
</span><span id="6663" class="l"><a class="l" href="#6663"> 6663: </a>        }
</span><span id="6664" class="l"><a class="l" href="#6664"> 6664: </a>    }
</span><span id="6665" class="l"><a class="l" href="#6665"> 6665: </a>
</span><span id="6666" class="l"><a class="l" href="#6666"> 6666: </a>    <span class="php-comment">/**
</span></span><span id="6667" class="l"><a class="l" href="#6667"> 6667: </a><span class="php-comment">     * Parse the reason phrase
</span></span><span id="6668" class="l"><a class="l" href="#6668"> 6668: </a><span class="php-comment">     */</span>
</span><span id="6669" class="l"><a class="l" href="#6669"> 6669: </a>    <span class="php-keyword1">protected</span> <span class="php-keyword1">function</span> <a id="_reason" href="#_reason">reason</a>()
</span><span id="6670" class="l"><a class="l" href="#6670"> 6670: </a>    {
</span><span id="6671" class="l"><a class="l" href="#6671"> 6671: </a>        <span class="php-var">$len</span> = <span class="php-keyword2">strcspn</span>(<span class="php-var">$this</span>-&gt;data, <span class="php-quote">&quot;\x0A&quot;</span>, <span class="php-var">$this</span>-&gt;position);
</span><span id="6672" class="l"><a class="l" href="#6672"> 6672: </a>        <span class="php-var">$this</span>-&gt;reason = <span class="php-keyword2">trim</span>(<span class="php-keyword2">substr</span>(<span class="php-var">$this</span>-&gt;data, <span class="php-var">$this</span>-&gt;position, <span class="php-var">$len</span>), <span class="php-quote">&quot;\x09\x0D\x20&quot;</span>);
</span><span id="6673" class="l"><a class="l" href="#6673"> 6673: </a>        <span class="php-var">$this</span>-&gt;position += <span class="php-var">$len</span> + <span class="php-num">1</span>;
</span><span id="6674" class="l"><a class="l" href="#6674"> 6674: </a>        <span class="php-var">$this</span>-&gt;state = <span class="php-quote">'new_line'</span>;
</span><span id="6675" class="l"><a class="l" href="#6675"> 6675: </a>    }
</span><span id="6676" class="l"><a class="l" href="#6676"> 6676: </a>
</span><span id="6677" class="l"><a class="l" href="#6677"> 6677: </a>    <span class="php-comment">/**
</span></span><span id="6678" class="l"><a class="l" href="#6678"> 6678: </a><span class="php-comment">     * Deal with a new line, shifting data around as needed
</span></span><span id="6679" class="l"><a class="l" href="#6679"> 6679: </a><span class="php-comment">     */</span>
</span><span id="6680" class="l"><a class="l" href="#6680"> 6680: </a>    <span class="php-keyword1">protected</span> <span class="php-keyword1">function</span> <a id="_new_line" href="#_new_line">new_line</a>()
</span><span id="6681" class="l"><a class="l" href="#6681"> 6681: </a>    {
</span><span id="6682" class="l"><a class="l" href="#6682"> 6682: </a>        <span class="php-var">$this</span>-&gt;value = <span class="php-keyword2">trim</span>(<span class="php-var">$this</span>-&gt;value, <span class="php-quote">&quot;\x0D\x20&quot;</span>);
</span><span id="6683" class="l"><a class="l" href="#6683"> 6683: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$this</span>-&gt;name !== <span class="php-quote">''</span> &amp;&amp; <span class="php-var">$this</span>-&gt;value !== <span class="php-quote">''</span>)
</span><span id="6684" class="l"><a class="l" href="#6684"> 6684: </a>        {
</span><span id="6685" class="l"><a class="l" href="#6685"> 6685: </a>            <span class="php-var">$this</span>-&gt;name = <span class="php-keyword2">strtolower</span>(<span class="php-var">$this</span>-&gt;name);
</span><span id="6686" class="l"><a class="l" href="#6686"> 6686: </a>            <span class="php-comment">// We should only use the last Content-Type header. c.f. issue #1</span>
</span><span id="6687" class="l"><a class="l" href="#6687"> 6687: </a>            <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$this</span>-&gt;headers[<span class="php-var">$this</span>-&gt;name]) &amp;&amp; <span class="php-var">$this</span>-&gt;name !== <span class="php-quote">'content-type'</span>)
</span><span id="6688" class="l"><a class="l" href="#6688"> 6688: </a>            {
</span><span id="6689" class="l"><a class="l" href="#6689"> 6689: </a>                <span class="php-var">$this</span>-&gt;headers[<span class="php-var">$this</span>-&gt;name] .= <span class="php-quote">', '</span> . <span class="php-var">$this</span>-&gt;value;
</span><span id="6690" class="l"><a class="l" href="#6690"> 6690: </a>            }
</span><span id="6691" class="l"><a class="l" href="#6691"> 6691: </a>            <span class="php-keyword1">else</span>
</span><span id="6692" class="l"><a class="l" href="#6692"> 6692: </a>            {
</span><span id="6693" class="l"><a class="l" href="#6693"> 6693: </a>                <span class="php-var">$this</span>-&gt;headers[<span class="php-var">$this</span>-&gt;name] = <span class="php-var">$this</span>-&gt;value;
</span><span id="6694" class="l"><a class="l" href="#6694"> 6694: </a>            }
</span><span id="6695" class="l"><a class="l" href="#6695"> 6695: </a>        }
</span><span id="6696" class="l"><a class="l" href="#6696"> 6696: </a>        <span class="php-var">$this</span>-&gt;name = <span class="php-quote">''</span>;
</span><span id="6697" class="l"><a class="l" href="#6697"> 6697: </a>        <span class="php-var">$this</span>-&gt;value = <span class="php-quote">''</span>;
</span><span id="6698" class="l"><a class="l" href="#6698"> 6698: </a>        <span class="php-keyword1">if</span> (<span class="php-keyword2">substr</span>(<span class="php-var">$this</span>-&gt;data[<span class="php-var">$this</span>-&gt;position], <span class="php-num">0</span>, <span class="php-num">2</span>) === <span class="php-quote">&quot;\x0D\x0A&quot;</span>)
</span><span id="6699" class="l"><a class="l" href="#6699"> 6699: </a>        {
</span><span id="6700" class="l"><a class="l" href="#6700"> 6700: </a>            <span class="php-var">$this</span>-&gt;position += <span class="php-num">2</span>;
</span><span id="6701" class="l"><a class="l" href="#6701"> 6701: </a>            <span class="php-var">$this</span>-&gt;state = <span class="php-quote">'body'</span>;
</span><span id="6702" class="l"><a class="l" href="#6702"> 6702: </a>        }
</span><span id="6703" class="l"><a class="l" href="#6703"> 6703: </a>        <span class="php-keyword1">elseif</span> (<span class="php-var">$this</span>-&gt;data[<span class="php-var">$this</span>-&gt;position] === <span class="php-quote">&quot;\x0A&quot;</span>)
</span><span id="6704" class="l"><a class="l" href="#6704"> 6704: </a>        {
</span><span id="6705" class="l"><a class="l" href="#6705"> 6705: </a>            <span class="php-var">$this</span>-&gt;position++;
</span><span id="6706" class="l"><a class="l" href="#6706"> 6706: </a>            <span class="php-var">$this</span>-&gt;state = <span class="php-quote">'body'</span>;
</span><span id="6707" class="l"><a class="l" href="#6707"> 6707: </a>        }
</span><span id="6708" class="l"><a class="l" href="#6708"> 6708: </a>        <span class="php-keyword1">else</span>
</span><span id="6709" class="l"><a class="l" href="#6709"> 6709: </a>        {
</span><span id="6710" class="l"><a class="l" href="#6710"> 6710: </a>            <span class="php-var">$this</span>-&gt;state = <span class="php-quote">'name'</span>;
</span><span id="6711" class="l"><a class="l" href="#6711"> 6711: </a>        }
</span><span id="6712" class="l"><a class="l" href="#6712"> 6712: </a>    }
</span><span id="6713" class="l"><a class="l" href="#6713"> 6713: </a>
</span><span id="6714" class="l"><a class="l" href="#6714"> 6714: </a>    <span class="php-comment">/**
</span></span><span id="6715" class="l"><a class="l" href="#6715"> 6715: </a><span class="php-comment">     * Parse a header name
</span></span><span id="6716" class="l"><a class="l" href="#6716"> 6716: </a><span class="php-comment">     */</span>
</span><span id="6717" class="l"><a class="l" href="#6717"> 6717: </a>    <span class="php-keyword1">protected</span> <span class="php-keyword1">function</span> <a id="_name" href="#_name">name</a>()
</span><span id="6718" class="l"><a class="l" href="#6718"> 6718: </a>    {
</span><span id="6719" class="l"><a class="l" href="#6719"> 6719: </a>        <span class="php-var">$len</span> = <span class="php-keyword2">strcspn</span>(<span class="php-var">$this</span>-&gt;data, <span class="php-quote">&quot;\x0A:&quot;</span>, <span class="php-var">$this</span>-&gt;position);
</span><span id="6720" class="l"><a class="l" href="#6720"> 6720: </a>        <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$this</span>-&gt;data[<span class="php-var">$this</span>-&gt;position + <span class="php-var">$len</span>]))
</span><span id="6721" class="l"><a class="l" href="#6721"> 6721: </a>        {
</span><span id="6722" class="l"><a class="l" href="#6722"> 6722: </a>            <span class="php-keyword1">if</span> (<span class="php-var">$this</span>-&gt;data[<span class="php-var">$this</span>-&gt;position + <span class="php-var">$len</span>] === <span class="php-quote">&quot;\x0A&quot;</span>)
</span><span id="6723" class="l"><a class="l" href="#6723"> 6723: </a>            {
</span><span id="6724" class="l"><a class="l" href="#6724"> 6724: </a>                <span class="php-var">$this</span>-&gt;position += <span class="php-var">$len</span>;
</span><span id="6725" class="l"><a class="l" href="#6725"> 6725: </a>                <span class="php-var">$this</span>-&gt;state = <span class="php-quote">'new_line'</span>;
</span><span id="6726" class="l"><a class="l" href="#6726"> 6726: </a>            }
</span><span id="6727" class="l"><a class="l" href="#6727"> 6727: </a>            <span class="php-keyword1">else</span>
</span><span id="6728" class="l"><a class="l" href="#6728"> 6728: </a>            {
</span><span id="6729" class="l"><a class="l" href="#6729"> 6729: </a>                <span class="php-var">$this</span>-&gt;name = <span class="php-keyword2">substr</span>(<span class="php-var">$this</span>-&gt;data, <span class="php-var">$this</span>-&gt;position, <span class="php-var">$len</span>);
</span><span id="6730" class="l"><a class="l" href="#6730"> 6730: </a>                <span class="php-var">$this</span>-&gt;position += <span class="php-var">$len</span> + <span class="php-num">1</span>;
</span><span id="6731" class="l"><a class="l" href="#6731"> 6731: </a>                <span class="php-var">$this</span>-&gt;state = <span class="php-quote">'value'</span>;
</span><span id="6732" class="l"><a class="l" href="#6732"> 6732: </a>            }
</span><span id="6733" class="l"><a class="l" href="#6733"> 6733: </a>        }
</span><span id="6734" class="l"><a class="l" href="#6734"> 6734: </a>        <span class="php-keyword1">else</span>
</span><span id="6735" class="l"><a class="l" href="#6735"> 6735: </a>        {
</span><span id="6736" class="l"><a class="l" href="#6736"> 6736: </a>            <span class="php-var">$this</span>-&gt;state = <span class="php-keyword1">false</span>;
</span><span id="6737" class="l"><a class="l" href="#6737"> 6737: </a>        }
</span><span id="6738" class="l"><a class="l" href="#6738"> 6738: </a>    }
</span><span id="6739" class="l"><a class="l" href="#6739"> 6739: </a>
</span><span id="6740" class="l"><a class="l" href="#6740"> 6740: </a>    <span class="php-comment">/**
</span></span><span id="6741" class="l"><a class="l" href="#6741"> 6741: </a><span class="php-comment">     * Parse LWS, replacing consecutive LWS characters with a single space
</span></span><span id="6742" class="l"><a class="l" href="#6742"> 6742: </a><span class="php-comment">     */</span>
</span><span id="6743" class="l"><a class="l" href="#6743"> 6743: </a>    <span class="php-keyword1">protected</span> <span class="php-keyword1">function</span> <a id="_linear_whitespace" href="#_linear_whitespace">linear_whitespace</a>()
</span><span id="6744" class="l"><a class="l" href="#6744"> 6744: </a>    {
</span><span id="6745" class="l"><a class="l" href="#6745"> 6745: </a>        <span class="php-keyword1">do</span>
</span><span id="6746" class="l"><a class="l" href="#6746"> 6746: </a>        {
</span><span id="6747" class="l"><a class="l" href="#6747"> 6747: </a>            <span class="php-keyword1">if</span> (<span class="php-keyword2">substr</span>(<span class="php-var">$this</span>-&gt;data, <span class="php-var">$this</span>-&gt;position, <span class="php-num">2</span>) === <span class="php-quote">&quot;\x0D\x0A&quot;</span>)
</span><span id="6748" class="l"><a class="l" href="#6748"> 6748: </a>            {
</span><span id="6749" class="l"><a class="l" href="#6749"> 6749: </a>                <span class="php-var">$this</span>-&gt;position += <span class="php-num">2</span>;
</span><span id="6750" class="l"><a class="l" href="#6750"> 6750: </a>            }
</span><span id="6751" class="l"><a class="l" href="#6751"> 6751: </a>            <span class="php-keyword1">elseif</span> (<span class="php-var">$this</span>-&gt;data[<span class="php-var">$this</span>-&gt;position] === <span class="php-quote">&quot;\x0A&quot;</span>)
</span><span id="6752" class="l"><a class="l" href="#6752"> 6752: </a>            {
</span><span id="6753" class="l"><a class="l" href="#6753"> 6753: </a>                <span class="php-var">$this</span>-&gt;position++;
</span><span id="6754" class="l"><a class="l" href="#6754"> 6754: </a>            }
</span><span id="6755" class="l"><a class="l" href="#6755"> 6755: </a>            <span class="php-var">$this</span>-&gt;position += <span class="php-keyword2">strspn</span>(<span class="php-var">$this</span>-&gt;data, <span class="php-quote">&quot;\x09\x20&quot;</span>, <span class="php-var">$this</span>-&gt;position);
</span><span id="6756" class="l"><a class="l" href="#6756"> 6756: </a>        } <span class="php-keyword1">while</span> (<span class="php-var">$this</span>-&gt;has_data() &amp;&amp; <span class="php-var">$this</span>-&gt;is_linear_whitespace());
</span><span id="6757" class="l"><a class="l" href="#6757"> 6757: </a>        <span class="php-var">$this</span>-&gt;value .= <span class="php-quote">&quot;\x20&quot;</span>;
</span><span id="6758" class="l"><a class="l" href="#6758"> 6758: </a>    }
</span><span id="6759" class="l"><a class="l" href="#6759"> 6759: </a>
</span><span id="6760" class="l"><a class="l" href="#6760"> 6760: </a>    <span class="php-comment">/**
</span></span><span id="6761" class="l"><a class="l" href="#6761"> 6761: </a><span class="php-comment">     * See what state to move to while within non-quoted header values
</span></span><span id="6762" class="l"><a class="l" href="#6762"> 6762: </a><span class="php-comment">     */</span>
</span><span id="6763" class="l"><a class="l" href="#6763"> 6763: </a>    <span class="php-keyword1">protected</span> <span class="php-keyword1">function</span> <a id="_value" href="#_value">value</a>()
</span><span id="6764" class="l"><a class="l" href="#6764"> 6764: </a>    {
</span><span id="6765" class="l"><a class="l" href="#6765"> 6765: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$this</span>-&gt;is_linear_whitespace())
</span><span id="6766" class="l"><a class="l" href="#6766"> 6766: </a>        {
</span><span id="6767" class="l"><a class="l" href="#6767"> 6767: </a>            <span class="php-var">$this</span>-&gt;linear_whitespace();
</span><span id="6768" class="l"><a class="l" href="#6768"> 6768: </a>        }
</span><span id="6769" class="l"><a class="l" href="#6769"> 6769: </a>        <span class="php-keyword1">else</span>
</span><span id="6770" class="l"><a class="l" href="#6770"> 6770: </a>        {
</span><span id="6771" class="l"><a class="l" href="#6771"> 6771: </a>            <span class="php-keyword1">switch</span> (<span class="php-var">$this</span>-&gt;data[<span class="php-var">$this</span>-&gt;position])
</span><span id="6772" class="l"><a class="l" href="#6772"> 6772: </a>            {
</span><span id="6773" class="l"><a class="l" href="#6773"> 6773: </a>                <span class="php-keyword1">case</span> <span class="php-quote">'&quot;'</span>:
</span><span id="6774" class="l"><a class="l" href="#6774"> 6774: </a>                    <span class="php-comment">// Workaround for ETags: we have to include the quotes as</span>
</span><span id="6775" class="l"><a class="l" href="#6775"> 6775: </a>                    <span class="php-comment">// part of the tag.</span>
</span><span id="6776" class="l"><a class="l" href="#6776"> 6776: </a>                    <span class="php-keyword1">if</span> (<span class="php-keyword2">strtolower</span>(<span class="php-var">$this</span>-&gt;name) === <span class="php-quote">'etag'</span>)
</span><span id="6777" class="l"><a class="l" href="#6777"> 6777: </a>                    {
</span><span id="6778" class="l"><a class="l" href="#6778"> 6778: </a>                        <span class="php-var">$this</span>-&gt;value .= <span class="php-quote">'&quot;'</span>;
</span><span id="6779" class="l"><a class="l" href="#6779"> 6779: </a>                        <span class="php-var">$this</span>-&gt;position++;
</span><span id="6780" class="l"><a class="l" href="#6780"> 6780: </a>                        <span class="php-var">$this</span>-&gt;state = <span class="php-quote">'value_char'</span>;
</span><span id="6781" class="l"><a class="l" href="#6781"> 6781: </a>                        <span class="php-keyword1">break</span>;
</span><span id="6782" class="l"><a class="l" href="#6782"> 6782: </a>                    }
</span><span id="6783" class="l"><a class="l" href="#6783"> 6783: </a>                    <span class="php-var">$this</span>-&gt;position++;
</span><span id="6784" class="l"><a class="l" href="#6784"> 6784: </a>                    <span class="php-var">$this</span>-&gt;state = <span class="php-quote">'quote'</span>;
</span><span id="6785" class="l"><a class="l" href="#6785"> 6785: </a>                    <span class="php-keyword1">break</span>;
</span><span id="6786" class="l"><a class="l" href="#6786"> 6786: </a>
</span><span id="6787" class="l"><a class="l" href="#6787"> 6787: </a>                <span class="php-keyword1">case</span> <span class="php-quote">&quot;\x0A&quot;</span>:
</span><span id="6788" class="l"><a class="l" href="#6788"> 6788: </a>                    <span class="php-var">$this</span>-&gt;position++;
</span><span id="6789" class="l"><a class="l" href="#6789"> 6789: </a>                    <span class="php-var">$this</span>-&gt;state = <span class="php-quote">'new_line'</span>;
</span><span id="6790" class="l"><a class="l" href="#6790"> 6790: </a>                    <span class="php-keyword1">break</span>;
</span><span id="6791" class="l"><a class="l" href="#6791"> 6791: </a>
</span><span id="6792" class="l"><a class="l" href="#6792"> 6792: </a>                <span class="php-keyword1">default</span>:
</span><span id="6793" class="l"><a class="l" href="#6793"> 6793: </a>                    <span class="php-var">$this</span>-&gt;state = <span class="php-quote">'value_char'</span>;
</span><span id="6794" class="l"><a class="l" href="#6794"> 6794: </a>                    <span class="php-keyword1">break</span>;
</span><span id="6795" class="l"><a class="l" href="#6795"> 6795: </a>            }
</span><span id="6796" class="l"><a class="l" href="#6796"> 6796: </a>        }
</span><span id="6797" class="l"><a class="l" href="#6797"> 6797: </a>    }
</span><span id="6798" class="l"><a class="l" href="#6798"> 6798: </a>
</span><span id="6799" class="l"><a class="l" href="#6799"> 6799: </a>    <span class="php-comment">/**
</span></span><span id="6800" class="l"><a class="l" href="#6800"> 6800: </a><span class="php-comment">     * Parse a header value while outside quotes
</span></span><span id="6801" class="l"><a class="l" href="#6801"> 6801: </a><span class="php-comment">     */</span>
</span><span id="6802" class="l"><a class="l" href="#6802"> 6802: </a>    <span class="php-keyword1">protected</span> <span class="php-keyword1">function</span> <a id="_value_char" href="#_value_char">value_char</a>()
</span><span id="6803" class="l"><a class="l" href="#6803"> 6803: </a>    {
</span><span id="6804" class="l"><a class="l" href="#6804"> 6804: </a>        <span class="php-var">$len</span> = <span class="php-keyword2">strcspn</span>(<span class="php-var">$this</span>-&gt;data, <span class="php-quote">&quot;\x09\x20\x0A\&quot;&quot;</span>, <span class="php-var">$this</span>-&gt;position);
</span><span id="6805" class="l"><a class="l" href="#6805"> 6805: </a>        <span class="php-var">$this</span>-&gt;value .= <span class="php-keyword2">substr</span>(<span class="php-var">$this</span>-&gt;data, <span class="php-var">$this</span>-&gt;position, <span class="php-var">$len</span>);
</span><span id="6806" class="l"><a class="l" href="#6806"> 6806: </a>        <span class="php-var">$this</span>-&gt;position += <span class="php-var">$len</span>;
</span><span id="6807" class="l"><a class="l" href="#6807"> 6807: </a>        <span class="php-var">$this</span>-&gt;state = <span class="php-quote">'value'</span>;
</span><span id="6808" class="l"><a class="l" href="#6808"> 6808: </a>    }
</span><span id="6809" class="l"><a class="l" href="#6809"> 6809: </a>
</span><span id="6810" class="l"><a class="l" href="#6810"> 6810: </a>    <span class="php-comment">/**
</span></span><span id="6811" class="l"><a class="l" href="#6811"> 6811: </a><span class="php-comment">     * See what state to move to while within quoted header values
</span></span><span id="6812" class="l"><a class="l" href="#6812"> 6812: </a><span class="php-comment">     */</span>
</span><span id="6813" class="l"><a class="l" href="#6813"> 6813: </a>    <span class="php-keyword1">protected</span> <span class="php-keyword1">function</span> <a id="_quote" href="#_quote">quote</a>()
</span><span id="6814" class="l"><a class="l" href="#6814"> 6814: </a>    {
</span><span id="6815" class="l"><a class="l" href="#6815"> 6815: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$this</span>-&gt;is_linear_whitespace())
</span><span id="6816" class="l"><a class="l" href="#6816"> 6816: </a>        {
</span><span id="6817" class="l"><a class="l" href="#6817"> 6817: </a>            <span class="php-var">$this</span>-&gt;linear_whitespace();
</span><span id="6818" class="l"><a class="l" href="#6818"> 6818: </a>        }
</span><span id="6819" class="l"><a class="l" href="#6819"> 6819: </a>        <span class="php-keyword1">else</span>
</span><span id="6820" class="l"><a class="l" href="#6820"> 6820: </a>        {
</span><span id="6821" class="l"><a class="l" href="#6821"> 6821: </a>            <span class="php-keyword1">switch</span> (<span class="php-var">$this</span>-&gt;data[<span class="php-var">$this</span>-&gt;position])
</span><span id="6822" class="l"><a class="l" href="#6822"> 6822: </a>            {
</span><span id="6823" class="l"><a class="l" href="#6823"> 6823: </a>                <span class="php-keyword1">case</span> <span class="php-quote">'&quot;'</span>:
</span><span id="6824" class="l"><a class="l" href="#6824"> 6824: </a>                    <span class="php-var">$this</span>-&gt;position++;
</span><span id="6825" class="l"><a class="l" href="#6825"> 6825: </a>                    <span class="php-var">$this</span>-&gt;state = <span class="php-quote">'value'</span>;
</span><span id="6826" class="l"><a class="l" href="#6826"> 6826: </a>                    <span class="php-keyword1">break</span>;
</span><span id="6827" class="l"><a class="l" href="#6827"> 6827: </a>
</span><span id="6828" class="l"><a class="l" href="#6828"> 6828: </a>                <span class="php-keyword1">case</span> <span class="php-quote">&quot;\x0A&quot;</span>:
</span><span id="6829" class="l"><a class="l" href="#6829"> 6829: </a>                    <span class="php-var">$this</span>-&gt;position++;
</span><span id="6830" class="l"><a class="l" href="#6830"> 6830: </a>                    <span class="php-var">$this</span>-&gt;state = <span class="php-quote">'new_line'</span>;
</span><span id="6831" class="l"><a class="l" href="#6831"> 6831: </a>                    <span class="php-keyword1">break</span>;
</span><span id="6832" class="l"><a class="l" href="#6832"> 6832: </a>
</span><span id="6833" class="l"><a class="l" href="#6833"> 6833: </a>                <span class="php-keyword1">case</span> <span class="php-quote">'\\'</span>:
</span><span id="6834" class="l"><a class="l" href="#6834"> 6834: </a>                    <span class="php-var">$this</span>-&gt;position++;
</span><span id="6835" class="l"><a class="l" href="#6835"> 6835: </a>                    <span class="php-var">$this</span>-&gt;state = <span class="php-quote">'quote_escaped'</span>;
</span><span id="6836" class="l"><a class="l" href="#6836"> 6836: </a>                    <span class="php-keyword1">break</span>;
</span><span id="6837" class="l"><a class="l" href="#6837"> 6837: </a>
</span><span id="6838" class="l"><a class="l" href="#6838"> 6838: </a>                <span class="php-keyword1">default</span>:
</span><span id="6839" class="l"><a class="l" href="#6839"> 6839: </a>                    <span class="php-var">$this</span>-&gt;state = <span class="php-quote">'quote_char'</span>;
</span><span id="6840" class="l"><a class="l" href="#6840"> 6840: </a>                    <span class="php-keyword1">break</span>;
</span><span id="6841" class="l"><a class="l" href="#6841"> 6841: </a>            }
</span><span id="6842" class="l"><a class="l" href="#6842"> 6842: </a>        }
</span><span id="6843" class="l"><a class="l" href="#6843"> 6843: </a>    }
</span><span id="6844" class="l"><a class="l" href="#6844"> 6844: </a>
</span><span id="6845" class="l"><a class="l" href="#6845"> 6845: </a>    <span class="php-comment">/**
</span></span><span id="6846" class="l"><a class="l" href="#6846"> 6846: </a><span class="php-comment">     * Parse a header value while within quotes
</span></span><span id="6847" class="l"><a class="l" href="#6847"> 6847: </a><span class="php-comment">     */</span>
</span><span id="6848" class="l"><a class="l" href="#6848"> 6848: </a>    <span class="php-keyword1">protected</span> <span class="php-keyword1">function</span> <a id="_quote_char" href="#_quote_char">quote_char</a>()
</span><span id="6849" class="l"><a class="l" href="#6849"> 6849: </a>    {
</span><span id="6850" class="l"><a class="l" href="#6850"> 6850: </a>        <span class="php-var">$len</span> = <span class="php-keyword2">strcspn</span>(<span class="php-var">$this</span>-&gt;data, <span class="php-quote">&quot;\x09\x20\x0A\&quot;\\&quot;</span>, <span class="php-var">$this</span>-&gt;position);
</span><span id="6851" class="l"><a class="l" href="#6851"> 6851: </a>        <span class="php-var">$this</span>-&gt;value .= <span class="php-keyword2">substr</span>(<span class="php-var">$this</span>-&gt;data, <span class="php-var">$this</span>-&gt;position, <span class="php-var">$len</span>);
</span><span id="6852" class="l"><a class="l" href="#6852"> 6852: </a>        <span class="php-var">$this</span>-&gt;position += <span class="php-var">$len</span>;
</span><span id="6853" class="l"><a class="l" href="#6853"> 6853: </a>        <span class="php-var">$this</span>-&gt;state = <span class="php-quote">'value'</span>;
</span><span id="6854" class="l"><a class="l" href="#6854"> 6854: </a>    }
</span><span id="6855" class="l"><a class="l" href="#6855"> 6855: </a>
</span><span id="6856" class="l"><a class="l" href="#6856"> 6856: </a>    <span class="php-comment">/**
</span></span><span id="6857" class="l"><a class="l" href="#6857"> 6857: </a><span class="php-comment">     * Parse an escaped character within quotes
</span></span><span id="6858" class="l"><a class="l" href="#6858"> 6858: </a><span class="php-comment">     */</span>
</span><span id="6859" class="l"><a class="l" href="#6859"> 6859: </a>    <span class="php-keyword1">protected</span> <span class="php-keyword1">function</span> <a id="_quote_escaped" href="#_quote_escaped">quote_escaped</a>()
</span><span id="6860" class="l"><a class="l" href="#6860"> 6860: </a>    {
</span><span id="6861" class="l"><a class="l" href="#6861"> 6861: </a>        <span class="php-var">$this</span>-&gt;value .= <span class="php-var">$this</span>-&gt;data[<span class="php-var">$this</span>-&gt;position];
</span><span id="6862" class="l"><a class="l" href="#6862"> 6862: </a>        <span class="php-var">$this</span>-&gt;position++;
</span><span id="6863" class="l"><a class="l" href="#6863"> 6863: </a>        <span class="php-var">$this</span>-&gt;state = <span class="php-quote">'quote'</span>;
</span><span id="6864" class="l"><a class="l" href="#6864"> 6864: </a>    }
</span><span id="6865" class="l"><a class="l" href="#6865"> 6865: </a>
</span><span id="6866" class="l"><a class="l" href="#6866"> 6866: </a>    <span class="php-comment">/**
</span></span><span id="6867" class="l"><a class="l" href="#6867"> 6867: </a><span class="php-comment">     * Parse the body
</span></span><span id="6868" class="l"><a class="l" href="#6868"> 6868: </a><span class="php-comment">     */</span>
</span><span id="6869" class="l"><a class="l" href="#6869"> 6869: </a>    <span class="php-keyword1">protected</span> <span class="php-keyword1">function</span> <a id="_body" href="#_body">body</a>()
</span><span id="6870" class="l"><a class="l" href="#6870"> 6870: </a>    {
</span><span id="6871" class="l"><a class="l" href="#6871"> 6871: </a>        <span class="php-var">$this</span>-&gt;body = <span class="php-keyword2">substr</span>(<span class="php-var">$this</span>-&gt;data, <span class="php-var">$this</span>-&gt;position);
</span><span id="6872" class="l"><a class="l" href="#6872"> 6872: </a>        <span class="php-keyword1">if</span> (!<span class="php-keyword1">empty</span>(<span class="php-var">$this</span>-&gt;headers[<span class="php-quote">'transfer-encoding'</span>]))
</span><span id="6873" class="l"><a class="l" href="#6873"> 6873: </a>        {
</span><span id="6874" class="l"><a class="l" href="#6874"> 6874: </a>            <span class="php-keyword1">unset</span>(<span class="php-var">$this</span>-&gt;headers[<span class="php-quote">'transfer-encoding'</span>]);
</span><span id="6875" class="l"><a class="l" href="#6875"> 6875: </a>            <span class="php-var">$this</span>-&gt;state = <span class="php-quote">'chunked'</span>;
</span><span id="6876" class="l"><a class="l" href="#6876"> 6876: </a>        }
</span><span id="6877" class="l"><a class="l" href="#6877"> 6877: </a>        <span class="php-keyword1">else</span>
</span><span id="6878" class="l"><a class="l" href="#6878"> 6878: </a>        {
</span><span id="6879" class="l"><a class="l" href="#6879"> 6879: </a>            <span class="php-var">$this</span>-&gt;state = <span class="php-quote">'emit'</span>;
</span><span id="6880" class="l"><a class="l" href="#6880"> 6880: </a>        }
</span><span id="6881" class="l"><a class="l" href="#6881"> 6881: </a>    }
</span><span id="6882" class="l"><a class="l" href="#6882"> 6882: </a>
</span><span id="6883" class="l"><a class="l" href="#6883"> 6883: </a>    <span class="php-comment">/**
</span></span><span id="6884" class="l"><a class="l" href="#6884"> 6884: </a><span class="php-comment">     * Parsed a &quot;Transfer-Encoding: chunked&quot; body
</span></span><span id="6885" class="l"><a class="l" href="#6885"> 6885: </a><span class="php-comment">     */</span>
</span><span id="6886" class="l"><a class="l" href="#6886"> 6886: </a>    <span class="php-keyword1">protected</span> <span class="php-keyword1">function</span> <a id="_chunked" href="#_chunked">chunked</a>()
</span><span id="6887" class="l"><a class="l" href="#6887"> 6887: </a>    {
</span><span id="6888" class="l"><a class="l" href="#6888"> 6888: </a>        <span class="php-keyword1">if</span> (!<span class="php-keyword2">preg_match</span>(<span class="php-quote">'/^([0-9a-f]+)[^\r\n]*\r\n/i'</span>, <span class="php-keyword2">trim</span>(<span class="php-var">$this</span>-&gt;body)))
</span><span id="6889" class="l"><a class="l" href="#6889"> 6889: </a>        {
</span><span id="6890" class="l"><a class="l" href="#6890"> 6890: </a>            <span class="php-var">$this</span>-&gt;state = <span class="php-quote">'emit'</span>;
</span><span id="6891" class="l"><a class="l" href="#6891"> 6891: </a>            <span class="php-keyword1">return</span>;
</span><span id="6892" class="l"><a class="l" href="#6892"> 6892: </a>        }
</span><span id="6893" class="l"><a class="l" href="#6893"> 6893: </a>
</span><span id="6894" class="l"><a class="l" href="#6894"> 6894: </a>        <span class="php-var">$decoded</span> = <span class="php-quote">''</span>;
</span><span id="6895" class="l"><a class="l" href="#6895"> 6895: </a>        <span class="php-var">$encoded</span> = <span class="php-var">$this</span>-&gt;body;
</span><span id="6896" class="l"><a class="l" href="#6896"> 6896: </a>
</span><span id="6897" class="l"><a class="l" href="#6897"> 6897: </a>        <span class="php-keyword1">while</span> (<span class="php-keyword1">true</span>)
</span><span id="6898" class="l"><a class="l" href="#6898"> 6898: </a>        {
</span><span id="6899" class="l"><a class="l" href="#6899"> 6899: </a>            <span class="php-var">$is_chunked</span> = (bool) <span class="php-keyword2">preg_match</span>( <span class="php-quote">'/^([0-9a-f]+)[^\r\n]*\r\n/i'</span>, <span class="php-var">$encoded</span>, <span class="php-var">$matches</span> );
</span><span id="6900" class="l"><a class="l" href="#6900"> 6900: </a>            <span class="php-keyword1">if</span> (!<span class="php-var">$is_chunked</span>)
</span><span id="6901" class="l"><a class="l" href="#6901"> 6901: </a>            {
</span><span id="6902" class="l"><a class="l" href="#6902"> 6902: </a>                <span class="php-comment">// Looks like it's not chunked after all</span>
</span><span id="6903" class="l"><a class="l" href="#6903"> 6903: </a>                <span class="php-var">$this</span>-&gt;state = <span class="php-quote">'emit'</span>;
</span><span id="6904" class="l"><a class="l" href="#6904"> 6904: </a>                <span class="php-keyword1">return</span>;
</span><span id="6905" class="l"><a class="l" href="#6905"> 6905: </a>            }
</span><span id="6906" class="l"><a class="l" href="#6906"> 6906: </a>
</span><span id="6907" class="l"><a class="l" href="#6907"> 6907: </a>            <span class="php-var">$length</span> = <span class="php-keyword2">hexdec</span>(<span class="php-keyword2">trim</span>(<span class="php-var">$matches</span>[<span class="php-num">1</span>]));
</span><span id="6908" class="l"><a class="l" href="#6908"> 6908: </a>            <span class="php-keyword1">if</span> (<span class="php-var">$length</span> === <span class="php-num">0</span>)
</span><span id="6909" class="l"><a class="l" href="#6909"> 6909: </a>            {
</span><span id="6910" class="l"><a class="l" href="#6910"> 6910: </a>                <span class="php-comment">// Ignore trailer headers</span>
</span><span id="6911" class="l"><a class="l" href="#6911"> 6911: </a>                <span class="php-var">$this</span>-&gt;state = <span class="php-quote">'emit'</span>;
</span><span id="6912" class="l"><a class="l" href="#6912"> 6912: </a>                <span class="php-var">$this</span>-&gt;body = <span class="php-var">$decoded</span>;
</span><span id="6913" class="l"><a class="l" href="#6913"> 6913: </a>                <span class="php-keyword1">return</span>;
</span><span id="6914" class="l"><a class="l" href="#6914"> 6914: </a>            }
</span><span id="6915" class="l"><a class="l" href="#6915"> 6915: </a>
</span><span id="6916" class="l"><a class="l" href="#6916"> 6916: </a>            <span class="php-var">$chunk_length</span> = <span class="php-keyword2">strlen</span>(<span class="php-var">$matches</span>[<span class="php-num">0</span>]);
</span><span id="6917" class="l"><a class="l" href="#6917"> 6917: </a>            <span class="php-var">$decoded</span> .= <span class="php-var">$part</span> = <span class="php-keyword2">substr</span>(<span class="php-var">$encoded</span>, <span class="php-var">$chunk_length</span>, <span class="php-var">$length</span>);
</span><span id="6918" class="l"><a class="l" href="#6918"> 6918: </a>            <span class="php-var">$encoded</span> = <span class="php-keyword2">substr</span>(<span class="php-var">$encoded</span>, <span class="php-var">$chunk_length</span> + <span class="php-var">$length</span> + <span class="php-num">2</span>);
</span><span id="6919" class="l"><a class="l" href="#6919"> 6919: </a>
</span><span id="6920" class="l"><a class="l" href="#6920"> 6920: </a>            <span class="php-keyword1">if</span> (<span class="php-keyword2">trim</span>(<span class="php-var">$encoded</span>) === <span class="php-quote">'0'</span> || <span class="php-keyword1">empty</span>(<span class="php-var">$encoded</span>))
</span><span id="6921" class="l"><a class="l" href="#6921"> 6921: </a>            {
</span><span id="6922" class="l"><a class="l" href="#6922"> 6922: </a>                <span class="php-var">$this</span>-&gt;state = <span class="php-quote">'emit'</span>;
</span><span id="6923" class="l"><a class="l" href="#6923"> 6923: </a>                <span class="php-var">$this</span>-&gt;body = <span class="php-var">$decoded</span>;
</span><span id="6924" class="l"><a class="l" href="#6924"> 6924: </a>                <span class="php-keyword1">return</span>;
</span><span id="6925" class="l"><a class="l" href="#6925"> 6925: </a>            }
</span><span id="6926" class="l"><a class="l" href="#6926"> 6926: </a>        }
</span><span id="6927" class="l"><a class="l" href="#6927"> 6927: </a>    }
</span><span id="6928" class="l"><a class="l" href="#6928"> 6928: </a>}
</span><span id="6929" class="l"><a class="l" href="#6929"> 6929: </a>
</span><span id="6930" class="l"><a class="l" href="#6930"> 6930: </a><span class="php-comment">/**
</span></span><span id="6931" class="l"><a class="l" href="#6931"> 6931: </a><span class="php-comment"> * IRI parser/serialiser
</span></span><span id="6932" class="l"><a class="l" href="#6932"> 6932: </a><span class="php-comment"> *
</span></span><span id="6933" class="l"><a class="l" href="#6933"> 6933: </a><span class="php-comment"> * @package SimplePie
</span></span><span id="6934" class="l"><a class="l" href="#6934"> 6934: </a><span class="php-comment"> */</span>
</span><span id="6935" class="l"><a class="l" href="#6935"> 6935: </a><span class="php-keyword1">class</span> <a id="SimplePie_IRI" href="#SimplePie_IRI">SimplePie_IRI</a>
</span><span id="6936" class="l"><a class="l" href="#6936"> 6936: </a>{
</span><span id="6937" class="l"><a class="l" href="#6937"> 6937: </a>    <span class="php-comment">/**
</span></span><span id="6938" class="l"><a class="l" href="#6938"> 6938: </a><span class="php-comment">     * Scheme
</span></span><span id="6939" class="l"><a class="l" href="#6939"> 6939: </a><span class="php-comment">     *
</span></span><span id="6940" class="l"><a class="l" href="#6940"> 6940: </a><span class="php-comment">     * @access private
</span></span><span id="6941" class="l"><a class="l" href="#6941"> 6941: </a><span class="php-comment">     * @var string
</span></span><span id="6942" class="l"><a class="l" href="#6942"> 6942: </a><span class="php-comment">     */</span>
</span><span id="6943" class="l"><a class="l" href="#6943"> 6943: </a>    <span class="php-keyword1">var</span> <span class="php-var"><a id="$scheme" href="#$scheme">$scheme</a></span>;
</span><span id="6944" class="l"><a class="l" href="#6944"> 6944: </a>
</span><span id="6945" class="l"><a class="l" href="#6945"> 6945: </a>    <span class="php-comment">/**
</span></span><span id="6946" class="l"><a class="l" href="#6946"> 6946: </a><span class="php-comment">     * User Information
</span></span><span id="6947" class="l"><a class="l" href="#6947"> 6947: </a><span class="php-comment">     *
</span></span><span id="6948" class="l"><a class="l" href="#6948"> 6948: </a><span class="php-comment">     * @access private
</span></span><span id="6949" class="l"><a class="l" href="#6949"> 6949: </a><span class="php-comment">     * @var string
</span></span><span id="6950" class="l"><a class="l" href="#6950"> 6950: </a><span class="php-comment">     */</span>
</span><span id="6951" class="l"><a class="l" href="#6951"> 6951: </a>    <span class="php-keyword1">var</span> <span class="php-var"><a id="$userinfo" href="#$userinfo">$userinfo</a></span>;
</span><span id="6952" class="l"><a class="l" href="#6952"> 6952: </a>
</span><span id="6953" class="l"><a class="l" href="#6953"> 6953: </a>    <span class="php-comment">/**
</span></span><span id="6954" class="l"><a class="l" href="#6954"> 6954: </a><span class="php-comment">     * Host
</span></span><span id="6955" class="l"><a class="l" href="#6955"> 6955: </a><span class="php-comment">     *
</span></span><span id="6956" class="l"><a class="l" href="#6956"> 6956: </a><span class="php-comment">     * @access private
</span></span><span id="6957" class="l"><a class="l" href="#6957"> 6957: </a><span class="php-comment">     * @var string
</span></span><span id="6958" class="l"><a class="l" href="#6958"> 6958: </a><span class="php-comment">     */</span>
</span><span id="6959" class="l"><a class="l" href="#6959"> 6959: </a>    <span class="php-keyword1">var</span> <span class="php-var"><a id="$host" href="#$host">$host</a></span>;
</span><span id="6960" class="l"><a class="l" href="#6960"> 6960: </a>
</span><span id="6961" class="l"><a class="l" href="#6961"> 6961: </a>    <span class="php-comment">/**
</span></span><span id="6962" class="l"><a class="l" href="#6962"> 6962: </a><span class="php-comment">     * Port
</span></span><span id="6963" class="l"><a class="l" href="#6963"> 6963: </a><span class="php-comment">     *
</span></span><span id="6964" class="l"><a class="l" href="#6964"> 6964: </a><span class="php-comment">     * @access private
</span></span><span id="6965" class="l"><a class="l" href="#6965"> 6965: </a><span class="php-comment">     * @var string
</span></span><span id="6966" class="l"><a class="l" href="#6966"> 6966: </a><span class="php-comment">     */</span>
</span><span id="6967" class="l"><a class="l" href="#6967"> 6967: </a>    <span class="php-keyword1">var</span> <span class="php-var"><a id="$port" href="#$port">$port</a></span>;
</span><span id="6968" class="l"><a class="l" href="#6968"> 6968: </a>
</span><span id="6969" class="l"><a class="l" href="#6969"> 6969: </a>    <span class="php-comment">/**
</span></span><span id="6970" class="l"><a class="l" href="#6970"> 6970: </a><span class="php-comment">     * Path
</span></span><span id="6971" class="l"><a class="l" href="#6971"> 6971: </a><span class="php-comment">     *
</span></span><span id="6972" class="l"><a class="l" href="#6972"> 6972: </a><span class="php-comment">     * @access private
</span></span><span id="6973" class="l"><a class="l" href="#6973"> 6973: </a><span class="php-comment">     * @var string
</span></span><span id="6974" class="l"><a class="l" href="#6974"> 6974: </a><span class="php-comment">     */</span>
</span><span id="6975" class="l"><a class="l" href="#6975"> 6975: </a>    <span class="php-keyword1">var</span> <span class="php-var"><a id="$path" href="#$path">$path</a></span>;
</span><span id="6976" class="l"><a class="l" href="#6976"> 6976: </a>
</span><span id="6977" class="l"><a class="l" href="#6977"> 6977: </a>    <span class="php-comment">/**
</span></span><span id="6978" class="l"><a class="l" href="#6978"> 6978: </a><span class="php-comment">     * Query
</span></span><span id="6979" class="l"><a class="l" href="#6979"> 6979: </a><span class="php-comment">     *
</span></span><span id="6980" class="l"><a class="l" href="#6980"> 6980: </a><span class="php-comment">     * @access private
</span></span><span id="6981" class="l"><a class="l" href="#6981"> 6981: </a><span class="php-comment">     * @var string
</span></span><span id="6982" class="l"><a class="l" href="#6982"> 6982: </a><span class="php-comment">     */</span>
</span><span id="6983" class="l"><a class="l" href="#6983"> 6983: </a>    <span class="php-keyword1">var</span> <span class="php-var"><a id="$query" href="#$query">$query</a></span>;
</span><span id="6984" class="l"><a class="l" href="#6984"> 6984: </a>
</span><span id="6985" class="l"><a class="l" href="#6985"> 6985: </a>    <span class="php-comment">/**
</span></span><span id="6986" class="l"><a class="l" href="#6986"> 6986: </a><span class="php-comment">     * Fragment
</span></span><span id="6987" class="l"><a class="l" href="#6987"> 6987: </a><span class="php-comment">     *
</span></span><span id="6988" class="l"><a class="l" href="#6988"> 6988: </a><span class="php-comment">     * @access private
</span></span><span id="6989" class="l"><a class="l" href="#6989"> 6989: </a><span class="php-comment">     * @var string
</span></span><span id="6990" class="l"><a class="l" href="#6990"> 6990: </a><span class="php-comment">     */</span>
</span><span id="6991" class="l"><a class="l" href="#6991"> 6991: </a>    <span class="php-keyword1">var</span> <span class="php-var"><a id="$fragment" href="#$fragment">$fragment</a></span>;
</span><span id="6992" class="l"><a class="l" href="#6992"> 6992: </a>
</span><span id="6993" class="l"><a class="l" href="#6993"> 6993: </a>    <span class="php-comment">/**
</span></span><span id="6994" class="l"><a class="l" href="#6994"> 6994: </a><span class="php-comment">     * Whether the object represents a valid IRI
</span></span><span id="6995" class="l"><a class="l" href="#6995"> 6995: </a><span class="php-comment">     *
</span></span><span id="6996" class="l"><a class="l" href="#6996"> 6996: </a><span class="php-comment">     * @access private
</span></span><span id="6997" class="l"><a class="l" href="#6997"> 6997: </a><span class="php-comment">     * @var array
</span></span><span id="6998" class="l"><a class="l" href="#6998"> 6998: </a><span class="php-comment">     */</span>
</span><span id="6999" class="l"><a class="l" href="#6999"> 6999: </a>    <span class="php-keyword1">var</span> <span class="php-var"><a id="$valid" href="#$valid">$valid</a></span> = <span class="php-keyword1">array</span>();
</span><span id="7000" class="l"><a class="l" href="#7000"> 7000: </a>
</span><span id="7001" class="l"><a class="l" href="#7001"> 7001: </a>    <span class="php-comment">/**
</span></span><span id="7002" class="l"><a class="l" href="#7002"> 7002: </a><span class="php-comment">     * Return the entire IRI when you try and read the object as a string
</span></span><span id="7003" class="l"><a class="l" href="#7003"> 7003: </a><span class="php-comment">     *
</span></span><span id="7004" class="l"><a class="l" href="#7004"> 7004: </a><span class="php-comment">     * @access public
</span></span><span id="7005" class="l"><a class="l" href="#7005"> 7005: </a><span class="php-comment">     * @return string
</span></span><span id="7006" class="l"><a class="l" href="#7006"> 7006: </a><span class="php-comment">     */</span>
</span><span id="7007" class="l"><a class="l" href="#7007"> 7007: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="___toString" href="#___toString">__toString</a>()
</span><span id="7008" class="l"><a class="l" href="#7008"> 7008: </a>    {
</span><span id="7009" class="l"><a class="l" href="#7009"> 7009: </a>        <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;get_iri();
</span><span id="7010" class="l"><a class="l" href="#7010"> 7010: </a>    }
</span><span id="7011" class="l"><a class="l" href="#7011"> 7011: </a>
</span><span id="7012" class="l"><a class="l" href="#7012"> 7012: </a>    <span class="php-comment">/**
</span></span><span id="7013" class="l"><a class="l" href="#7013"> 7013: </a><span class="php-comment">     * Create a new IRI object, from a specified string
</span></span><span id="7014" class="l"><a class="l" href="#7014"> 7014: </a><span class="php-comment">     *
</span></span><span id="7015" class="l"><a class="l" href="#7015"> 7015: </a><span class="php-comment">     * @access public
</span></span><span id="7016" class="l"><a class="l" href="#7016"> 7016: </a><span class="php-comment">     * @param string $iri
</span></span><span id="7017" class="l"><a class="l" href="#7017"> 7017: </a><span class="php-comment">     * @return SimplePie_IRI
</span></span><span id="7018" class="l"><a class="l" href="#7018"> 7018: </a><span class="php-comment">     */</span>
</span><span id="7019" class="l"><a class="l" href="#7019"> 7019: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="___construct" href="#___construct">__construct</a>(<span class="php-var">$iri</span>)
</span><span id="7020" class="l"><a class="l" href="#7020"> 7020: </a>    {
</span><span id="7021" class="l"><a class="l" href="#7021"> 7021: </a>        <span class="php-var">$iri</span> = (string) <span class="php-var">$iri</span>;
</span><span id="7022" class="l"><a class="l" href="#7022"> 7022: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$iri</span> !== <span class="php-quote">''</span>)
</span><span id="7023" class="l"><a class="l" href="#7023"> 7023: </a>        {
</span><span id="7024" class="l"><a class="l" href="#7024"> 7024: </a>            <span class="php-var">$parsed</span> = <span class="php-var">$this</span>-&gt;parse_iri(<span class="php-var">$iri</span>);
</span><span id="7025" class="l"><a class="l" href="#7025"> 7025: </a>            <span class="php-var">$this</span>-&gt;set_scheme(<span class="php-var">$parsed</span>[<span class="php-quote">'scheme'</span>]);
</span><span id="7026" class="l"><a class="l" href="#7026"> 7026: </a>            <span class="php-var">$this</span>-&gt;set_authority(<span class="php-var">$parsed</span>[<span class="php-quote">'authority'</span>]);
</span><span id="7027" class="l"><a class="l" href="#7027"> 7027: </a>            <span class="php-var">$this</span>-&gt;set_path(<span class="php-var">$parsed</span>[<span class="php-quote">'path'</span>]);
</span><span id="7028" class="l"><a class="l" href="#7028"> 7028: </a>            <span class="php-var">$this</span>-&gt;set_query(<span class="php-var">$parsed</span>[<span class="php-quote">'query'</span>]);
</span><span id="7029" class="l"><a class="l" href="#7029"> 7029: </a>            <span class="php-var">$this</span>-&gt;set_fragment(<span class="php-var">$parsed</span>[<span class="php-quote">'fragment'</span>]);
</span><span id="7030" class="l"><a class="l" href="#7030"> 7030: </a>        }
</span><span id="7031" class="l"><a class="l" href="#7031"> 7031: </a>    }
</span><span id="7032" class="l"><a class="l" href="#7032"> 7032: </a>
</span><span id="7033" class="l"><a class="l" href="#7033"> 7033: </a>    <span class="php-comment">/**
</span></span><span id="7034" class="l"><a class="l" href="#7034"> 7034: </a><span class="php-comment">     * Create a new IRI object by resolving a relative IRI
</span></span><span id="7035" class="l"><a class="l" href="#7035"> 7035: </a><span class="php-comment">     *
</span></span><span id="7036" class="l"><a class="l" href="#7036"> 7036: </a><span class="php-comment">     * @static
</span></span><span id="7037" class="l"><a class="l" href="#7037"> 7037: </a><span class="php-comment">     * @access public
</span></span><span id="7038" class="l"><a class="l" href="#7038"> 7038: </a><span class="php-comment">     * @param SimplePie_IRI $base Base IRI
</span></span><span id="7039" class="l"><a class="l" href="#7039"> 7039: </a><span class="php-comment">     * @param string $relative Relative IRI
</span></span><span id="7040" class="l"><a class="l" href="#7040"> 7040: </a><span class="php-comment">     * @return SimplePie_IRI
</span></span><span id="7041" class="l"><a class="l" href="#7041"> 7041: </a><span class="php-comment">     */</span>
</span><span id="7042" class="l"><a class="l" href="#7042"> 7042: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">static</span> <span class="php-keyword1">function</span> <a id="_absolutize" href="#_absolutize">absolutize</a>(<span class="php-var">$base</span>, <span class="php-var">$relative</span>)
</span><span id="7043" class="l"><a class="l" href="#7043"> 7043: </a>    {
</span><span id="7044" class="l"><a class="l" href="#7044"> 7044: </a>        <span class="php-var">$relative</span> = (string) <span class="php-var">$relative</span>;
</span><span id="7045" class="l"><a class="l" href="#7045"> 7045: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$relative</span> !== <span class="php-quote">''</span>)
</span><span id="7046" class="l"><a class="l" href="#7046"> 7046: </a>        {
</span><span id="7047" class="l"><a class="l" href="#7047"> 7047: </a>            <span class="php-var">$relative</span> = <span class="php-keyword1">new</span> SimplePie_IRI(<span class="php-var">$relative</span>);
</span><span id="7048" class="l"><a class="l" href="#7048"> 7048: </a>            <span class="php-keyword1">if</span> (<span class="php-var">$relative</span>-&gt;get_scheme() !== <span class="php-keyword1">null</span>)
</span><span id="7049" class="l"><a class="l" href="#7049"> 7049: </a>            {
</span><span id="7050" class="l"><a class="l" href="#7050"> 7050: </a>                <span class="php-var">$target</span> = <span class="php-var">$relative</span>;
</span><span id="7051" class="l"><a class="l" href="#7051"> 7051: </a>            }
</span><span id="7052" class="l"><a class="l" href="#7052"> 7052: </a>            <span class="php-keyword1">elseif</span> (<span class="php-var">$base</span>-&gt;get_iri() !== <span class="php-keyword1">null</span>)
</span><span id="7053" class="l"><a class="l" href="#7053"> 7053: </a>            {
</span><span id="7054" class="l"><a class="l" href="#7054"> 7054: </a>                <span class="php-keyword1">if</span> (<span class="php-var">$relative</span>-&gt;get_authority() !== <span class="php-keyword1">null</span>)
</span><span id="7055" class="l"><a class="l" href="#7055"> 7055: </a>                {
</span><span id="7056" class="l"><a class="l" href="#7056"> 7056: </a>                    <span class="php-var">$target</span> = <span class="php-var">$relative</span>;
</span><span id="7057" class="l"><a class="l" href="#7057"> 7057: </a>                    <span class="php-var">$target</span>-&gt;set_scheme(<span class="php-var">$base</span>-&gt;get_scheme());
</span><span id="7058" class="l"><a class="l" href="#7058"> 7058: </a>                }
</span><span id="7059" class="l"><a class="l" href="#7059"> 7059: </a>                <span class="php-keyword1">else</span>
</span><span id="7060" class="l"><a class="l" href="#7060"> 7060: </a>                {
</span><span id="7061" class="l"><a class="l" href="#7061"> 7061: </a>                    <span class="php-var">$target</span> = <span class="php-keyword1">new</span> SimplePie_IRI(<span class="php-quote">''</span>);
</span><span id="7062" class="l"><a class="l" href="#7062"> 7062: </a>                    <span class="php-var">$target</span>-&gt;set_scheme(<span class="php-var">$base</span>-&gt;get_scheme());
</span><span id="7063" class="l"><a class="l" href="#7063"> 7063: </a>                    <span class="php-var">$target</span>-&gt;set_userinfo(<span class="php-var">$base</span>-&gt;get_userinfo());
</span><span id="7064" class="l"><a class="l" href="#7064"> 7064: </a>                    <span class="php-var">$target</span>-&gt;set_host(<span class="php-var">$base</span>-&gt;get_host());
</span><span id="7065" class="l"><a class="l" href="#7065"> 7065: </a>                    <span class="php-var">$target</span>-&gt;set_port(<span class="php-var">$base</span>-&gt;get_port());
</span><span id="7066" class="l"><a class="l" href="#7066"> 7066: </a>                    <span class="php-keyword1">if</span> (<span class="php-var">$relative</span>-&gt;get_path() !== <span class="php-keyword1">null</span>)
</span><span id="7067" class="l"><a class="l" href="#7067"> 7067: </a>                    {
</span><span id="7068" class="l"><a class="l" href="#7068"> 7068: </a>                        <span class="php-keyword1">if</span> (<span class="php-keyword2">strpos</span>(<span class="php-var">$relative</span>-&gt;get_path(), <span class="php-quote">'/'</span>) === <span class="php-num">0</span>)
</span><span id="7069" class="l"><a class="l" href="#7069"> 7069: </a>                        {
</span><span id="7070" class="l"><a class="l" href="#7070"> 7070: </a>                            <span class="php-var">$target</span>-&gt;set_path(<span class="php-var">$relative</span>-&gt;get_path());
</span><span id="7071" class="l"><a class="l" href="#7071"> 7071: </a>                        }
</span><span id="7072" class="l"><a class="l" href="#7072"> 7072: </a>                        <span class="php-keyword1">elseif</span> ((<span class="php-var">$base</span>-&gt;get_userinfo() !== <span class="php-keyword1">null</span> || <span class="php-var">$base</span>-&gt;get_host() !== <span class="php-keyword1">null</span> || <span class="php-var">$base</span>-&gt;get_port() !== <span class="php-keyword1">null</span>) &amp;&amp; <span class="php-var">$base</span>-&gt;get_path() === <span class="php-keyword1">null</span>)
</span><span id="7073" class="l"><a class="l" href="#7073"> 7073: </a>                        {
</span><span id="7074" class="l"><a class="l" href="#7074"> 7074: </a>                            <span class="php-var">$target</span>-&gt;set_path(<span class="php-quote">'/'</span> . <span class="php-var">$relative</span>-&gt;get_path());
</span><span id="7075" class="l"><a class="l" href="#7075"> 7075: </a>                        }
</span><span id="7076" class="l"><a class="l" href="#7076"> 7076: </a>                        <span class="php-keyword1">elseif</span> ((<span class="php-var">$last_segment</span> = <span class="php-keyword2">strrpos</span>(<span class="php-var">$base</span>-&gt;get_path(), <span class="php-quote">'/'</span>)) !== <span class="php-keyword1">false</span>)
</span><span id="7077" class="l"><a class="l" href="#7077"> 7077: </a>                        {
</span><span id="7078" class="l"><a class="l" href="#7078"> 7078: </a>                            <span class="php-var">$target</span>-&gt;set_path(<span class="php-keyword2">substr</span>(<span class="php-var">$base</span>-&gt;get_path(), <span class="php-num">0</span>, <span class="php-var">$last_segment</span> + <span class="php-num">1</span>) . <span class="php-var">$relative</span>-&gt;get_path());
</span><span id="7079" class="l"><a class="l" href="#7079"> 7079: </a>                        }
</span><span id="7080" class="l"><a class="l" href="#7080"> 7080: </a>                        <span class="php-keyword1">else</span>
</span><span id="7081" class="l"><a class="l" href="#7081"> 7081: </a>                        {
</span><span id="7082" class="l"><a class="l" href="#7082"> 7082: </a>                            <span class="php-var">$target</span>-&gt;set_path(<span class="php-var">$relative</span>-&gt;get_path());
</span><span id="7083" class="l"><a class="l" href="#7083"> 7083: </a>                        }
</span><span id="7084" class="l"><a class="l" href="#7084"> 7084: </a>                        <span class="php-var">$target</span>-&gt;set_query(<span class="php-var">$relative</span>-&gt;get_query());
</span><span id="7085" class="l"><a class="l" href="#7085"> 7085: </a>                    }
</span><span id="7086" class="l"><a class="l" href="#7086"> 7086: </a>                    <span class="php-keyword1">else</span>
</span><span id="7087" class="l"><a class="l" href="#7087"> 7087: </a>                    {
</span><span id="7088" class="l"><a class="l" href="#7088"> 7088: </a>                        <span class="php-var">$target</span>-&gt;set_path(<span class="php-var">$base</span>-&gt;get_path());
</span><span id="7089" class="l"><a class="l" href="#7089"> 7089: </a>                        <span class="php-keyword1">if</span> (<span class="php-var">$relative</span>-&gt;get_query() !== <span class="php-keyword1">null</span>)
</span><span id="7090" class="l"><a class="l" href="#7090"> 7090: </a>                        {
</span><span id="7091" class="l"><a class="l" href="#7091"> 7091: </a>                            <span class="php-var">$target</span>-&gt;set_query(<span class="php-var">$relative</span>-&gt;get_query());
</span><span id="7092" class="l"><a class="l" href="#7092"> 7092: </a>                        }
</span><span id="7093" class="l"><a class="l" href="#7093"> 7093: </a>                        <span class="php-keyword1">elseif</span> (<span class="php-var">$base</span>-&gt;get_query() !== <span class="php-keyword1">null</span>)
</span><span id="7094" class="l"><a class="l" href="#7094"> 7094: </a>                        {
</span><span id="7095" class="l"><a class="l" href="#7095"> 7095: </a>                            <span class="php-var">$target</span>-&gt;set_query(<span class="php-var">$base</span>-&gt;get_query());
</span><span id="7096" class="l"><a class="l" href="#7096"> 7096: </a>                        }
</span><span id="7097" class="l"><a class="l" href="#7097"> 7097: </a>                    }
</span><span id="7098" class="l"><a class="l" href="#7098"> 7098: </a>                }
</span><span id="7099" class="l"><a class="l" href="#7099"> 7099: </a>                <span class="php-var">$target</span>-&gt;set_fragment(<span class="php-var">$relative</span>-&gt;get_fragment());
</span><span id="7100" class="l"><a class="l" href="#7100"> 7100: </a>            }
</span><span id="7101" class="l"><a class="l" href="#7101"> 7101: </a>            <span class="php-keyword1">else</span>
</span><span id="7102" class="l"><a class="l" href="#7102"> 7102: </a>            {
</span><span id="7103" class="l"><a class="l" href="#7103"> 7103: </a>                <span class="php-comment">// No base URL, just return the relative URL</span>
</span><span id="7104" class="l"><a class="l" href="#7104"> 7104: </a>                <span class="php-var">$target</span> = <span class="php-var">$relative</span>;
</span><span id="7105" class="l"><a class="l" href="#7105"> 7105: </a>            }
</span><span id="7106" class="l"><a class="l" href="#7106"> 7106: </a>        }
</span><span id="7107" class="l"><a class="l" href="#7107"> 7107: </a>        <span class="php-keyword1">else</span>
</span><span id="7108" class="l"><a class="l" href="#7108"> 7108: </a>        {
</span><span id="7109" class="l"><a class="l" href="#7109"> 7109: </a>            <span class="php-var">$target</span> = <span class="php-var">$base</span>;
</span><span id="7110" class="l"><a class="l" href="#7110"> 7110: </a>        }
</span><span id="7111" class="l"><a class="l" href="#7111"> 7111: </a>        <span class="php-keyword1">return</span> <span class="php-var">$target</span>;
</span><span id="7112" class="l"><a class="l" href="#7112"> 7112: </a>    }
</span><span id="7113" class="l"><a class="l" href="#7113"> 7113: </a>
</span><span id="7114" class="l"><a class="l" href="#7114"> 7114: </a>    <span class="php-comment">/**
</span></span><span id="7115" class="l"><a class="l" href="#7115"> 7115: </a><span class="php-comment">     * Parse an IRI into scheme/authority/path/query/fragment segments
</span></span><span id="7116" class="l"><a class="l" href="#7116"> 7116: </a><span class="php-comment">     *
</span></span><span id="7117" class="l"><a class="l" href="#7117"> 7117: </a><span class="php-comment">     * @access private
</span></span><span id="7118" class="l"><a class="l" href="#7118"> 7118: </a><span class="php-comment">     * @param string $iri
</span></span><span id="7119" class="l"><a class="l" href="#7119"> 7119: </a><span class="php-comment">     * @return array
</span></span><span id="7120" class="l"><a class="l" href="#7120"> 7120: </a><span class="php-comment">     */</span>
</span><span id="7121" class="l"><a class="l" href="#7121"> 7121: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_parse_iri" href="#_parse_iri">parse_iri</a>(<span class="php-var">$iri</span>)
</span><span id="7122" class="l"><a class="l" href="#7122"> 7122: </a>    {
</span><span id="7123" class="l"><a class="l" href="#7123"> 7123: </a>        <span class="php-keyword2">preg_match</span>(<span class="php-quote">'/^(([^:\/?#]+):)?(\/\/([^\/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/'</span>, <span class="php-var">$iri</span>, <span class="php-var">$match</span>);
</span><span id="7124" class="l"><a class="l" href="#7124"> 7124: </a>        <span class="php-keyword1">for</span> (<span class="php-var">$i</span> = <span class="php-keyword2">count</span>(<span class="php-var">$match</span>); <span class="php-var">$i</span> &lt;= <span class="php-num">9</span>; <span class="php-var">$i</span>++)
</span><span id="7125" class="l"><a class="l" href="#7125"> 7125: </a>        {
</span><span id="7126" class="l"><a class="l" href="#7126"> 7126: </a>            <span class="php-var">$match</span>[<span class="php-var">$i</span>] = <span class="php-quote">''</span>;
</span><span id="7127" class="l"><a class="l" href="#7127"> 7127: </a>        }
</span><span id="7128" class="l"><a class="l" href="#7128"> 7128: </a>        <span class="php-keyword1">return</span> <span class="php-keyword1">array</span>(<span class="php-quote">'scheme'</span> =&gt; <span class="php-var">$match</span>[<span class="php-num">2</span>], <span class="php-quote">'authority'</span> =&gt; <span class="php-var">$match</span>[<span class="php-num">4</span>], <span class="php-quote">'path'</span> =&gt; <span class="php-var">$match</span>[<span class="php-num">5</span>], <span class="php-quote">'query'</span> =&gt; <span class="php-var">$match</span>[<span class="php-num">7</span>], <span class="php-quote">'fragment'</span> =&gt; <span class="php-var">$match</span>[<span class="php-num">9</span>]);
</span><span id="7129" class="l"><a class="l" href="#7129"> 7129: </a>    }
</span><span id="7130" class="l"><a class="l" href="#7130"> 7130: </a>
</span><span id="7131" class="l"><a class="l" href="#7131"> 7131: </a>    <span class="php-comment">/**
</span></span><span id="7132" class="l"><a class="l" href="#7132"> 7132: </a><span class="php-comment">     * Remove dot segments from a path
</span></span><span id="7133" class="l"><a class="l" href="#7133"> 7133: </a><span class="php-comment">     *
</span></span><span id="7134" class="l"><a class="l" href="#7134"> 7134: </a><span class="php-comment">     * @access private
</span></span><span id="7135" class="l"><a class="l" href="#7135"> 7135: </a><span class="php-comment">     * @param string $input
</span></span><span id="7136" class="l"><a class="l" href="#7136"> 7136: </a><span class="php-comment">     * @return string
</span></span><span id="7137" class="l"><a class="l" href="#7137"> 7137: </a><span class="php-comment">     */</span>
</span><span id="7138" class="l"><a class="l" href="#7138"> 7138: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_remove_dot_segments" href="#_remove_dot_segments">remove_dot_segments</a>(<span class="php-var">$input</span>)
</span><span id="7139" class="l"><a class="l" href="#7139"> 7139: </a>    {
</span><span id="7140" class="l"><a class="l" href="#7140"> 7140: </a>        <span class="php-var">$output</span> = <span class="php-quote">''</span>;
</span><span id="7141" class="l"><a class="l" href="#7141"> 7141: </a>        <span class="php-keyword1">while</span> (<span class="php-keyword2">strpos</span>(<span class="php-var">$input</span>, <span class="php-quote">'./'</span>) !== <span class="php-keyword1">false</span> || <span class="php-keyword2">strpos</span>(<span class="php-var">$input</span>, <span class="php-quote">'/.'</span>) !== <span class="php-keyword1">false</span> || <span class="php-var">$input</span> === <span class="php-quote">'.'</span> || <span class="php-var">$input</span> === <span class="php-quote">'..'</span>)
</span><span id="7142" class="l"><a class="l" href="#7142"> 7142: </a>        {
</span><span id="7143" class="l"><a class="l" href="#7143"> 7143: </a>            <span class="php-comment">// A: If the input buffer begins with a prefix of &quot;../&quot; or &quot;./&quot;, then remove that prefix from the input buffer; otherwise,</span>
</span><span id="7144" class="l"><a class="l" href="#7144"> 7144: </a>            <span class="php-keyword1">if</span> (<span class="php-keyword2">strpos</span>(<span class="php-var">$input</span>, <span class="php-quote">'../'</span>) === <span class="php-num">0</span>)
</span><span id="7145" class="l"><a class="l" href="#7145"> 7145: </a>            {
</span><span id="7146" class="l"><a class="l" href="#7146"> 7146: </a>                <span class="php-var">$input</span> = <span class="php-keyword2">substr</span>(<span class="php-var">$input</span>, <span class="php-num">3</span>);
</span><span id="7147" class="l"><a class="l" href="#7147"> 7147: </a>            }
</span><span id="7148" class="l"><a class="l" href="#7148"> 7148: </a>            <span class="php-keyword1">elseif</span> (<span class="php-keyword2">strpos</span>(<span class="php-var">$input</span>, <span class="php-quote">'./'</span>) === <span class="php-num">0</span>)
</span><span id="7149" class="l"><a class="l" href="#7149"> 7149: </a>            {
</span><span id="7150" class="l"><a class="l" href="#7150"> 7150: </a>                <span class="php-var">$input</span> = <span class="php-keyword2">substr</span>(<span class="php-var">$input</span>, <span class="php-num">2</span>);
</span><span id="7151" class="l"><a class="l" href="#7151"> 7151: </a>            }
</span><span id="7152" class="l"><a class="l" href="#7152"> 7152: </a>            <span class="php-comment">// B: if the input buffer begins with a prefix of &quot;/./&quot; or &quot;/.&quot;, where &quot;.&quot; is a complete path segment, then replace that prefix with &quot;/&quot; in the input buffer; otherwise,</span>
</span><span id="7153" class="l"><a class="l" href="#7153"> 7153: </a>            <span class="php-keyword1">elseif</span> (<span class="php-keyword2">strpos</span>(<span class="php-var">$input</span>, <span class="php-quote">'/./'</span>) === <span class="php-num">0</span>)
</span><span id="7154" class="l"><a class="l" href="#7154"> 7154: </a>            {
</span><span id="7155" class="l"><a class="l" href="#7155"> 7155: </a>                <span class="php-var">$input</span> = <span class="php-keyword2">substr_replace</span>(<span class="php-var">$input</span>, <span class="php-quote">'/'</span>, <span class="php-num">0</span>, <span class="php-num">3</span>);
</span><span id="7156" class="l"><a class="l" href="#7156"> 7156: </a>            }
</span><span id="7157" class="l"><a class="l" href="#7157"> 7157: </a>            <span class="php-keyword1">elseif</span> (<span class="php-var">$input</span> === <span class="php-quote">'/.'</span>)
</span><span id="7158" class="l"><a class="l" href="#7158"> 7158: </a>            {
</span><span id="7159" class="l"><a class="l" href="#7159"> 7159: </a>                <span class="php-var">$input</span> = <span class="php-quote">'/'</span>;
</span><span id="7160" class="l"><a class="l" href="#7160"> 7160: </a>            }
</span><span id="7161" class="l"><a class="l" href="#7161"> 7161: </a>            <span class="php-comment">// C: if the input buffer begins with a prefix of &quot;/../&quot; or &quot;/..&quot;, where &quot;..&quot; is a complete path segment, then replace that prefix with &quot;/&quot; in the input buffer and remove the last segment and its preceding &quot;/&quot; (if any) from the output buffer; otherwise,</span>
</span><span id="7162" class="l"><a class="l" href="#7162"> 7162: </a>            <span class="php-keyword1">elseif</span> (<span class="php-keyword2">strpos</span>(<span class="php-var">$input</span>, <span class="php-quote">'/../'</span>) === <span class="php-num">0</span>)
</span><span id="7163" class="l"><a class="l" href="#7163"> 7163: </a>            {
</span><span id="7164" class="l"><a class="l" href="#7164"> 7164: </a>                <span class="php-var">$input</span> = <span class="php-keyword2">substr_replace</span>(<span class="php-var">$input</span>, <span class="php-quote">'/'</span>, <span class="php-num">0</span>, <span class="php-num">4</span>);
</span><span id="7165" class="l"><a class="l" href="#7165"> 7165: </a>                <span class="php-var">$output</span> = <span class="php-keyword2">substr_replace</span>(<span class="php-var">$output</span>, <span class="php-quote">''</span>, <span class="php-keyword2">strrpos</span>(<span class="php-var">$output</span>, <span class="php-quote">'/'</span>));
</span><span id="7166" class="l"><a class="l" href="#7166"> 7166: </a>            }
</span><span id="7167" class="l"><a class="l" href="#7167"> 7167: </a>            <span class="php-keyword1">elseif</span> (<span class="php-var">$input</span> === <span class="php-quote">'/..'</span>)
</span><span id="7168" class="l"><a class="l" href="#7168"> 7168: </a>            {
</span><span id="7169" class="l"><a class="l" href="#7169"> 7169: </a>                <span class="php-var">$input</span> = <span class="php-quote">'/'</span>;
</span><span id="7170" class="l"><a class="l" href="#7170"> 7170: </a>                <span class="php-var">$output</span> = <span class="php-keyword2">substr_replace</span>(<span class="php-var">$output</span>, <span class="php-quote">''</span>, <span class="php-keyword2">strrpos</span>(<span class="php-var">$output</span>, <span class="php-quote">'/'</span>));
</span><span id="7171" class="l"><a class="l" href="#7171"> 7171: </a>            }
</span><span id="7172" class="l"><a class="l" href="#7172"> 7172: </a>            <span class="php-comment">// D: if the input buffer consists only of &quot;.&quot; or &quot;..&quot;, then remove that from the input buffer; otherwise,</span>
</span><span id="7173" class="l"><a class="l" href="#7173"> 7173: </a>            <span class="php-keyword1">elseif</span> (<span class="php-var">$input</span> === <span class="php-quote">'.'</span> || <span class="php-var">$input</span> === <span class="php-quote">'..'</span>)
</span><span id="7174" class="l"><a class="l" href="#7174"> 7174: </a>            {
</span><span id="7175" class="l"><a class="l" href="#7175"> 7175: </a>                <span class="php-var">$input</span> = <span class="php-quote">''</span>;
</span><span id="7176" class="l"><a class="l" href="#7176"> 7176: </a>            }
</span><span id="7177" class="l"><a class="l" href="#7177"> 7177: </a>            <span class="php-comment">// E: move the first path segment in the input buffer to the end of the output buffer, including the initial &quot;/&quot; character (if any) and any subsequent characters up to, but not including, the next &quot;/&quot; character or the end of the input buffer</span>
</span><span id="7178" class="l"><a class="l" href="#7178"> 7178: </a>            <span class="php-keyword1">elseif</span> ((<span class="php-var">$pos</span> = <span class="php-keyword2">strpos</span>(<span class="php-var">$input</span>, <span class="php-quote">'/'</span>, <span class="php-num">1</span>)) !== <span class="php-keyword1">false</span>)
</span><span id="7179" class="l"><a class="l" href="#7179"> 7179: </a>            {
</span><span id="7180" class="l"><a class="l" href="#7180"> 7180: </a>                <span class="php-var">$output</span> .= <span class="php-keyword2">substr</span>(<span class="php-var">$input</span>, <span class="php-num">0</span>, <span class="php-var">$pos</span>);
</span><span id="7181" class="l"><a class="l" href="#7181"> 7181: </a>                <span class="php-var">$input</span> = <span class="php-keyword2">substr_replace</span>(<span class="php-var">$input</span>, <span class="php-quote">''</span>, <span class="php-num">0</span>, <span class="php-var">$pos</span>);
</span><span id="7182" class="l"><a class="l" href="#7182"> 7182: </a>            }
</span><span id="7183" class="l"><a class="l" href="#7183"> 7183: </a>            <span class="php-keyword1">else</span>
</span><span id="7184" class="l"><a class="l" href="#7184"> 7184: </a>            {
</span><span id="7185" class="l"><a class="l" href="#7185"> 7185: </a>                <span class="php-var">$output</span> .= <span class="php-var">$input</span>;
</span><span id="7186" class="l"><a class="l" href="#7186"> 7186: </a>                <span class="php-var">$input</span> = <span class="php-quote">''</span>;
</span><span id="7187" class="l"><a class="l" href="#7187"> 7187: </a>            }
</span><span id="7188" class="l"><a class="l" href="#7188"> 7188: </a>        }
</span><span id="7189" class="l"><a class="l" href="#7189"> 7189: </a>        <span class="php-keyword1">return</span> <span class="php-var">$output</span> . <span class="php-var">$input</span>;
</span><span id="7190" class="l"><a class="l" href="#7190"> 7190: </a>    }
</span><span id="7191" class="l"><a class="l" href="#7191"> 7191: </a>
</span><span id="7192" class="l"><a class="l" href="#7192"> 7192: </a>    <span class="php-comment">/**
</span></span><span id="7193" class="l"><a class="l" href="#7193"> 7193: </a><span class="php-comment">     * Replace invalid character with percent encoding
</span></span><span id="7194" class="l"><a class="l" href="#7194"> 7194: </a><span class="php-comment">     *
</span></span><span id="7195" class="l"><a class="l" href="#7195"> 7195: </a><span class="php-comment">     * @param string $string Input string
</span></span><span id="7196" class="l"><a class="l" href="#7196"> 7196: </a><span class="php-comment">     * @param string $valid_chars Valid characters not in iunreserved or iprivate (this is ASCII-only)
</span></span><span id="7197" class="l"><a class="l" href="#7197"> 7197: </a><span class="php-comment">     * @param int $case Normalise case
</span></span><span id="7198" class="l"><a class="l" href="#7198"> 7198: </a><span class="php-comment">     * @param bool $iprivate Allow iprivate
</span></span><span id="7199" class="l"><a class="l" href="#7199"> 7199: </a><span class="php-comment">     * @return string
</span></span><span id="7200" class="l"><a class="l" href="#7200"> 7200: </a><span class="php-comment">     */</span>
</span><span id="7201" class="l"><a class="l" href="#7201"> 7201: </a>    <span class="php-keyword1">protected</span> <span class="php-keyword1">function</span> <a id="_replace_invalid_with_pct_encoding" href="#_replace_invalid_with_pct_encoding">replace_invalid_with_pct_encoding</a>(<span class="php-var">$string</span>, <span class="php-var">$valid_chars</span>, <span class="php-var">$case</span> = SIMPLEPIE_SAME_CASE, <span class="php-var">$iprivate</span> = <span class="php-keyword1">false</span>)
</span><span id="7202" class="l"><a class="l" href="#7202"> 7202: </a>    {
</span><span id="7203" class="l"><a class="l" href="#7203"> 7203: </a>        <span class="php-comment">// Normalize as many pct-encoded sections as possible</span>
</span><span id="7204" class="l"><a class="l" href="#7204"> 7204: </a>        <span class="php-var">$string</span> = <span class="php-keyword2">preg_replace_callback</span>(<span class="php-quote">'/(?:%[A-Fa-f0-9]{2})+/'</span>, <span class="php-keyword1">array</span>(&amp;<span class="php-var">$this</span>, <span class="php-quote">'remove_iunreserved_percent_encoded'</span>), <span class="php-var">$string</span>);
</span><span id="7205" class="l"><a class="l" href="#7205"> 7205: </a>
</span><span id="7206" class="l"><a class="l" href="#7206"> 7206: </a>        <span class="php-comment">// Replace invalid percent characters</span>
</span><span id="7207" class="l"><a class="l" href="#7207"> 7207: </a>        <span class="php-var">$string</span> = <span class="php-keyword2">preg_replace</span>(<span class="php-quote">'/%(?![A-Fa-f0-9]{2})/'</span>, <span class="php-quote">'%25'</span>, <span class="php-var">$string</span>);
</span><span id="7208" class="l"><a class="l" href="#7208"> 7208: </a>
</span><span id="7209" class="l"><a class="l" href="#7209"> 7209: </a>        <span class="php-comment">// Add unreserved and % to $valid_chars (the latter is safe because all</span>
</span><span id="7210" class="l"><a class="l" href="#7210"> 7210: </a>        <span class="php-comment">// pct-encoded sections are now valid).</span>
</span><span id="7211" class="l"><a class="l" href="#7211"> 7211: </a>        <span class="php-var">$valid_chars</span> .= <span class="php-quote">'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~%'</span>;
</span><span id="7212" class="l"><a class="l" href="#7212"> 7212: </a>
</span><span id="7213" class="l"><a class="l" href="#7213"> 7213: </a>        <span class="php-comment">// Now replace any bytes that aren't allowed with their pct-encoded versions</span>
</span><span id="7214" class="l"><a class="l" href="#7214"> 7214: </a>        <span class="php-var">$position</span> = <span class="php-num">0</span>;
</span><span id="7215" class="l"><a class="l" href="#7215"> 7215: </a>        <span class="php-var">$strlen</span> = <span class="php-keyword2">strlen</span>(<span class="php-var">$string</span>);
</span><span id="7216" class="l"><a class="l" href="#7216"> 7216: </a>        <span class="php-keyword1">while</span> ((<span class="php-var">$position</span> += <span class="php-keyword2">strspn</span>(<span class="php-var">$string</span>, <span class="php-var">$valid_chars</span>, <span class="php-var">$position</span>)) &lt; <span class="php-var">$strlen</span>)
</span><span id="7217" class="l"><a class="l" href="#7217"> 7217: </a>        {
</span><span id="7218" class="l"><a class="l" href="#7218"> 7218: </a>            <span class="php-var">$value</span> = <span class="php-keyword2">ord</span>(<span class="php-var">$string</span>[<span class="php-var">$position</span>]);
</span><span id="7219" class="l"><a class="l" href="#7219"> 7219: </a>
</span><span id="7220" class="l"><a class="l" href="#7220"> 7220: </a>            <span class="php-comment">// Start position</span>
</span><span id="7221" class="l"><a class="l" href="#7221"> 7221: </a>            <span class="php-var">$start</span> = <span class="php-var">$position</span>;
</span><span id="7222" class="l"><a class="l" href="#7222"> 7222: </a>
</span><span id="7223" class="l"><a class="l" href="#7223"> 7223: </a>            <span class="php-comment">// By default we are valid</span>
</span><span id="7224" class="l"><a class="l" href="#7224"> 7224: </a>            <span class="php-var">$valid</span> = <span class="php-keyword1">true</span>;
</span><span id="7225" class="l"><a class="l" href="#7225"> 7225: </a>
</span><span id="7226" class="l"><a class="l" href="#7226"> 7226: </a>            <span class="php-comment">// No one byte sequences are valid due to the while.</span>
</span><span id="7227" class="l"><a class="l" href="#7227"> 7227: </a>            <span class="php-comment">// Two byte sequence:</span>
</span><span id="7228" class="l"><a class="l" href="#7228"> 7228: </a>            <span class="php-keyword1">if</span> ((<span class="php-var">$value</span> &amp; <span class="php-num">0xE0</span>) === <span class="php-num">0xC0</span>)
</span><span id="7229" class="l"><a class="l" href="#7229"> 7229: </a>            {
</span><span id="7230" class="l"><a class="l" href="#7230"> 7230: </a>                <span class="php-var">$character</span> = (<span class="php-var">$value</span> &amp; <span class="php-num">0x1F</span>) &lt;&lt; <span class="php-num">6</span>;
</span><span id="7231" class="l"><a class="l" href="#7231"> 7231: </a>                <span class="php-var">$length</span> = <span class="php-num">2</span>;
</span><span id="7232" class="l"><a class="l" href="#7232"> 7232: </a>                <span class="php-var">$remaining</span> = <span class="php-num">1</span>;
</span><span id="7233" class="l"><a class="l" href="#7233"> 7233: </a>            }
</span><span id="7234" class="l"><a class="l" href="#7234"> 7234: </a>            <span class="php-comment">// Three byte sequence:</span>
</span><span id="7235" class="l"><a class="l" href="#7235"> 7235: </a>            <span class="php-keyword1">elseif</span> ((<span class="php-var">$value</span> &amp; <span class="php-num">0xF0</span>) === <span class="php-num">0xE0</span>)
</span><span id="7236" class="l"><a class="l" href="#7236"> 7236: </a>            {
</span><span id="7237" class="l"><a class="l" href="#7237"> 7237: </a>                <span class="php-var">$character</span> = (<span class="php-var">$value</span> &amp; <span class="php-num">0x0F</span>) &lt;&lt; <span class="php-num">12</span>;
</span><span id="7238" class="l"><a class="l" href="#7238"> 7238: </a>                <span class="php-var">$length</span> = <span class="php-num">3</span>;
</span><span id="7239" class="l"><a class="l" href="#7239"> 7239: </a>                <span class="php-var">$remaining</span> = <span class="php-num">2</span>;
</span><span id="7240" class="l"><a class="l" href="#7240"> 7240: </a>            }
</span><span id="7241" class="l"><a class="l" href="#7241"> 7241: </a>            <span class="php-comment">// Four byte sequence:</span>
</span><span id="7242" class="l"><a class="l" href="#7242"> 7242: </a>            <span class="php-keyword1">elseif</span> ((<span class="php-var">$value</span> &amp; <span class="php-num">0xF8</span>) === <span class="php-num">0xF0</span>)
</span><span id="7243" class="l"><a class="l" href="#7243"> 7243: </a>            {
</span><span id="7244" class="l"><a class="l" href="#7244"> 7244: </a>                <span class="php-var">$character</span> = (<span class="php-var">$value</span> &amp; <span class="php-num">0x07</span>) &lt;&lt; <span class="php-num">18</span>;
</span><span id="7245" class="l"><a class="l" href="#7245"> 7245: </a>                <span class="php-var">$length</span> = <span class="php-num">4</span>;
</span><span id="7246" class="l"><a class="l" href="#7246"> 7246: </a>                <span class="php-var">$remaining</span> = <span class="php-num">3</span>;
</span><span id="7247" class="l"><a class="l" href="#7247"> 7247: </a>            }
</span><span id="7248" class="l"><a class="l" href="#7248"> 7248: </a>            <span class="php-comment">// Invalid byte:</span>
</span><span id="7249" class="l"><a class="l" href="#7249"> 7249: </a>            <span class="php-keyword1">else</span>
</span><span id="7250" class="l"><a class="l" href="#7250"> 7250: </a>            {
</span><span id="7251" class="l"><a class="l" href="#7251"> 7251: </a>                <span class="php-var">$valid</span> = <span class="php-keyword1">false</span>;
</span><span id="7252" class="l"><a class="l" href="#7252"> 7252: </a>                <span class="php-var">$length</span> = <span class="php-num">1</span>;
</span><span id="7253" class="l"><a class="l" href="#7253"> 7253: </a>                <span class="php-var">$remaining</span> = <span class="php-num">0</span>;
</span><span id="7254" class="l"><a class="l" href="#7254"> 7254: </a>            }
</span><span id="7255" class="l"><a class="l" href="#7255"> 7255: </a>
</span><span id="7256" class="l"><a class="l" href="#7256"> 7256: </a>            <span class="php-keyword1">if</span> (<span class="php-var">$remaining</span>)
</span><span id="7257" class="l"><a class="l" href="#7257"> 7257: </a>            {
</span><span id="7258" class="l"><a class="l" href="#7258"> 7258: </a>                <span class="php-keyword1">if</span> (<span class="php-var">$position</span> + <span class="php-var">$length</span> &lt;= <span class="php-var">$strlen</span>)
</span><span id="7259" class="l"><a class="l" href="#7259"> 7259: </a>                {
</span><span id="7260" class="l"><a class="l" href="#7260"> 7260: </a>                    <span class="php-keyword1">for</span> (<span class="php-var">$position</span>++; <span class="php-var">$remaining</span>; <span class="php-var">$position</span>++)
</span><span id="7261" class="l"><a class="l" href="#7261"> 7261: </a>                    {
</span><span id="7262" class="l"><a class="l" href="#7262"> 7262: </a>                        <span class="php-var">$value</span> = <span class="php-keyword2">ord</span>(<span class="php-var">$string</span>[<span class="php-var">$position</span>]);
</span><span id="7263" class="l"><a class="l" href="#7263"> 7263: </a>
</span><span id="7264" class="l"><a class="l" href="#7264"> 7264: </a>                        <span class="php-comment">// Check that the byte is valid, then add it to the character:</span>
</span><span id="7265" class="l"><a class="l" href="#7265"> 7265: </a>                        <span class="php-keyword1">if</span> ((<span class="php-var">$value</span> &amp; <span class="php-num">0xC0</span>) === <span class="php-num">0x80</span>)
</span><span id="7266" class="l"><a class="l" href="#7266"> 7266: </a>                        {
</span><span id="7267" class="l"><a class="l" href="#7267"> 7267: </a>                            <span class="php-var">$character</span> |= (<span class="php-var">$value</span> &amp; <span class="php-num">0x3F</span>) &lt;&lt; (--<span class="php-var">$remaining</span> * <span class="php-num">6</span>);
</span><span id="7268" class="l"><a class="l" href="#7268"> 7268: </a>                        }
</span><span id="7269" class="l"><a class="l" href="#7269"> 7269: </a>                        <span class="php-comment">// If it is invalid, count the sequence as invalid and reprocess the current byte:</span>
</span><span id="7270" class="l"><a class="l" href="#7270"> 7270: </a>                        <span class="php-keyword1">else</span>
</span><span id="7271" class="l"><a class="l" href="#7271"> 7271: </a>                        {
</span><span id="7272" class="l"><a class="l" href="#7272"> 7272: </a>                            <span class="php-var">$valid</span> = <span class="php-keyword1">false</span>;
</span><span id="7273" class="l"><a class="l" href="#7273"> 7273: </a>                            <span class="php-var">$position</span>--;
</span><span id="7274" class="l"><a class="l" href="#7274"> 7274: </a>                            <span class="php-keyword1">break</span>;
</span><span id="7275" class="l"><a class="l" href="#7275"> 7275: </a>                        }
</span><span id="7276" class="l"><a class="l" href="#7276"> 7276: </a>                    }
</span><span id="7277" class="l"><a class="l" href="#7277"> 7277: </a>                }
</span><span id="7278" class="l"><a class="l" href="#7278"> 7278: </a>                <span class="php-keyword1">else</span>
</span><span id="7279" class="l"><a class="l" href="#7279"> 7279: </a>                {
</span><span id="7280" class="l"><a class="l" href="#7280"> 7280: </a>                    <span class="php-var">$position</span> = <span class="php-var">$strlen</span> - <span class="php-num">1</span>;
</span><span id="7281" class="l"><a class="l" href="#7281"> 7281: </a>                    <span class="php-var">$valid</span> = <span class="php-keyword1">false</span>;
</span><span id="7282" class="l"><a class="l" href="#7282"> 7282: </a>                }
</span><span id="7283" class="l"><a class="l" href="#7283"> 7283: </a>            }
</span><span id="7284" class="l"><a class="l" href="#7284"> 7284: </a>
</span><span id="7285" class="l"><a class="l" href="#7285"> 7285: </a>            <span class="php-comment">// Percent encode anything invalid or not in ucschar</span>
</span><span id="7286" class="l"><a class="l" href="#7286"> 7286: </a>            <span class="php-keyword1">if</span> (
</span><span id="7287" class="l"><a class="l" href="#7287"> 7287: </a>                <span class="php-comment">// Invalid sequences</span>
</span><span id="7288" class="l"><a class="l" href="#7288"> 7288: </a>                !<span class="php-var">$valid</span>
</span><span id="7289" class="l"><a class="l" href="#7289"> 7289: </a>                <span class="php-comment">// Non-shortest form sequences are invalid</span>
</span><span id="7290" class="l"><a class="l" href="#7290"> 7290: </a>                || <span class="php-var">$length</span> &gt; <span class="php-num">1</span> &amp;&amp; <span class="php-var">$character</span> &lt;= <span class="php-num">0x7F</span>
</span><span id="7291" class="l"><a class="l" href="#7291"> 7291: </a>                || <span class="php-var">$length</span> &gt; <span class="php-num">2</span> &amp;&amp; <span class="php-var">$character</span> &lt;= <span class="php-num">0x7FF</span>
</span><span id="7292" class="l"><a class="l" href="#7292"> 7292: </a>                || <span class="php-var">$length</span> &gt; <span class="php-num">3</span> &amp;&amp; <span class="php-var">$character</span> &lt;= <span class="php-num">0xFFFF</span>
</span><span id="7293" class="l"><a class="l" href="#7293"> 7293: </a>                <span class="php-comment">// Outside of range of ucschar codepoints</span>
</span><span id="7294" class="l"><a class="l" href="#7294"> 7294: </a>                <span class="php-comment">// Noncharacters</span>
</span><span id="7295" class="l"><a class="l" href="#7295"> 7295: </a>                || (<span class="php-var">$character</span> &amp; <span class="php-num">0xFFFE</span>) === <span class="php-num">0xFFFE</span>
</span><span id="7296" class="l"><a class="l" href="#7296"> 7296: </a>                || <span class="php-var">$character</span> &gt;= <span class="php-num">0xFDD0</span> &amp;&amp; <span class="php-var">$character</span> &lt;= <span class="php-num">0xFDEF</span>
</span><span id="7297" class="l"><a class="l" href="#7297"> 7297: </a>                || (
</span><span id="7298" class="l"><a class="l" href="#7298"> 7298: </a>                    <span class="php-comment">// Everything else not in ucschar</span>
</span><span id="7299" class="l"><a class="l" href="#7299"> 7299: </a>                       <span class="php-var">$character</span> &gt; <span class="php-num">0xD7FF</span> &amp;&amp; <span class="php-var">$character</span> &lt; <span class="php-num">0xF900</span>
</span><span id="7300" class="l"><a class="l" href="#7300"> 7300: </a>                    || <span class="php-var">$character</span> &lt; <span class="php-num">0xA0</span>
</span><span id="7301" class="l"><a class="l" href="#7301"> 7301: </a>                    || <span class="php-var">$character</span> &gt; <span class="php-num">0xEFFFD</span>
</span><span id="7302" class="l"><a class="l" href="#7302"> 7302: </a>                )
</span><span id="7303" class="l"><a class="l" href="#7303"> 7303: </a>                &amp;&amp; (
</span><span id="7304" class="l"><a class="l" href="#7304"> 7304: </a>                    <span class="php-comment">// Everything not in iprivate, if it applies</span>
</span><span id="7305" class="l"><a class="l" href="#7305"> 7305: </a>                       !<span class="php-var">$iprivate</span>
</span><span id="7306" class="l"><a class="l" href="#7306"> 7306: </a>                    || <span class="php-var">$character</span> &lt; <span class="php-num">0xE000</span>
</span><span id="7307" class="l"><a class="l" href="#7307"> 7307: </a>                    || <span class="php-var">$character</span> &gt; <span class="php-num">0x10FFFD</span>
</span><span id="7308" class="l"><a class="l" href="#7308"> 7308: </a>                )
</span><span id="7309" class="l"><a class="l" href="#7309"> 7309: </a>            )
</span><span id="7310" class="l"><a class="l" href="#7310"> 7310: </a>            {
</span><span id="7311" class="l"><a class="l" href="#7311"> 7311: </a>                <span class="php-comment">// If we were a character, pretend we weren't, but rather an error.</span>
</span><span id="7312" class="l"><a class="l" href="#7312"> 7312: </a>                <span class="php-keyword1">if</span> (<span class="php-var">$valid</span>)
</span><span id="7313" class="l"><a class="l" href="#7313"> 7313: </a>                    <span class="php-var">$position</span>--;
</span><span id="7314" class="l"><a class="l" href="#7314"> 7314: </a>
</span><span id="7315" class="l"><a class="l" href="#7315"> 7315: </a>                <span class="php-keyword1">for</span> (<span class="php-var">$j</span> = <span class="php-var">$start</span>; <span class="php-var">$j</span> &lt;= <span class="php-var">$position</span>; <span class="php-var">$j</span>++)
</span><span id="7316" class="l"><a class="l" href="#7316"> 7316: </a>                {
</span><span id="7317" class="l"><a class="l" href="#7317"> 7317: </a>                    <span class="php-var">$string</span> = <span class="php-keyword2">substr_replace</span>(<span class="php-var">$string</span>, <span class="php-keyword2">sprintf</span>(<span class="php-quote">'%%%02X'</span>, <span class="php-keyword2">ord</span>(<span class="php-var">$string</span>[<span class="php-var">$j</span>])), <span class="php-var">$j</span>, <span class="php-num">1</span>);
</span><span id="7318" class="l"><a class="l" href="#7318"> 7318: </a>                    <span class="php-var">$j</span> += <span class="php-num">2</span>;
</span><span id="7319" class="l"><a class="l" href="#7319"> 7319: </a>                    <span class="php-var">$position</span> += <span class="php-num">2</span>;
</span><span id="7320" class="l"><a class="l" href="#7320"> 7320: </a>                    <span class="php-var">$strlen</span> += <span class="php-num">2</span>;
</span><span id="7321" class="l"><a class="l" href="#7321"> 7321: </a>                }
</span><span id="7322" class="l"><a class="l" href="#7322"> 7322: </a>            }
</span><span id="7323" class="l"><a class="l" href="#7323"> 7323: </a>        }
</span><span id="7324" class="l"><a class="l" href="#7324"> 7324: </a>
</span><span id="7325" class="l"><a class="l" href="#7325"> 7325: </a>        <span class="php-comment">// Normalise case</span>
</span><span id="7326" class="l"><a class="l" href="#7326"> 7326: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$case</span> &amp; SIMPLEPIE_LOWERCASE)
</span><span id="7327" class="l"><a class="l" href="#7327"> 7327: </a>        {
</span><span id="7328" class="l"><a class="l" href="#7328"> 7328: </a>            <span class="php-var">$string</span> = <span class="php-keyword2">strtolower</span>(<span class="php-var">$string</span>);
</span><span id="7329" class="l"><a class="l" href="#7329"> 7329: </a>        }
</span><span id="7330" class="l"><a class="l" href="#7330"> 7330: </a>        <span class="php-keyword1">elseif</span> (<span class="php-var">$case</span> &amp; SIMPLEPIE_UPPERCASE)
</span><span id="7331" class="l"><a class="l" href="#7331"> 7331: </a>        {
</span><span id="7332" class="l"><a class="l" href="#7332"> 7332: </a>            <span class="php-var">$string</span> = <span class="php-keyword2">strtoupper</span>(<span class="php-var">$string</span>);
</span><span id="7333" class="l"><a class="l" href="#7333"> 7333: </a>        }
</span><span id="7334" class="l"><a class="l" href="#7334"> 7334: </a>
</span><span id="7335" class="l"><a class="l" href="#7335"> 7335: </a>        <span class="php-keyword1">return</span> <span class="php-var">$string</span>;
</span><span id="7336" class="l"><a class="l" href="#7336"> 7336: </a>    }
</span><span id="7337" class="l"><a class="l" href="#7337"> 7337: </a>
</span><span id="7338" class="l"><a class="l" href="#7338"> 7338: </a>    <span class="php-comment">/**
</span></span><span id="7339" class="l"><a class="l" href="#7339"> 7339: </a><span class="php-comment">     * Callback function for preg_replace_callback.
</span></span><span id="7340" class="l"><a class="l" href="#7340"> 7340: </a><span class="php-comment">     *
</span></span><span id="7341" class="l"><a class="l" href="#7341"> 7341: </a><span class="php-comment">     * Removes sequences of percent encoded bytes that represent UTF-8
</span></span><span id="7342" class="l"><a class="l" href="#7342"> 7342: </a><span class="php-comment">     * encoded characters in iunreserved
</span></span><span id="7343" class="l"><a class="l" href="#7343"> 7343: </a><span class="php-comment">     *
</span></span><span id="7344" class="l"><a class="l" href="#7344"> 7344: </a><span class="php-comment">     * @param array $match PCRE match
</span></span><span id="7345" class="l"><a class="l" href="#7345"> 7345: </a><span class="php-comment">     * @return string Replacement
</span></span><span id="7346" class="l"><a class="l" href="#7346"> 7346: </a><span class="php-comment">     */</span>
</span><span id="7347" class="l"><a class="l" href="#7347"> 7347: </a>    <span class="php-keyword1">protected</span> <span class="php-keyword1">function</span> <a id="_remove_iunreserved_percent_encoded" href="#_remove_iunreserved_percent_encoded">remove_iunreserved_percent_encoded</a>(<span class="php-var">$match</span>)
</span><span id="7348" class="l"><a class="l" href="#7348"> 7348: </a>    {
</span><span id="7349" class="l"><a class="l" href="#7349"> 7349: </a>        <span class="php-comment">// As we just have valid percent encoded sequences we can just explode</span>
</span><span id="7350" class="l"><a class="l" href="#7350"> 7350: </a>        <span class="php-comment">// and ignore the first member of the returned array (an empty string).</span>
</span><span id="7351" class="l"><a class="l" href="#7351"> 7351: </a>        <span class="php-var">$bytes</span> = <span class="php-keyword2">explode</span>(<span class="php-quote">'%'</span>, <span class="php-var">$match</span>[<span class="php-num">0</span>]);
</span><span id="7352" class="l"><a class="l" href="#7352"> 7352: </a>
</span><span id="7353" class="l"><a class="l" href="#7353"> 7353: </a>        <span class="php-comment">// Initialize the new string (this is what will be returned) and that</span>
</span><span id="7354" class="l"><a class="l" href="#7354"> 7354: </a>        <span class="php-comment">// there are no bytes remaining in the current sequence (unsurprising</span>
</span><span id="7355" class="l"><a class="l" href="#7355"> 7355: </a>        <span class="php-comment">// at the first byte!).</span>
</span><span id="7356" class="l"><a class="l" href="#7356"> 7356: </a>        <span class="php-var">$string</span> = <span class="php-quote">''</span>;
</span><span id="7357" class="l"><a class="l" href="#7357"> 7357: </a>        <span class="php-var">$remaining</span> = <span class="php-num">0</span>;
</span><span id="7358" class="l"><a class="l" href="#7358"> 7358: </a>
</span><span id="7359" class="l"><a class="l" href="#7359"> 7359: </a>        <span class="php-comment">// Loop over each and every byte, and set $value to its value</span>
</span><span id="7360" class="l"><a class="l" href="#7360"> 7360: </a>        <span class="php-keyword1">for</span> (<span class="php-var">$i</span> = <span class="php-num">1</span>, <span class="php-var">$len</span> = <span class="php-keyword2">count</span>(<span class="php-var">$bytes</span>); <span class="php-var">$i</span> &lt; <span class="php-var">$len</span>; <span class="php-var">$i</span>++)
</span><span id="7361" class="l"><a class="l" href="#7361"> 7361: </a>        {
</span><span id="7362" class="l"><a class="l" href="#7362"> 7362: </a>            <span class="php-var">$value</span> = <span class="php-keyword2">hexdec</span>(<span class="php-var">$bytes</span>[<span class="php-var">$i</span>]);
</span><span id="7363" class="l"><a class="l" href="#7363"> 7363: </a>
</span><span id="7364" class="l"><a class="l" href="#7364"> 7364: </a>            <span class="php-comment">// If we're the first byte of sequence:</span>
</span><span id="7365" class="l"><a class="l" href="#7365"> 7365: </a>            <span class="php-keyword1">if</span> (!<span class="php-var">$remaining</span>)
</span><span id="7366" class="l"><a class="l" href="#7366"> 7366: </a>            {
</span><span id="7367" class="l"><a class="l" href="#7367"> 7367: </a>                <span class="php-comment">// Start position</span>
</span><span id="7368" class="l"><a class="l" href="#7368"> 7368: </a>                <span class="php-var">$start</span> = <span class="php-var">$i</span>;
</span><span id="7369" class="l"><a class="l" href="#7369"> 7369: </a>
</span><span id="7370" class="l"><a class="l" href="#7370"> 7370: </a>                <span class="php-comment">// By default we are valid</span>
</span><span id="7371" class="l"><a class="l" href="#7371"> 7371: </a>                <span class="php-var">$valid</span> = <span class="php-keyword1">true</span>;
</span><span id="7372" class="l"><a class="l" href="#7372"> 7372: </a>
</span><span id="7373" class="l"><a class="l" href="#7373"> 7373: </a>                <span class="php-comment">// One byte sequence:</span>
</span><span id="7374" class="l"><a class="l" href="#7374"> 7374: </a>                <span class="php-keyword1">if</span> (<span class="php-var">$value</span> &lt;= <span class="php-num">0x7F</span>)
</span><span id="7375" class="l"><a class="l" href="#7375"> 7375: </a>                {
</span><span id="7376" class="l"><a class="l" href="#7376"> 7376: </a>                    <span class="php-var">$character</span> = <span class="php-var">$value</span>;
</span><span id="7377" class="l"><a class="l" href="#7377"> 7377: </a>                    <span class="php-var">$length</span> = <span class="php-num">1</span>;
</span><span id="7378" class="l"><a class="l" href="#7378"> 7378: </a>                }
</span><span id="7379" class="l"><a class="l" href="#7379"> 7379: </a>                <span class="php-comment">// Two byte sequence:</span>
</span><span id="7380" class="l"><a class="l" href="#7380"> 7380: </a>                <span class="php-keyword1">elseif</span> ((<span class="php-var">$value</span> &amp; <span class="php-num">0xE0</span>) === <span class="php-num">0xC0</span>)
</span><span id="7381" class="l"><a class="l" href="#7381"> 7381: </a>                {
</span><span id="7382" class="l"><a class="l" href="#7382"> 7382: </a>                    <span class="php-var">$character</span> = (<span class="php-var">$value</span> &amp; <span class="php-num">0x1F</span>) &lt;&lt; <span class="php-num">6</span>;
</span><span id="7383" class="l"><a class="l" href="#7383"> 7383: </a>                    <span class="php-var">$length</span> = <span class="php-num">2</span>;
</span><span id="7384" class="l"><a class="l" href="#7384"> 7384: </a>                    <span class="php-var">$remaining</span> = <span class="php-num">1</span>;
</span><span id="7385" class="l"><a class="l" href="#7385"> 7385: </a>                }
</span><span id="7386" class="l"><a class="l" href="#7386"> 7386: </a>                <span class="php-comment">// Three byte sequence:</span>
</span><span id="7387" class="l"><a class="l" href="#7387"> 7387: </a>                <span class="php-keyword1">elseif</span> ((<span class="php-var">$value</span> &amp; <span class="php-num">0xF0</span>) === <span class="php-num">0xE0</span>)
</span><span id="7388" class="l"><a class="l" href="#7388"> 7388: </a>                {
</span><span id="7389" class="l"><a class="l" href="#7389"> 7389: </a>                    <span class="php-var">$character</span> = (<span class="php-var">$value</span> &amp; <span class="php-num">0x0F</span>) &lt;&lt; <span class="php-num">12</span>;
</span><span id="7390" class="l"><a class="l" href="#7390"> 7390: </a>                    <span class="php-var">$length</span> = <span class="php-num">3</span>;
</span><span id="7391" class="l"><a class="l" href="#7391"> 7391: </a>                    <span class="php-var">$remaining</span> = <span class="php-num">2</span>;
</span><span id="7392" class="l"><a class="l" href="#7392"> 7392: </a>                }
</span><span id="7393" class="l"><a class="l" href="#7393"> 7393: </a>                <span class="php-comment">// Four byte sequence:</span>
</span><span id="7394" class="l"><a class="l" href="#7394"> 7394: </a>                <span class="php-keyword1">elseif</span> ((<span class="php-var">$value</span> &amp; <span class="php-num">0xF8</span>) === <span class="php-num">0xF0</span>)
</span><span id="7395" class="l"><a class="l" href="#7395"> 7395: </a>                {
</span><span id="7396" class="l"><a class="l" href="#7396"> 7396: </a>                    <span class="php-var">$character</span> = (<span class="php-var">$value</span> &amp; <span class="php-num">0x07</span>) &lt;&lt; <span class="php-num">18</span>;
</span><span id="7397" class="l"><a class="l" href="#7397"> 7397: </a>                    <span class="php-var">$length</span> = <span class="php-num">4</span>;
</span><span id="7398" class="l"><a class="l" href="#7398"> 7398: </a>                    <span class="php-var">$remaining</span> = <span class="php-num">3</span>;
</span><span id="7399" class="l"><a class="l" href="#7399"> 7399: </a>                }
</span><span id="7400" class="l"><a class="l" href="#7400"> 7400: </a>                <span class="php-comment">// Invalid byte:</span>
</span><span id="7401" class="l"><a class="l" href="#7401"> 7401: </a>                <span class="php-keyword1">else</span>
</span><span id="7402" class="l"><a class="l" href="#7402"> 7402: </a>                {
</span><span id="7403" class="l"><a class="l" href="#7403"> 7403: </a>                    <span class="php-var">$valid</span> = <span class="php-keyword1">false</span>;
</span><span id="7404" class="l"><a class="l" href="#7404"> 7404: </a>                    <span class="php-var">$remaining</span> = <span class="php-num">0</span>;
</span><span id="7405" class="l"><a class="l" href="#7405"> 7405: </a>                }
</span><span id="7406" class="l"><a class="l" href="#7406"> 7406: </a>            }
</span><span id="7407" class="l"><a class="l" href="#7407"> 7407: </a>            <span class="php-comment">// Continuation byte:</span>
</span><span id="7408" class="l"><a class="l" href="#7408"> 7408: </a>            <span class="php-keyword1">else</span>
</span><span id="7409" class="l"><a class="l" href="#7409"> 7409: </a>            {
</span><span id="7410" class="l"><a class="l" href="#7410"> 7410: </a>                <span class="php-comment">// Check that the byte is valid, then add it to the character:</span>
</span><span id="7411" class="l"><a class="l" href="#7411"> 7411: </a>                <span class="php-keyword1">if</span> ((<span class="php-var">$value</span> &amp; <span class="php-num">0xC0</span>) === <span class="php-num">0x80</span>)
</span><span id="7412" class="l"><a class="l" href="#7412"> 7412: </a>                {
</span><span id="7413" class="l"><a class="l" href="#7413"> 7413: </a>                    <span class="php-var">$remaining</span>--;
</span><span id="7414" class="l"><a class="l" href="#7414"> 7414: </a>                    <span class="php-var">$character</span> |= (<span class="php-var">$value</span> &amp; <span class="php-num">0x3F</span>) &lt;&lt; (<span class="php-var">$remaining</span> * <span class="php-num">6</span>);
</span><span id="7415" class="l"><a class="l" href="#7415"> 7415: </a>                }
</span><span id="7416" class="l"><a class="l" href="#7416"> 7416: </a>                <span class="php-comment">// If it is invalid, count the sequence as invalid and reprocess the current byte as the start of a sequence:</span>
</span><span id="7417" class="l"><a class="l" href="#7417"> 7417: </a>                <span class="php-keyword1">else</span>
</span><span id="7418" class="l"><a class="l" href="#7418"> 7418: </a>                {
</span><span id="7419" class="l"><a class="l" href="#7419"> 7419: </a>                    <span class="php-var">$valid</span> = <span class="php-keyword1">false</span>;
</span><span id="7420" class="l"><a class="l" href="#7420"> 7420: </a>                    <span class="php-var">$remaining</span> = <span class="php-num">0</span>;
</span><span id="7421" class="l"><a class="l" href="#7421"> 7421: </a>                    <span class="php-var">$i</span>--;
</span><span id="7422" class="l"><a class="l" href="#7422"> 7422: </a>                }
</span><span id="7423" class="l"><a class="l" href="#7423"> 7423: </a>            }
</span><span id="7424" class="l"><a class="l" href="#7424"> 7424: </a>
</span><span id="7425" class="l"><a class="l" href="#7425"> 7425: </a>            <span class="php-comment">// If we've reached the end of the current byte sequence, append it to Unicode::$data</span>
</span><span id="7426" class="l"><a class="l" href="#7426"> 7426: </a>            <span class="php-keyword1">if</span> (!<span class="php-var">$remaining</span>)
</span><span id="7427" class="l"><a class="l" href="#7427"> 7427: </a>            {
</span><span id="7428" class="l"><a class="l" href="#7428"> 7428: </a>                <span class="php-comment">// Percent encode anything invalid or not in iunreserved</span>
</span><span id="7429" class="l"><a class="l" href="#7429"> 7429: </a>                <span class="php-keyword1">if</span> (
</span><span id="7430" class="l"><a class="l" href="#7430"> 7430: </a>                    <span class="php-comment">// Invalid sequences</span>
</span><span id="7431" class="l"><a class="l" href="#7431"> 7431: </a>                    !<span class="php-var">$valid</span>
</span><span id="7432" class="l"><a class="l" href="#7432"> 7432: </a>                    <span class="php-comment">// Non-shortest form sequences are invalid</span>
</span><span id="7433" class="l"><a class="l" href="#7433"> 7433: </a>                    || <span class="php-var">$length</span> &gt; <span class="php-num">1</span> &amp;&amp; <span class="php-var">$character</span> &lt;= <span class="php-num">0x7F</span>
</span><span id="7434" class="l"><a class="l" href="#7434"> 7434: </a>                    || <span class="php-var">$length</span> &gt; <span class="php-num">2</span> &amp;&amp; <span class="php-var">$character</span> &lt;= <span class="php-num">0x7FF</span>
</span><span id="7435" class="l"><a class="l" href="#7435"> 7435: </a>                    || <span class="php-var">$length</span> &gt; <span class="php-num">3</span> &amp;&amp; <span class="php-var">$character</span> &lt;= <span class="php-num">0xFFFF</span>
</span><span id="7436" class="l"><a class="l" href="#7436"> 7436: </a>                    <span class="php-comment">// Outside of range of iunreserved codepoints</span>
</span><span id="7437" class="l"><a class="l" href="#7437"> 7437: </a>                    || <span class="php-var">$character</span> &lt; <span class="php-num">0x2D</span>
</span><span id="7438" class="l"><a class="l" href="#7438"> 7438: </a>                    || <span class="php-var">$character</span> &gt; <span class="php-num">0xEFFFD</span>
</span><span id="7439" class="l"><a class="l" href="#7439"> 7439: </a>                    <span class="php-comment">// Noncharacters</span>
</span><span id="7440" class="l"><a class="l" href="#7440"> 7440: </a>                    || (<span class="php-var">$character</span> &amp; <span class="php-num">0xFFFE</span>) === <span class="php-num">0xFFFE</span>
</span><span id="7441" class="l"><a class="l" href="#7441"> 7441: </a>                    || <span class="php-var">$character</span> &gt;= <span class="php-num">0xFDD0</span> &amp;&amp; <span class="php-var">$character</span> &lt;= <span class="php-num">0xFDEF</span>
</span><span id="7442" class="l"><a class="l" href="#7442"> 7442: </a>                    <span class="php-comment">// Everything else not in iunreserved (this is all BMP)</span>
</span><span id="7443" class="l"><a class="l" href="#7443"> 7443: </a>                    || <span class="php-var">$character</span> === <span class="php-num">0x2F</span>
</span><span id="7444" class="l"><a class="l" href="#7444"> 7444: </a>                    || <span class="php-var">$character</span> &gt; <span class="php-num">0x39</span> &amp;&amp; <span class="php-var">$character</span> &lt; <span class="php-num">0x41</span>
</span><span id="7445" class="l"><a class="l" href="#7445"> 7445: </a>                    || <span class="php-var">$character</span> &gt; <span class="php-num">0x5A</span> &amp;&amp; <span class="php-var">$character</span> &lt; <span class="php-num">0x61</span>
</span><span id="7446" class="l"><a class="l" href="#7446"> 7446: </a>                    || <span class="php-var">$character</span> &gt; <span class="php-num">0x7A</span> &amp;&amp; <span class="php-var">$character</span> &lt; <span class="php-num">0x7E</span>
</span><span id="7447" class="l"><a class="l" href="#7447"> 7447: </a>                    || <span class="php-var">$character</span> &gt; <span class="php-num">0x7E</span> &amp;&amp; <span class="php-var">$character</span> &lt; <span class="php-num">0xA0</span>
</span><span id="7448" class="l"><a class="l" href="#7448"> 7448: </a>                    || <span class="php-var">$character</span> &gt; <span class="php-num">0xD7FF</span> &amp;&amp; <span class="php-var">$character</span> &lt; <span class="php-num">0xF900</span>
</span><span id="7449" class="l"><a class="l" href="#7449"> 7449: </a>                )
</span><span id="7450" class="l"><a class="l" href="#7450"> 7450: </a>                {
</span><span id="7451" class="l"><a class="l" href="#7451"> 7451: </a>                    <span class="php-keyword1">for</span> (<span class="php-var">$j</span> = <span class="php-var">$start</span>; <span class="php-var">$j</span> &lt;= <span class="php-var">$i</span>; <span class="php-var">$j</span>++)
</span><span id="7452" class="l"><a class="l" href="#7452"> 7452: </a>                    {
</span><span id="7453" class="l"><a class="l" href="#7453"> 7453: </a>                        <span class="php-var">$string</span> .= <span class="php-quote">'%'</span> . <span class="php-keyword2">strtoupper</span>(<span class="php-var">$bytes</span>[<span class="php-var">$j</span>]);
</span><span id="7454" class="l"><a class="l" href="#7454"> 7454: </a>                    }
</span><span id="7455" class="l"><a class="l" href="#7455"> 7455: </a>                }
</span><span id="7456" class="l"><a class="l" href="#7456"> 7456: </a>                <span class="php-keyword1">else</span>
</span><span id="7457" class="l"><a class="l" href="#7457"> 7457: </a>                {
</span><span id="7458" class="l"><a class="l" href="#7458"> 7458: </a>                    <span class="php-keyword1">for</span> (<span class="php-var">$j</span> = <span class="php-var">$start</span>; <span class="php-var">$j</span> &lt;= <span class="php-var">$i</span>; <span class="php-var">$j</span>++)
</span><span id="7459" class="l"><a class="l" href="#7459"> 7459: </a>                    {
</span><span id="7460" class="l"><a class="l" href="#7460"> 7460: </a>                        <span class="php-var">$string</span> .= <span class="php-keyword2">chr</span>(<span class="php-keyword2">hexdec</span>(<span class="php-var">$bytes</span>[<span class="php-var">$j</span>]));
</span><span id="7461" class="l"><a class="l" href="#7461"> 7461: </a>                    }
</span><span id="7462" class="l"><a class="l" href="#7462"> 7462: </a>                }
</span><span id="7463" class="l"><a class="l" href="#7463"> 7463: </a>            }
</span><span id="7464" class="l"><a class="l" href="#7464"> 7464: </a>        }
</span><span id="7465" class="l"><a class="l" href="#7465"> 7465: </a>
</span><span id="7466" class="l"><a class="l" href="#7466"> 7466: </a>        <span class="php-comment">// If we have any bytes left over they are invalid (i.e., we are</span>
</span><span id="7467" class="l"><a class="l" href="#7467"> 7467: </a>        <span class="php-comment">// mid-way through a multi-byte sequence)</span>
</span><span id="7468" class="l"><a class="l" href="#7468"> 7468: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$remaining</span>)
</span><span id="7469" class="l"><a class="l" href="#7469"> 7469: </a>        {
</span><span id="7470" class="l"><a class="l" href="#7470"> 7470: </a>            <span class="php-keyword1">for</span> (<span class="php-var">$j</span> = <span class="php-var">$start</span>; <span class="php-var">$j</span> &lt; <span class="php-var">$len</span>; <span class="php-var">$j</span>++)
</span><span id="7471" class="l"><a class="l" href="#7471"> 7471: </a>            {
</span><span id="7472" class="l"><a class="l" href="#7472"> 7472: </a>                <span class="php-var">$string</span> .= <span class="php-quote">'%'</span> . <span class="php-keyword2">strtoupper</span>(<span class="php-var">$bytes</span>[<span class="php-var">$j</span>]);
</span><span id="7473" class="l"><a class="l" href="#7473"> 7473: </a>            }
</span><span id="7474" class="l"><a class="l" href="#7474"> 7474: </a>        }
</span><span id="7475" class="l"><a class="l" href="#7475"> 7475: </a>
</span><span id="7476" class="l"><a class="l" href="#7476"> 7476: </a>        <span class="php-keyword1">return</span> <span class="php-var">$string</span>;
</span><span id="7477" class="l"><a class="l" href="#7477"> 7477: </a>    }
</span><span id="7478" class="l"><a class="l" href="#7478"> 7478: </a>
</span><span id="7479" class="l"><a class="l" href="#7479"> 7479: </a>    <span class="php-comment">/**
</span></span><span id="7480" class="l"><a class="l" href="#7480"> 7480: </a><span class="php-comment">     * Check if the object represents a valid IRI
</span></span><span id="7481" class="l"><a class="l" href="#7481"> 7481: </a><span class="php-comment">     *
</span></span><span id="7482" class="l"><a class="l" href="#7482"> 7482: </a><span class="php-comment">     * @access public
</span></span><span id="7483" class="l"><a class="l" href="#7483"> 7483: </a><span class="php-comment">     * @return bool
</span></span><span id="7484" class="l"><a class="l" href="#7484"> 7484: </a><span class="php-comment">     */</span>
</span><span id="7485" class="l"><a class="l" href="#7485"> 7485: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_is_valid" href="#_is_valid">is_valid</a>()
</span><span id="7486" class="l"><a class="l" href="#7486"> 7486: </a>    {
</span><span id="7487" class="l"><a class="l" href="#7487"> 7487: </a>        <span class="php-keyword1">return</span> <span class="php-keyword2">array_sum</span>(<span class="php-var">$this</span>-&gt;valid) === <span class="php-keyword2">count</span>(<span class="php-var">$this</span>-&gt;valid);
</span><span id="7488" class="l"><a class="l" href="#7488"> 7488: </a>    }
</span><span id="7489" class="l"><a class="l" href="#7489"> 7489: </a>
</span><span id="7490" class="l"><a class="l" href="#7490"> 7490: </a>    <span class="php-comment">/**
</span></span><span id="7491" class="l"><a class="l" href="#7491"> 7491: </a><span class="php-comment">     * Set the scheme. Returns true on success, false on failure (if there are
</span></span><span id="7492" class="l"><a class="l" href="#7492"> 7492: </a><span class="php-comment">     * any invalid characters).
</span></span><span id="7493" class="l"><a class="l" href="#7493"> 7493: </a><span class="php-comment">     *
</span></span><span id="7494" class="l"><a class="l" href="#7494"> 7494: </a><span class="php-comment">     * @access public
</span></span><span id="7495" class="l"><a class="l" href="#7495"> 7495: </a><span class="php-comment">     * @param string $scheme
</span></span><span id="7496" class="l"><a class="l" href="#7496"> 7496: </a><span class="php-comment">     * @return bool
</span></span><span id="7497" class="l"><a class="l" href="#7497"> 7497: </a><span class="php-comment">     */</span>
</span><span id="7498" class="l"><a class="l" href="#7498"> 7498: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_set_scheme" href="#_set_scheme">set_scheme</a>(<span class="php-var">$scheme</span>)
</span><span id="7499" class="l"><a class="l" href="#7499"> 7499: </a>    {
</span><span id="7500" class="l"><a class="l" href="#7500"> 7500: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$scheme</span> === <span class="php-keyword1">null</span> || <span class="php-var">$scheme</span> === <span class="php-quote">''</span>)
</span><span id="7501" class="l"><a class="l" href="#7501"> 7501: </a>        {
</span><span id="7502" class="l"><a class="l" href="#7502"> 7502: </a>            <span class="php-var">$this</span>-&gt;scheme = <span class="php-keyword1">null</span>;
</span><span id="7503" class="l"><a class="l" href="#7503"> 7503: </a>        }
</span><span id="7504" class="l"><a class="l" href="#7504"> 7504: </a>        <span class="php-keyword1">else</span>
</span><span id="7505" class="l"><a class="l" href="#7505"> 7505: </a>        {
</span><span id="7506" class="l"><a class="l" href="#7506"> 7506: </a>            <span class="php-var">$len</span> = <span class="php-keyword2">strlen</span>(<span class="php-var">$scheme</span>);
</span><span id="7507" class="l"><a class="l" href="#7507"> 7507: </a>            <span class="php-keyword1">switch</span> (<span class="php-keyword1">true</span>)
</span><span id="7508" class="l"><a class="l" href="#7508"> 7508: </a>            {
</span><span id="7509" class="l"><a class="l" href="#7509"> 7509: </a>                <span class="php-keyword1">case</span> <span class="php-var">$len</span> &gt; <span class="php-num">1</span>:
</span><span id="7510" class="l"><a class="l" href="#7510"> 7510: </a>                    <span class="php-keyword1">if</span> (!<span class="php-keyword2">strspn</span>(<span class="php-var">$scheme</span>, <span class="php-quote">'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-.'</span>, <span class="php-num">1</span>))
</span><span id="7511" class="l"><a class="l" href="#7511"> 7511: </a>                    {
</span><span id="7512" class="l"><a class="l" href="#7512"> 7512: </a>                        <span class="php-var">$this</span>-&gt;scheme = <span class="php-keyword1">null</span>;
</span><span id="7513" class="l"><a class="l" href="#7513"> 7513: </a>                        <span class="php-var">$this</span>-&gt;valid[__FUNCTION__] = <span class="php-keyword1">false</span>;
</span><span id="7514" class="l"><a class="l" href="#7514"> 7514: </a>                        <span class="php-keyword1">return</span> <span class="php-keyword1">false</span>;
</span><span id="7515" class="l"><a class="l" href="#7515"> 7515: </a>                    }
</span><span id="7516" class="l"><a class="l" href="#7516"> 7516: </a>
</span><span id="7517" class="l"><a class="l" href="#7517"> 7517: </a>                <span class="php-keyword1">case</span> <span class="php-var">$len</span> &gt; <span class="php-num">0</span>:
</span><span id="7518" class="l"><a class="l" href="#7518"> 7518: </a>                    <span class="php-keyword1">if</span> (!<span class="php-keyword2">strspn</span>(<span class="php-var">$scheme</span>, <span class="php-quote">'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz'</span>, <span class="php-num">0</span>, <span class="php-num">1</span>))
</span><span id="7519" class="l"><a class="l" href="#7519"> 7519: </a>                    {
</span><span id="7520" class="l"><a class="l" href="#7520"> 7520: </a>                        <span class="php-var">$this</span>-&gt;scheme = <span class="php-keyword1">null</span>;
</span><span id="7521" class="l"><a class="l" href="#7521"> 7521: </a>                        <span class="php-var">$this</span>-&gt;valid[__FUNCTION__] = <span class="php-keyword1">false</span>;
</span><span id="7522" class="l"><a class="l" href="#7522"> 7522: </a>                        <span class="php-keyword1">return</span> <span class="php-keyword1">false</span>;
</span><span id="7523" class="l"><a class="l" href="#7523"> 7523: </a>                    }
</span><span id="7524" class="l"><a class="l" href="#7524"> 7524: </a>            }
</span><span id="7525" class="l"><a class="l" href="#7525"> 7525: </a>            <span class="php-var">$this</span>-&gt;scheme = <span class="php-keyword2">strtolower</span>(<span class="php-var">$scheme</span>);
</span><span id="7526" class="l"><a class="l" href="#7526"> 7526: </a>        }
</span><span id="7527" class="l"><a class="l" href="#7527"> 7527: </a>        <span class="php-var">$this</span>-&gt;valid[__FUNCTION__] = <span class="php-keyword1">true</span>;
</span><span id="7528" class="l"><a class="l" href="#7528"> 7528: </a>        <span class="php-keyword1">return</span> <span class="php-keyword1">true</span>;
</span><span id="7529" class="l"><a class="l" href="#7529"> 7529: </a>    }
</span><span id="7530" class="l"><a class="l" href="#7530"> 7530: </a>
</span><span id="7531" class="l"><a class="l" href="#7531"> 7531: </a>    <span class="php-comment">/**
</span></span><span id="7532" class="l"><a class="l" href="#7532"> 7532: </a><span class="php-comment">     * Set the authority. Returns true on success, false on failure (if there are
</span></span><span id="7533" class="l"><a class="l" href="#7533"> 7533: </a><span class="php-comment">     * any invalid characters).
</span></span><span id="7534" class="l"><a class="l" href="#7534"> 7534: </a><span class="php-comment">     *
</span></span><span id="7535" class="l"><a class="l" href="#7535"> 7535: </a><span class="php-comment">     * @access public
</span></span><span id="7536" class="l"><a class="l" href="#7536"> 7536: </a><span class="php-comment">     * @param string $authority
</span></span><span id="7537" class="l"><a class="l" href="#7537"> 7537: </a><span class="php-comment">     * @return bool
</span></span><span id="7538" class="l"><a class="l" href="#7538"> 7538: </a><span class="php-comment">     */</span>
</span><span id="7539" class="l"><a class="l" href="#7539"> 7539: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_set_authority" href="#_set_authority">set_authority</a>(<span class="php-var">$authority</span>)
</span><span id="7540" class="l"><a class="l" href="#7540"> 7540: </a>    {
</span><span id="7541" class="l"><a class="l" href="#7541"> 7541: </a>        <span class="php-keyword1">if</span> ((<span class="php-var">$userinfo_end</span> = <span class="php-keyword2">strrpos</span>(<span class="php-var">$authority</span>, <span class="php-quote">'@'</span>)) !== <span class="php-keyword1">false</span>)
</span><span id="7542" class="l"><a class="l" href="#7542"> 7542: </a>        {
</span><span id="7543" class="l"><a class="l" href="#7543"> 7543: </a>            <span class="php-var">$userinfo</span> = <span class="php-keyword2">substr</span>(<span class="php-var">$authority</span>, <span class="php-num">0</span>, <span class="php-var">$userinfo_end</span>);
</span><span id="7544" class="l"><a class="l" href="#7544"> 7544: </a>            <span class="php-var">$authority</span> = <span class="php-keyword2">substr</span>(<span class="php-var">$authority</span>, <span class="php-var">$userinfo_end</span> + <span class="php-num">1</span>);
</span><span id="7545" class="l"><a class="l" href="#7545"> 7545: </a>        }
</span><span id="7546" class="l"><a class="l" href="#7546"> 7546: </a>        <span class="php-keyword1">else</span>
</span><span id="7547" class="l"><a class="l" href="#7547"> 7547: </a>        {
</span><span id="7548" class="l"><a class="l" href="#7548"> 7548: </a>            <span class="php-var">$userinfo</span> = <span class="php-keyword1">null</span>;
</span><span id="7549" class="l"><a class="l" href="#7549"> 7549: </a>        }
</span><span id="7550" class="l"><a class="l" href="#7550"> 7550: </a>
</span><span id="7551" class="l"><a class="l" href="#7551"> 7551: </a>        <span class="php-keyword1">if</span> ((<span class="php-var">$port_start</span> = <span class="php-keyword2">strpos</span>(<span class="php-var">$authority</span>, <span class="php-quote">':'</span>)) !== <span class="php-keyword1">false</span>)
</span><span id="7552" class="l"><a class="l" href="#7552"> 7552: </a>        {
</span><span id="7553" class="l"><a class="l" href="#7553"> 7553: </a>            <span class="php-var">$port</span> = <span class="php-keyword2">substr</span>(<span class="php-var">$authority</span>, <span class="php-var">$port_start</span> + <span class="php-num">1</span>);
</span><span id="7554" class="l"><a class="l" href="#7554"> 7554: </a>            <span class="php-keyword1">if</span> (<span class="php-var">$port</span> === <span class="php-keyword1">false</span>)
</span><span id="7555" class="l"><a class="l" href="#7555"> 7555: </a>            {
</span><span id="7556" class="l"><a class="l" href="#7556"> 7556: </a>                <span class="php-var">$port</span> = <span class="php-keyword1">null</span>;
</span><span id="7557" class="l"><a class="l" href="#7557"> 7557: </a>            }
</span><span id="7558" class="l"><a class="l" href="#7558"> 7558: </a>            <span class="php-var">$authority</span> = <span class="php-keyword2">substr</span>(<span class="php-var">$authority</span>, <span class="php-num">0</span>, <span class="php-var">$port_start</span>);
</span><span id="7559" class="l"><a class="l" href="#7559"> 7559: </a>        }
</span><span id="7560" class="l"><a class="l" href="#7560"> 7560: </a>        <span class="php-keyword1">else</span>
</span><span id="7561" class="l"><a class="l" href="#7561"> 7561: </a>        {
</span><span id="7562" class="l"><a class="l" href="#7562"> 7562: </a>            <span class="php-var">$port</span> = <span class="php-keyword1">null</span>;
</span><span id="7563" class="l"><a class="l" href="#7563"> 7563: </a>        }
</span><span id="7564" class="l"><a class="l" href="#7564"> 7564: </a>
</span><span id="7565" class="l"><a class="l" href="#7565"> 7565: </a>        <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;set_userinfo(<span class="php-var">$userinfo</span>) &amp;&amp; <span class="php-var">$this</span>-&gt;set_host(<span class="php-var">$authority</span>) &amp;&amp; <span class="php-var">$this</span>-&gt;set_port(<span class="php-var">$port</span>);
</span><span id="7566" class="l"><a class="l" href="#7566"> 7566: </a>    }
</span><span id="7567" class="l"><a class="l" href="#7567"> 7567: </a>
</span><span id="7568" class="l"><a class="l" href="#7568"> 7568: </a>    <span class="php-comment">/**
</span></span><span id="7569" class="l"><a class="l" href="#7569"> 7569: </a><span class="php-comment">     * Set the userinfo.
</span></span><span id="7570" class="l"><a class="l" href="#7570"> 7570: </a><span class="php-comment">     *
</span></span><span id="7571" class="l"><a class="l" href="#7571"> 7571: </a><span class="php-comment">     * @access public
</span></span><span id="7572" class="l"><a class="l" href="#7572"> 7572: </a><span class="php-comment">     * @param string $userinfo
</span></span><span id="7573" class="l"><a class="l" href="#7573"> 7573: </a><span class="php-comment">     * @return bool
</span></span><span id="7574" class="l"><a class="l" href="#7574"> 7574: </a><span class="php-comment">     */</span>
</span><span id="7575" class="l"><a class="l" href="#7575"> 7575: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_set_userinfo" href="#_set_userinfo">set_userinfo</a>(<span class="php-var">$userinfo</span>)
</span><span id="7576" class="l"><a class="l" href="#7576"> 7576: </a>    {
</span><span id="7577" class="l"><a class="l" href="#7577"> 7577: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$userinfo</span> === <span class="php-keyword1">null</span> || <span class="php-var">$userinfo</span> === <span class="php-quote">''</span>)
</span><span id="7578" class="l"><a class="l" href="#7578"> 7578: </a>        {
</span><span id="7579" class="l"><a class="l" href="#7579"> 7579: </a>            <span class="php-var">$this</span>-&gt;userinfo = <span class="php-keyword1">null</span>;
</span><span id="7580" class="l"><a class="l" href="#7580"> 7580: </a>        }
</span><span id="7581" class="l"><a class="l" href="#7581"> 7581: </a>        <span class="php-keyword1">else</span>
</span><span id="7582" class="l"><a class="l" href="#7582"> 7582: </a>        {
</span><span id="7583" class="l"><a class="l" href="#7583"> 7583: </a>            <span class="php-var">$this</span>-&gt;userinfo = <span class="php-var">$this</span>-&gt;replace_invalid_with_pct_encoding(<span class="php-var">$userinfo</span>, <span class="php-quote">'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~!$&amp;\'()*+,;=:'</span>);
</span><span id="7584" class="l"><a class="l" href="#7584"> 7584: </a>        }
</span><span id="7585" class="l"><a class="l" href="#7585"> 7585: </a>        <span class="php-var">$this</span>-&gt;valid[__FUNCTION__] = <span class="php-keyword1">true</span>;
</span><span id="7586" class="l"><a class="l" href="#7586"> 7586: </a>        <span class="php-keyword1">return</span> <span class="php-keyword1">true</span>;
</span><span id="7587" class="l"><a class="l" href="#7587"> 7587: </a>    }
</span><span id="7588" class="l"><a class="l" href="#7588"> 7588: </a>
</span><span id="7589" class="l"><a class="l" href="#7589"> 7589: </a>    <span class="php-comment">/**
</span></span><span id="7590" class="l"><a class="l" href="#7590"> 7590: </a><span class="php-comment">     * Set the host. Returns true on success, false on failure (if there are
</span></span><span id="7591" class="l"><a class="l" href="#7591"> 7591: </a><span class="php-comment">     * any invalid characters).
</span></span><span id="7592" class="l"><a class="l" href="#7592"> 7592: </a><span class="php-comment">     *
</span></span><span id="7593" class="l"><a class="l" href="#7593"> 7593: </a><span class="php-comment">     * @access public
</span></span><span id="7594" class="l"><a class="l" href="#7594"> 7594: </a><span class="php-comment">     * @param string $host
</span></span><span id="7595" class="l"><a class="l" href="#7595"> 7595: </a><span class="php-comment">     * @return bool
</span></span><span id="7596" class="l"><a class="l" href="#7596"> 7596: </a><span class="php-comment">     */</span>
</span><span id="7597" class="l"><a class="l" href="#7597"> 7597: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_set_host" href="#_set_host">set_host</a>(<span class="php-var">$host</span>)
</span><span id="7598" class="l"><a class="l" href="#7598"> 7598: </a>    {
</span><span id="7599" class="l"><a class="l" href="#7599"> 7599: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$host</span> === <span class="php-keyword1">null</span> || <span class="php-var">$host</span> === <span class="php-quote">''</span>)
</span><span id="7600" class="l"><a class="l" href="#7600"> 7600: </a>        {
</span><span id="7601" class="l"><a class="l" href="#7601"> 7601: </a>            <span class="php-var">$this</span>-&gt;host = <span class="php-keyword1">null</span>;
</span><span id="7602" class="l"><a class="l" href="#7602"> 7602: </a>            <span class="php-var">$this</span>-&gt;valid[__FUNCTION__] = <span class="php-keyword1">true</span>;
</span><span id="7603" class="l"><a class="l" href="#7603"> 7603: </a>            <span class="php-keyword1">return</span> <span class="php-keyword1">true</span>;
</span><span id="7604" class="l"><a class="l" href="#7604"> 7604: </a>        }
</span><span id="7605" class="l"><a class="l" href="#7605"> 7605: </a>        <span class="php-keyword1">elseif</span> (<span class="php-var">$host</span>[<span class="php-num">0</span>] === <span class="php-quote">'['</span> &amp;&amp; <span class="php-keyword2">substr</span>(<span class="php-var">$host</span>, -<span class="php-num">1</span>) === <span class="php-quote">']'</span>)
</span><span id="7606" class="l"><a class="l" href="#7606"> 7606: </a>        {
</span><span id="7607" class="l"><a class="l" href="#7607"> 7607: </a>            <span class="php-keyword1">if</span> (SimplePie_Net_IPv6::checkIPv6(<span class="php-keyword2">substr</span>(<span class="php-var">$host</span>, <span class="php-num">1</span>, -<span class="php-num">1</span>)))
</span><span id="7608" class="l"><a class="l" href="#7608"> 7608: </a>            {
</span><span id="7609" class="l"><a class="l" href="#7609"> 7609: </a>                <span class="php-var">$this</span>-&gt;host = <span class="php-var">$host</span>;
</span><span id="7610" class="l"><a class="l" href="#7610"> 7610: </a>                <span class="php-var">$this</span>-&gt;valid[__FUNCTION__] = <span class="php-keyword1">true</span>;
</span><span id="7611" class="l"><a class="l" href="#7611"> 7611: </a>                <span class="php-keyword1">return</span> <span class="php-keyword1">true</span>;
</span><span id="7612" class="l"><a class="l" href="#7612"> 7612: </a>            }
</span><span id="7613" class="l"><a class="l" href="#7613"> 7613: </a>            <span class="php-keyword1">else</span>
</span><span id="7614" class="l"><a class="l" href="#7614"> 7614: </a>            {
</span><span id="7615" class="l"><a class="l" href="#7615"> 7615: </a>                <span class="php-var">$this</span>-&gt;host = <span class="php-keyword1">null</span>;
</span><span id="7616" class="l"><a class="l" href="#7616"> 7616: </a>                <span class="php-var">$this</span>-&gt;valid[__FUNCTION__] = <span class="php-keyword1">false</span>;
</span><span id="7617" class="l"><a class="l" href="#7617"> 7617: </a>                <span class="php-keyword1">return</span> <span class="php-keyword1">false</span>;
</span><span id="7618" class="l"><a class="l" href="#7618"> 7618: </a>            }
</span><span id="7619" class="l"><a class="l" href="#7619"> 7619: </a>        }
</span><span id="7620" class="l"><a class="l" href="#7620"> 7620: </a>        <span class="php-keyword1">else</span>
</span><span id="7621" class="l"><a class="l" href="#7621"> 7621: </a>        {
</span><span id="7622" class="l"><a class="l" href="#7622"> 7622: </a>            <span class="php-var">$this</span>-&gt;host = <span class="php-var">$this</span>-&gt;replace_invalid_with_pct_encoding(<span class="php-var">$host</span>, <span class="php-quote">'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~!$&amp;\'()*+,;='</span>, SIMPLEPIE_LOWERCASE);
</span><span id="7623" class="l"><a class="l" href="#7623"> 7623: </a>            <span class="php-var">$this</span>-&gt;valid[__FUNCTION__] = <span class="php-keyword1">true</span>;
</span><span id="7624" class="l"><a class="l" href="#7624"> 7624: </a>            <span class="php-keyword1">return</span> <span class="php-keyword1">true</span>;
</span><span id="7625" class="l"><a class="l" href="#7625"> 7625: </a>        }
</span><span id="7626" class="l"><a class="l" href="#7626"> 7626: </a>    }
</span><span id="7627" class="l"><a class="l" href="#7627"> 7627: </a>
</span><span id="7628" class="l"><a class="l" href="#7628"> 7628: </a>    <span class="php-comment">/**
</span></span><span id="7629" class="l"><a class="l" href="#7629"> 7629: </a><span class="php-comment">     * Set the port. Returns true on success, false on failure (if there are
</span></span><span id="7630" class="l"><a class="l" href="#7630"> 7630: </a><span class="php-comment">     * any invalid characters).
</span></span><span id="7631" class="l"><a class="l" href="#7631"> 7631: </a><span class="php-comment">     *
</span></span><span id="7632" class="l"><a class="l" href="#7632"> 7632: </a><span class="php-comment">     * @access public
</span></span><span id="7633" class="l"><a class="l" href="#7633"> 7633: </a><span class="php-comment">     * @param string $port
</span></span><span id="7634" class="l"><a class="l" href="#7634"> 7634: </a><span class="php-comment">     * @return bool
</span></span><span id="7635" class="l"><a class="l" href="#7635"> 7635: </a><span class="php-comment">     */</span>
</span><span id="7636" class="l"><a class="l" href="#7636"> 7636: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_set_port" href="#_set_port">set_port</a>(<span class="php-var">$port</span>)
</span><span id="7637" class="l"><a class="l" href="#7637"> 7637: </a>    {
</span><span id="7638" class="l"><a class="l" href="#7638"> 7638: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$port</span> === <span class="php-keyword1">null</span> || <span class="php-var">$port</span> === <span class="php-quote">''</span>)
</span><span id="7639" class="l"><a class="l" href="#7639"> 7639: </a>        {
</span><span id="7640" class="l"><a class="l" href="#7640"> 7640: </a>            <span class="php-var">$this</span>-&gt;port = <span class="php-keyword1">null</span>;
</span><span id="7641" class="l"><a class="l" href="#7641"> 7641: </a>            <span class="php-var">$this</span>-&gt;valid[__FUNCTION__] = <span class="php-keyword1">true</span>;
</span><span id="7642" class="l"><a class="l" href="#7642"> 7642: </a>            <span class="php-keyword1">return</span> <span class="php-keyword1">true</span>;
</span><span id="7643" class="l"><a class="l" href="#7643"> 7643: </a>        }
</span><span id="7644" class="l"><a class="l" href="#7644"> 7644: </a>        <span class="php-keyword1">elseif</span> (<span class="php-keyword2">strspn</span>(<span class="php-var">$port</span>, <span class="php-quote">'0123456789'</span>) === <span class="php-keyword2">strlen</span>(<span class="php-var">$port</span>))
</span><span id="7645" class="l"><a class="l" href="#7645"> 7645: </a>        {
</span><span id="7646" class="l"><a class="l" href="#7646"> 7646: </a>            <span class="php-var">$this</span>-&gt;port = (int) <span class="php-var">$port</span>;
</span><span id="7647" class="l"><a class="l" href="#7647"> 7647: </a>            <span class="php-var">$this</span>-&gt;valid[__FUNCTION__] = <span class="php-keyword1">true</span>;
</span><span id="7648" class="l"><a class="l" href="#7648"> 7648: </a>            <span class="php-keyword1">return</span> <span class="php-keyword1">true</span>;
</span><span id="7649" class="l"><a class="l" href="#7649"> 7649: </a>        }
</span><span id="7650" class="l"><a class="l" href="#7650"> 7650: </a>        <span class="php-keyword1">else</span>
</span><span id="7651" class="l"><a class="l" href="#7651"> 7651: </a>        {
</span><span id="7652" class="l"><a class="l" href="#7652"> 7652: </a>            <span class="php-var">$this</span>-&gt;port = <span class="php-keyword1">null</span>;
</span><span id="7653" class="l"><a class="l" href="#7653"> 7653: </a>            <span class="php-var">$this</span>-&gt;valid[__FUNCTION__] = <span class="php-keyword1">false</span>;
</span><span id="7654" class="l"><a class="l" href="#7654"> 7654: </a>            <span class="php-keyword1">return</span> <span class="php-keyword1">false</span>;
</span><span id="7655" class="l"><a class="l" href="#7655"> 7655: </a>        }
</span><span id="7656" class="l"><a class="l" href="#7656"> 7656: </a>    }
</span><span id="7657" class="l"><a class="l" href="#7657"> 7657: </a>
</span><span id="7658" class="l"><a class="l" href="#7658"> 7658: </a>    <span class="php-comment">/**
</span></span><span id="7659" class="l"><a class="l" href="#7659"> 7659: </a><span class="php-comment">     * Set the path.
</span></span><span id="7660" class="l"><a class="l" href="#7660"> 7660: </a><span class="php-comment">     *
</span></span><span id="7661" class="l"><a class="l" href="#7661"> 7661: </a><span class="php-comment">     * @access public
</span></span><span id="7662" class="l"><a class="l" href="#7662"> 7662: </a><span class="php-comment">     * @param string $path
</span></span><span id="7663" class="l"><a class="l" href="#7663"> 7663: </a><span class="php-comment">     * @return bool
</span></span><span id="7664" class="l"><a class="l" href="#7664"> 7664: </a><span class="php-comment">     */</span>
</span><span id="7665" class="l"><a class="l" href="#7665"> 7665: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_set_path" href="#_set_path">set_path</a>(<span class="php-var">$path</span>)
</span><span id="7666" class="l"><a class="l" href="#7666"> 7666: </a>    {
</span><span id="7667" class="l"><a class="l" href="#7667"> 7667: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$path</span> === <span class="php-keyword1">null</span> || <span class="php-var">$path</span> === <span class="php-quote">''</span>)
</span><span id="7668" class="l"><a class="l" href="#7668"> 7668: </a>        {
</span><span id="7669" class="l"><a class="l" href="#7669"> 7669: </a>            <span class="php-var">$this</span>-&gt;path = <span class="php-keyword1">null</span>;
</span><span id="7670" class="l"><a class="l" href="#7670"> 7670: </a>            <span class="php-var">$this</span>-&gt;valid[__FUNCTION__] = <span class="php-keyword1">true</span>;
</span><span id="7671" class="l"><a class="l" href="#7671"> 7671: </a>            <span class="php-keyword1">return</span> <span class="php-keyword1">true</span>;
</span><span id="7672" class="l"><a class="l" href="#7672"> 7672: </a>        }
</span><span id="7673" class="l"><a class="l" href="#7673"> 7673: </a>        <span class="php-keyword1">elseif</span> (<span class="php-keyword2">substr</span>(<span class="php-var">$path</span>, <span class="php-num">0</span>, <span class="php-num">2</span>) === <span class="php-quote">'//'</span> &amp;&amp; <span class="php-var">$this</span>-&gt;userinfo === <span class="php-keyword1">null</span> &amp;&amp; <span class="php-var">$this</span>-&gt;host === <span class="php-keyword1">null</span> &amp;&amp; <span class="php-var">$this</span>-&gt;port === <span class="php-keyword1">null</span>)
</span><span id="7674" class="l"><a class="l" href="#7674"> 7674: </a>        {
</span><span id="7675" class="l"><a class="l" href="#7675"> 7675: </a>            <span class="php-var">$this</span>-&gt;path = <span class="php-keyword1">null</span>;
</span><span id="7676" class="l"><a class="l" href="#7676"> 7676: </a>            <span class="php-var">$this</span>-&gt;valid[__FUNCTION__] = <span class="php-keyword1">false</span>;
</span><span id="7677" class="l"><a class="l" href="#7677"> 7677: </a>            <span class="php-keyword1">return</span> <span class="php-keyword1">false</span>;
</span><span id="7678" class="l"><a class="l" href="#7678"> 7678: </a>        }
</span><span id="7679" class="l"><a class="l" href="#7679"> 7679: </a>        <span class="php-keyword1">else</span>
</span><span id="7680" class="l"><a class="l" href="#7680"> 7680: </a>        {
</span><span id="7681" class="l"><a class="l" href="#7681"> 7681: </a>            <span class="php-var">$this</span>-&gt;path = <span class="php-var">$this</span>-&gt;replace_invalid_with_pct_encoding(<span class="php-var">$path</span>, <span class="php-quote">'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~!$&amp;\'()*+,;=@/'</span>);
</span><span id="7682" class="l"><a class="l" href="#7682"> 7682: </a>            <span class="php-keyword1">if</span> (<span class="php-var">$this</span>-&gt;scheme !== <span class="php-keyword1">null</span>)
</span><span id="7683" class="l"><a class="l" href="#7683"> 7683: </a>            {
</span><span id="7684" class="l"><a class="l" href="#7684"> 7684: </a>                <span class="php-var">$this</span>-&gt;path = <span class="php-var">$this</span>-&gt;remove_dot_segments(<span class="php-var">$this</span>-&gt;path);
</span><span id="7685" class="l"><a class="l" href="#7685"> 7685: </a>            }
</span><span id="7686" class="l"><a class="l" href="#7686"> 7686: </a>            <span class="php-var">$this</span>-&gt;valid[__FUNCTION__] = <span class="php-keyword1">true</span>;
</span><span id="7687" class="l"><a class="l" href="#7687"> 7687: </a>            <span class="php-keyword1">return</span> <span class="php-keyword1">true</span>;
</span><span id="7688" class="l"><a class="l" href="#7688"> 7688: </a>        }
</span><span id="7689" class="l"><a class="l" href="#7689"> 7689: </a>    }
</span><span id="7690" class="l"><a class="l" href="#7690"> 7690: </a>
</span><span id="7691" class="l"><a class="l" href="#7691"> 7691: </a>    <span class="php-comment">/**
</span></span><span id="7692" class="l"><a class="l" href="#7692"> 7692: </a><span class="php-comment">     * Set the query.
</span></span><span id="7693" class="l"><a class="l" href="#7693"> 7693: </a><span class="php-comment">     *
</span></span><span id="7694" class="l"><a class="l" href="#7694"> 7694: </a><span class="php-comment">     * @access public
</span></span><span id="7695" class="l"><a class="l" href="#7695"> 7695: </a><span class="php-comment">     * @param string $query
</span></span><span id="7696" class="l"><a class="l" href="#7696"> 7696: </a><span class="php-comment">     * @return bool
</span></span><span id="7697" class="l"><a class="l" href="#7697"> 7697: </a><span class="php-comment">     */</span>
</span><span id="7698" class="l"><a class="l" href="#7698"> 7698: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_set_query" href="#_set_query">set_query</a>(<span class="php-var">$query</span>)
</span><span id="7699" class="l"><a class="l" href="#7699"> 7699: </a>    {
</span><span id="7700" class="l"><a class="l" href="#7700"> 7700: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$query</span> === <span class="php-keyword1">null</span> || <span class="php-var">$query</span> === <span class="php-quote">''</span>)
</span><span id="7701" class="l"><a class="l" href="#7701"> 7701: </a>        {
</span><span id="7702" class="l"><a class="l" href="#7702"> 7702: </a>            <span class="php-var">$this</span>-&gt;query = <span class="php-keyword1">null</span>;
</span><span id="7703" class="l"><a class="l" href="#7703"> 7703: </a>        }
</span><span id="7704" class="l"><a class="l" href="#7704"> 7704: </a>        <span class="php-keyword1">else</span>
</span><span id="7705" class="l"><a class="l" href="#7705"> 7705: </a>        {
</span><span id="7706" class="l"><a class="l" href="#7706"> 7706: </a>            <span class="php-var">$this</span>-&gt;query = <span class="php-var">$this</span>-&gt;replace_invalid_with_pct_encoding(<span class="php-var">$query</span>, <span class="php-quote">'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~!$\'()*+,;:@/?&amp;='</span>);
</span><span id="7707" class="l"><a class="l" href="#7707"> 7707: </a>        }
</span><span id="7708" class="l"><a class="l" href="#7708"> 7708: </a>        <span class="php-var">$this</span>-&gt;valid[__FUNCTION__] = <span class="php-keyword1">true</span>;
</span><span id="7709" class="l"><a class="l" href="#7709"> 7709: </a>        <span class="php-keyword1">return</span> <span class="php-keyword1">true</span>;
</span><span id="7710" class="l"><a class="l" href="#7710"> 7710: </a>    }
</span><span id="7711" class="l"><a class="l" href="#7711"> 7711: </a>
</span><span id="7712" class="l"><a class="l" href="#7712"> 7712: </a>    <span class="php-comment">/**
</span></span><span id="7713" class="l"><a class="l" href="#7713"> 7713: </a><span class="php-comment">     * Set the fragment.
</span></span><span id="7714" class="l"><a class="l" href="#7714"> 7714: </a><span class="php-comment">     *
</span></span><span id="7715" class="l"><a class="l" href="#7715"> 7715: </a><span class="php-comment">     * @access public
</span></span><span id="7716" class="l"><a class="l" href="#7716"> 7716: </a><span class="php-comment">     * @param string $fragment
</span></span><span id="7717" class="l"><a class="l" href="#7717"> 7717: </a><span class="php-comment">     * @return bool
</span></span><span id="7718" class="l"><a class="l" href="#7718"> 7718: </a><span class="php-comment">     */</span>
</span><span id="7719" class="l"><a class="l" href="#7719"> 7719: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_set_fragment" href="#_set_fragment">set_fragment</a>(<span class="php-var">$fragment</span>)
</span><span id="7720" class="l"><a class="l" href="#7720"> 7720: </a>    {
</span><span id="7721" class="l"><a class="l" href="#7721"> 7721: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$fragment</span> === <span class="php-keyword1">null</span> || <span class="php-var">$fragment</span> === <span class="php-quote">''</span>)
</span><span id="7722" class="l"><a class="l" href="#7722"> 7722: </a>        {
</span><span id="7723" class="l"><a class="l" href="#7723"> 7723: </a>            <span class="php-var">$this</span>-&gt;fragment = <span class="php-keyword1">null</span>;
</span><span id="7724" class="l"><a class="l" href="#7724"> 7724: </a>        }
</span><span id="7725" class="l"><a class="l" href="#7725"> 7725: </a>        <span class="php-keyword1">else</span>
</span><span id="7726" class="l"><a class="l" href="#7726"> 7726: </a>        {
</span><span id="7727" class="l"><a class="l" href="#7727"> 7727: </a>            <span class="php-var">$this</span>-&gt;fragment = <span class="php-var">$this</span>-&gt;replace_invalid_with_pct_encoding(<span class="php-var">$fragment</span>, <span class="php-quote">'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~!$&amp;\'()*+,;=:@/?'</span>);
</span><span id="7728" class="l"><a class="l" href="#7728"> 7728: </a>        }
</span><span id="7729" class="l"><a class="l" href="#7729"> 7729: </a>        <span class="php-var">$this</span>-&gt;valid[__FUNCTION__] = <span class="php-keyword1">true</span>;
</span><span id="7730" class="l"><a class="l" href="#7730"> 7730: </a>        <span class="php-keyword1">return</span> <span class="php-keyword1">true</span>;
</span><span id="7731" class="l"><a class="l" href="#7731"> 7731: </a>    }
</span><span id="7732" class="l"><a class="l" href="#7732"> 7732: </a>
</span><span id="7733" class="l"><a class="l" href="#7733"> 7733: </a>    <span class="php-comment">/**
</span></span><span id="7734" class="l"><a class="l" href="#7734"> 7734: </a><span class="php-comment">     * Get the complete IRI
</span></span><span id="7735" class="l"><a class="l" href="#7735"> 7735: </a><span class="php-comment">     *
</span></span><span id="7736" class="l"><a class="l" href="#7736"> 7736: </a><span class="php-comment">     * @access public
</span></span><span id="7737" class="l"><a class="l" href="#7737"> 7737: </a><span class="php-comment">     * @return string
</span></span><span id="7738" class="l"><a class="l" href="#7738"> 7738: </a><span class="php-comment">     */</span>
</span><span id="7739" class="l"><a class="l" href="#7739"> 7739: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_get_iri" href="#_get_iri">get_iri</a>()
</span><span id="7740" class="l"><a class="l" href="#7740"> 7740: </a>    {
</span><span id="7741" class="l"><a class="l" href="#7741"> 7741: </a>        <span class="php-var">$iri</span> = <span class="php-quote">''</span>;
</span><span id="7742" class="l"><a class="l" href="#7742"> 7742: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$this</span>-&gt;scheme !== <span class="php-keyword1">null</span>)
</span><span id="7743" class="l"><a class="l" href="#7743"> 7743: </a>        {
</span><span id="7744" class="l"><a class="l" href="#7744"> 7744: </a>            <span class="php-var">$iri</span> .= <span class="php-var">$this</span>-&gt;scheme . <span class="php-quote">':'</span>;
</span><span id="7745" class="l"><a class="l" href="#7745"> 7745: </a>        }
</span><span id="7746" class="l"><a class="l" href="#7746"> 7746: </a>        <span class="php-keyword1">if</span> ((<span class="php-var">$authority</span> = <span class="php-var">$this</span>-&gt;get_authority()) !== <span class="php-keyword1">null</span>)
</span><span id="7747" class="l"><a class="l" href="#7747"> 7747: </a>        {
</span><span id="7748" class="l"><a class="l" href="#7748"> 7748: </a>            <span class="php-var">$iri</span> .= <span class="php-quote">'//'</span> . <span class="php-var">$authority</span>;
</span><span id="7749" class="l"><a class="l" href="#7749"> 7749: </a>        }
</span><span id="7750" class="l"><a class="l" href="#7750"> 7750: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$this</span>-&gt;path !== <span class="php-keyword1">null</span>)
</span><span id="7751" class="l"><a class="l" href="#7751"> 7751: </a>        {
</span><span id="7752" class="l"><a class="l" href="#7752"> 7752: </a>            <span class="php-var">$iri</span> .= <span class="php-var">$this</span>-&gt;path;
</span><span id="7753" class="l"><a class="l" href="#7753"> 7753: </a>        }
</span><span id="7754" class="l"><a class="l" href="#7754"> 7754: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$this</span>-&gt;query !== <span class="php-keyword1">null</span>)
</span><span id="7755" class="l"><a class="l" href="#7755"> 7755: </a>        {
</span><span id="7756" class="l"><a class="l" href="#7756"> 7756: </a>            <span class="php-var">$iri</span> .= <span class="php-quote">'?'</span> . <span class="php-var">$this</span>-&gt;query;
</span><span id="7757" class="l"><a class="l" href="#7757"> 7757: </a>        }
</span><span id="7758" class="l"><a class="l" href="#7758"> 7758: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$this</span>-&gt;fragment !== <span class="php-keyword1">null</span>)
</span><span id="7759" class="l"><a class="l" href="#7759"> 7759: </a>        {
</span><span id="7760" class="l"><a class="l" href="#7760"> 7760: </a>            <span class="php-var">$iri</span> .= <span class="php-quote">'#'</span> . <span class="php-var">$this</span>-&gt;fragment;
</span><span id="7761" class="l"><a class="l" href="#7761"> 7761: </a>        }
</span><span id="7762" class="l"><a class="l" href="#7762"> 7762: </a>
</span><span id="7763" class="l"><a class="l" href="#7763"> 7763: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$iri</span> !== <span class="php-quote">''</span>)
</span><span id="7764" class="l"><a class="l" href="#7764"> 7764: </a>        {
</span><span id="7765" class="l"><a class="l" href="#7765"> 7765: </a>            <span class="php-keyword1">return</span> <span class="php-var">$iri</span>;
</span><span id="7766" class="l"><a class="l" href="#7766"> 7766: </a>        }
</span><span id="7767" class="l"><a class="l" href="#7767"> 7767: </a>        <span class="php-keyword1">else</span>
</span><span id="7768" class="l"><a class="l" href="#7768"> 7768: </a>        {
</span><span id="7769" class="l"><a class="l" href="#7769"> 7769: </a>            <span class="php-keyword1">return</span> <span class="php-keyword1">null</span>;
</span><span id="7770" class="l"><a class="l" href="#7770"> 7770: </a>        }
</span><span id="7771" class="l"><a class="l" href="#7771"> 7771: </a>    }
</span><span id="7772" class="l"><a class="l" href="#7772"> 7772: </a>
</span><span id="7773" class="l"><a class="l" href="#7773"> 7773: </a>    <span class="php-comment">/**
</span></span><span id="7774" class="l"><a class="l" href="#7774"> 7774: </a><span class="php-comment">     * Get the scheme
</span></span><span id="7775" class="l"><a class="l" href="#7775"> 7775: </a><span class="php-comment">     *
</span></span><span id="7776" class="l"><a class="l" href="#7776"> 7776: </a><span class="php-comment">     * @access public
</span></span><span id="7777" class="l"><a class="l" href="#7777"> 7777: </a><span class="php-comment">     * @return string
</span></span><span id="7778" class="l"><a class="l" href="#7778"> 7778: </a><span class="php-comment">     */</span>
</span><span id="7779" class="l"><a class="l" href="#7779"> 7779: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_get_scheme" href="#_get_scheme">get_scheme</a>()
</span><span id="7780" class="l"><a class="l" href="#7780"> 7780: </a>    {
</span><span id="7781" class="l"><a class="l" href="#7781"> 7781: </a>        <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;scheme;
</span><span id="7782" class="l"><a class="l" href="#7782"> 7782: </a>    }
</span><span id="7783" class="l"><a class="l" href="#7783"> 7783: </a>
</span><span id="7784" class="l"><a class="l" href="#7784"> 7784: </a>    <span class="php-comment">/**
</span></span><span id="7785" class="l"><a class="l" href="#7785"> 7785: </a><span class="php-comment">     * Get the complete authority
</span></span><span id="7786" class="l"><a class="l" href="#7786"> 7786: </a><span class="php-comment">     *
</span></span><span id="7787" class="l"><a class="l" href="#7787"> 7787: </a><span class="php-comment">     * @access public
</span></span><span id="7788" class="l"><a class="l" href="#7788"> 7788: </a><span class="php-comment">     * @return string
</span></span><span id="7789" class="l"><a class="l" href="#7789"> 7789: </a><span class="php-comment">     */</span>
</span><span id="7790" class="l"><a class="l" href="#7790"> 7790: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_get_authority" href="#_get_authority">get_authority</a>()
</span><span id="7791" class="l"><a class="l" href="#7791"> 7791: </a>    {
</span><span id="7792" class="l"><a class="l" href="#7792"> 7792: </a>        <span class="php-var">$authority</span> = <span class="php-quote">''</span>;
</span><span id="7793" class="l"><a class="l" href="#7793"> 7793: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$this</span>-&gt;userinfo !== <span class="php-keyword1">null</span>)
</span><span id="7794" class="l"><a class="l" href="#7794"> 7794: </a>        {
</span><span id="7795" class="l"><a class="l" href="#7795"> 7795: </a>            <span class="php-var">$authority</span> .= <span class="php-var">$this</span>-&gt;userinfo . <span class="php-quote">'@'</span>;
</span><span id="7796" class="l"><a class="l" href="#7796"> 7796: </a>        }
</span><span id="7797" class="l"><a class="l" href="#7797"> 7797: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$this</span>-&gt;host !== <span class="php-keyword1">null</span>)
</span><span id="7798" class="l"><a class="l" href="#7798"> 7798: </a>        {
</span><span id="7799" class="l"><a class="l" href="#7799"> 7799: </a>            <span class="php-var">$authority</span> .= <span class="php-var">$this</span>-&gt;host;
</span><span id="7800" class="l"><a class="l" href="#7800"> 7800: </a>        }
</span><span id="7801" class="l"><a class="l" href="#7801"> 7801: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$this</span>-&gt;port !== <span class="php-keyword1">null</span>)
</span><span id="7802" class="l"><a class="l" href="#7802"> 7802: </a>        {
</span><span id="7803" class="l"><a class="l" href="#7803"> 7803: </a>            <span class="php-var">$authority</span> .= <span class="php-quote">':'</span> . <span class="php-var">$this</span>-&gt;port;
</span><span id="7804" class="l"><a class="l" href="#7804"> 7804: </a>        }
</span><span id="7805" class="l"><a class="l" href="#7805"> 7805: </a>
</span><span id="7806" class="l"><a class="l" href="#7806"> 7806: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$authority</span> !== <span class="php-quote">''</span>)
</span><span id="7807" class="l"><a class="l" href="#7807"> 7807: </a>        {
</span><span id="7808" class="l"><a class="l" href="#7808"> 7808: </a>            <span class="php-keyword1">return</span> <span class="php-var">$authority</span>;
</span><span id="7809" class="l"><a class="l" href="#7809"> 7809: </a>        }
</span><span id="7810" class="l"><a class="l" href="#7810"> 7810: </a>        <span class="php-keyword1">else</span>
</span><span id="7811" class="l"><a class="l" href="#7811"> 7811: </a>        {
</span><span id="7812" class="l"><a class="l" href="#7812"> 7812: </a>            <span class="php-keyword1">return</span> <span class="php-keyword1">null</span>;
</span><span id="7813" class="l"><a class="l" href="#7813"> 7813: </a>        }
</span><span id="7814" class="l"><a class="l" href="#7814"> 7814: </a>    }
</span><span id="7815" class="l"><a class="l" href="#7815"> 7815: </a>
</span><span id="7816" class="l"><a class="l" href="#7816"> 7816: </a>    <span class="php-comment">/**
</span></span><span id="7817" class="l"><a class="l" href="#7817"> 7817: </a><span class="php-comment">     * Get the user information
</span></span><span id="7818" class="l"><a class="l" href="#7818"> 7818: </a><span class="php-comment">     *
</span></span><span id="7819" class="l"><a class="l" href="#7819"> 7819: </a><span class="php-comment">     * @access public
</span></span><span id="7820" class="l"><a class="l" href="#7820"> 7820: </a><span class="php-comment">     * @return string
</span></span><span id="7821" class="l"><a class="l" href="#7821"> 7821: </a><span class="php-comment">     */</span>
</span><span id="7822" class="l"><a class="l" href="#7822"> 7822: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_get_userinfo" href="#_get_userinfo">get_userinfo</a>()
</span><span id="7823" class="l"><a class="l" href="#7823"> 7823: </a>    {
</span><span id="7824" class="l"><a class="l" href="#7824"> 7824: </a>        <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;userinfo;
</span><span id="7825" class="l"><a class="l" href="#7825"> 7825: </a>    }
</span><span id="7826" class="l"><a class="l" href="#7826"> 7826: </a>
</span><span id="7827" class="l"><a class="l" href="#7827"> 7827: </a>    <span class="php-comment">/**
</span></span><span id="7828" class="l"><a class="l" href="#7828"> 7828: </a><span class="php-comment">     * Get the host
</span></span><span id="7829" class="l"><a class="l" href="#7829"> 7829: </a><span class="php-comment">     *
</span></span><span id="7830" class="l"><a class="l" href="#7830"> 7830: </a><span class="php-comment">     * @access public
</span></span><span id="7831" class="l"><a class="l" href="#7831"> 7831: </a><span class="php-comment">     * @return string
</span></span><span id="7832" class="l"><a class="l" href="#7832"> 7832: </a><span class="php-comment">     */</span>
</span><span id="7833" class="l"><a class="l" href="#7833"> 7833: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_get_host" href="#_get_host">get_host</a>()
</span><span id="7834" class="l"><a class="l" href="#7834"> 7834: </a>    {
</span><span id="7835" class="l"><a class="l" href="#7835"> 7835: </a>        <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;host;
</span><span id="7836" class="l"><a class="l" href="#7836"> 7836: </a>    }
</span><span id="7837" class="l"><a class="l" href="#7837"> 7837: </a>
</span><span id="7838" class="l"><a class="l" href="#7838"> 7838: </a>    <span class="php-comment">/**
</span></span><span id="7839" class="l"><a class="l" href="#7839"> 7839: </a><span class="php-comment">     * Get the port
</span></span><span id="7840" class="l"><a class="l" href="#7840"> 7840: </a><span class="php-comment">     *
</span></span><span id="7841" class="l"><a class="l" href="#7841"> 7841: </a><span class="php-comment">     * @access public
</span></span><span id="7842" class="l"><a class="l" href="#7842"> 7842: </a><span class="php-comment">     * @return string
</span></span><span id="7843" class="l"><a class="l" href="#7843"> 7843: </a><span class="php-comment">     */</span>
</span><span id="7844" class="l"><a class="l" href="#7844"> 7844: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_get_port" href="#_get_port">get_port</a>()
</span><span id="7845" class="l"><a class="l" href="#7845"> 7845: </a>    {
</span><span id="7846" class="l"><a class="l" href="#7846"> 7846: </a>        <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;port;
</span><span id="7847" class="l"><a class="l" href="#7847"> 7847: </a>    }
</span><span id="7848" class="l"><a class="l" href="#7848"> 7848: </a>
</span><span id="7849" class="l"><a class="l" href="#7849"> 7849: </a>    <span class="php-comment">/**
</span></span><span id="7850" class="l"><a class="l" href="#7850"> 7850: </a><span class="php-comment">     * Get the path
</span></span><span id="7851" class="l"><a class="l" href="#7851"> 7851: </a><span class="php-comment">     *
</span></span><span id="7852" class="l"><a class="l" href="#7852"> 7852: </a><span class="php-comment">     * @access public
</span></span><span id="7853" class="l"><a class="l" href="#7853"> 7853: </a><span class="php-comment">     * @return string
</span></span><span id="7854" class="l"><a class="l" href="#7854"> 7854: </a><span class="php-comment">     */</span>
</span><span id="7855" class="l"><a class="l" href="#7855"> 7855: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_get_path" href="#_get_path">get_path</a>()
</span><span id="7856" class="l"><a class="l" href="#7856"> 7856: </a>    {
</span><span id="7857" class="l"><a class="l" href="#7857"> 7857: </a>        <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;path;
</span><span id="7858" class="l"><a class="l" href="#7858"> 7858: </a>    }
</span><span id="7859" class="l"><a class="l" href="#7859"> 7859: </a>
</span><span id="7860" class="l"><a class="l" href="#7860"> 7860: </a>    <span class="php-comment">/**
</span></span><span id="7861" class="l"><a class="l" href="#7861"> 7861: </a><span class="php-comment">     * Get the query
</span></span><span id="7862" class="l"><a class="l" href="#7862"> 7862: </a><span class="php-comment">     *
</span></span><span id="7863" class="l"><a class="l" href="#7863"> 7863: </a><span class="php-comment">     * @access public
</span></span><span id="7864" class="l"><a class="l" href="#7864"> 7864: </a><span class="php-comment">     * @return string
</span></span><span id="7865" class="l"><a class="l" href="#7865"> 7865: </a><span class="php-comment">     */</span>
</span><span id="7866" class="l"><a class="l" href="#7866"> 7866: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_get_query" href="#_get_query">get_query</a>()
</span><span id="7867" class="l"><a class="l" href="#7867"> 7867: </a>    {
</span><span id="7868" class="l"><a class="l" href="#7868"> 7868: </a>        <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;query;
</span><span id="7869" class="l"><a class="l" href="#7869"> 7869: </a>    }
</span><span id="7870" class="l"><a class="l" href="#7870"> 7870: </a>
</span><span id="7871" class="l"><a class="l" href="#7871"> 7871: </a>    <span class="php-comment">/**
</span></span><span id="7872" class="l"><a class="l" href="#7872"> 7872: </a><span class="php-comment">     * Get the fragment
</span></span><span id="7873" class="l"><a class="l" href="#7873"> 7873: </a><span class="php-comment">     *
</span></span><span id="7874" class="l"><a class="l" href="#7874"> 7874: </a><span class="php-comment">     * @access public
</span></span><span id="7875" class="l"><a class="l" href="#7875"> 7875: </a><span class="php-comment">     * @return string
</span></span><span id="7876" class="l"><a class="l" href="#7876"> 7876: </a><span class="php-comment">     */</span>
</span><span id="7877" class="l"><a class="l" href="#7877"> 7877: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_get_fragment" href="#_get_fragment">get_fragment</a>()
</span><span id="7878" class="l"><a class="l" href="#7878"> 7878: </a>    {
</span><span id="7879" class="l"><a class="l" href="#7879"> 7879: </a>        <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;fragment;
</span><span id="7880" class="l"><a class="l" href="#7880"> 7880: </a>    }
</span><span id="7881" class="l"><a class="l" href="#7881"> 7881: </a>}
</span><span id="7882" class="l"><a class="l" href="#7882"> 7882: </a>
</span><span id="7883" class="l"><a class="l" href="#7883"> 7883: </a><span class="php-comment">/**
</span></span><span id="7884" class="l"><a class="l" href="#7884"> 7884: </a><span class="php-comment"> * Manages all item-related data
</span></span><span id="7885" class="l"><a class="l" href="#7885"> 7885: </a><span class="php-comment"> *
</span></span><span id="7886" class="l"><a class="l" href="#7886"> 7886: </a><span class="php-comment"> * Used by {@see SimplePie::get_item()} and {@see SimplePie::get_items()}
</span></span><span id="7887" class="l"><a class="l" href="#7887"> 7887: </a><span class="php-comment"> *
</span></span><span id="7888" class="l"><a class="l" href="#7888"> 7888: </a><span class="php-comment"> * This class can be overloaded with {@see SimplePie::set_item_class()}
</span></span><span id="7889" class="l"><a class="l" href="#7889"> 7889: </a><span class="php-comment"> *
</span></span><span id="7890" class="l"><a class="l" href="#7890"> 7890: </a><span class="php-comment"> * @package SimplePie
</span></span><span id="7891" class="l"><a class="l" href="#7891"> 7891: </a><span class="php-comment"> */</span>
</span><span id="7892" class="l"><a class="l" href="#7892"> 7892: </a><span class="php-keyword1">class</span> <a id="SimplePie_Item" href="#SimplePie_Item">SimplePie_Item</a>
</span><span id="7893" class="l"><a class="l" href="#7893"> 7893: </a>{
</span><span id="7894" class="l"><a class="l" href="#7894"> 7894: </a>    <span class="php-keyword1">var</span> <span class="php-var"><a id="$feed" href="#$feed">$feed</a></span>;
</span><span id="7895" class="l"><a class="l" href="#7895"> 7895: </a>    <span class="php-keyword1">var</span> <span class="php-var"><a id="$data" href="#$data">$data</a></span> = <span class="php-keyword1">array</span>();
</span><span id="7896" class="l"><a class="l" href="#7896"> 7896: </a>    <span class="php-keyword1">protected</span> <span class="php-var"><a id="$registry" href="#$registry">$registry</a></span>;
</span><span id="7897" class="l"><a class="l" href="#7897"> 7897: </a>
</span><span id="7898" class="l"><a class="l" href="#7898"> 7898: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="___construct" href="#___construct">__construct</a>(<span class="php-var">$feed</span>, <span class="php-var">$data</span>)
</span><span id="7899" class="l"><a class="l" href="#7899"> 7899: </a>    {
</span><span id="7900" class="l"><a class="l" href="#7900"> 7900: </a>        <span class="php-var">$this</span>-&gt;feed = <span class="php-var">$feed</span>;
</span><span id="7901" class="l"><a class="l" href="#7901"> 7901: </a>        <span class="php-var">$this</span>-&gt;data = <span class="php-var">$data</span>;
</span><span id="7902" class="l"><a class="l" href="#7902"> 7902: </a>    }
</span><span id="7903" class="l"><a class="l" href="#7903"> 7903: </a>
</span><span id="7904" class="l"><a class="l" href="#7904"> 7904: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_set_registry" href="#_set_registry">set_registry</a>(SimplePie_Registry &amp;<span class="php-var">$registry</span>)
</span><span id="7905" class="l"><a class="l" href="#7905"> 7905: </a>    {
</span><span id="7906" class="l"><a class="l" href="#7906"> 7906: </a>        <span class="php-var">$this</span>-&gt;registry = &amp;<span class="php-var">$registry</span>;
</span><span id="7907" class="l"><a class="l" href="#7907"> 7907: </a>    }
</span><span id="7908" class="l"><a class="l" href="#7908"> 7908: </a>
</span><span id="7909" class="l"><a class="l" href="#7909"> 7909: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="___toString" href="#___toString">__toString</a>()
</span><span id="7910" class="l"><a class="l" href="#7910"> 7910: </a>    {
</span><span id="7911" class="l"><a class="l" href="#7911"> 7911: </a>        <span class="php-keyword1">return</span> <span class="php-keyword2">md5</span>(<span class="php-keyword2">serialize</span>(<span class="php-var">$this</span>-&gt;data));
</span><span id="7912" class="l"><a class="l" href="#7912"> 7912: </a>    }
</span><span id="7913" class="l"><a class="l" href="#7913"> 7913: </a>
</span><span id="7914" class="l"><a class="l" href="#7914"> 7914: </a>    <span class="php-comment">/**
</span></span><span id="7915" class="l"><a class="l" href="#7915"> 7915: </a><span class="php-comment">     * Remove items that link back to this before destroying this object
</span></span><span id="7916" class="l"><a class="l" href="#7916"> 7916: </a><span class="php-comment">     */</span>
</span><span id="7917" class="l"><a class="l" href="#7917"> 7917: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="___destruct" href="#___destruct">__destruct</a>()
</span><span id="7918" class="l"><a class="l" href="#7918"> 7918: </a>    {
</span><span id="7919" class="l"><a class="l" href="#7919"> 7919: </a>        <span class="php-keyword1">if</span> ((<span class="php-keyword2">version_compare</span>(PHP_VERSION, <span class="php-quote">'5.3'</span>, <span class="php-quote">'&lt;'</span>) || !<span class="php-keyword2">gc_enabled</span>()) &amp;&amp; !<span class="php-keyword2">ini_get</span>(<span class="php-quote">'zend.ze1_compatibility_mode'</span>))
</span><span id="7920" class="l"><a class="l" href="#7920"> 7920: </a>        {
</span><span id="7921" class="l"><a class="l" href="#7921"> 7921: </a>            <span class="php-keyword1">unset</span>(<span class="php-var">$this</span>-&gt;feed);
</span><span id="7922" class="l"><a class="l" href="#7922"> 7922: </a>        }
</span><span id="7923" class="l"><a class="l" href="#7923"> 7923: </a>    }
</span><span id="7924" class="l"><a class="l" href="#7924"> 7924: </a>
</span><span id="7925" class="l"><a class="l" href="#7925"> 7925: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_get_item_tags" href="#_get_item_tags">get_item_tags</a>(<span class="php-var">$namespace</span>, <span class="php-var">$tag</span>)
</span><span id="7926" class="l"><a class="l" href="#7926"> 7926: </a>    {
</span><span id="7927" class="l"><a class="l" href="#7927"> 7927: </a>        <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$this</span>-&gt;data[<span class="php-quote">'child'</span>][<span class="php-var">$namespace</span>][<span class="php-var">$tag</span>]))
</span><span id="7928" class="l"><a class="l" href="#7928"> 7928: </a>        {
</span><span id="7929" class="l"><a class="l" href="#7929"> 7929: </a>            <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;data[<span class="php-quote">'child'</span>][<span class="php-var">$namespace</span>][<span class="php-var">$tag</span>];
</span><span id="7930" class="l"><a class="l" href="#7930"> 7930: </a>        }
</span><span id="7931" class="l"><a class="l" href="#7931"> 7931: </a>        <span class="php-keyword1">else</span>
</span><span id="7932" class="l"><a class="l" href="#7932"> 7932: </a>        {
</span><span id="7933" class="l"><a class="l" href="#7933"> 7933: </a>            <span class="php-keyword1">return</span> <span class="php-keyword1">null</span>;
</span><span id="7934" class="l"><a class="l" href="#7934"> 7934: </a>        }
</span><span id="7935" class="l"><a class="l" href="#7935"> 7935: </a>    }
</span><span id="7936" class="l"><a class="l" href="#7936"> 7936: </a>
</span><span id="7937" class="l"><a class="l" href="#7937"> 7937: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_get_base" href="#_get_base">get_base</a>(<span class="php-var">$element</span> = <span class="php-keyword1">array</span>())
</span><span id="7938" class="l"><a class="l" href="#7938"> 7938: </a>    {
</span><span id="7939" class="l"><a class="l" href="#7939"> 7939: </a>        <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;feed-&gt;get_base(<span class="php-var">$element</span>);
</span><span id="7940" class="l"><a class="l" href="#7940"> 7940: </a>    }
</span><span id="7941" class="l"><a class="l" href="#7941"> 7941: </a>
</span><span id="7942" class="l"><a class="l" href="#7942"> 7942: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_sanitize" href="#_sanitize">sanitize</a>(<span class="php-var">$data</span>, <span class="php-var">$type</span>, <span class="php-var">$base</span> = <span class="php-quote">''</span>)
</span><span id="7943" class="l"><a class="l" href="#7943"> 7943: </a>    {
</span><span id="7944" class="l"><a class="l" href="#7944"> 7944: </a>        <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;feed-&gt;sanitize(<span class="php-var">$data</span>, <span class="php-var">$type</span>, <span class="php-var">$base</span>);
</span><span id="7945" class="l"><a class="l" href="#7945"> 7945: </a>    }
</span><span id="7946" class="l"><a class="l" href="#7946"> 7946: </a>
</span><span id="7947" class="l"><a class="l" href="#7947"> 7947: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_get_feed" href="#_get_feed">get_feed</a>()
</span><span id="7948" class="l"><a class="l" href="#7948"> 7948: </a>    {
</span><span id="7949" class="l"><a class="l" href="#7949"> 7949: </a>        <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;feed;
</span><span id="7950" class="l"><a class="l" href="#7950"> 7950: </a>    }
</span><span id="7951" class="l"><a class="l" href="#7951"> 7951: </a>
</span><span id="7952" class="l"><a class="l" href="#7952"> 7952: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_get_id" href="#_get_id">get_id</a>(<span class="php-var">$hash</span> = <span class="php-keyword1">false</span>)
</span><span id="7953" class="l"><a class="l" href="#7953"> 7953: </a>    {
</span><span id="7954" class="l"><a class="l" href="#7954"> 7954: </a>        <span class="php-keyword1">if</span> (!<span class="php-var">$hash</span>)
</span><span id="7955" class="l"><a class="l" href="#7955"> 7955: </a>        {
</span><span id="7956" class="l"><a class="l" href="#7956"> 7956: </a>            <span class="php-keyword1">if</span> (<span class="php-var">$return</span> = <span class="php-var">$this</span>-&gt;get_item_tags(SIMPLEPIE_NAMESPACE_ATOM_10, <span class="php-quote">'id'</span>))
</span><span id="7957" class="l"><a class="l" href="#7957"> 7957: </a>            {
</span><span id="7958" class="l"><a class="l" href="#7958"> 7958: </a>                <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$return</span>[<span class="php-num">0</span>][<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="7959" class="l"><a class="l" href="#7959"> 7959: </a>            }
</span><span id="7960" class="l"><a class="l" href="#7960"> 7960: </a>            <span class="php-keyword1">elseif</span> (<span class="php-var">$return</span> = <span class="php-var">$this</span>-&gt;get_item_tags(SIMPLEPIE_NAMESPACE_ATOM_03, <span class="php-quote">'id'</span>))
</span><span id="7961" class="l"><a class="l" href="#7961"> 7961: </a>            {
</span><span id="7962" class="l"><a class="l" href="#7962"> 7962: </a>                <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$return</span>[<span class="php-num">0</span>][<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="7963" class="l"><a class="l" href="#7963"> 7963: </a>            }
</span><span id="7964" class="l"><a class="l" href="#7964"> 7964: </a>            <span class="php-keyword1">elseif</span> (<span class="php-var">$return</span> = <span class="php-var">$this</span>-&gt;get_item_tags(SIMPLEPIE_NAMESPACE_RSS_20, <span class="php-quote">'guid'</span>))
</span><span id="7965" class="l"><a class="l" href="#7965"> 7965: </a>            {
</span><span id="7966" class="l"><a class="l" href="#7966"> 7966: </a>                <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$return</span>[<span class="php-num">0</span>][<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="7967" class="l"><a class="l" href="#7967"> 7967: </a>            }
</span><span id="7968" class="l"><a class="l" href="#7968"> 7968: </a>            <span class="php-keyword1">elseif</span> (<span class="php-var">$return</span> = <span class="php-var">$this</span>-&gt;get_item_tags(SIMPLEPIE_NAMESPACE_DC_11, <span class="php-quote">'identifier'</span>))
</span><span id="7969" class="l"><a class="l" href="#7969"> 7969: </a>            {
</span><span id="7970" class="l"><a class="l" href="#7970"> 7970: </a>                <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$return</span>[<span class="php-num">0</span>][<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="7971" class="l"><a class="l" href="#7971"> 7971: </a>            }
</span><span id="7972" class="l"><a class="l" href="#7972"> 7972: </a>            <span class="php-keyword1">elseif</span> (<span class="php-var">$return</span> = <span class="php-var">$this</span>-&gt;get_item_tags(SIMPLEPIE_NAMESPACE_DC_10, <span class="php-quote">'identifier'</span>))
</span><span id="7973" class="l"><a class="l" href="#7973"> 7973: </a>            {
</span><span id="7974" class="l"><a class="l" href="#7974"> 7974: </a>                <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$return</span>[<span class="php-num">0</span>][<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="7975" class="l"><a class="l" href="#7975"> 7975: </a>            }
</span><span id="7976" class="l"><a class="l" href="#7976"> 7976: </a>            <span class="php-keyword1">elseif</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$this</span>-&gt;data[<span class="php-quote">'attribs'</span>][SIMPLEPIE_NAMESPACE_RDF][<span class="php-quote">'about'</span>]))
</span><span id="7977" class="l"><a class="l" href="#7977"> 7977: </a>            {
</span><span id="7978" class="l"><a class="l" href="#7978"> 7978: </a>                <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$this</span>-&gt;data[<span class="php-quote">'attribs'</span>][SIMPLEPIE_NAMESPACE_RDF][<span class="php-quote">'about'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="7979" class="l"><a class="l" href="#7979"> 7979: </a>            }
</span><span id="7980" class="l"><a class="l" href="#7980"> 7980: </a>            <span class="php-keyword1">elseif</span> ((<span class="php-var">$return</span> = <span class="php-var">$this</span>-&gt;get_permalink()) !== <span class="php-keyword1">null</span>)
</span><span id="7981" class="l"><a class="l" href="#7981"> 7981: </a>            {
</span><span id="7982" class="l"><a class="l" href="#7982"> 7982: </a>                <span class="php-keyword1">return</span> <span class="php-var">$return</span>;
</span><span id="7983" class="l"><a class="l" href="#7983"> 7983: </a>            }
</span><span id="7984" class="l"><a class="l" href="#7984"> 7984: </a>            <span class="php-keyword1">elseif</span> ((<span class="php-var">$return</span> = <span class="php-var">$this</span>-&gt;get_title()) !== <span class="php-keyword1">null</span>)
</span><span id="7985" class="l"><a class="l" href="#7985"> 7985: </a>            {
</span><span id="7986" class="l"><a class="l" href="#7986"> 7986: </a>                <span class="php-keyword1">return</span> <span class="php-var">$return</span>;
</span><span id="7987" class="l"><a class="l" href="#7987"> 7987: </a>            }
</span><span id="7988" class="l"><a class="l" href="#7988"> 7988: </a>        }
</span><span id="7989" class="l"><a class="l" href="#7989"> 7989: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$this</span>-&gt;get_permalink() !== <span class="php-keyword1">null</span> || <span class="php-var">$this</span>-&gt;get_title() !== <span class="php-keyword1">null</span>)
</span><span id="7990" class="l"><a class="l" href="#7990"> 7990: </a>        {
</span><span id="7991" class="l"><a class="l" href="#7991"> 7991: </a>            <span class="php-keyword1">return</span> <span class="php-keyword2">md5</span>(<span class="php-var">$this</span>-&gt;get_permalink() . <span class="php-var">$this</span>-&gt;get_title());
</span><span id="7992" class="l"><a class="l" href="#7992"> 7992: </a>        }
</span><span id="7993" class="l"><a class="l" href="#7993"> 7993: </a>        <span class="php-keyword1">else</span>
</span><span id="7994" class="l"><a class="l" href="#7994"> 7994: </a>        {
</span><span id="7995" class="l"><a class="l" href="#7995"> 7995: </a>            <span class="php-keyword1">return</span> <span class="php-keyword2">md5</span>(<span class="php-keyword2">serialize</span>(<span class="php-var">$this</span>-&gt;data));
</span><span id="7996" class="l"><a class="l" href="#7996"> 7996: </a>        }
</span><span id="7997" class="l"><a class="l" href="#7997"> 7997: </a>    }
</span><span id="7998" class="l"><a class="l" href="#7998"> 7998: </a>
</span><span id="7999" class="l"><a class="l" href="#7999"> 7999: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_get_title" href="#_get_title">get_title</a>()
</span><span id="8000" class="l"><a class="l" href="#8000"> 8000: </a>    {
</span><span id="8001" class="l"><a class="l" href="#8001"> 8001: </a>        <span class="php-keyword1">if</span> (!<span class="php-keyword1">isset</span>(<span class="php-var">$this</span>-&gt;data[<span class="php-quote">'title'</span>]))
</span><span id="8002" class="l"><a class="l" href="#8002"> 8002: </a>        {
</span><span id="8003" class="l"><a class="l" href="#8003"> 8003: </a>            <span class="php-keyword1">if</span> (<span class="php-var">$return</span> = <span class="php-var">$this</span>-&gt;get_item_tags(SIMPLEPIE_NAMESPACE_ATOM_10, <span class="php-quote">'title'</span>))
</span><span id="8004" class="l"><a class="l" href="#8004"> 8004: </a>            {
</span><span id="8005" class="l"><a class="l" href="#8005"> 8005: </a>                <span class="php-var">$this</span>-&gt;data[<span class="php-quote">'title'</span>] = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$return</span>[<span class="php-num">0</span>][<span class="php-quote">'data'</span>], <span class="php-var">$this</span>-&gt;registry-&gt;call(<span class="php-quote">'Misc'</span>, <span class="php-quote">'atom_10_construct_type'</span>, <span class="php-keyword1">array</span>(<span class="php-var">$return</span>[<span class="php-num">0</span>][<span class="php-quote">'attribs'</span>])), <span class="php-var">$this</span>-&gt;get_base(<span class="php-var">$return</span>[<span class="php-num">0</span>]));
</span><span id="8006" class="l"><a class="l" href="#8006"> 8006: </a>            }
</span><span id="8007" class="l"><a class="l" href="#8007"> 8007: </a>            <span class="php-keyword1">elseif</span> (<span class="php-var">$return</span> = <span class="php-var">$this</span>-&gt;get_item_tags(SIMPLEPIE_NAMESPACE_ATOM_03, <span class="php-quote">'title'</span>))
</span><span id="8008" class="l"><a class="l" href="#8008"> 8008: </a>            {
</span><span id="8009" class="l"><a class="l" href="#8009"> 8009: </a>                <span class="php-var">$this</span>-&gt;data[<span class="php-quote">'title'</span>] = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$return</span>[<span class="php-num">0</span>][<span class="php-quote">'data'</span>], <span class="php-var">$this</span>-&gt;registry-&gt;call(<span class="php-quote">'Misc'</span>, <span class="php-quote">'atom_03_construct_type'</span>, <span class="php-keyword1">array</span>(<span class="php-var">$return</span>[<span class="php-num">0</span>][<span class="php-quote">'attribs'</span>])), <span class="php-var">$this</span>-&gt;get_base(<span class="php-var">$return</span>[<span class="php-num">0</span>]));
</span><span id="8010" class="l"><a class="l" href="#8010"> 8010: </a>            }
</span><span id="8011" class="l"><a class="l" href="#8011"> 8011: </a>            <span class="php-keyword1">elseif</span> (<span class="php-var">$return</span> = <span class="php-var">$this</span>-&gt;get_item_tags(SIMPLEPIE_NAMESPACE_RSS_10, <span class="php-quote">'title'</span>))
</span><span id="8012" class="l"><a class="l" href="#8012"> 8012: </a>            {
</span><span id="8013" class="l"><a class="l" href="#8013"> 8013: </a>                <span class="php-var">$this</span>-&gt;data[<span class="php-quote">'title'</span>] = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$return</span>[<span class="php-num">0</span>][<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_MAYBE_HTML, <span class="php-var">$this</span>-&gt;get_base(<span class="php-var">$return</span>[<span class="php-num">0</span>]));
</span><span id="8014" class="l"><a class="l" href="#8014"> 8014: </a>            }
</span><span id="8015" class="l"><a class="l" href="#8015"> 8015: </a>            <span class="php-keyword1">elseif</span> (<span class="php-var">$return</span> = <span class="php-var">$this</span>-&gt;get_item_tags(SIMPLEPIE_NAMESPACE_RSS_090, <span class="php-quote">'title'</span>))
</span><span id="8016" class="l"><a class="l" href="#8016"> 8016: </a>            {
</span><span id="8017" class="l"><a class="l" href="#8017"> 8017: </a>                <span class="php-var">$this</span>-&gt;data[<span class="php-quote">'title'</span>] = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$return</span>[<span class="php-num">0</span>][<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_MAYBE_HTML, <span class="php-var">$this</span>-&gt;get_base(<span class="php-var">$return</span>[<span class="php-num">0</span>]));
</span><span id="8018" class="l"><a class="l" href="#8018"> 8018: </a>            }
</span><span id="8019" class="l"><a class="l" href="#8019"> 8019: </a>            <span class="php-keyword1">elseif</span> (<span class="php-var">$return</span> = <span class="php-var">$this</span>-&gt;get_item_tags(SIMPLEPIE_NAMESPACE_RSS_20, <span class="php-quote">'title'</span>))
</span><span id="8020" class="l"><a class="l" href="#8020"> 8020: </a>            {
</span><span id="8021" class="l"><a class="l" href="#8021"> 8021: </a>                <span class="php-var">$this</span>-&gt;data[<span class="php-quote">'title'</span>] = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$return</span>[<span class="php-num">0</span>][<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_MAYBE_HTML, <span class="php-var">$this</span>-&gt;get_base(<span class="php-var">$return</span>[<span class="php-num">0</span>]));
</span><span id="8022" class="l"><a class="l" href="#8022"> 8022: </a>            }
</span><span id="8023" class="l"><a class="l" href="#8023"> 8023: </a>            <span class="php-keyword1">elseif</span> (<span class="php-var">$return</span> = <span class="php-var">$this</span>-&gt;get_item_tags(SIMPLEPIE_NAMESPACE_DC_11, <span class="php-quote">'title'</span>))
</span><span id="8024" class="l"><a class="l" href="#8024"> 8024: </a>            {
</span><span id="8025" class="l"><a class="l" href="#8025"> 8025: </a>                <span class="php-var">$this</span>-&gt;data[<span class="php-quote">'title'</span>] = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$return</span>[<span class="php-num">0</span>][<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="8026" class="l"><a class="l" href="#8026"> 8026: </a>            }
</span><span id="8027" class="l"><a class="l" href="#8027"> 8027: </a>            <span class="php-keyword1">elseif</span> (<span class="php-var">$return</span> = <span class="php-var">$this</span>-&gt;get_item_tags(SIMPLEPIE_NAMESPACE_DC_10, <span class="php-quote">'title'</span>))
</span><span id="8028" class="l"><a class="l" href="#8028"> 8028: </a>            {
</span><span id="8029" class="l"><a class="l" href="#8029"> 8029: </a>                <span class="php-var">$this</span>-&gt;data[<span class="php-quote">'title'</span>] = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$return</span>[<span class="php-num">0</span>][<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="8030" class="l"><a class="l" href="#8030"> 8030: </a>            }
</span><span id="8031" class="l"><a class="l" href="#8031"> 8031: </a>            <span class="php-keyword1">else</span>
</span><span id="8032" class="l"><a class="l" href="#8032"> 8032: </a>            {
</span><span id="8033" class="l"><a class="l" href="#8033"> 8033: </a>                <span class="php-var">$this</span>-&gt;data[<span class="php-quote">'title'</span>] = <span class="php-keyword1">null</span>;
</span><span id="8034" class="l"><a class="l" href="#8034"> 8034: </a>            }
</span><span id="8035" class="l"><a class="l" href="#8035"> 8035: </a>        }
</span><span id="8036" class="l"><a class="l" href="#8036"> 8036: </a>        <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;data[<span class="php-quote">'title'</span>];
</span><span id="8037" class="l"><a class="l" href="#8037"> 8037: </a>    }
</span><span id="8038" class="l"><a class="l" href="#8038"> 8038: </a>
</span><span id="8039" class="l"><a class="l" href="#8039"> 8039: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_get_description" href="#_get_description">get_description</a>(<span class="php-var">$description_only</span> = <span class="php-keyword1">false</span>)
</span><span id="8040" class="l"><a class="l" href="#8040"> 8040: </a>    {
</span><span id="8041" class="l"><a class="l" href="#8041"> 8041: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$return</span> = <span class="php-var">$this</span>-&gt;get_item_tags(SIMPLEPIE_NAMESPACE_ATOM_10, <span class="php-quote">'summary'</span>))
</span><span id="8042" class="l"><a class="l" href="#8042"> 8042: </a>        {
</span><span id="8043" class="l"><a class="l" href="#8043"> 8043: </a>            <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$return</span>[<span class="php-num">0</span>][<span class="php-quote">'data'</span>], <span class="php-var">$this</span>-&gt;registry-&gt;call(<span class="php-quote">'Misc'</span>, <span class="php-quote">'atom_10_construct_type'</span>, <span class="php-keyword1">array</span>(<span class="php-var">$return</span>[<span class="php-num">0</span>][<span class="php-quote">'attribs'</span>])), <span class="php-var">$this</span>-&gt;get_base(<span class="php-var">$return</span>[<span class="php-num">0</span>]));
</span><span id="8044" class="l"><a class="l" href="#8044"> 8044: </a>        }
</span><span id="8045" class="l"><a class="l" href="#8045"> 8045: </a>        <span class="php-keyword1">elseif</span> (<span class="php-var">$return</span> = <span class="php-var">$this</span>-&gt;get_item_tags(SIMPLEPIE_NAMESPACE_ATOM_03, <span class="php-quote">'summary'</span>))
</span><span id="8046" class="l"><a class="l" href="#8046"> 8046: </a>        {
</span><span id="8047" class="l"><a class="l" href="#8047"> 8047: </a>            <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$return</span>[<span class="php-num">0</span>][<span class="php-quote">'data'</span>], <span class="php-var">$this</span>-&gt;registry-&gt;call(<span class="php-quote">'Misc'</span>, <span class="php-quote">'atom_03_construct_type'</span>, <span class="php-keyword1">array</span>(<span class="php-var">$return</span>[<span class="php-num">0</span>][<span class="php-quote">'attribs'</span>])), <span class="php-var">$this</span>-&gt;get_base(<span class="php-var">$return</span>[<span class="php-num">0</span>]));
</span><span id="8048" class="l"><a class="l" href="#8048"> 8048: </a>        }
</span><span id="8049" class="l"><a class="l" href="#8049"> 8049: </a>        <span class="php-keyword1">elseif</span> (<span class="php-var">$return</span> = <span class="php-var">$this</span>-&gt;get_item_tags(SIMPLEPIE_NAMESPACE_RSS_10, <span class="php-quote">'description'</span>))
</span><span id="8050" class="l"><a class="l" href="#8050"> 8050: </a>        {
</span><span id="8051" class="l"><a class="l" href="#8051"> 8051: </a>            <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$return</span>[<span class="php-num">0</span>][<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_MAYBE_HTML, <span class="php-var">$this</span>-&gt;get_base(<span class="php-var">$return</span>[<span class="php-num">0</span>]));
</span><span id="8052" class="l"><a class="l" href="#8052"> 8052: </a>        }
</span><span id="8053" class="l"><a class="l" href="#8053"> 8053: </a>        <span class="php-keyword1">elseif</span> (<span class="php-var">$return</span> = <span class="php-var">$this</span>-&gt;get_item_tags(SIMPLEPIE_NAMESPACE_RSS_20, <span class="php-quote">'description'</span>))
</span><span id="8054" class="l"><a class="l" href="#8054"> 8054: </a>        {
</span><span id="8055" class="l"><a class="l" href="#8055"> 8055: </a>            <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$return</span>[<span class="php-num">0</span>][<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_HTML, <span class="php-var">$this</span>-&gt;get_base(<span class="php-var">$return</span>[<span class="php-num">0</span>]));
</span><span id="8056" class="l"><a class="l" href="#8056"> 8056: </a>        }
</span><span id="8057" class="l"><a class="l" href="#8057"> 8057: </a>        <span class="php-keyword1">elseif</span> (<span class="php-var">$return</span> = <span class="php-var">$this</span>-&gt;get_item_tags(SIMPLEPIE_NAMESPACE_DC_11, <span class="php-quote">'description'</span>))
</span><span id="8058" class="l"><a class="l" href="#8058"> 8058: </a>        {
</span><span id="8059" class="l"><a class="l" href="#8059"> 8059: </a>            <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$return</span>[<span class="php-num">0</span>][<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="8060" class="l"><a class="l" href="#8060"> 8060: </a>        }
</span><span id="8061" class="l"><a class="l" href="#8061"> 8061: </a>        <span class="php-keyword1">elseif</span> (<span class="php-var">$return</span> = <span class="php-var">$this</span>-&gt;get_item_tags(SIMPLEPIE_NAMESPACE_DC_10, <span class="php-quote">'description'</span>))
</span><span id="8062" class="l"><a class="l" href="#8062"> 8062: </a>        {
</span><span id="8063" class="l"><a class="l" href="#8063"> 8063: </a>            <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$return</span>[<span class="php-num">0</span>][<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="8064" class="l"><a class="l" href="#8064"> 8064: </a>        }
</span><span id="8065" class="l"><a class="l" href="#8065"> 8065: </a>        <span class="php-keyword1">elseif</span> (<span class="php-var">$return</span> = <span class="php-var">$this</span>-&gt;get_item_tags(SIMPLEPIE_NAMESPACE_ITUNES, <span class="php-quote">'summary'</span>))
</span><span id="8066" class="l"><a class="l" href="#8066"> 8066: </a>        {
</span><span id="8067" class="l"><a class="l" href="#8067"> 8067: </a>            <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$return</span>[<span class="php-num">0</span>][<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_HTML, <span class="php-var">$this</span>-&gt;get_base(<span class="php-var">$return</span>[<span class="php-num">0</span>]));
</span><span id="8068" class="l"><a class="l" href="#8068"> 8068: </a>        }
</span><span id="8069" class="l"><a class="l" href="#8069"> 8069: </a>        <span class="php-keyword1">elseif</span> (<span class="php-var">$return</span> = <span class="php-var">$this</span>-&gt;get_item_tags(SIMPLEPIE_NAMESPACE_ITUNES, <span class="php-quote">'subtitle'</span>))
</span><span id="8070" class="l"><a class="l" href="#8070"> 8070: </a>        {
</span><span id="8071" class="l"><a class="l" href="#8071"> 8071: </a>            <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$return</span>[<span class="php-num">0</span>][<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="8072" class="l"><a class="l" href="#8072"> 8072: </a>        }
</span><span id="8073" class="l"><a class="l" href="#8073"> 8073: </a>        <span class="php-keyword1">elseif</span> (<span class="php-var">$return</span> = <span class="php-var">$this</span>-&gt;get_item_tags(SIMPLEPIE_NAMESPACE_RSS_090, <span class="php-quote">'description'</span>))
</span><span id="8074" class="l"><a class="l" href="#8074"> 8074: </a>        {
</span><span id="8075" class="l"><a class="l" href="#8075"> 8075: </a>            <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$return</span>[<span class="php-num">0</span>][<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_HTML);
</span><span id="8076" class="l"><a class="l" href="#8076"> 8076: </a>        }
</span><span id="8077" class="l"><a class="l" href="#8077"> 8077: </a>
</span><span id="8078" class="l"><a class="l" href="#8078"> 8078: </a>        <span class="php-keyword1">elseif</span> (!<span class="php-var">$description_only</span>)
</span><span id="8079" class="l"><a class="l" href="#8079"> 8079: </a>        {
</span><span id="8080" class="l"><a class="l" href="#8080"> 8080: </a>            <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;get_content(<span class="php-keyword1">true</span>);
</span><span id="8081" class="l"><a class="l" href="#8081"> 8081: </a>        }
</span><span id="8082" class="l"><a class="l" href="#8082"> 8082: </a>        <span class="php-keyword1">else</span>
</span><span id="8083" class="l"><a class="l" href="#8083"> 8083: </a>        {
</span><span id="8084" class="l"><a class="l" href="#8084"> 8084: </a>            <span class="php-keyword1">return</span> <span class="php-keyword1">null</span>;
</span><span id="8085" class="l"><a class="l" href="#8085"> 8085: </a>        }
</span><span id="8086" class="l"><a class="l" href="#8086"> 8086: </a>    }
</span><span id="8087" class="l"><a class="l" href="#8087"> 8087: </a>
</span><span id="8088" class="l"><a class="l" href="#8088"> 8088: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_get_content" href="#_get_content">get_content</a>(<span class="php-var">$content_only</span> = <span class="php-keyword1">false</span>)
</span><span id="8089" class="l"><a class="l" href="#8089"> 8089: </a>    {
</span><span id="8090" class="l"><a class="l" href="#8090"> 8090: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$return</span> = <span class="php-var">$this</span>-&gt;get_item_tags(SIMPLEPIE_NAMESPACE_ATOM_10, <span class="php-quote">'content'</span>))
</span><span id="8091" class="l"><a class="l" href="#8091"> 8091: </a>        {
</span><span id="8092" class="l"><a class="l" href="#8092"> 8092: </a>            <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$return</span>[<span class="php-num">0</span>][<span class="php-quote">'data'</span>], <span class="php-var">$this</span>-&gt;registry-&gt;call(<span class="php-quote">'Misc'</span>, <span class="php-quote">'atom_10_content_construct_type'</span>, <span class="php-keyword1">array</span>(<span class="php-var">$return</span>[<span class="php-num">0</span>][<span class="php-quote">'attribs'</span>])), <span class="php-var">$this</span>-&gt;get_base(<span class="php-var">$return</span>[<span class="php-num">0</span>]));
</span><span id="8093" class="l"><a class="l" href="#8093"> 8093: </a>        }
</span><span id="8094" class="l"><a class="l" href="#8094"> 8094: </a>        <span class="php-keyword1">elseif</span> (<span class="php-var">$return</span> = <span class="php-var">$this</span>-&gt;get_item_tags(SIMPLEPIE_NAMESPACE_ATOM_03, <span class="php-quote">'content'</span>))
</span><span id="8095" class="l"><a class="l" href="#8095"> 8095: </a>        {
</span><span id="8096" class="l"><a class="l" href="#8096"> 8096: </a>            <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$return</span>[<span class="php-num">0</span>][<span class="php-quote">'data'</span>], <span class="php-var">$this</span>-&gt;registry-&gt;call(<span class="php-quote">'Misc'</span>, <span class="php-quote">'atom_03_construct_type'</span>, <span class="php-keyword1">array</span>(<span class="php-var">$return</span>[<span class="php-num">0</span>][<span class="php-quote">'attribs'</span>])), <span class="php-var">$this</span>-&gt;get_base(<span class="php-var">$return</span>[<span class="php-num">0</span>]));
</span><span id="8097" class="l"><a class="l" href="#8097"> 8097: </a>        }
</span><span id="8098" class="l"><a class="l" href="#8098"> 8098: </a>        <span class="php-keyword1">elseif</span> (<span class="php-var">$return</span> = <span class="php-var">$this</span>-&gt;get_item_tags(SIMPLEPIE_NAMESPACE_RSS_10_MODULES_CONTENT, <span class="php-quote">'encoded'</span>))
</span><span id="8099" class="l"><a class="l" href="#8099"> 8099: </a>        {
</span><span id="8100" class="l"><a class="l" href="#8100"> 8100: </a>            <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$return</span>[<span class="php-num">0</span>][<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_HTML, <span class="php-var">$this</span>-&gt;get_base(<span class="php-var">$return</span>[<span class="php-num">0</span>]));
</span><span id="8101" class="l"><a class="l" href="#8101"> 8101: </a>        }
</span><span id="8102" class="l"><a class="l" href="#8102"> 8102: </a>        <span class="php-keyword1">elseif</span> (!<span class="php-var">$content_only</span>)
</span><span id="8103" class="l"><a class="l" href="#8103"> 8103: </a>        {
</span><span id="8104" class="l"><a class="l" href="#8104"> 8104: </a>            <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;get_description(<span class="php-keyword1">true</span>);
</span><span id="8105" class="l"><a class="l" href="#8105"> 8105: </a>        }
</span><span id="8106" class="l"><a class="l" href="#8106"> 8106: </a>        <span class="php-keyword1">else</span>
</span><span id="8107" class="l"><a class="l" href="#8107"> 8107: </a>        {
</span><span id="8108" class="l"><a class="l" href="#8108"> 8108: </a>            <span class="php-keyword1">return</span> <span class="php-keyword1">null</span>;
</span><span id="8109" class="l"><a class="l" href="#8109"> 8109: </a>        }
</span><span id="8110" class="l"><a class="l" href="#8110"> 8110: </a>    }
</span><span id="8111" class="l"><a class="l" href="#8111"> 8111: </a>
</span><span id="8112" class="l"><a class="l" href="#8112"> 8112: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_get_category" href="#_get_category">get_category</a>(<span class="php-var">$key</span> = <span class="php-num">0</span>)
</span><span id="8113" class="l"><a class="l" href="#8113"> 8113: </a>    {
</span><span id="8114" class="l"><a class="l" href="#8114"> 8114: </a>        <span class="php-var">$categories</span> = <span class="php-var">$this</span>-&gt;get_categories();
</span><span id="8115" class="l"><a class="l" href="#8115"> 8115: </a>        <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$categories</span>[<span class="php-var">$key</span>]))
</span><span id="8116" class="l"><a class="l" href="#8116"> 8116: </a>        {
</span><span id="8117" class="l"><a class="l" href="#8117"> 8117: </a>            <span class="php-keyword1">return</span> <span class="php-var">$categories</span>[<span class="php-var">$key</span>];
</span><span id="8118" class="l"><a class="l" href="#8118"> 8118: </a>        }
</span><span id="8119" class="l"><a class="l" href="#8119"> 8119: </a>        <span class="php-keyword1">else</span>
</span><span id="8120" class="l"><a class="l" href="#8120"> 8120: </a>        {
</span><span id="8121" class="l"><a class="l" href="#8121"> 8121: </a>            <span class="php-keyword1">return</span> <span class="php-keyword1">null</span>;
</span><span id="8122" class="l"><a class="l" href="#8122"> 8122: </a>        }
</span><span id="8123" class="l"><a class="l" href="#8123"> 8123: </a>    }
</span><span id="8124" class="l"><a class="l" href="#8124"> 8124: </a>
</span><span id="8125" class="l"><a class="l" href="#8125"> 8125: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_get_categories" href="#_get_categories">get_categories</a>()
</span><span id="8126" class="l"><a class="l" href="#8126"> 8126: </a>    {
</span><span id="8127" class="l"><a class="l" href="#8127"> 8127: </a>        <span class="php-var">$categories</span> = <span class="php-keyword1">array</span>();
</span><span id="8128" class="l"><a class="l" href="#8128"> 8128: </a>
</span><span id="8129" class="l"><a class="l" href="#8129"> 8129: </a>        <span class="php-keyword1">foreach</span> ((<span class="php-keyword1">array</span>) <span class="php-var">$this</span>-&gt;get_item_tags(SIMPLEPIE_NAMESPACE_ATOM_10, <span class="php-quote">'category'</span>) <span class="php-keyword1">as</span> <span class="php-var">$category</span>)
</span><span id="8130" class="l"><a class="l" href="#8130"> 8130: </a>        {
</span><span id="8131" class="l"><a class="l" href="#8131"> 8131: </a>            <span class="php-var">$term</span> = <span class="php-keyword1">null</span>;
</span><span id="8132" class="l"><a class="l" href="#8132"> 8132: </a>            <span class="php-var">$scheme</span> = <span class="php-keyword1">null</span>;
</span><span id="8133" class="l"><a class="l" href="#8133"> 8133: </a>            <span class="php-var">$label</span> = <span class="php-keyword1">null</span>;
</span><span id="8134" class="l"><a class="l" href="#8134"> 8134: </a>            <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$category</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'term'</span>]))
</span><span id="8135" class="l"><a class="l" href="#8135"> 8135: </a>            {
</span><span id="8136" class="l"><a class="l" href="#8136"> 8136: </a>                <span class="php-var">$term</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$category</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'term'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="8137" class="l"><a class="l" href="#8137"> 8137: </a>            }
</span><span id="8138" class="l"><a class="l" href="#8138"> 8138: </a>            <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$category</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'scheme'</span>]))
</span><span id="8139" class="l"><a class="l" href="#8139"> 8139: </a>            {
</span><span id="8140" class="l"><a class="l" href="#8140"> 8140: </a>                <span class="php-var">$scheme</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$category</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'scheme'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="8141" class="l"><a class="l" href="#8141"> 8141: </a>            }
</span><span id="8142" class="l"><a class="l" href="#8142"> 8142: </a>            <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$category</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'label'</span>]))
</span><span id="8143" class="l"><a class="l" href="#8143"> 8143: </a>            {
</span><span id="8144" class="l"><a class="l" href="#8144"> 8144: </a>                <span class="php-var">$label</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$category</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'label'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="8145" class="l"><a class="l" href="#8145"> 8145: </a>            }
</span><span id="8146" class="l"><a class="l" href="#8146"> 8146: </a>            <span class="php-var">$categories</span>[] = <span class="php-var">$this</span>-&gt;registry-&gt;create(<span class="php-quote">'Category'</span>, <span class="php-keyword1">array</span>(<span class="php-var">$term</span>, <span class="php-var">$scheme</span>, <span class="php-var">$label</span>));
</span><span id="8147" class="l"><a class="l" href="#8147"> 8147: </a>        }
</span><span id="8148" class="l"><a class="l" href="#8148"> 8148: </a>        <span class="php-keyword1">foreach</span> ((<span class="php-keyword1">array</span>) <span class="php-var">$this</span>-&gt;get_item_tags(SIMPLEPIE_NAMESPACE_RSS_20, <span class="php-quote">'category'</span>) <span class="php-keyword1">as</span> <span class="php-var">$category</span>)
</span><span id="8149" class="l"><a class="l" href="#8149"> 8149: </a>        {
</span><span id="8150" class="l"><a class="l" href="#8150"> 8150: </a>            <span class="php-comment">// This is really the label, but keep this as the term also for BC.</span>
</span><span id="8151" class="l"><a class="l" href="#8151"> 8151: </a>            <span class="php-comment">// Label will also work on retrieving because that falls back to term.</span>
</span><span id="8152" class="l"><a class="l" href="#8152"> 8152: </a>            <span class="php-var">$term</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$category</span>[<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="8153" class="l"><a class="l" href="#8153"> 8153: </a>            <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$category</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'domain'</span>]))
</span><span id="8154" class="l"><a class="l" href="#8154"> 8154: </a>            {
</span><span id="8155" class="l"><a class="l" href="#8155"> 8155: </a>                <span class="php-var">$scheme</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$category</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'domain'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="8156" class="l"><a class="l" href="#8156"> 8156: </a>            }
</span><span id="8157" class="l"><a class="l" href="#8157"> 8157: </a>            <span class="php-keyword1">else</span>
</span><span id="8158" class="l"><a class="l" href="#8158"> 8158: </a>            {
</span><span id="8159" class="l"><a class="l" href="#8159"> 8159: </a>                <span class="php-var">$scheme</span> = <span class="php-keyword1">null</span>;
</span><span id="8160" class="l"><a class="l" href="#8160"> 8160: </a>            }
</span><span id="8161" class="l"><a class="l" href="#8161"> 8161: </a>            <span class="php-var">$categories</span>[] = <span class="php-var">$this</span>-&gt;registry-&gt;create(<span class="php-quote">'Category'</span>, <span class="php-keyword1">array</span>(<span class="php-var">$term</span>, <span class="php-var">$scheme</span>, <span class="php-keyword1">null</span>));
</span><span id="8162" class="l"><a class="l" href="#8162"> 8162: </a>        }
</span><span id="8163" class="l"><a class="l" href="#8163"> 8163: </a>        <span class="php-keyword1">foreach</span> ((<span class="php-keyword1">array</span>) <span class="php-var">$this</span>-&gt;get_item_tags(SIMPLEPIE_NAMESPACE_DC_11, <span class="php-quote">'subject'</span>) <span class="php-keyword1">as</span> <span class="php-var">$category</span>)
</span><span id="8164" class="l"><a class="l" href="#8164"> 8164: </a>        {
</span><span id="8165" class="l"><a class="l" href="#8165"> 8165: </a>            <span class="php-var">$categories</span>[] = <span class="php-var">$this</span>-&gt;registry-&gt;create(<span class="php-quote">'Category'</span>, <span class="php-keyword1">array</span>(<span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$category</span>[<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_TEXT), <span class="php-keyword1">null</span>, <span class="php-keyword1">null</span>));
</span><span id="8166" class="l"><a class="l" href="#8166"> 8166: </a>        }
</span><span id="8167" class="l"><a class="l" href="#8167"> 8167: </a>        <span class="php-keyword1">foreach</span> ((<span class="php-keyword1">array</span>) <span class="php-var">$this</span>-&gt;get_item_tags(SIMPLEPIE_NAMESPACE_DC_10, <span class="php-quote">'subject'</span>) <span class="php-keyword1">as</span> <span class="php-var">$category</span>)
</span><span id="8168" class="l"><a class="l" href="#8168"> 8168: </a>        {
</span><span id="8169" class="l"><a class="l" href="#8169"> 8169: </a>            <span class="php-var">$categories</span>[] = <span class="php-var">$this</span>-&gt;registry-&gt;create(<span class="php-quote">'Category'</span>, <span class="php-keyword1">array</span>(<span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$category</span>[<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_TEXT), <span class="php-keyword1">null</span>, <span class="php-keyword1">null</span>));
</span><span id="8170" class="l"><a class="l" href="#8170"> 8170: </a>        }
</span><span id="8171" class="l"><a class="l" href="#8171"> 8171: </a>
</span><span id="8172" class="l"><a class="l" href="#8172"> 8172: </a>        <span class="php-keyword1">if</span> (!<span class="php-keyword1">empty</span>(<span class="php-var">$categories</span>))
</span><span id="8173" class="l"><a class="l" href="#8173"> 8173: </a>        {
</span><span id="8174" class="l"><a class="l" href="#8174"> 8174: </a>            <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;registry-&gt;call(<span class="php-quote">'Misc'</span>, <span class="php-quote">'array_unique'</span>, <span class="php-keyword1">array</span>(<span class="php-var">$categories</span>));
</span><span id="8175" class="l"><a class="l" href="#8175"> 8175: </a>        }
</span><span id="8176" class="l"><a class="l" href="#8176"> 8176: </a>        <span class="php-keyword1">else</span>
</span><span id="8177" class="l"><a class="l" href="#8177"> 8177: </a>        {
</span><span id="8178" class="l"><a class="l" href="#8178"> 8178: </a>            <span class="php-keyword1">return</span> <span class="php-keyword1">null</span>;
</span><span id="8179" class="l"><a class="l" href="#8179"> 8179: </a>        }
</span><span id="8180" class="l"><a class="l" href="#8180"> 8180: </a>    }
</span><span id="8181" class="l"><a class="l" href="#8181"> 8181: </a>
</span><span id="8182" class="l"><a class="l" href="#8182"> 8182: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_get_author" href="#_get_author">get_author</a>(<span class="php-var">$key</span> = <span class="php-num">0</span>)
</span><span id="8183" class="l"><a class="l" href="#8183"> 8183: </a>    {
</span><span id="8184" class="l"><a class="l" href="#8184"> 8184: </a>        <span class="php-var">$authors</span> = <span class="php-var">$this</span>-&gt;get_authors();
</span><span id="8185" class="l"><a class="l" href="#8185"> 8185: </a>        <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$authors</span>[<span class="php-var">$key</span>]))
</span><span id="8186" class="l"><a class="l" href="#8186"> 8186: </a>        {
</span><span id="8187" class="l"><a class="l" href="#8187"> 8187: </a>            <span class="php-keyword1">return</span> <span class="php-var">$authors</span>[<span class="php-var">$key</span>];
</span><span id="8188" class="l"><a class="l" href="#8188"> 8188: </a>        }
</span><span id="8189" class="l"><a class="l" href="#8189"> 8189: </a>        <span class="php-keyword1">else</span>
</span><span id="8190" class="l"><a class="l" href="#8190"> 8190: </a>        {
</span><span id="8191" class="l"><a class="l" href="#8191"> 8191: </a>            <span class="php-keyword1">return</span> <span class="php-keyword1">null</span>;
</span><span id="8192" class="l"><a class="l" href="#8192"> 8192: </a>        }
</span><span id="8193" class="l"><a class="l" href="#8193"> 8193: </a>    }
</span><span id="8194" class="l"><a class="l" href="#8194"> 8194: </a>
</span><span id="8195" class="l"><a class="l" href="#8195"> 8195: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_get_contributor" href="#_get_contributor">get_contributor</a>(<span class="php-var">$key</span> = <span class="php-num">0</span>)
</span><span id="8196" class="l"><a class="l" href="#8196"> 8196: </a>    {
</span><span id="8197" class="l"><a class="l" href="#8197"> 8197: </a>        <span class="php-var">$contributors</span> = <span class="php-var">$this</span>-&gt;get_contributors();
</span><span id="8198" class="l"><a class="l" href="#8198"> 8198: </a>        <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$contributors</span>[<span class="php-var">$key</span>]))
</span><span id="8199" class="l"><a class="l" href="#8199"> 8199: </a>        {
</span><span id="8200" class="l"><a class="l" href="#8200"> 8200: </a>            <span class="php-keyword1">return</span> <span class="php-var">$contributors</span>[<span class="php-var">$key</span>];
</span><span id="8201" class="l"><a class="l" href="#8201"> 8201: </a>        }
</span><span id="8202" class="l"><a class="l" href="#8202"> 8202: </a>        <span class="php-keyword1">else</span>
</span><span id="8203" class="l"><a class="l" href="#8203"> 8203: </a>        {
</span><span id="8204" class="l"><a class="l" href="#8204"> 8204: </a>            <span class="php-keyword1">return</span> <span class="php-keyword1">null</span>;
</span><span id="8205" class="l"><a class="l" href="#8205"> 8205: </a>        }
</span><span id="8206" class="l"><a class="l" href="#8206"> 8206: </a>    }
</span><span id="8207" class="l"><a class="l" href="#8207"> 8207: </a>
</span><span id="8208" class="l"><a class="l" href="#8208"> 8208: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_get_contributors" href="#_get_contributors">get_contributors</a>()
</span><span id="8209" class="l"><a class="l" href="#8209"> 8209: </a>    {
</span><span id="8210" class="l"><a class="l" href="#8210"> 8210: </a>        <span class="php-var">$contributors</span> = <span class="php-keyword1">array</span>();
</span><span id="8211" class="l"><a class="l" href="#8211"> 8211: </a>        <span class="php-keyword1">foreach</span> ((<span class="php-keyword1">array</span>) <span class="php-var">$this</span>-&gt;get_item_tags(SIMPLEPIE_NAMESPACE_ATOM_10, <span class="php-quote">'contributor'</span>) <span class="php-keyword1">as</span> <span class="php-var">$contributor</span>)
</span><span id="8212" class="l"><a class="l" href="#8212"> 8212: </a>        {
</span><span id="8213" class="l"><a class="l" href="#8213"> 8213: </a>            <span class="php-var">$name</span> = <span class="php-keyword1">null</span>;
</span><span id="8214" class="l"><a class="l" href="#8214"> 8214: </a>            <span class="php-var">$uri</span> = <span class="php-keyword1">null</span>;
</span><span id="8215" class="l"><a class="l" href="#8215"> 8215: </a>            <span class="php-var">$email</span> = <span class="php-keyword1">null</span>;
</span><span id="8216" class="l"><a class="l" href="#8216"> 8216: </a>            <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$contributor</span>[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_ATOM_10][<span class="php-quote">'name'</span>][<span class="php-num">0</span>][<span class="php-quote">'data'</span>]))
</span><span id="8217" class="l"><a class="l" href="#8217"> 8217: </a>            {
</span><span id="8218" class="l"><a class="l" href="#8218"> 8218: </a>                <span class="php-var">$name</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$contributor</span>[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_ATOM_10][<span class="php-quote">'name'</span>][<span class="php-num">0</span>][<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="8219" class="l"><a class="l" href="#8219"> 8219: </a>            }
</span><span id="8220" class="l"><a class="l" href="#8220"> 8220: </a>            <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$contributor</span>[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_ATOM_10][<span class="php-quote">'uri'</span>][<span class="php-num">0</span>][<span class="php-quote">'data'</span>]))
</span><span id="8221" class="l"><a class="l" href="#8221"> 8221: </a>            {
</span><span id="8222" class="l"><a class="l" href="#8222"> 8222: </a>                <span class="php-var">$uri</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$contributor</span>[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_ATOM_10][<span class="php-quote">'uri'</span>][<span class="php-num">0</span>][<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_IRI, <span class="php-var">$this</span>-&gt;get_base(<span class="php-var">$contributor</span>[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_ATOM_10][<span class="php-quote">'uri'</span>][<span class="php-num">0</span>]));
</span><span id="8223" class="l"><a class="l" href="#8223"> 8223: </a>            }
</span><span id="8224" class="l"><a class="l" href="#8224"> 8224: </a>            <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$contributor</span>[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_ATOM_10][<span class="php-quote">'email'</span>][<span class="php-num">0</span>][<span class="php-quote">'data'</span>]))
</span><span id="8225" class="l"><a class="l" href="#8225"> 8225: </a>            {
</span><span id="8226" class="l"><a class="l" href="#8226"> 8226: </a>                <span class="php-var">$email</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$contributor</span>[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_ATOM_10][<span class="php-quote">'email'</span>][<span class="php-num">0</span>][<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="8227" class="l"><a class="l" href="#8227"> 8227: </a>            }
</span><span id="8228" class="l"><a class="l" href="#8228"> 8228: </a>            <span class="php-keyword1">if</span> (<span class="php-var">$name</span> !== <span class="php-keyword1">null</span> || <span class="php-var">$email</span> !== <span class="php-keyword1">null</span> || <span class="php-var">$uri</span> !== <span class="php-keyword1">null</span>)
</span><span id="8229" class="l"><a class="l" href="#8229"> 8229: </a>            {
</span><span id="8230" class="l"><a class="l" href="#8230"> 8230: </a>                <span class="php-var">$contributors</span>[] = <span class="php-var">$this</span>-&gt;registry-&gt;create(<span class="php-quote">'Author'</span>, <span class="php-keyword1">array</span>(<span class="php-var">$name</span>, <span class="php-var">$uri</span>, <span class="php-var">$email</span>));
</span><span id="8231" class="l"><a class="l" href="#8231"> 8231: </a>            }
</span><span id="8232" class="l"><a class="l" href="#8232"> 8232: </a>        }
</span><span id="8233" class="l"><a class="l" href="#8233"> 8233: </a>        <span class="php-keyword1">foreach</span> ((<span class="php-keyword1">array</span>) <span class="php-var">$this</span>-&gt;get_item_tags(SIMPLEPIE_NAMESPACE_ATOM_03, <span class="php-quote">'contributor'</span>) <span class="php-keyword1">as</span> <span class="php-var">$contributor</span>)
</span><span id="8234" class="l"><a class="l" href="#8234"> 8234: </a>        {
</span><span id="8235" class="l"><a class="l" href="#8235"> 8235: </a>            <span class="php-var">$name</span> = <span class="php-keyword1">null</span>;
</span><span id="8236" class="l"><a class="l" href="#8236"> 8236: </a>            <span class="php-var">$url</span> = <span class="php-keyword1">null</span>;
</span><span id="8237" class="l"><a class="l" href="#8237"> 8237: </a>            <span class="php-var">$email</span> = <span class="php-keyword1">null</span>;
</span><span id="8238" class="l"><a class="l" href="#8238"> 8238: </a>            <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$contributor</span>[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_ATOM_03][<span class="php-quote">'name'</span>][<span class="php-num">0</span>][<span class="php-quote">'data'</span>]))
</span><span id="8239" class="l"><a class="l" href="#8239"> 8239: </a>            {
</span><span id="8240" class="l"><a class="l" href="#8240"> 8240: </a>                <span class="php-var">$name</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$contributor</span>[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_ATOM_03][<span class="php-quote">'name'</span>][<span class="php-num">0</span>][<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="8241" class="l"><a class="l" href="#8241"> 8241: </a>            }
</span><span id="8242" class="l"><a class="l" href="#8242"> 8242: </a>            <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$contributor</span>[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_ATOM_03][<span class="php-quote">'url'</span>][<span class="php-num">0</span>][<span class="php-quote">'data'</span>]))
</span><span id="8243" class="l"><a class="l" href="#8243"> 8243: </a>            {
</span><span id="8244" class="l"><a class="l" href="#8244"> 8244: </a>                <span class="php-var">$url</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$contributor</span>[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_ATOM_03][<span class="php-quote">'url'</span>][<span class="php-num">0</span>][<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_IRI, <span class="php-var">$this</span>-&gt;get_base(<span class="php-var">$contributor</span>[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_ATOM_03][<span class="php-quote">'url'</span>][<span class="php-num">0</span>]));
</span><span id="8245" class="l"><a class="l" href="#8245"> 8245: </a>            }
</span><span id="8246" class="l"><a class="l" href="#8246"> 8246: </a>            <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$contributor</span>[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_ATOM_03][<span class="php-quote">'email'</span>][<span class="php-num">0</span>][<span class="php-quote">'data'</span>]))
</span><span id="8247" class="l"><a class="l" href="#8247"> 8247: </a>            {
</span><span id="8248" class="l"><a class="l" href="#8248"> 8248: </a>                <span class="php-var">$email</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$contributor</span>[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_ATOM_03][<span class="php-quote">'email'</span>][<span class="php-num">0</span>][<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="8249" class="l"><a class="l" href="#8249"> 8249: </a>            }
</span><span id="8250" class="l"><a class="l" href="#8250"> 8250: </a>            <span class="php-keyword1">if</span> (<span class="php-var">$name</span> !== <span class="php-keyword1">null</span> || <span class="php-var">$email</span> !== <span class="php-keyword1">null</span> || <span class="php-var">$url</span> !== <span class="php-keyword1">null</span>)
</span><span id="8251" class="l"><a class="l" href="#8251"> 8251: </a>            {
</span><span id="8252" class="l"><a class="l" href="#8252"> 8252: </a>                <span class="php-var">$contributors</span>[] = <span class="php-var">$this</span>-&gt;registry-&gt;create(<span class="php-quote">'Author'</span>, <span class="php-keyword1">array</span>(<span class="php-var">$name</span>, <span class="php-var">$url</span>, <span class="php-var">$email</span>));
</span><span id="8253" class="l"><a class="l" href="#8253"> 8253: </a>            }
</span><span id="8254" class="l"><a class="l" href="#8254"> 8254: </a>        }
</span><span id="8255" class="l"><a class="l" href="#8255"> 8255: </a>
</span><span id="8256" class="l"><a class="l" href="#8256"> 8256: </a>        <span class="php-keyword1">if</span> (!<span class="php-keyword1">empty</span>(<span class="php-var">$contributors</span>))
</span><span id="8257" class="l"><a class="l" href="#8257"> 8257: </a>        {
</span><span id="8258" class="l"><a class="l" href="#8258"> 8258: </a>            <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;registry-&gt;call(<span class="php-quote">'Misc'</span>, <span class="php-quote">'array_unique'</span>, <span class="php-keyword1">array</span>(<span class="php-var">$contributors</span>));
</span><span id="8259" class="l"><a class="l" href="#8259"> 8259: </a>        }
</span><span id="8260" class="l"><a class="l" href="#8260"> 8260: </a>        <span class="php-keyword1">else</span>
</span><span id="8261" class="l"><a class="l" href="#8261"> 8261: </a>        {
</span><span id="8262" class="l"><a class="l" href="#8262"> 8262: </a>            <span class="php-keyword1">return</span> <span class="php-keyword1">null</span>;
</span><span id="8263" class="l"><a class="l" href="#8263"> 8263: </a>        }
</span><span id="8264" class="l"><a class="l" href="#8264"> 8264: </a>    }
</span><span id="8265" class="l"><a class="l" href="#8265"> 8265: </a>
</span><span id="8266" class="l"><a class="l" href="#8266"> 8266: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_get_authors" href="#_get_authors">get_authors</a>()
</span><span id="8267" class="l"><a class="l" href="#8267"> 8267: </a>    {
</span><span id="8268" class="l"><a class="l" href="#8268"> 8268: </a>        <span class="php-var">$authors</span> = <span class="php-keyword1">array</span>();
</span><span id="8269" class="l"><a class="l" href="#8269"> 8269: </a>        <span class="php-keyword1">foreach</span> ((<span class="php-keyword1">array</span>) <span class="php-var">$this</span>-&gt;get_item_tags(SIMPLEPIE_NAMESPACE_ATOM_10, <span class="php-quote">'author'</span>) <span class="php-keyword1">as</span> <span class="php-var">$author</span>)
</span><span id="8270" class="l"><a class="l" href="#8270"> 8270: </a>        {
</span><span id="8271" class="l"><a class="l" href="#8271"> 8271: </a>            <span class="php-var">$name</span> = <span class="php-keyword1">null</span>;
</span><span id="8272" class="l"><a class="l" href="#8272"> 8272: </a>            <span class="php-var">$uri</span> = <span class="php-keyword1">null</span>;
</span><span id="8273" class="l"><a class="l" href="#8273"> 8273: </a>            <span class="php-var">$email</span> = <span class="php-keyword1">null</span>;
</span><span id="8274" class="l"><a class="l" href="#8274"> 8274: </a>            <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$author</span>[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_ATOM_10][<span class="php-quote">'name'</span>][<span class="php-num">0</span>][<span class="php-quote">'data'</span>]))
</span><span id="8275" class="l"><a class="l" href="#8275"> 8275: </a>            {
</span><span id="8276" class="l"><a class="l" href="#8276"> 8276: </a>                <span class="php-var">$name</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$author</span>[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_ATOM_10][<span class="php-quote">'name'</span>][<span class="php-num">0</span>][<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="8277" class="l"><a class="l" href="#8277"> 8277: </a>            }
</span><span id="8278" class="l"><a class="l" href="#8278"> 8278: </a>            <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$author</span>[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_ATOM_10][<span class="php-quote">'uri'</span>][<span class="php-num">0</span>][<span class="php-quote">'data'</span>]))
</span><span id="8279" class="l"><a class="l" href="#8279"> 8279: </a>            {
</span><span id="8280" class="l"><a class="l" href="#8280"> 8280: </a>                <span class="php-var">$uri</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$author</span>[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_ATOM_10][<span class="php-quote">'uri'</span>][<span class="php-num">0</span>][<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_IRI, <span class="php-var">$this</span>-&gt;get_base(<span class="php-var">$author</span>[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_ATOM_10][<span class="php-quote">'uri'</span>][<span class="php-num">0</span>]));
</span><span id="8281" class="l"><a class="l" href="#8281"> 8281: </a>            }
</span><span id="8282" class="l"><a class="l" href="#8282"> 8282: </a>            <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$author</span>[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_ATOM_10][<span class="php-quote">'email'</span>][<span class="php-num">0</span>][<span class="php-quote">'data'</span>]))
</span><span id="8283" class="l"><a class="l" href="#8283"> 8283: </a>            {
</span><span id="8284" class="l"><a class="l" href="#8284"> 8284: </a>                <span class="php-var">$email</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$author</span>[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_ATOM_10][<span class="php-quote">'email'</span>][<span class="php-num">0</span>][<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="8285" class="l"><a class="l" href="#8285"> 8285: </a>            }
</span><span id="8286" class="l"><a class="l" href="#8286"> 8286: </a>            <span class="php-keyword1">if</span> (<span class="php-var">$name</span> !== <span class="php-keyword1">null</span> || <span class="php-var">$email</span> !== <span class="php-keyword1">null</span> || <span class="php-var">$uri</span> !== <span class="php-keyword1">null</span>)
</span><span id="8287" class="l"><a class="l" href="#8287"> 8287: </a>            {
</span><span id="8288" class="l"><a class="l" href="#8288"> 8288: </a>                <span class="php-var">$authors</span>[] = <span class="php-var">$this</span>-&gt;registry-&gt;create(<span class="php-quote">'Author'</span>, <span class="php-keyword1">array</span>(<span class="php-var">$name</span>, <span class="php-var">$uri</span>, <span class="php-var">$email</span>));
</span><span id="8289" class="l"><a class="l" href="#8289"> 8289: </a>            }
</span><span id="8290" class="l"><a class="l" href="#8290"> 8290: </a>        }
</span><span id="8291" class="l"><a class="l" href="#8291"> 8291: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$author</span> = <span class="php-var">$this</span>-&gt;get_item_tags(SIMPLEPIE_NAMESPACE_ATOM_03, <span class="php-quote">'author'</span>))
</span><span id="8292" class="l"><a class="l" href="#8292"> 8292: </a>        {
</span><span id="8293" class="l"><a class="l" href="#8293"> 8293: </a>            <span class="php-var">$name</span> = <span class="php-keyword1">null</span>;
</span><span id="8294" class="l"><a class="l" href="#8294"> 8294: </a>            <span class="php-var">$url</span> = <span class="php-keyword1">null</span>;
</span><span id="8295" class="l"><a class="l" href="#8295"> 8295: </a>            <span class="php-var">$email</span> = <span class="php-keyword1">null</span>;
</span><span id="8296" class="l"><a class="l" href="#8296"> 8296: </a>            <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$author</span>[<span class="php-num">0</span>][<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_ATOM_03][<span class="php-quote">'name'</span>][<span class="php-num">0</span>][<span class="php-quote">'data'</span>]))
</span><span id="8297" class="l"><a class="l" href="#8297"> 8297: </a>            {
</span><span id="8298" class="l"><a class="l" href="#8298"> 8298: </a>                <span class="php-var">$name</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$author</span>[<span class="php-num">0</span>][<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_ATOM_03][<span class="php-quote">'name'</span>][<span class="php-num">0</span>][<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="8299" class="l"><a class="l" href="#8299"> 8299: </a>            }
</span><span id="8300" class="l"><a class="l" href="#8300"> 8300: </a>            <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$author</span>[<span class="php-num">0</span>][<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_ATOM_03][<span class="php-quote">'url'</span>][<span class="php-num">0</span>][<span class="php-quote">'data'</span>]))
</span><span id="8301" class="l"><a class="l" href="#8301"> 8301: </a>            {
</span><span id="8302" class="l"><a class="l" href="#8302"> 8302: </a>                <span class="php-var">$url</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$author</span>[<span class="php-num">0</span>][<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_ATOM_03][<span class="php-quote">'url'</span>][<span class="php-num">0</span>][<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_IRI, <span class="php-var">$this</span>-&gt;get_base(<span class="php-var">$author</span>[<span class="php-num">0</span>][<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_ATOM_03][<span class="php-quote">'url'</span>][<span class="php-num">0</span>]));
</span><span id="8303" class="l"><a class="l" href="#8303"> 8303: </a>            }
</span><span id="8304" class="l"><a class="l" href="#8304"> 8304: </a>            <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$author</span>[<span class="php-num">0</span>][<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_ATOM_03][<span class="php-quote">'email'</span>][<span class="php-num">0</span>][<span class="php-quote">'data'</span>]))
</span><span id="8305" class="l"><a class="l" href="#8305"> 8305: </a>            {
</span><span id="8306" class="l"><a class="l" href="#8306"> 8306: </a>                <span class="php-var">$email</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$author</span>[<span class="php-num">0</span>][<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_ATOM_03][<span class="php-quote">'email'</span>][<span class="php-num">0</span>][<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="8307" class="l"><a class="l" href="#8307"> 8307: </a>            }
</span><span id="8308" class="l"><a class="l" href="#8308"> 8308: </a>            <span class="php-keyword1">if</span> (<span class="php-var">$name</span> !== <span class="php-keyword1">null</span> || <span class="php-var">$email</span> !== <span class="php-keyword1">null</span> || <span class="php-var">$url</span> !== <span class="php-keyword1">null</span>)
</span><span id="8309" class="l"><a class="l" href="#8309"> 8309: </a>            {
</span><span id="8310" class="l"><a class="l" href="#8310"> 8310: </a>                <span class="php-var">$authors</span>[] = <span class="php-var">$this</span>-&gt;registry-&gt;create(<span class="php-quote">'Author'</span>, <span class="php-keyword1">array</span>(<span class="php-var">$name</span>, <span class="php-var">$url</span>, <span class="php-var">$email</span>));
</span><span id="8311" class="l"><a class="l" href="#8311"> 8311: </a>            }
</span><span id="8312" class="l"><a class="l" href="#8312"> 8312: </a>        }
</span><span id="8313" class="l"><a class="l" href="#8313"> 8313: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$author</span> = <span class="php-var">$this</span>-&gt;get_item_tags(SIMPLEPIE_NAMESPACE_RSS_20, <span class="php-quote">'author'</span>))
</span><span id="8314" class="l"><a class="l" href="#8314"> 8314: </a>        {
</span><span id="8315" class="l"><a class="l" href="#8315"> 8315: </a>            <span class="php-var">$authors</span>[] = <span class="php-var">$this</span>-&gt;registry-&gt;create(<span class="php-quote">'Author'</span>, <span class="php-keyword1">array</span>(<span class="php-keyword1">null</span>, <span class="php-keyword1">null</span>, <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$author</span>[<span class="php-num">0</span>][<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_TEXT)));
</span><span id="8316" class="l"><a class="l" href="#8316"> 8316: </a>        }
</span><span id="8317" class="l"><a class="l" href="#8317"> 8317: </a>        <span class="php-keyword1">foreach</span> ((<span class="php-keyword1">array</span>) <span class="php-var">$this</span>-&gt;get_item_tags(SIMPLEPIE_NAMESPACE_DC_11, <span class="php-quote">'creator'</span>) <span class="php-keyword1">as</span> <span class="php-var">$author</span>)
</span><span id="8318" class="l"><a class="l" href="#8318"> 8318: </a>        {
</span><span id="8319" class="l"><a class="l" href="#8319"> 8319: </a>            <span class="php-var">$authors</span>[] = <span class="php-var">$this</span>-&gt;registry-&gt;create(<span class="php-quote">'Author'</span>, <span class="php-keyword1">array</span>(<span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$author</span>[<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_TEXT), <span class="php-keyword1">null</span>, <span class="php-keyword1">null</span>));
</span><span id="8320" class="l"><a class="l" href="#8320"> 8320: </a>        }
</span><span id="8321" class="l"><a class="l" href="#8321"> 8321: </a>        <span class="php-keyword1">foreach</span> ((<span class="php-keyword1">array</span>) <span class="php-var">$this</span>-&gt;get_item_tags(SIMPLEPIE_NAMESPACE_DC_10, <span class="php-quote">'creator'</span>) <span class="php-keyword1">as</span> <span class="php-var">$author</span>)
</span><span id="8322" class="l"><a class="l" href="#8322"> 8322: </a>        {
</span><span id="8323" class="l"><a class="l" href="#8323"> 8323: </a>            <span class="php-var">$authors</span>[] = <span class="php-var">$this</span>-&gt;registry-&gt;create(<span class="php-quote">'Author'</span>, <span class="php-keyword1">array</span>(<span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$author</span>[<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_TEXT), <span class="php-keyword1">null</span>, <span class="php-keyword1">null</span>));
</span><span id="8324" class="l"><a class="l" href="#8324"> 8324: </a>        }
</span><span id="8325" class="l"><a class="l" href="#8325"> 8325: </a>        <span class="php-keyword1">foreach</span> ((<span class="php-keyword1">array</span>) <span class="php-var">$this</span>-&gt;get_item_tags(SIMPLEPIE_NAMESPACE_ITUNES, <span class="php-quote">'author'</span>) <span class="php-keyword1">as</span> <span class="php-var">$author</span>)
</span><span id="8326" class="l"><a class="l" href="#8326"> 8326: </a>        {
</span><span id="8327" class="l"><a class="l" href="#8327"> 8327: </a>            <span class="php-var">$authors</span>[] = <span class="php-var">$this</span>-&gt;registry-&gt;create(<span class="php-quote">'Author'</span>, <span class="php-keyword1">array</span>(<span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$author</span>[<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_TEXT), <span class="php-keyword1">null</span>, <span class="php-keyword1">null</span>));
</span><span id="8328" class="l"><a class="l" href="#8328"> 8328: </a>        }
</span><span id="8329" class="l"><a class="l" href="#8329"> 8329: </a>
</span><span id="8330" class="l"><a class="l" href="#8330"> 8330: </a>        <span class="php-keyword1">if</span> (!<span class="php-keyword1">empty</span>(<span class="php-var">$authors</span>))
</span><span id="8331" class="l"><a class="l" href="#8331"> 8331: </a>        {
</span><span id="8332" class="l"><a class="l" href="#8332"> 8332: </a>            <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;registry-&gt;call(<span class="php-quote">'Misc'</span>, <span class="php-quote">'array_unique'</span>, <span class="php-keyword1">array</span>(<span class="php-var">$authors</span>));
</span><span id="8333" class="l"><a class="l" href="#8333"> 8333: </a>        }
</span><span id="8334" class="l"><a class="l" href="#8334"> 8334: </a>        <span class="php-keyword1">elseif</span> ((<span class="php-var">$source</span> = <span class="php-var">$this</span>-&gt;get_source()) &amp;&amp; (<span class="php-var">$authors</span> = <span class="php-var">$source</span>-&gt;get_authors()))
</span><span id="8335" class="l"><a class="l" href="#8335"> 8335: </a>        {
</span><span id="8336" class="l"><a class="l" href="#8336"> 8336: </a>            <span class="php-keyword1">return</span> <span class="php-var">$authors</span>;
</span><span id="8337" class="l"><a class="l" href="#8337"> 8337: </a>        }
</span><span id="8338" class="l"><a class="l" href="#8338"> 8338: </a>        <span class="php-keyword1">elseif</span> (<span class="php-var">$authors</span> = <span class="php-var">$this</span>-&gt;feed-&gt;get_authors())
</span><span id="8339" class="l"><a class="l" href="#8339"> 8339: </a>        {
</span><span id="8340" class="l"><a class="l" href="#8340"> 8340: </a>            <span class="php-keyword1">return</span> <span class="php-var">$authors</span>;
</span><span id="8341" class="l"><a class="l" href="#8341"> 8341: </a>        }
</span><span id="8342" class="l"><a class="l" href="#8342"> 8342: </a>        <span class="php-keyword1">else</span>
</span><span id="8343" class="l"><a class="l" href="#8343"> 8343: </a>        {
</span><span id="8344" class="l"><a class="l" href="#8344"> 8344: </a>            <span class="php-keyword1">return</span> <span class="php-keyword1">null</span>;
</span><span id="8345" class="l"><a class="l" href="#8345"> 8345: </a>        }
</span><span id="8346" class="l"><a class="l" href="#8346"> 8346: </a>    }
</span><span id="8347" class="l"><a class="l" href="#8347"> 8347: </a>
</span><span id="8348" class="l"><a class="l" href="#8348"> 8348: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_get_copyright" href="#_get_copyright">get_copyright</a>()
</span><span id="8349" class="l"><a class="l" href="#8349"> 8349: </a>    {
</span><span id="8350" class="l"><a class="l" href="#8350"> 8350: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$return</span> = <span class="php-var">$this</span>-&gt;get_item_tags(SIMPLEPIE_NAMESPACE_ATOM_10, <span class="php-quote">'rights'</span>))
</span><span id="8351" class="l"><a class="l" href="#8351"> 8351: </a>        {
</span><span id="8352" class="l"><a class="l" href="#8352"> 8352: </a>            <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$return</span>[<span class="php-num">0</span>][<span class="php-quote">'data'</span>], <span class="php-var">$this</span>-&gt;registry-&gt;call(<span class="php-quote">'Misc'</span>, <span class="php-quote">'atom_10_construct_type'</span>, <span class="php-keyword1">array</span>(<span class="php-var">$return</span>[<span class="php-num">0</span>][<span class="php-quote">'attribs'</span>])), <span class="php-var">$this</span>-&gt;get_base(<span class="php-var">$return</span>[<span class="php-num">0</span>]));
</span><span id="8353" class="l"><a class="l" href="#8353"> 8353: </a>        }
</span><span id="8354" class="l"><a class="l" href="#8354"> 8354: </a>        <span class="php-keyword1">elseif</span> (<span class="php-var">$return</span> = <span class="php-var">$this</span>-&gt;get_item_tags(SIMPLEPIE_NAMESPACE_DC_11, <span class="php-quote">'rights'</span>))
</span><span id="8355" class="l"><a class="l" href="#8355"> 8355: </a>        {
</span><span id="8356" class="l"><a class="l" href="#8356"> 8356: </a>            <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$return</span>[<span class="php-num">0</span>][<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="8357" class="l"><a class="l" href="#8357"> 8357: </a>        }
</span><span id="8358" class="l"><a class="l" href="#8358"> 8358: </a>        <span class="php-keyword1">elseif</span> (<span class="php-var">$return</span> = <span class="php-var">$this</span>-&gt;get_item_tags(SIMPLEPIE_NAMESPACE_DC_10, <span class="php-quote">'rights'</span>))
</span><span id="8359" class="l"><a class="l" href="#8359"> 8359: </a>        {
</span><span id="8360" class="l"><a class="l" href="#8360"> 8360: </a>            <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$return</span>[<span class="php-num">0</span>][<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="8361" class="l"><a class="l" href="#8361"> 8361: </a>        }
</span><span id="8362" class="l"><a class="l" href="#8362"> 8362: </a>        <span class="php-keyword1">else</span>
</span><span id="8363" class="l"><a class="l" href="#8363"> 8363: </a>        {
</span><span id="8364" class="l"><a class="l" href="#8364"> 8364: </a>            <span class="php-keyword1">return</span> <span class="php-keyword1">null</span>;
</span><span id="8365" class="l"><a class="l" href="#8365"> 8365: </a>        }
</span><span id="8366" class="l"><a class="l" href="#8366"> 8366: </a>    }
</span><span id="8367" class="l"><a class="l" href="#8367"> 8367: </a>
</span><span id="8368" class="l"><a class="l" href="#8368"> 8368: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_get_date" href="#_get_date">get_date</a>(<span class="php-var">$date_format</span> = <span class="php-quote">'j F Y, g:i a'</span>)
</span><span id="8369" class="l"><a class="l" href="#8369"> 8369: </a>    {
</span><span id="8370" class="l"><a class="l" href="#8370"> 8370: </a>        <span class="php-keyword1">if</span> (!<span class="php-keyword1">isset</span>(<span class="php-var">$this</span>-&gt;data[<span class="php-quote">'date'</span>]))
</span><span id="8371" class="l"><a class="l" href="#8371"> 8371: </a>        {
</span><span id="8372" class="l"><a class="l" href="#8372"> 8372: </a>            <span class="php-keyword1">if</span> (<span class="php-var">$return</span> = <span class="php-var">$this</span>-&gt;get_item_tags(SIMPLEPIE_NAMESPACE_ATOM_10, <span class="php-quote">'published'</span>))
</span><span id="8373" class="l"><a class="l" href="#8373"> 8373: </a>            {
</span><span id="8374" class="l"><a class="l" href="#8374"> 8374: </a>                <span class="php-var">$this</span>-&gt;data[<span class="php-quote">'date'</span>][<span class="php-quote">'raw'</span>] = <span class="php-var">$return</span>[<span class="php-num">0</span>][<span class="php-quote">'data'</span>];
</span><span id="8375" class="l"><a class="l" href="#8375"> 8375: </a>            }
</span><span id="8376" class="l"><a class="l" href="#8376"> 8376: </a>            <span class="php-keyword1">elseif</span> (<span class="php-var">$return</span> = <span class="php-var">$this</span>-&gt;get_item_tags(SIMPLEPIE_NAMESPACE_ATOM_10, <span class="php-quote">'updated'</span>))
</span><span id="8377" class="l"><a class="l" href="#8377"> 8377: </a>            {
</span><span id="8378" class="l"><a class="l" href="#8378"> 8378: </a>                <span class="php-var">$this</span>-&gt;data[<span class="php-quote">'date'</span>][<span class="php-quote">'raw'</span>] = <span class="php-var">$return</span>[<span class="php-num">0</span>][<span class="php-quote">'data'</span>];
</span><span id="8379" class="l"><a class="l" href="#8379"> 8379: </a>            }
</span><span id="8380" class="l"><a class="l" href="#8380"> 8380: </a>            <span class="php-keyword1">elseif</span> (<span class="php-var">$return</span> = <span class="php-var">$this</span>-&gt;get_item_tags(SIMPLEPIE_NAMESPACE_ATOM_03, <span class="php-quote">'issued'</span>))
</span><span id="8381" class="l"><a class="l" href="#8381"> 8381: </a>            {
</span><span id="8382" class="l"><a class="l" href="#8382"> 8382: </a>                <span class="php-var">$this</span>-&gt;data[<span class="php-quote">'date'</span>][<span class="php-quote">'raw'</span>] = <span class="php-var">$return</span>[<span class="php-num">0</span>][<span class="php-quote">'data'</span>];
</span><span id="8383" class="l"><a class="l" href="#8383"> 8383: </a>            }
</span><span id="8384" class="l"><a class="l" href="#8384"> 8384: </a>            <span class="php-keyword1">elseif</span> (<span class="php-var">$return</span> = <span class="php-var">$this</span>-&gt;get_item_tags(SIMPLEPIE_NAMESPACE_ATOM_03, <span class="php-quote">'created'</span>))
</span><span id="8385" class="l"><a class="l" href="#8385"> 8385: </a>            {
</span><span id="8386" class="l"><a class="l" href="#8386"> 8386: </a>                <span class="php-var">$this</span>-&gt;data[<span class="php-quote">'date'</span>][<span class="php-quote">'raw'</span>] = <span class="php-var">$return</span>[<span class="php-num">0</span>][<span class="php-quote">'data'</span>];
</span><span id="8387" class="l"><a class="l" href="#8387"> 8387: </a>            }
</span><span id="8388" class="l"><a class="l" href="#8388"> 8388: </a>            <span class="php-keyword1">elseif</span> (<span class="php-var">$return</span> = <span class="php-var">$this</span>-&gt;get_item_tags(SIMPLEPIE_NAMESPACE_ATOM_03, <span class="php-quote">'modified'</span>))
</span><span id="8389" class="l"><a class="l" href="#8389"> 8389: </a>            {
</span><span id="8390" class="l"><a class="l" href="#8390"> 8390: </a>                <span class="php-var">$this</span>-&gt;data[<span class="php-quote">'date'</span>][<span class="php-quote">'raw'</span>] = <span class="php-var">$return</span>[<span class="php-num">0</span>][<span class="php-quote">'data'</span>];
</span><span id="8391" class="l"><a class="l" href="#8391"> 8391: </a>            }
</span><span id="8392" class="l"><a class="l" href="#8392"> 8392: </a>            <span class="php-keyword1">elseif</span> (<span class="php-var">$return</span> = <span class="php-var">$this</span>-&gt;get_item_tags(SIMPLEPIE_NAMESPACE_RSS_20, <span class="php-quote">'pubDate'</span>))
</span><span id="8393" class="l"><a class="l" href="#8393"> 8393: </a>            {
</span><span id="8394" class="l"><a class="l" href="#8394"> 8394: </a>                <span class="php-var">$this</span>-&gt;data[<span class="php-quote">'date'</span>][<span class="php-quote">'raw'</span>] = <span class="php-var">$return</span>[<span class="php-num">0</span>][<span class="php-quote">'data'</span>];
</span><span id="8395" class="l"><a class="l" href="#8395"> 8395: </a>            }
</span><span id="8396" class="l"><a class="l" href="#8396"> 8396: </a>            <span class="php-keyword1">elseif</span> (<span class="php-var">$return</span> = <span class="php-var">$this</span>-&gt;get_item_tags(SIMPLEPIE_NAMESPACE_DC_11, <span class="php-quote">'date'</span>))
</span><span id="8397" class="l"><a class="l" href="#8397"> 8397: </a>            {
</span><span id="8398" class="l"><a class="l" href="#8398"> 8398: </a>                <span class="php-var">$this</span>-&gt;data[<span class="php-quote">'date'</span>][<span class="php-quote">'raw'</span>] = <span class="php-var">$return</span>[<span class="php-num">0</span>][<span class="php-quote">'data'</span>];
</span><span id="8399" class="l"><a class="l" href="#8399"> 8399: </a>            }
</span><span id="8400" class="l"><a class="l" href="#8400"> 8400: </a>            <span class="php-keyword1">elseif</span> (<span class="php-var">$return</span> = <span class="php-var">$this</span>-&gt;get_item_tags(SIMPLEPIE_NAMESPACE_DC_10, <span class="php-quote">'date'</span>))
</span><span id="8401" class="l"><a class="l" href="#8401"> 8401: </a>            {
</span><span id="8402" class="l"><a class="l" href="#8402"> 8402: </a>                <span class="php-var">$this</span>-&gt;data[<span class="php-quote">'date'</span>][<span class="php-quote">'raw'</span>] = <span class="php-var">$return</span>[<span class="php-num">0</span>][<span class="php-quote">'data'</span>];
</span><span id="8403" class="l"><a class="l" href="#8403"> 8403: </a>            }
</span><span id="8404" class="l"><a class="l" href="#8404"> 8404: </a>
</span><span id="8405" class="l"><a class="l" href="#8405"> 8405: </a>            <span class="php-keyword1">if</span> (!<span class="php-keyword1">empty</span>(<span class="php-var">$this</span>-&gt;data[<span class="php-quote">'date'</span>][<span class="php-quote">'raw'</span>]))
</span><span id="8406" class="l"><a class="l" href="#8406"> 8406: </a>            {
</span><span id="8407" class="l"><a class="l" href="#8407"> 8407: </a>                <span class="php-var">$parser</span> = <span class="php-var">$this</span>-&gt;registry-&gt;call(<span class="php-quote">'Parse_Date'</span>, <span class="php-quote">'get'</span>);
</span><span id="8408" class="l"><a class="l" href="#8408"> 8408: </a>                <span class="php-var">$this</span>-&gt;data[<span class="php-quote">'date'</span>][<span class="php-quote">'parsed'</span>] = <span class="php-var">$parser</span>-&gt;parse(<span class="php-var">$this</span>-&gt;data[<span class="php-quote">'date'</span>][<span class="php-quote">'raw'</span>]);
</span><span id="8409" class="l"><a class="l" href="#8409"> 8409: </a>            }
</span><span id="8410" class="l"><a class="l" href="#8410"> 8410: </a>            <span class="php-keyword1">else</span>
</span><span id="8411" class="l"><a class="l" href="#8411"> 8411: </a>            {
</span><span id="8412" class="l"><a class="l" href="#8412"> 8412: </a>                <span class="php-var">$this</span>-&gt;data[<span class="php-quote">'date'</span>] = <span class="php-keyword1">null</span>;
</span><span id="8413" class="l"><a class="l" href="#8413"> 8413: </a>            }
</span><span id="8414" class="l"><a class="l" href="#8414"> 8414: </a>        }
</span><span id="8415" class="l"><a class="l" href="#8415"> 8415: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$this</span>-&gt;data[<span class="php-quote">'date'</span>])
</span><span id="8416" class="l"><a class="l" href="#8416"> 8416: </a>        {
</span><span id="8417" class="l"><a class="l" href="#8417"> 8417: </a>            <span class="php-var">$date_format</span> = (string) <span class="php-var">$date_format</span>;
</span><span id="8418" class="l"><a class="l" href="#8418"> 8418: </a>            <span class="php-keyword1">switch</span> (<span class="php-var">$date_format</span>)
</span><span id="8419" class="l"><a class="l" href="#8419"> 8419: </a>            {
</span><span id="8420" class="l"><a class="l" href="#8420"> 8420: </a>                <span class="php-keyword1">case</span> <span class="php-quote">''</span>:
</span><span id="8421" class="l"><a class="l" href="#8421"> 8421: </a>                    <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$this</span>-&gt;data[<span class="php-quote">'date'</span>][<span class="php-quote">'raw'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="8422" class="l"><a class="l" href="#8422"> 8422: </a>
</span><span id="8423" class="l"><a class="l" href="#8423"> 8423: </a>                <span class="php-keyword1">case</span> <span class="php-quote">'U'</span>:
</span><span id="8424" class="l"><a class="l" href="#8424"> 8424: </a>                    <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;data[<span class="php-quote">'date'</span>][<span class="php-quote">'parsed'</span>];
</span><span id="8425" class="l"><a class="l" href="#8425"> 8425: </a>
</span><span id="8426" class="l"><a class="l" href="#8426"> 8426: </a>                <span class="php-keyword1">default</span>:
</span><span id="8427" class="l"><a class="l" href="#8427"> 8427: </a>                    <span class="php-keyword1">return</span> <span class="php-keyword2">date</span>(<span class="php-var">$date_format</span>, <span class="php-var">$this</span>-&gt;data[<span class="php-quote">'date'</span>][<span class="php-quote">'parsed'</span>]);
</span><span id="8428" class="l"><a class="l" href="#8428"> 8428: </a>            }
</span><span id="8429" class="l"><a class="l" href="#8429"> 8429: </a>        }
</span><span id="8430" class="l"><a class="l" href="#8430"> 8430: </a>        <span class="php-keyword1">else</span>
</span><span id="8431" class="l"><a class="l" href="#8431"> 8431: </a>        {
</span><span id="8432" class="l"><a class="l" href="#8432"> 8432: </a>            <span class="php-keyword1">return</span> <span class="php-keyword1">null</span>;
</span><span id="8433" class="l"><a class="l" href="#8433"> 8433: </a>        }
</span><span id="8434" class="l"><a class="l" href="#8434"> 8434: </a>    }
</span><span id="8435" class="l"><a class="l" href="#8435"> 8435: </a>
</span><span id="8436" class="l"><a class="l" href="#8436"> 8436: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_get_updated_date" href="#_get_updated_date">get_updated_date</a>(<span class="php-var">$date_format</span> = <span class="php-quote">'j F Y, g:i a'</span>)
</span><span id="8437" class="l"><a class="l" href="#8437"> 8437: </a>    {
</span><span id="8438" class="l"><a class="l" href="#8438"> 8438: </a>        <span class="php-keyword1">if</span> (!<span class="php-keyword1">isset</span>(<span class="php-var">$this</span>-&gt;data[<span class="php-quote">'updated'</span>]))
</span><span id="8439" class="l"><a class="l" href="#8439"> 8439: </a>        {
</span><span id="8440" class="l"><a class="l" href="#8440"> 8440: </a>            <span class="php-keyword1">if</span> (<span class="php-var">$return</span> = <span class="php-var">$this</span>-&gt;get_item_tags(SIMPLEPIE_NAMESPACE_ATOM_10, <span class="php-quote">'updated'</span>))
</span><span id="8441" class="l"><a class="l" href="#8441"> 8441: </a>            {
</span><span id="8442" class="l"><a class="l" href="#8442"> 8442: </a>                <span class="php-var">$this</span>-&gt;data[<span class="php-quote">'updated'</span>][<span class="php-quote">'raw'</span>] = <span class="php-var">$return</span>[<span class="php-num">0</span>][<span class="php-quote">'data'</span>];
</span><span id="8443" class="l"><a class="l" href="#8443"> 8443: </a>            }
</span><span id="8444" class="l"><a class="l" href="#8444"> 8444: </a>
</span><span id="8445" class="l"><a class="l" href="#8445"> 8445: </a>            <span class="php-keyword1">if</span> (!<span class="php-keyword1">empty</span>(<span class="php-var">$this</span>-&gt;data[<span class="php-quote">'updated'</span>][<span class="php-quote">'raw'</span>]))
</span><span id="8446" class="l"><a class="l" href="#8446"> 8446: </a>            {
</span><span id="8447" class="l"><a class="l" href="#8447"> 8447: </a>                <span class="php-var">$parser</span> = <span class="php-var">$this</span>-&gt;registry-&gt;call(<span class="php-quote">'Parse_Date'</span>, <span class="php-quote">'get'</span>);
</span><span id="8448" class="l"><a class="l" href="#8448"> 8448: </a>                <span class="php-var">$this</span>-&gt;data[<span class="php-quote">'updated'</span>][<span class="php-quote">'parsed'</span>] = <span class="php-var">$parser</span>-&gt;parse(<span class="php-var">$this</span>-&gt;data[<span class="php-quote">'date'</span>][<span class="php-quote">'raw'</span>]);
</span><span id="8449" class="l"><a class="l" href="#8449"> 8449: </a>            }
</span><span id="8450" class="l"><a class="l" href="#8450"> 8450: </a>            <span class="php-keyword1">else</span>
</span><span id="8451" class="l"><a class="l" href="#8451"> 8451: </a>            {
</span><span id="8452" class="l"><a class="l" href="#8452"> 8452: </a>                <span class="php-var">$this</span>-&gt;data[<span class="php-quote">'updated'</span>] = <span class="php-keyword1">null</span>;
</span><span id="8453" class="l"><a class="l" href="#8453"> 8453: </a>            }
</span><span id="8454" class="l"><a class="l" href="#8454"> 8454: </a>        }
</span><span id="8455" class="l"><a class="l" href="#8455"> 8455: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$this</span>-&gt;data[<span class="php-quote">'updated'</span>])
</span><span id="8456" class="l"><a class="l" href="#8456"> 8456: </a>        {
</span><span id="8457" class="l"><a class="l" href="#8457"> 8457: </a>            <span class="php-var">$date_format</span> = (string) <span class="php-var">$date_format</span>;
</span><span id="8458" class="l"><a class="l" href="#8458"> 8458: </a>            <span class="php-keyword1">switch</span> (<span class="php-var">$date_format</span>)
</span><span id="8459" class="l"><a class="l" href="#8459"> 8459: </a>            {
</span><span id="8460" class="l"><a class="l" href="#8460"> 8460: </a>                <span class="php-keyword1">case</span> <span class="php-quote">''</span>:
</span><span id="8461" class="l"><a class="l" href="#8461"> 8461: </a>                    <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$this</span>-&gt;data[<span class="php-quote">'updated'</span>][<span class="php-quote">'raw'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="8462" class="l"><a class="l" href="#8462"> 8462: </a>
</span><span id="8463" class="l"><a class="l" href="#8463"> 8463: </a>                <span class="php-keyword1">case</span> <span class="php-quote">'U'</span>:
</span><span id="8464" class="l"><a class="l" href="#8464"> 8464: </a>                    <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;data[<span class="php-quote">'updated'</span>][<span class="php-quote">'parsed'</span>];
</span><span id="8465" class="l"><a class="l" href="#8465"> 8465: </a>
</span><span id="8466" class="l"><a class="l" href="#8466"> 8466: </a>                <span class="php-keyword1">default</span>:
</span><span id="8467" class="l"><a class="l" href="#8467"> 8467: </a>                    <span class="php-keyword1">return</span> <span class="php-keyword2">date</span>(<span class="php-var">$date_format</span>, <span class="php-var">$this</span>-&gt;data[<span class="php-quote">'updated'</span>][<span class="php-quote">'parsed'</span>]);
</span><span id="8468" class="l"><a class="l" href="#8468"> 8468: </a>            }
</span><span id="8469" class="l"><a class="l" href="#8469"> 8469: </a>        }
</span><span id="8470" class="l"><a class="l" href="#8470"> 8470: </a>        <span class="php-keyword1">else</span>
</span><span id="8471" class="l"><a class="l" href="#8471"> 8471: </a>        {
</span><span id="8472" class="l"><a class="l" href="#8472"> 8472: </a>            <span class="php-keyword1">return</span> <span class="php-keyword1">null</span>;
</span><span id="8473" class="l"><a class="l" href="#8473"> 8473: </a>        }
</span><span id="8474" class="l"><a class="l" href="#8474"> 8474: </a>    }
</span><span id="8475" class="l"><a class="l" href="#8475"> 8475: </a>    
</span><span id="8476" class="l"><a class="l" href="#8476"> 8476: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_get_local_date" href="#_get_local_date">get_local_date</a>(<span class="php-var">$date_format</span> = <span class="php-quote">'%c'</span>)
</span><span id="8477" class="l"><a class="l" href="#8477"> 8477: </a>    {
</span><span id="8478" class="l"><a class="l" href="#8478"> 8478: </a>        <span class="php-keyword1">if</span> (!<span class="php-var">$date_format</span>)
</span><span id="8479" class="l"><a class="l" href="#8479"> 8479: </a>        {
</span><span id="8480" class="l"><a class="l" href="#8480"> 8480: </a>            <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$this</span>-&gt;get_date(<span class="php-quote">''</span>), SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="8481" class="l"><a class="l" href="#8481"> 8481: </a>        }
</span><span id="8482" class="l"><a class="l" href="#8482"> 8482: </a>        <span class="php-keyword1">elseif</span> ((<span class="php-var">$date</span> = <span class="php-var">$this</span>-&gt;get_date(<span class="php-quote">'U'</span>)) !== <span class="php-keyword1">null</span> &amp;&amp; <span class="php-var">$date</span> !== <span class="php-keyword1">false</span>)
</span><span id="8483" class="l"><a class="l" href="#8483"> 8483: </a>        {
</span><span id="8484" class="l"><a class="l" href="#8484"> 8484: </a>            <span class="php-keyword1">return</span> <span class="php-keyword2">strftime</span>(<span class="php-var">$date_format</span>, <span class="php-var">$date</span>);
</span><span id="8485" class="l"><a class="l" href="#8485"> 8485: </a>        }
</span><span id="8486" class="l"><a class="l" href="#8486"> 8486: </a>        <span class="php-keyword1">else</span>
</span><span id="8487" class="l"><a class="l" href="#8487"> 8487: </a>        {
</span><span id="8488" class="l"><a class="l" href="#8488"> 8488: </a>            <span class="php-keyword1">return</span> <span class="php-keyword1">null</span>;
</span><span id="8489" class="l"><a class="l" href="#8489"> 8489: </a>        }
</span><span id="8490" class="l"><a class="l" href="#8490"> 8490: </a>    }
</span><span id="8491" class="l"><a class="l" href="#8491"> 8491: </a>
</span><span id="8492" class="l"><a class="l" href="#8492"> 8492: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_get_gmdate" href="#_get_gmdate">get_gmdate</a>(<span class="php-var">$date_format</span> = <span class="php-quote">'j F Y, g:i a'</span>)
</span><span id="8493" class="l"><a class="l" href="#8493"> 8493: </a>    {
</span><span id="8494" class="l"><a class="l" href="#8494"> 8494: </a>        <span class="php-var">$date</span> = <span class="php-var">$this</span>-&gt;get_date(<span class="php-quote">'U'</span>);
</span><span id="8495" class="l"><a class="l" href="#8495"> 8495: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$date</span> === <span class="php-keyword1">null</span>)
</span><span id="8496" class="l"><a class="l" href="#8496"> 8496: </a>        {
</span><span id="8497" class="l"><a class="l" href="#8497"> 8497: </a>            <span class="php-keyword1">return</span> <span class="php-keyword1">null</span>;
</span><span id="8498" class="l"><a class="l" href="#8498"> 8498: </a>        }
</span><span id="8499" class="l"><a class="l" href="#8499"> 8499: </a>
</span><span id="8500" class="l"><a class="l" href="#8500"> 8500: </a>        <span class="php-keyword1">return</span> <span class="php-keyword2">gmdate</span>(<span class="php-var">$date_format</span>, <span class="php-var">$date</span>);
</span><span id="8501" class="l"><a class="l" href="#8501"> 8501: </a>    }
</span><span id="8502" class="l"><a class="l" href="#8502"> 8502: </a>
</span><span id="8503" class="l"><a class="l" href="#8503"> 8503: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_get_updated_gmdate" href="#_get_updated_gmdate">get_updated_gmdate</a>(<span class="php-var">$date_format</span> = <span class="php-quote">'j F Y, g:i a'</span>)
</span><span id="8504" class="l"><a class="l" href="#8504"> 8504: </a>    {
</span><span id="8505" class="l"><a class="l" href="#8505"> 8505: </a>        <span class="php-var">$date</span> = <span class="php-var">$this</span>-&gt;get_updated_date(<span class="php-quote">'U'</span>);
</span><span id="8506" class="l"><a class="l" href="#8506"> 8506: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$date</span> === <span class="php-keyword1">null</span>)
</span><span id="8507" class="l"><a class="l" href="#8507"> 8507: </a>        {
</span><span id="8508" class="l"><a class="l" href="#8508"> 8508: </a>            <span class="php-keyword1">return</span> <span class="php-keyword1">null</span>;
</span><span id="8509" class="l"><a class="l" href="#8509"> 8509: </a>        }
</span><span id="8510" class="l"><a class="l" href="#8510"> 8510: </a>
</span><span id="8511" class="l"><a class="l" href="#8511"> 8511: </a>        <span class="php-keyword1">return</span> <span class="php-keyword2">gmdate</span>(<span class="php-var">$date_format</span>, <span class="php-var">$date</span>);
</span><span id="8512" class="l"><a class="l" href="#8512"> 8512: </a>    }
</span><span id="8513" class="l"><a class="l" href="#8513"> 8513: </a>
</span><span id="8514" class="l"><a class="l" href="#8514"> 8514: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_get_permalink" href="#_get_permalink">get_permalink</a>()
</span><span id="8515" class="l"><a class="l" href="#8515"> 8515: </a>    {
</span><span id="8516" class="l"><a class="l" href="#8516"> 8516: </a>        <span class="php-var">$link</span> = <span class="php-var">$this</span>-&gt;get_link();
</span><span id="8517" class="l"><a class="l" href="#8517"> 8517: </a>        <span class="php-var">$enclosure</span> = <span class="php-var">$this</span>-&gt;get_enclosure(<span class="php-num">0</span>);
</span><span id="8518" class="l"><a class="l" href="#8518"> 8518: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$link</span> !== <span class="php-keyword1">null</span>)
</span><span id="8519" class="l"><a class="l" href="#8519"> 8519: </a>        {
</span><span id="8520" class="l"><a class="l" href="#8520"> 8520: </a>            <span class="php-keyword1">return</span> <span class="php-var">$link</span>;
</span><span id="8521" class="l"><a class="l" href="#8521"> 8521: </a>        }
</span><span id="8522" class="l"><a class="l" href="#8522"> 8522: </a>        <span class="php-keyword1">elseif</span> (<span class="php-var">$enclosure</span> !== <span class="php-keyword1">null</span>)
</span><span id="8523" class="l"><a class="l" href="#8523"> 8523: </a>        {
</span><span id="8524" class="l"><a class="l" href="#8524"> 8524: </a>            <span class="php-keyword1">return</span> <span class="php-var">$enclosure</span>-&gt;get_link();
</span><span id="8525" class="l"><a class="l" href="#8525"> 8525: </a>        }
</span><span id="8526" class="l"><a class="l" href="#8526"> 8526: </a>        <span class="php-keyword1">else</span>
</span><span id="8527" class="l"><a class="l" href="#8527"> 8527: </a>        {
</span><span id="8528" class="l"><a class="l" href="#8528"> 8528: </a>            <span class="php-keyword1">return</span> <span class="php-keyword1">null</span>;
</span><span id="8529" class="l"><a class="l" href="#8529"> 8529: </a>        }
</span><span id="8530" class="l"><a class="l" href="#8530"> 8530: </a>    }
</span><span id="8531" class="l"><a class="l" href="#8531"> 8531: </a>
</span><span id="8532" class="l"><a class="l" href="#8532"> 8532: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_get_link" href="#_get_link">get_link</a>(<span class="php-var">$key</span> = <span class="php-num">0</span>, <span class="php-var">$rel</span> = <span class="php-quote">'alternate'</span>)
</span><span id="8533" class="l"><a class="l" href="#8533"> 8533: </a>    {
</span><span id="8534" class="l"><a class="l" href="#8534"> 8534: </a>        <span class="php-var">$links</span> = <span class="php-var">$this</span>-&gt;get_links(<span class="php-var">$rel</span>);
</span><span id="8535" class="l"><a class="l" href="#8535"> 8535: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$links</span>[<span class="php-var">$key</span>] !== <span class="php-keyword1">null</span>)
</span><span id="8536" class="l"><a class="l" href="#8536"> 8536: </a>        {
</span><span id="8537" class="l"><a class="l" href="#8537"> 8537: </a>            <span class="php-keyword1">return</span> <span class="php-var">$links</span>[<span class="php-var">$key</span>];
</span><span id="8538" class="l"><a class="l" href="#8538"> 8538: </a>        }
</span><span id="8539" class="l"><a class="l" href="#8539"> 8539: </a>        <span class="php-keyword1">else</span>
</span><span id="8540" class="l"><a class="l" href="#8540"> 8540: </a>        {
</span><span id="8541" class="l"><a class="l" href="#8541"> 8541: </a>            <span class="php-keyword1">return</span> <span class="php-keyword1">null</span>;
</span><span id="8542" class="l"><a class="l" href="#8542"> 8542: </a>        }
</span><span id="8543" class="l"><a class="l" href="#8543"> 8543: </a>    }
</span><span id="8544" class="l"><a class="l" href="#8544"> 8544: </a>
</span><span id="8545" class="l"><a class="l" href="#8545"> 8545: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_get_links" href="#_get_links">get_links</a>(<span class="php-var">$rel</span> = <span class="php-quote">'alternate'</span>)
</span><span id="8546" class="l"><a class="l" href="#8546"> 8546: </a>    {
</span><span id="8547" class="l"><a class="l" href="#8547"> 8547: </a>        <span class="php-keyword1">if</span> (!<span class="php-keyword1">isset</span>(<span class="php-var">$this</span>-&gt;data[<span class="php-quote">'links'</span>]))
</span><span id="8548" class="l"><a class="l" href="#8548"> 8548: </a>        {
</span><span id="8549" class="l"><a class="l" href="#8549"> 8549: </a>            <span class="php-var">$this</span>-&gt;data[<span class="php-quote">'links'</span>] = <span class="php-keyword1">array</span>();
</span><span id="8550" class="l"><a class="l" href="#8550"> 8550: </a>            <span class="php-keyword1">foreach</span> ((<span class="php-keyword1">array</span>) <span class="php-var">$this</span>-&gt;get_item_tags(SIMPLEPIE_NAMESPACE_ATOM_10, <span class="php-quote">'link'</span>) <span class="php-keyword1">as</span> <span class="php-var">$link</span>)
</span><span id="8551" class="l"><a class="l" href="#8551"> 8551: </a>            {
</span><span id="8552" class="l"><a class="l" href="#8552"> 8552: </a>                <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$link</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'href'</span>]))
</span><span id="8553" class="l"><a class="l" href="#8553"> 8553: </a>                {
</span><span id="8554" class="l"><a class="l" href="#8554"> 8554: </a>                    <span class="php-var">$link_rel</span> = (<span class="php-keyword1">isset</span>(<span class="php-var">$link</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'rel'</span>])) ? <span class="php-var">$link</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'rel'</span>] : <span class="php-quote">'alternate'</span>;
</span><span id="8555" class="l"><a class="l" href="#8555"> 8555: </a>                    <span class="php-var">$this</span>-&gt;data[<span class="php-quote">'links'</span>][<span class="php-var">$link_rel</span>][] = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$link</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'href'</span>], SIMPLEPIE_CONSTRUCT_IRI, <span class="php-var">$this</span>-&gt;get_base(<span class="php-var">$link</span>));
</span><span id="8556" class="l"><a class="l" href="#8556"> 8556: </a>
</span><span id="8557" class="l"><a class="l" href="#8557"> 8557: </a>                }
</span><span id="8558" class="l"><a class="l" href="#8558"> 8558: </a>            }
</span><span id="8559" class="l"><a class="l" href="#8559"> 8559: </a>            <span class="php-keyword1">foreach</span> ((<span class="php-keyword1">array</span>) <span class="php-var">$this</span>-&gt;get_item_tags(SIMPLEPIE_NAMESPACE_ATOM_03, <span class="php-quote">'link'</span>) <span class="php-keyword1">as</span> <span class="php-var">$link</span>)
</span><span id="8560" class="l"><a class="l" href="#8560"> 8560: </a>            {
</span><span id="8561" class="l"><a class="l" href="#8561"> 8561: </a>                <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$link</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'href'</span>]))
</span><span id="8562" class="l"><a class="l" href="#8562"> 8562: </a>                {
</span><span id="8563" class="l"><a class="l" href="#8563"> 8563: </a>                    <span class="php-var">$link_rel</span> = (<span class="php-keyword1">isset</span>(<span class="php-var">$link</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'rel'</span>])) ? <span class="php-var">$link</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'rel'</span>] : <span class="php-quote">'alternate'</span>;
</span><span id="8564" class="l"><a class="l" href="#8564"> 8564: </a>                    <span class="php-var">$this</span>-&gt;data[<span class="php-quote">'links'</span>][<span class="php-var">$link_rel</span>][] = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$link</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'href'</span>], SIMPLEPIE_CONSTRUCT_IRI, <span class="php-var">$this</span>-&gt;get_base(<span class="php-var">$link</span>));
</span><span id="8565" class="l"><a class="l" href="#8565"> 8565: </a>                }
</span><span id="8566" class="l"><a class="l" href="#8566"> 8566: </a>            }
</span><span id="8567" class="l"><a class="l" href="#8567"> 8567: </a>            <span class="php-keyword1">if</span> (<span class="php-var">$links</span> = <span class="php-var">$this</span>-&gt;get_item_tags(SIMPLEPIE_NAMESPACE_RSS_10, <span class="php-quote">'link'</span>))
</span><span id="8568" class="l"><a class="l" href="#8568"> 8568: </a>            {
</span><span id="8569" class="l"><a class="l" href="#8569"> 8569: </a>                <span class="php-var">$this</span>-&gt;data[<span class="php-quote">'links'</span>][<span class="php-quote">'alternate'</span>][] = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$links</span>[<span class="php-num">0</span>][<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_IRI, <span class="php-var">$this</span>-&gt;get_base(<span class="php-var">$links</span>[<span class="php-num">0</span>]));
</span><span id="8570" class="l"><a class="l" href="#8570"> 8570: </a>            }
</span><span id="8571" class="l"><a class="l" href="#8571"> 8571: </a>            <span class="php-keyword1">if</span> (<span class="php-var">$links</span> = <span class="php-var">$this</span>-&gt;get_item_tags(SIMPLEPIE_NAMESPACE_RSS_090, <span class="php-quote">'link'</span>))
</span><span id="8572" class="l"><a class="l" href="#8572"> 8572: </a>            {
</span><span id="8573" class="l"><a class="l" href="#8573"> 8573: </a>                <span class="php-var">$this</span>-&gt;data[<span class="php-quote">'links'</span>][<span class="php-quote">'alternate'</span>][] = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$links</span>[<span class="php-num">0</span>][<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_IRI, <span class="php-var">$this</span>-&gt;get_base(<span class="php-var">$links</span>[<span class="php-num">0</span>]));
</span><span id="8574" class="l"><a class="l" href="#8574"> 8574: </a>            }
</span><span id="8575" class="l"><a class="l" href="#8575"> 8575: </a>            <span class="php-keyword1">if</span> (<span class="php-var">$links</span> = <span class="php-var">$this</span>-&gt;get_item_tags(SIMPLEPIE_NAMESPACE_RSS_20, <span class="php-quote">'link'</span>))
</span><span id="8576" class="l"><a class="l" href="#8576"> 8576: </a>            {
</span><span id="8577" class="l"><a class="l" href="#8577"> 8577: </a>                <span class="php-var">$this</span>-&gt;data[<span class="php-quote">'links'</span>][<span class="php-quote">'alternate'</span>][] = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$links</span>[<span class="php-num">0</span>][<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_IRI, <span class="php-var">$this</span>-&gt;get_base(<span class="php-var">$links</span>[<span class="php-num">0</span>]));
</span><span id="8578" class="l"><a class="l" href="#8578"> 8578: </a>            }
</span><span id="8579" class="l"><a class="l" href="#8579"> 8579: </a>            <span class="php-keyword1">if</span> (<span class="php-var">$links</span> = <span class="php-var">$this</span>-&gt;get_item_tags(SIMPLEPIE_NAMESPACE_RSS_20, <span class="php-quote">'guid'</span>))
</span><span id="8580" class="l"><a class="l" href="#8580"> 8580: </a>            {
</span><span id="8581" class="l"><a class="l" href="#8581"> 8581: </a>                <span class="php-keyword1">if</span> (!<span class="php-keyword1">isset</span>(<span class="php-var">$links</span>[<span class="php-num">0</span>][<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'isPermaLink'</span>]) || <span class="php-keyword2">strtolower</span>(<span class="php-keyword2">trim</span>(<span class="php-var">$links</span>[<span class="php-num">0</span>][<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'isPermaLink'</span>])) === <span class="php-quote">'true'</span>)
</span><span id="8582" class="l"><a class="l" href="#8582"> 8582: </a>                {
</span><span id="8583" class="l"><a class="l" href="#8583"> 8583: </a>                    <span class="php-var">$this</span>-&gt;data[<span class="php-quote">'links'</span>][<span class="php-quote">'alternate'</span>][] = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$links</span>[<span class="php-num">0</span>][<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_IRI, <span class="php-var">$this</span>-&gt;get_base(<span class="php-var">$links</span>[<span class="php-num">0</span>]));
</span><span id="8584" class="l"><a class="l" href="#8584"> 8584: </a>                }
</span><span id="8585" class="l"><a class="l" href="#8585"> 8585: </a>            }
</span><span id="8586" class="l"><a class="l" href="#8586"> 8586: </a>
</span><span id="8587" class="l"><a class="l" href="#8587"> 8587: </a>            <span class="php-var">$keys</span> = <span class="php-keyword2">array_keys</span>(<span class="php-var">$this</span>-&gt;data[<span class="php-quote">'links'</span>]);
</span><span id="8588" class="l"><a class="l" href="#8588"> 8588: </a>            <span class="php-keyword1">foreach</span> (<span class="php-var">$keys</span> <span class="php-keyword1">as</span> <span class="php-var">$key</span>)
</span><span id="8589" class="l"><a class="l" href="#8589"> 8589: </a>            {
</span><span id="8590" class="l"><a class="l" href="#8590"> 8590: </a>                <span class="php-keyword1">if</span> (<span class="php-var">$this</span>-&gt;registry-&gt;call(<span class="php-quote">'Misc'</span>, <span class="php-quote">'is_isegment_nz_nc'</span>, <span class="php-keyword1">array</span>(<span class="php-var">$key</span>)))
</span><span id="8591" class="l"><a class="l" href="#8591"> 8591: </a>                {
</span><span id="8592" class="l"><a class="l" href="#8592"> 8592: </a>                    <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$this</span>-&gt;data[<span class="php-quote">'links'</span>][SIMPLEPIE_IANA_LINK_RELATIONS_REGISTRY . <span class="php-var">$key</span>]))
</span><span id="8593" class="l"><a class="l" href="#8593"> 8593: </a>                    {
</span><span id="8594" class="l"><a class="l" href="#8594"> 8594: </a>                        <span class="php-var">$this</span>-&gt;data[<span class="php-quote">'links'</span>][SIMPLEPIE_IANA_LINK_RELATIONS_REGISTRY . <span class="php-var">$key</span>] = <span class="php-keyword2">array_merge</span>(<span class="php-var">$this</span>-&gt;data[<span class="php-quote">'links'</span>][<span class="php-var">$key</span>], <span class="php-var">$this</span>-&gt;data[<span class="php-quote">'links'</span>][SIMPLEPIE_IANA_LINK_RELATIONS_REGISTRY . <span class="php-var">$key</span>]);
</span><span id="8595" class="l"><a class="l" href="#8595"> 8595: </a>                        <span class="php-var">$this</span>-&gt;data[<span class="php-quote">'links'</span>][<span class="php-var">$key</span>] =&amp; <span class="php-var">$this</span>-&gt;data[<span class="php-quote">'links'</span>][SIMPLEPIE_IANA_LINK_RELATIONS_REGISTRY . <span class="php-var">$key</span>];
</span><span id="8596" class="l"><a class="l" href="#8596"> 8596: </a>                    }
</span><span id="8597" class="l"><a class="l" href="#8597"> 8597: </a>                    <span class="php-keyword1">else</span>
</span><span id="8598" class="l"><a class="l" href="#8598"> 8598: </a>                    {
</span><span id="8599" class="l"><a class="l" href="#8599"> 8599: </a>                        <span class="php-var">$this</span>-&gt;data[<span class="php-quote">'links'</span>][SIMPLEPIE_IANA_LINK_RELATIONS_REGISTRY . <span class="php-var">$key</span>] =&amp; <span class="php-var">$this</span>-&gt;data[<span class="php-quote">'links'</span>][<span class="php-var">$key</span>];
</span><span id="8600" class="l"><a class="l" href="#8600"> 8600: </a>                    }
</span><span id="8601" class="l"><a class="l" href="#8601"> 8601: </a>                }
</span><span id="8602" class="l"><a class="l" href="#8602"> 8602: </a>                <span class="php-keyword1">elseif</span> (<span class="php-keyword2">substr</span>(<span class="php-var">$key</span>, <span class="php-num">0</span>, <span class="php-num">41</span>) === SIMPLEPIE_IANA_LINK_RELATIONS_REGISTRY)
</span><span id="8603" class="l"><a class="l" href="#8603"> 8603: </a>                {
</span><span id="8604" class="l"><a class="l" href="#8604"> 8604: </a>                    <span class="php-var">$this</span>-&gt;data[<span class="php-quote">'links'</span>][<span class="php-keyword2">substr</span>(<span class="php-var">$key</span>, <span class="php-num">41</span>)] =&amp; <span class="php-var">$this</span>-&gt;data[<span class="php-quote">'links'</span>][<span class="php-var">$key</span>];
</span><span id="8605" class="l"><a class="l" href="#8605"> 8605: </a>                }
</span><span id="8606" class="l"><a class="l" href="#8606"> 8606: </a>                <span class="php-var">$this</span>-&gt;data[<span class="php-quote">'links'</span>][<span class="php-var">$key</span>] = <span class="php-keyword2">array_unique</span>(<span class="php-var">$this</span>-&gt;data[<span class="php-quote">'links'</span>][<span class="php-var">$key</span>]);
</span><span id="8607" class="l"><a class="l" href="#8607"> 8607: </a>            }
</span><span id="8608" class="l"><a class="l" href="#8608"> 8608: </a>        }
</span><span id="8609" class="l"><a class="l" href="#8609"> 8609: </a>        <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$this</span>-&gt;data[<span class="php-quote">'links'</span>][<span class="php-var">$rel</span>]))
</span><span id="8610" class="l"><a class="l" href="#8610"> 8610: </a>        {
</span><span id="8611" class="l"><a class="l" href="#8611"> 8611: </a>            <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;data[<span class="php-quote">'links'</span>][<span class="php-var">$rel</span>];
</span><span id="8612" class="l"><a class="l" href="#8612"> 8612: </a>        }
</span><span id="8613" class="l"><a class="l" href="#8613"> 8613: </a>        <span class="php-keyword1">else</span>
</span><span id="8614" class="l"><a class="l" href="#8614"> 8614: </a>        {
</span><span id="8615" class="l"><a class="l" href="#8615"> 8615: </a>            <span class="php-keyword1">return</span> <span class="php-keyword1">null</span>;
</span><span id="8616" class="l"><a class="l" href="#8616"> 8616: </a>        }
</span><span id="8617" class="l"><a class="l" href="#8617"> 8617: </a>    }
</span><span id="8618" class="l"><a class="l" href="#8618"> 8618: </a>
</span><span id="8619" class="l"><a class="l" href="#8619"> 8619: </a>    <span class="php-comment">/**
</span></span><span id="8620" class="l"><a class="l" href="#8620"> 8620: </a><span class="php-comment">     * @todo Add ability to prefer one type of content over another (in a media group).
</span></span><span id="8621" class="l"><a class="l" href="#8621"> 8621: </a><span class="php-comment">     */</span>
</span><span id="8622" class="l"><a class="l" href="#8622"> 8622: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_get_enclosure" href="#_get_enclosure">get_enclosure</a>(<span class="php-var">$key</span> = <span class="php-num">0</span>, <span class="php-var">$prefer</span> = <span class="php-keyword1">null</span>)
</span><span id="8623" class="l"><a class="l" href="#8623"> 8623: </a>    {
</span><span id="8624" class="l"><a class="l" href="#8624"> 8624: </a>        <span class="php-var">$enclosures</span> = <span class="php-var">$this</span>-&gt;get_enclosures();
</span><span id="8625" class="l"><a class="l" href="#8625"> 8625: </a>        <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$enclosures</span>[<span class="php-var">$key</span>]))
</span><span id="8626" class="l"><a class="l" href="#8626"> 8626: </a>        {
</span><span id="8627" class="l"><a class="l" href="#8627"> 8627: </a>            <span class="php-keyword1">return</span> <span class="php-var">$enclosures</span>[<span class="php-var">$key</span>];
</span><span id="8628" class="l"><a class="l" href="#8628"> 8628: </a>        }
</span><span id="8629" class="l"><a class="l" href="#8629"> 8629: </a>        <span class="php-keyword1">else</span>
</span><span id="8630" class="l"><a class="l" href="#8630"> 8630: </a>        {
</span><span id="8631" class="l"><a class="l" href="#8631"> 8631: </a>            <span class="php-keyword1">return</span> <span class="php-keyword1">null</span>;
</span><span id="8632" class="l"><a class="l" href="#8632"> 8632: </a>        }
</span><span id="8633" class="l"><a class="l" href="#8633"> 8633: </a>    }
</span><span id="8634" class="l"><a class="l" href="#8634"> 8634: </a>
</span><span id="8635" class="l"><a class="l" href="#8635"> 8635: </a>    <span class="php-comment">/**
</span></span><span id="8636" class="l"><a class="l" href="#8636"> 8636: </a><span class="php-comment">     * Grabs all available enclosures (podcasts, etc.)
</span></span><span id="8637" class="l"><a class="l" href="#8637"> 8637: </a><span class="php-comment">     *
</span></span><span id="8638" class="l"><a class="l" href="#8638"> 8638: </a><span class="php-comment">     * Supports the &lt;enclosure&gt; RSS tag, as well as Media RSS and iTunes RSS.
</span></span><span id="8639" class="l"><a class="l" href="#8639"> 8639: </a><span class="php-comment">     *
</span></span><span id="8640" class="l"><a class="l" href="#8640"> 8640: </a><span class="php-comment">     * At this point, we're pretty much assuming that all enclosures for an item are the same content.  Anything else is too complicated to properly support.
</span></span><span id="8641" class="l"><a class="l" href="#8641"> 8641: </a><span class="php-comment">     *
</span></span><span id="8642" class="l"><a class="l" href="#8642"> 8642: </a><span class="php-comment">     * @todo Add support for end-user defined sorting of enclosures by type/handler (so we can prefer the faster-loading FLV over MP4).
</span></span><span id="8643" class="l"><a class="l" href="#8643"> 8643: </a><span class="php-comment">     * @todo If an element exists at a level, but it's value is empty, we should fall back to the value from the parent (if it exists).
</span></span><span id="8644" class="l"><a class="l" href="#8644"> 8644: </a><span class="php-comment">     */</span>
</span><span id="8645" class="l"><a class="l" href="#8645"> 8645: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_get_enclosures" href="#_get_enclosures">get_enclosures</a>()
</span><span id="8646" class="l"><a class="l" href="#8646"> 8646: </a>    {
</span><span id="8647" class="l"><a class="l" href="#8647"> 8647: </a>        <span class="php-keyword1">if</span> (!<span class="php-keyword1">isset</span>(<span class="php-var">$this</span>-&gt;data[<span class="php-quote">'enclosures'</span>]))
</span><span id="8648" class="l"><a class="l" href="#8648"> 8648: </a>        {
</span><span id="8649" class="l"><a class="l" href="#8649"> 8649: </a>            <span class="php-var">$this</span>-&gt;data[<span class="php-quote">'enclosures'</span>] = <span class="php-keyword1">array</span>();
</span><span id="8650" class="l"><a class="l" href="#8650"> 8650: </a>
</span><span id="8651" class="l"><a class="l" href="#8651"> 8651: </a>            <span class="php-comment">// Elements</span>
</span><span id="8652" class="l"><a class="l" href="#8652"> 8652: </a>            <span class="php-var">$captions_parent</span> = <span class="php-keyword1">null</span>;
</span><span id="8653" class="l"><a class="l" href="#8653"> 8653: </a>            <span class="php-var">$categories_parent</span> = <span class="php-keyword1">null</span>;
</span><span id="8654" class="l"><a class="l" href="#8654"> 8654: </a>            <span class="php-var">$copyrights_parent</span> = <span class="php-keyword1">null</span>;
</span><span id="8655" class="l"><a class="l" href="#8655"> 8655: </a>            <span class="php-var">$credits_parent</span> = <span class="php-keyword1">null</span>;
</span><span id="8656" class="l"><a class="l" href="#8656"> 8656: </a>            <span class="php-var">$description_parent</span> = <span class="php-keyword1">null</span>;
</span><span id="8657" class="l"><a class="l" href="#8657"> 8657: </a>            <span class="php-var">$duration_parent</span> = <span class="php-keyword1">null</span>;
</span><span id="8658" class="l"><a class="l" href="#8658"> 8658: </a>            <span class="php-var">$hashes_parent</span> = <span class="php-keyword1">null</span>;
</span><span id="8659" class="l"><a class="l" href="#8659"> 8659: </a>            <span class="php-var">$keywords_parent</span> = <span class="php-keyword1">null</span>;
</span><span id="8660" class="l"><a class="l" href="#8660"> 8660: </a>            <span class="php-var">$player_parent</span> = <span class="php-keyword1">null</span>;
</span><span id="8661" class="l"><a class="l" href="#8661"> 8661: </a>            <span class="php-var">$ratings_parent</span> = <span class="php-keyword1">null</span>;
</span><span id="8662" class="l"><a class="l" href="#8662"> 8662: </a>            <span class="php-var">$restrictions_parent</span> = <span class="php-keyword1">null</span>;
</span><span id="8663" class="l"><a class="l" href="#8663"> 8663: </a>            <span class="php-var">$thumbnails_parent</span> = <span class="php-keyword1">null</span>;
</span><span id="8664" class="l"><a class="l" href="#8664"> 8664: </a>            <span class="php-var">$title_parent</span> = <span class="php-keyword1">null</span>;
</span><span id="8665" class="l"><a class="l" href="#8665"> 8665: </a>
</span><span id="8666" class="l"><a class="l" href="#8666"> 8666: </a>            <span class="php-comment">// Let's do the channel and item-level ones first, and just re-use them if we need to.</span>
</span><span id="8667" class="l"><a class="l" href="#8667"> 8667: </a>            <span class="php-var">$parent</span> = <span class="php-var">$this</span>-&gt;get_feed();
</span><span id="8668" class="l"><a class="l" href="#8668"> 8668: </a>
</span><span id="8669" class="l"><a class="l" href="#8669"> 8669: </a>            <span class="php-comment">// CAPTIONS</span>
</span><span id="8670" class="l"><a class="l" href="#8670"> 8670: </a>            <span class="php-keyword1">if</span> (<span class="php-var">$captions</span> = <span class="php-var">$this</span>-&gt;get_item_tags(SIMPLEPIE_NAMESPACE_MEDIARSS, <span class="php-quote">'text'</span>))
</span><span id="8671" class="l"><a class="l" href="#8671"> 8671: </a>            {
</span><span id="8672" class="l"><a class="l" href="#8672"> 8672: </a>                <span class="php-keyword1">foreach</span> (<span class="php-var">$captions</span> <span class="php-keyword1">as</span> <span class="php-var">$caption</span>)
</span><span id="8673" class="l"><a class="l" href="#8673"> 8673: </a>                {
</span><span id="8674" class="l"><a class="l" href="#8674"> 8674: </a>                    <span class="php-var">$caption_type</span> = <span class="php-keyword1">null</span>;
</span><span id="8675" class="l"><a class="l" href="#8675"> 8675: </a>                    <span class="php-var">$caption_lang</span> = <span class="php-keyword1">null</span>;
</span><span id="8676" class="l"><a class="l" href="#8676"> 8676: </a>                    <span class="php-var">$caption_startTime</span> = <span class="php-keyword1">null</span>;
</span><span id="8677" class="l"><a class="l" href="#8677"> 8677: </a>                    <span class="php-var">$caption_endTime</span> = <span class="php-keyword1">null</span>;
</span><span id="8678" class="l"><a class="l" href="#8678"> 8678: </a>                    <span class="php-var">$caption_text</span> = <span class="php-keyword1">null</span>;
</span><span id="8679" class="l"><a class="l" href="#8679"> 8679: </a>                    <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$caption</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'type'</span>]))
</span><span id="8680" class="l"><a class="l" href="#8680"> 8680: </a>                    {
</span><span id="8681" class="l"><a class="l" href="#8681"> 8681: </a>                        <span class="php-var">$caption_type</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$caption</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'type'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="8682" class="l"><a class="l" href="#8682"> 8682: </a>                    }
</span><span id="8683" class="l"><a class="l" href="#8683"> 8683: </a>                    <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$caption</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'lang'</span>]))
</span><span id="8684" class="l"><a class="l" href="#8684"> 8684: </a>                    {
</span><span id="8685" class="l"><a class="l" href="#8685"> 8685: </a>                        <span class="php-var">$caption_lang</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$caption</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'lang'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="8686" class="l"><a class="l" href="#8686"> 8686: </a>                    }
</span><span id="8687" class="l"><a class="l" href="#8687"> 8687: </a>                    <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$caption</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'start'</span>]))
</span><span id="8688" class="l"><a class="l" href="#8688"> 8688: </a>                    {
</span><span id="8689" class="l"><a class="l" href="#8689"> 8689: </a>                        <span class="php-var">$caption_startTime</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$caption</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'start'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="8690" class="l"><a class="l" href="#8690"> 8690: </a>                    }
</span><span id="8691" class="l"><a class="l" href="#8691"> 8691: </a>                    <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$caption</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'end'</span>]))
</span><span id="8692" class="l"><a class="l" href="#8692"> 8692: </a>                    {
</span><span id="8693" class="l"><a class="l" href="#8693"> 8693: </a>                        <span class="php-var">$caption_endTime</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$caption</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'end'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="8694" class="l"><a class="l" href="#8694"> 8694: </a>                    }
</span><span id="8695" class="l"><a class="l" href="#8695"> 8695: </a>                    <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$caption</span>[<span class="php-quote">'data'</span>]))
</span><span id="8696" class="l"><a class="l" href="#8696"> 8696: </a>                    {
</span><span id="8697" class="l"><a class="l" href="#8697"> 8697: </a>                        <span class="php-var">$caption_text</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$caption</span>[<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="8698" class="l"><a class="l" href="#8698"> 8698: </a>                    }
</span><span id="8699" class="l"><a class="l" href="#8699"> 8699: </a>                    <span class="php-var">$captions_parent</span>[] = <span class="php-var">$this</span>-&gt;registry-&gt;create(<span class="php-quote">'Caption'</span>, <span class="php-keyword1">array</span>(<span class="php-var">$caption_type</span>, <span class="php-var">$caption_lang</span>, <span class="php-var">$caption_startTime</span>, <span class="php-var">$caption_endTime</span>, <span class="php-var">$caption_text</span>));
</span><span id="8700" class="l"><a class="l" href="#8700"> 8700: </a>                }
</span><span id="8701" class="l"><a class="l" href="#8701"> 8701: </a>            }
</span><span id="8702" class="l"><a class="l" href="#8702"> 8702: </a>            <span class="php-keyword1">elseif</span> (<span class="php-var">$captions</span> = <span class="php-var">$parent</span>-&gt;get_channel_tags(SIMPLEPIE_NAMESPACE_MEDIARSS, <span class="php-quote">'text'</span>))
</span><span id="8703" class="l"><a class="l" href="#8703"> 8703: </a>            {
</span><span id="8704" class="l"><a class="l" href="#8704"> 8704: </a>                <span class="php-keyword1">foreach</span> (<span class="php-var">$captions</span> <span class="php-keyword1">as</span> <span class="php-var">$caption</span>)
</span><span id="8705" class="l"><a class="l" href="#8705"> 8705: </a>                {
</span><span id="8706" class="l"><a class="l" href="#8706"> 8706: </a>                    <span class="php-var">$caption_type</span> = <span class="php-keyword1">null</span>;
</span><span id="8707" class="l"><a class="l" href="#8707"> 8707: </a>                    <span class="php-var">$caption_lang</span> = <span class="php-keyword1">null</span>;
</span><span id="8708" class="l"><a class="l" href="#8708"> 8708: </a>                    <span class="php-var">$caption_startTime</span> = <span class="php-keyword1">null</span>;
</span><span id="8709" class="l"><a class="l" href="#8709"> 8709: </a>                    <span class="php-var">$caption_endTime</span> = <span class="php-keyword1">null</span>;
</span><span id="8710" class="l"><a class="l" href="#8710"> 8710: </a>                    <span class="php-var">$caption_text</span> = <span class="php-keyword1">null</span>;
</span><span id="8711" class="l"><a class="l" href="#8711"> 8711: </a>                    <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$caption</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'type'</span>]))
</span><span id="8712" class="l"><a class="l" href="#8712"> 8712: </a>                    {
</span><span id="8713" class="l"><a class="l" href="#8713"> 8713: </a>                        <span class="php-var">$caption_type</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$caption</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'type'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="8714" class="l"><a class="l" href="#8714"> 8714: </a>                    }
</span><span id="8715" class="l"><a class="l" href="#8715"> 8715: </a>                    <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$caption</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'lang'</span>]))
</span><span id="8716" class="l"><a class="l" href="#8716"> 8716: </a>                    {
</span><span id="8717" class="l"><a class="l" href="#8717"> 8717: </a>                        <span class="php-var">$caption_lang</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$caption</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'lang'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="8718" class="l"><a class="l" href="#8718"> 8718: </a>                    }
</span><span id="8719" class="l"><a class="l" href="#8719"> 8719: </a>                    <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$caption</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'start'</span>]))
</span><span id="8720" class="l"><a class="l" href="#8720"> 8720: </a>                    {
</span><span id="8721" class="l"><a class="l" href="#8721"> 8721: </a>                        <span class="php-var">$caption_startTime</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$caption</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'start'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="8722" class="l"><a class="l" href="#8722"> 8722: </a>                    }
</span><span id="8723" class="l"><a class="l" href="#8723"> 8723: </a>                    <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$caption</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'end'</span>]))
</span><span id="8724" class="l"><a class="l" href="#8724"> 8724: </a>                    {
</span><span id="8725" class="l"><a class="l" href="#8725"> 8725: </a>                        <span class="php-var">$caption_endTime</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$caption</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'end'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="8726" class="l"><a class="l" href="#8726"> 8726: </a>                    }
</span><span id="8727" class="l"><a class="l" href="#8727"> 8727: </a>                    <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$caption</span>[<span class="php-quote">'data'</span>]))
</span><span id="8728" class="l"><a class="l" href="#8728"> 8728: </a>                    {
</span><span id="8729" class="l"><a class="l" href="#8729"> 8729: </a>                        <span class="php-var">$caption_text</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$caption</span>[<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="8730" class="l"><a class="l" href="#8730"> 8730: </a>                    }
</span><span id="8731" class="l"><a class="l" href="#8731"> 8731: </a>                    <span class="php-var">$captions_parent</span>[] = <span class="php-var">$this</span>-&gt;registry-&gt;create(<span class="php-quote">'Caption'</span>, <span class="php-keyword1">array</span>(<span class="php-var">$caption_type</span>, <span class="php-var">$caption_lang</span>, <span class="php-var">$caption_startTime</span>, <span class="php-var">$caption_endTime</span>, <span class="php-var">$caption_text</span>));
</span><span id="8732" class="l"><a class="l" href="#8732"> 8732: </a>                }
</span><span id="8733" class="l"><a class="l" href="#8733"> 8733: </a>            }
</span><span id="8734" class="l"><a class="l" href="#8734"> 8734: </a>            <span class="php-keyword1">if</span> (<span class="php-keyword2">is_array</span>(<span class="php-var">$captions_parent</span>))
</span><span id="8735" class="l"><a class="l" href="#8735"> 8735: </a>            {
</span><span id="8736" class="l"><a class="l" href="#8736"> 8736: </a>                <span class="php-var">$captions_parent</span> = <span class="php-keyword2">array_values</span>(<span class="php-var">$this</span>-&gt;registry-&gt;call(<span class="php-quote">'Misc'</span>, <span class="php-quote">'array_unique'</span>, <span class="php-keyword1">array</span>(<span class="php-var">$captions_parent</span>)));
</span><span id="8737" class="l"><a class="l" href="#8737"> 8737: </a>            }
</span><span id="8738" class="l"><a class="l" href="#8738"> 8738: </a>
</span><span id="8739" class="l"><a class="l" href="#8739"> 8739: </a>            <span class="php-comment">// CATEGORIES</span>
</span><span id="8740" class="l"><a class="l" href="#8740"> 8740: </a>            <span class="php-keyword1">foreach</span> ((<span class="php-keyword1">array</span>) <span class="php-var">$this</span>-&gt;get_item_tags(SIMPLEPIE_NAMESPACE_MEDIARSS, <span class="php-quote">'category'</span>) <span class="php-keyword1">as</span> <span class="php-var">$category</span>)
</span><span id="8741" class="l"><a class="l" href="#8741"> 8741: </a>            {
</span><span id="8742" class="l"><a class="l" href="#8742"> 8742: </a>                <span class="php-var">$term</span> = <span class="php-keyword1">null</span>;
</span><span id="8743" class="l"><a class="l" href="#8743"> 8743: </a>                <span class="php-var">$scheme</span> = <span class="php-keyword1">null</span>;
</span><span id="8744" class="l"><a class="l" href="#8744"> 8744: </a>                <span class="php-var">$label</span> = <span class="php-keyword1">null</span>;
</span><span id="8745" class="l"><a class="l" href="#8745"> 8745: </a>                <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$category</span>[<span class="php-quote">'data'</span>]))
</span><span id="8746" class="l"><a class="l" href="#8746"> 8746: </a>                {
</span><span id="8747" class="l"><a class="l" href="#8747"> 8747: </a>                    <span class="php-var">$term</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$category</span>[<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="8748" class="l"><a class="l" href="#8748"> 8748: </a>                }
</span><span id="8749" class="l"><a class="l" href="#8749"> 8749: </a>                <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$category</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'scheme'</span>]))
</span><span id="8750" class="l"><a class="l" href="#8750"> 8750: </a>                {
</span><span id="8751" class="l"><a class="l" href="#8751"> 8751: </a>                    <span class="php-var">$scheme</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$category</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'scheme'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="8752" class="l"><a class="l" href="#8752"> 8752: </a>                }
</span><span id="8753" class="l"><a class="l" href="#8753"> 8753: </a>                <span class="php-keyword1">else</span>
</span><span id="8754" class="l"><a class="l" href="#8754"> 8754: </a>                {
</span><span id="8755" class="l"><a class="l" href="#8755"> 8755: </a>                    <span class="php-var">$scheme</span> = <span class="php-quote">'http://search.yahoo.com/mrss/category_schema'</span>;
</span><span id="8756" class="l"><a class="l" href="#8756"> 8756: </a>                }
</span><span id="8757" class="l"><a class="l" href="#8757"> 8757: </a>                <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$category</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'label'</span>]))
</span><span id="8758" class="l"><a class="l" href="#8758"> 8758: </a>                {
</span><span id="8759" class="l"><a class="l" href="#8759"> 8759: </a>                    <span class="php-var">$label</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$category</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'label'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="8760" class="l"><a class="l" href="#8760"> 8760: </a>                }
</span><span id="8761" class="l"><a class="l" href="#8761"> 8761: </a>                <span class="php-var">$categories_parent</span>[] = <span class="php-var">$this</span>-&gt;registry-&gt;create(<span class="php-quote">'Category'</span>, <span class="php-keyword1">array</span>(<span class="php-var">$term</span>, <span class="php-var">$scheme</span>, <span class="php-var">$label</span>));
</span><span id="8762" class="l"><a class="l" href="#8762"> 8762: </a>            }
</span><span id="8763" class="l"><a class="l" href="#8763"> 8763: </a>            <span class="php-keyword1">foreach</span> ((<span class="php-keyword1">array</span>) <span class="php-var">$parent</span>-&gt;get_channel_tags(SIMPLEPIE_NAMESPACE_MEDIARSS, <span class="php-quote">'category'</span>) <span class="php-keyword1">as</span> <span class="php-var">$category</span>)
</span><span id="8764" class="l"><a class="l" href="#8764"> 8764: </a>            {
</span><span id="8765" class="l"><a class="l" href="#8765"> 8765: </a>                <span class="php-var">$term</span> = <span class="php-keyword1">null</span>;
</span><span id="8766" class="l"><a class="l" href="#8766"> 8766: </a>                <span class="php-var">$scheme</span> = <span class="php-keyword1">null</span>;
</span><span id="8767" class="l"><a class="l" href="#8767"> 8767: </a>                <span class="php-var">$label</span> = <span class="php-keyword1">null</span>;
</span><span id="8768" class="l"><a class="l" href="#8768"> 8768: </a>                <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$category</span>[<span class="php-quote">'data'</span>]))
</span><span id="8769" class="l"><a class="l" href="#8769"> 8769: </a>                {
</span><span id="8770" class="l"><a class="l" href="#8770"> 8770: </a>                    <span class="php-var">$term</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$category</span>[<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="8771" class="l"><a class="l" href="#8771"> 8771: </a>                }
</span><span id="8772" class="l"><a class="l" href="#8772"> 8772: </a>                <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$category</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'scheme'</span>]))
</span><span id="8773" class="l"><a class="l" href="#8773"> 8773: </a>                {
</span><span id="8774" class="l"><a class="l" href="#8774"> 8774: </a>                    <span class="php-var">$scheme</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$category</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'scheme'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="8775" class="l"><a class="l" href="#8775"> 8775: </a>                }
</span><span id="8776" class="l"><a class="l" href="#8776"> 8776: </a>                <span class="php-keyword1">else</span>
</span><span id="8777" class="l"><a class="l" href="#8777"> 8777: </a>                {
</span><span id="8778" class="l"><a class="l" href="#8778"> 8778: </a>                    <span class="php-var">$scheme</span> = <span class="php-quote">'http://search.yahoo.com/mrss/category_schema'</span>;
</span><span id="8779" class="l"><a class="l" href="#8779"> 8779: </a>                }
</span><span id="8780" class="l"><a class="l" href="#8780"> 8780: </a>                <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$category</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'label'</span>]))
</span><span id="8781" class="l"><a class="l" href="#8781"> 8781: </a>                {
</span><span id="8782" class="l"><a class="l" href="#8782"> 8782: </a>                    <span class="php-var">$label</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$category</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'label'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="8783" class="l"><a class="l" href="#8783"> 8783: </a>                }
</span><span id="8784" class="l"><a class="l" href="#8784"> 8784: </a>                <span class="php-var">$categories_parent</span>[] = <span class="php-var">$this</span>-&gt;registry-&gt;create(<span class="php-quote">'Category'</span>, <span class="php-keyword1">array</span>(<span class="php-var">$term</span>, <span class="php-var">$scheme</span>, <span class="php-var">$label</span>));
</span><span id="8785" class="l"><a class="l" href="#8785"> 8785: </a>            }
</span><span id="8786" class="l"><a class="l" href="#8786"> 8786: </a>            <span class="php-keyword1">foreach</span> ((<span class="php-keyword1">array</span>) <span class="php-var">$parent</span>-&gt;get_channel_tags(SIMPLEPIE_NAMESPACE_ITUNES, <span class="php-quote">'category'</span>) <span class="php-keyword1">as</span> <span class="php-var">$category</span>)
</span><span id="8787" class="l"><a class="l" href="#8787"> 8787: </a>            {
</span><span id="8788" class="l"><a class="l" href="#8788"> 8788: </a>                <span class="php-var">$term</span> = <span class="php-keyword1">null</span>;
</span><span id="8789" class="l"><a class="l" href="#8789"> 8789: </a>                <span class="php-var">$scheme</span> = <span class="php-quote">'http://www.itunes.com/dtds/podcast-1.0.dtd'</span>;
</span><span id="8790" class="l"><a class="l" href="#8790"> 8790: </a>                <span class="php-var">$label</span> = <span class="php-keyword1">null</span>;
</span><span id="8791" class="l"><a class="l" href="#8791"> 8791: </a>                <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$category</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'text'</span>]))
</span><span id="8792" class="l"><a class="l" href="#8792"> 8792: </a>                {
</span><span id="8793" class="l"><a class="l" href="#8793"> 8793: </a>                    <span class="php-var">$label</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$category</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'text'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="8794" class="l"><a class="l" href="#8794"> 8794: </a>                }
</span><span id="8795" class="l"><a class="l" href="#8795"> 8795: </a>                <span class="php-var">$categories_parent</span>[] = <span class="php-var">$this</span>-&gt;registry-&gt;create(<span class="php-quote">'Category'</span>, <span class="php-keyword1">array</span>(<span class="php-var">$term</span>, <span class="php-var">$scheme</span>, <span class="php-var">$label</span>));
</span><span id="8796" class="l"><a class="l" href="#8796"> 8796: </a>
</span><span id="8797" class="l"><a class="l" href="#8797"> 8797: </a>                <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$category</span>[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_ITUNES][<span class="php-quote">'category'</span>]))
</span><span id="8798" class="l"><a class="l" href="#8798"> 8798: </a>                {
</span><span id="8799" class="l"><a class="l" href="#8799"> 8799: </a>                    <span class="php-keyword1">foreach</span> ((<span class="php-keyword1">array</span>) <span class="php-var">$category</span>[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_ITUNES][<span class="php-quote">'category'</span>] <span class="php-keyword1">as</span> <span class="php-var">$subcategory</span>)
</span><span id="8800" class="l"><a class="l" href="#8800"> 8800: </a>                    {
</span><span id="8801" class="l"><a class="l" href="#8801"> 8801: </a>                        <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$subcategory</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'text'</span>]))
</span><span id="8802" class="l"><a class="l" href="#8802"> 8802: </a>                        {
</span><span id="8803" class="l"><a class="l" href="#8803"> 8803: </a>                            <span class="php-var">$label</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$subcategory</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'text'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="8804" class="l"><a class="l" href="#8804"> 8804: </a>                        }
</span><span id="8805" class="l"><a class="l" href="#8805"> 8805: </a>                        <span class="php-var">$categories_parent</span>[] = <span class="php-var">$this</span>-&gt;registry-&gt;create(<span class="php-quote">'Category'</span>, <span class="php-keyword1">array</span>(<span class="php-var">$term</span>, <span class="php-var">$scheme</span>, <span class="php-var">$label</span>));
</span><span id="8806" class="l"><a class="l" href="#8806"> 8806: </a>                    }
</span><span id="8807" class="l"><a class="l" href="#8807"> 8807: </a>                }
</span><span id="8808" class="l"><a class="l" href="#8808"> 8808: </a>            }
</span><span id="8809" class="l"><a class="l" href="#8809"> 8809: </a>            <span class="php-keyword1">if</span> (<span class="php-keyword2">is_array</span>(<span class="php-var">$categories_parent</span>))
</span><span id="8810" class="l"><a class="l" href="#8810"> 8810: </a>            {
</span><span id="8811" class="l"><a class="l" href="#8811"> 8811: </a>                <span class="php-var">$categories_parent</span> = <span class="php-keyword2">array_values</span>(<span class="php-var">$this</span>-&gt;registry-&gt;call(<span class="php-quote">'Misc'</span>, <span class="php-quote">'array_unique'</span>, <span class="php-keyword1">array</span>(<span class="php-var">$categories_parent</span>)));
</span><span id="8812" class="l"><a class="l" href="#8812"> 8812: </a>            }
</span><span id="8813" class="l"><a class="l" href="#8813"> 8813: </a>
</span><span id="8814" class="l"><a class="l" href="#8814"> 8814: </a>            <span class="php-comment">// COPYRIGHT</span>
</span><span id="8815" class="l"><a class="l" href="#8815"> 8815: </a>            <span class="php-keyword1">if</span> (<span class="php-var">$copyright</span> = <span class="php-var">$this</span>-&gt;get_item_tags(SIMPLEPIE_NAMESPACE_MEDIARSS, <span class="php-quote">'copyright'</span>))
</span><span id="8816" class="l"><a class="l" href="#8816"> 8816: </a>            {
</span><span id="8817" class="l"><a class="l" href="#8817"> 8817: </a>                <span class="php-var">$copyright_url</span> = <span class="php-keyword1">null</span>;
</span><span id="8818" class="l"><a class="l" href="#8818"> 8818: </a>                <span class="php-var">$copyright_label</span> = <span class="php-keyword1">null</span>;
</span><span id="8819" class="l"><a class="l" href="#8819"> 8819: </a>                <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$copyright</span>[<span class="php-num">0</span>][<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'url'</span>]))
</span><span id="8820" class="l"><a class="l" href="#8820"> 8820: </a>                {
</span><span id="8821" class="l"><a class="l" href="#8821"> 8821: </a>                    <span class="php-var">$copyright_url</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$copyright</span>[<span class="php-num">0</span>][<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'url'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="8822" class="l"><a class="l" href="#8822"> 8822: </a>                }
</span><span id="8823" class="l"><a class="l" href="#8823"> 8823: </a>                <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$copyright</span>[<span class="php-num">0</span>][<span class="php-quote">'data'</span>]))
</span><span id="8824" class="l"><a class="l" href="#8824"> 8824: </a>                {
</span><span id="8825" class="l"><a class="l" href="#8825"> 8825: </a>                    <span class="php-var">$copyright_label</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$copyright</span>[<span class="php-num">0</span>][<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="8826" class="l"><a class="l" href="#8826"> 8826: </a>                }
</span><span id="8827" class="l"><a class="l" href="#8827"> 8827: </a>                <span class="php-var">$copyrights_parent</span> = <span class="php-var">$this</span>-&gt;registry-&gt;create(<span class="php-quote">'Copyright'</span>, <span class="php-keyword1">array</span>(<span class="php-var">$copyright_url</span>, <span class="php-var">$copyright_label</span>));
</span><span id="8828" class="l"><a class="l" href="#8828"> 8828: </a>            }
</span><span id="8829" class="l"><a class="l" href="#8829"> 8829: </a>            <span class="php-keyword1">elseif</span> (<span class="php-var">$copyright</span> = <span class="php-var">$parent</span>-&gt;get_channel_tags(SIMPLEPIE_NAMESPACE_MEDIARSS, <span class="php-quote">'copyright'</span>))
</span><span id="8830" class="l"><a class="l" href="#8830"> 8830: </a>            {
</span><span id="8831" class="l"><a class="l" href="#8831"> 8831: </a>                <span class="php-var">$copyright_url</span> = <span class="php-keyword1">null</span>;
</span><span id="8832" class="l"><a class="l" href="#8832"> 8832: </a>                <span class="php-var">$copyright_label</span> = <span class="php-keyword1">null</span>;
</span><span id="8833" class="l"><a class="l" href="#8833"> 8833: </a>                <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$copyright</span>[<span class="php-num">0</span>][<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'url'</span>]))
</span><span id="8834" class="l"><a class="l" href="#8834"> 8834: </a>                {
</span><span id="8835" class="l"><a class="l" href="#8835"> 8835: </a>                    <span class="php-var">$copyright_url</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$copyright</span>[<span class="php-num">0</span>][<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'url'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="8836" class="l"><a class="l" href="#8836"> 8836: </a>                }
</span><span id="8837" class="l"><a class="l" href="#8837"> 8837: </a>                <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$copyright</span>[<span class="php-num">0</span>][<span class="php-quote">'data'</span>]))
</span><span id="8838" class="l"><a class="l" href="#8838"> 8838: </a>                {
</span><span id="8839" class="l"><a class="l" href="#8839"> 8839: </a>                    <span class="php-var">$copyright_label</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$copyright</span>[<span class="php-num">0</span>][<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="8840" class="l"><a class="l" href="#8840"> 8840: </a>                }
</span><span id="8841" class="l"><a class="l" href="#8841"> 8841: </a>                <span class="php-var">$copyrights_parent</span> = <span class="php-var">$this</span>-&gt;registry-&gt;create(<span class="php-quote">'Copyright'</span>, <span class="php-keyword1">array</span>(<span class="php-var">$copyright_url</span>, <span class="php-var">$copyright_label</span>));
</span><span id="8842" class="l"><a class="l" href="#8842"> 8842: </a>            }
</span><span id="8843" class="l"><a class="l" href="#8843"> 8843: </a>
</span><span id="8844" class="l"><a class="l" href="#8844"> 8844: </a>            <span class="php-comment">// CREDITS</span>
</span><span id="8845" class="l"><a class="l" href="#8845"> 8845: </a>            <span class="php-keyword1">if</span> (<span class="php-var">$credits</span> = <span class="php-var">$this</span>-&gt;get_item_tags(SIMPLEPIE_NAMESPACE_MEDIARSS, <span class="php-quote">'credit'</span>))
</span><span id="8846" class="l"><a class="l" href="#8846"> 8846: </a>            {
</span><span id="8847" class="l"><a class="l" href="#8847"> 8847: </a>                <span class="php-keyword1">foreach</span> (<span class="php-var">$credits</span> <span class="php-keyword1">as</span> <span class="php-var">$credit</span>)
</span><span id="8848" class="l"><a class="l" href="#8848"> 8848: </a>                {
</span><span id="8849" class="l"><a class="l" href="#8849"> 8849: </a>                    <span class="php-var">$credit_role</span> = <span class="php-keyword1">null</span>;
</span><span id="8850" class="l"><a class="l" href="#8850"> 8850: </a>                    <span class="php-var">$credit_scheme</span> = <span class="php-keyword1">null</span>;
</span><span id="8851" class="l"><a class="l" href="#8851"> 8851: </a>                    <span class="php-var">$credit_name</span> = <span class="php-keyword1">null</span>;
</span><span id="8852" class="l"><a class="l" href="#8852"> 8852: </a>                    <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$credit</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'role'</span>]))
</span><span id="8853" class="l"><a class="l" href="#8853"> 8853: </a>                    {
</span><span id="8854" class="l"><a class="l" href="#8854"> 8854: </a>                        <span class="php-var">$credit_role</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$credit</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'role'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="8855" class="l"><a class="l" href="#8855"> 8855: </a>                    }
</span><span id="8856" class="l"><a class="l" href="#8856"> 8856: </a>                    <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$credit</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'scheme'</span>]))
</span><span id="8857" class="l"><a class="l" href="#8857"> 8857: </a>                    {
</span><span id="8858" class="l"><a class="l" href="#8858"> 8858: </a>                        <span class="php-var">$credit_scheme</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$credit</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'scheme'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="8859" class="l"><a class="l" href="#8859"> 8859: </a>                    }
</span><span id="8860" class="l"><a class="l" href="#8860"> 8860: </a>                    <span class="php-keyword1">else</span>
</span><span id="8861" class="l"><a class="l" href="#8861"> 8861: </a>                    {
</span><span id="8862" class="l"><a class="l" href="#8862"> 8862: </a>                        <span class="php-var">$credit_scheme</span> = <span class="php-quote">'urn:ebu'</span>;
</span><span id="8863" class="l"><a class="l" href="#8863"> 8863: </a>                    }
</span><span id="8864" class="l"><a class="l" href="#8864"> 8864: </a>                    <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$credit</span>[<span class="php-quote">'data'</span>]))
</span><span id="8865" class="l"><a class="l" href="#8865"> 8865: </a>                    {
</span><span id="8866" class="l"><a class="l" href="#8866"> 8866: </a>                        <span class="php-var">$credit_name</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$credit</span>[<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="8867" class="l"><a class="l" href="#8867"> 8867: </a>                    }
</span><span id="8868" class="l"><a class="l" href="#8868"> 8868: </a>                    <span class="php-var">$credits_parent</span>[] = <span class="php-var">$this</span>-&gt;registry-&gt;create(<span class="php-quote">'Credit'</span>, <span class="php-keyword1">array</span>(<span class="php-var">$credit_role</span>, <span class="php-var">$credit_scheme</span>, <span class="php-var">$credit_name</span>));
</span><span id="8869" class="l"><a class="l" href="#8869"> 8869: </a>                }
</span><span id="8870" class="l"><a class="l" href="#8870"> 8870: </a>            }
</span><span id="8871" class="l"><a class="l" href="#8871"> 8871: </a>            <span class="php-keyword1">elseif</span> (<span class="php-var">$credits</span> = <span class="php-var">$parent</span>-&gt;get_channel_tags(SIMPLEPIE_NAMESPACE_MEDIARSS, <span class="php-quote">'credit'</span>))
</span><span id="8872" class="l"><a class="l" href="#8872"> 8872: </a>            {
</span><span id="8873" class="l"><a class="l" href="#8873"> 8873: </a>                <span class="php-keyword1">foreach</span> (<span class="php-var">$credits</span> <span class="php-keyword1">as</span> <span class="php-var">$credit</span>)
</span><span id="8874" class="l"><a class="l" href="#8874"> 8874: </a>                {
</span><span id="8875" class="l"><a class="l" href="#8875"> 8875: </a>                    <span class="php-var">$credit_role</span> = <span class="php-keyword1">null</span>;
</span><span id="8876" class="l"><a class="l" href="#8876"> 8876: </a>                    <span class="php-var">$credit_scheme</span> = <span class="php-keyword1">null</span>;
</span><span id="8877" class="l"><a class="l" href="#8877"> 8877: </a>                    <span class="php-var">$credit_name</span> = <span class="php-keyword1">null</span>;
</span><span id="8878" class="l"><a class="l" href="#8878"> 8878: </a>                    <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$credit</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'role'</span>]))
</span><span id="8879" class="l"><a class="l" href="#8879"> 8879: </a>                    {
</span><span id="8880" class="l"><a class="l" href="#8880"> 8880: </a>                        <span class="php-var">$credit_role</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$credit</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'role'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="8881" class="l"><a class="l" href="#8881"> 8881: </a>                    }
</span><span id="8882" class="l"><a class="l" href="#8882"> 8882: </a>                    <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$credit</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'scheme'</span>]))
</span><span id="8883" class="l"><a class="l" href="#8883"> 8883: </a>                    {
</span><span id="8884" class="l"><a class="l" href="#8884"> 8884: </a>                        <span class="php-var">$credit_scheme</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$credit</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'scheme'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="8885" class="l"><a class="l" href="#8885"> 8885: </a>                    }
</span><span id="8886" class="l"><a class="l" href="#8886"> 8886: </a>                    <span class="php-keyword1">else</span>
</span><span id="8887" class="l"><a class="l" href="#8887"> 8887: </a>                    {
</span><span id="8888" class="l"><a class="l" href="#8888"> 8888: </a>                        <span class="php-var">$credit_scheme</span> = <span class="php-quote">'urn:ebu'</span>;
</span><span id="8889" class="l"><a class="l" href="#8889"> 8889: </a>                    }
</span><span id="8890" class="l"><a class="l" href="#8890"> 8890: </a>                    <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$credit</span>[<span class="php-quote">'data'</span>]))
</span><span id="8891" class="l"><a class="l" href="#8891"> 8891: </a>                    {
</span><span id="8892" class="l"><a class="l" href="#8892"> 8892: </a>                        <span class="php-var">$credit_name</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$credit</span>[<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="8893" class="l"><a class="l" href="#8893"> 8893: </a>                    }
</span><span id="8894" class="l"><a class="l" href="#8894"> 8894: </a>                    <span class="php-var">$credits_parent</span>[] = <span class="php-var">$this</span>-&gt;registry-&gt;create(<span class="php-quote">'Credit'</span>, <span class="php-keyword1">array</span>(<span class="php-var">$credit_role</span>, <span class="php-var">$credit_scheme</span>, <span class="php-var">$credit_name</span>));
</span><span id="8895" class="l"><a class="l" href="#8895"> 8895: </a>                }
</span><span id="8896" class="l"><a class="l" href="#8896"> 8896: </a>            }
</span><span id="8897" class="l"><a class="l" href="#8897"> 8897: </a>            <span class="php-keyword1">if</span> (<span class="php-keyword2">is_array</span>(<span class="php-var">$credits_parent</span>))
</span><span id="8898" class="l"><a class="l" href="#8898"> 8898: </a>            {
</span><span id="8899" class="l"><a class="l" href="#8899"> 8899: </a>                <span class="php-var">$credits_parent</span> = <span class="php-keyword2">array_values</span>(<span class="php-var">$this</span>-&gt;registry-&gt;call(<span class="php-quote">'Misc'</span>, <span class="php-quote">'array_unique'</span>, <span class="php-keyword1">array</span>(<span class="php-var">$credits_parent</span>)));
</span><span id="8900" class="l"><a class="l" href="#8900"> 8900: </a>            }
</span><span id="8901" class="l"><a class="l" href="#8901"> 8901: </a>
</span><span id="8902" class="l"><a class="l" href="#8902"> 8902: </a>            <span class="php-comment">// DESCRIPTION</span>
</span><span id="8903" class="l"><a class="l" href="#8903"> 8903: </a>            <span class="php-keyword1">if</span> (<span class="php-var">$description_parent</span> = <span class="php-var">$this</span>-&gt;get_item_tags(SIMPLEPIE_NAMESPACE_MEDIARSS, <span class="php-quote">'description'</span>))
</span><span id="8904" class="l"><a class="l" href="#8904"> 8904: </a>            {
</span><span id="8905" class="l"><a class="l" href="#8905"> 8905: </a>                <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$description_parent</span>[<span class="php-num">0</span>][<span class="php-quote">'data'</span>]))
</span><span id="8906" class="l"><a class="l" href="#8906"> 8906: </a>                {
</span><span id="8907" class="l"><a class="l" href="#8907"> 8907: </a>                    <span class="php-var">$description_parent</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$description_parent</span>[<span class="php-num">0</span>][<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="8908" class="l"><a class="l" href="#8908"> 8908: </a>                }
</span><span id="8909" class="l"><a class="l" href="#8909"> 8909: </a>            }
</span><span id="8910" class="l"><a class="l" href="#8910"> 8910: </a>            <span class="php-keyword1">elseif</span> (<span class="php-var">$description_parent</span> = <span class="php-var">$parent</span>-&gt;get_channel_tags(SIMPLEPIE_NAMESPACE_MEDIARSS, <span class="php-quote">'description'</span>))
</span><span id="8911" class="l"><a class="l" href="#8911"> 8911: </a>            {
</span><span id="8912" class="l"><a class="l" href="#8912"> 8912: </a>                <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$description_parent</span>[<span class="php-num">0</span>][<span class="php-quote">'data'</span>]))
</span><span id="8913" class="l"><a class="l" href="#8913"> 8913: </a>                {
</span><span id="8914" class="l"><a class="l" href="#8914"> 8914: </a>                    <span class="php-var">$description_parent</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$description_parent</span>[<span class="php-num">0</span>][<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="8915" class="l"><a class="l" href="#8915"> 8915: </a>                }
</span><span id="8916" class="l"><a class="l" href="#8916"> 8916: </a>            }
</span><span id="8917" class="l"><a class="l" href="#8917"> 8917: </a>
</span><span id="8918" class="l"><a class="l" href="#8918"> 8918: </a>            <span class="php-comment">// DURATION</span>
</span><span id="8919" class="l"><a class="l" href="#8919"> 8919: </a>            <span class="php-keyword1">if</span> (<span class="php-var">$duration_parent</span> = <span class="php-var">$this</span>-&gt;get_item_tags(SIMPLEPIE_NAMESPACE_ITUNES, <span class="php-quote">'duration'</span>))
</span><span id="8920" class="l"><a class="l" href="#8920"> 8920: </a>            {
</span><span id="8921" class="l"><a class="l" href="#8921"> 8921: </a>                <span class="php-var">$seconds</span> = <span class="php-keyword1">null</span>;
</span><span id="8922" class="l"><a class="l" href="#8922"> 8922: </a>                <span class="php-var">$minutes</span> = <span class="php-keyword1">null</span>;
</span><span id="8923" class="l"><a class="l" href="#8923"> 8923: </a>                <span class="php-var">$hours</span> = <span class="php-keyword1">null</span>;
</span><span id="8924" class="l"><a class="l" href="#8924"> 8924: </a>                <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$duration_parent</span>[<span class="php-num">0</span>][<span class="php-quote">'data'</span>]))
</span><span id="8925" class="l"><a class="l" href="#8925"> 8925: </a>                {
</span><span id="8926" class="l"><a class="l" href="#8926"> 8926: </a>                    <span class="php-var">$temp</span> = <span class="php-keyword2">explode</span>(<span class="php-quote">':'</span>, <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$duration_parent</span>[<span class="php-num">0</span>][<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_TEXT));
</span><span id="8927" class="l"><a class="l" href="#8927"> 8927: </a>                    <span class="php-keyword1">if</span> (<span class="php-keyword2">sizeof</span>(<span class="php-var">$temp</span>) &gt; <span class="php-num">0</span>)
</span><span id="8928" class="l"><a class="l" href="#8928"> 8928: </a>                    {
</span><span id="8929" class="l"><a class="l" href="#8929"> 8929: </a>                        <span class="php-var">$seconds</span> = (int) <span class="php-keyword2">array_pop</span>(<span class="php-var">$temp</span>);
</span><span id="8930" class="l"><a class="l" href="#8930"> 8930: </a>                    }
</span><span id="8931" class="l"><a class="l" href="#8931"> 8931: </a>                    <span class="php-keyword1">if</span> (<span class="php-keyword2">sizeof</span>(<span class="php-var">$temp</span>) &gt; <span class="php-num">0</span>)
</span><span id="8932" class="l"><a class="l" href="#8932"> 8932: </a>                    {
</span><span id="8933" class="l"><a class="l" href="#8933"> 8933: </a>                        <span class="php-var">$minutes</span> = (int) <span class="php-keyword2">array_pop</span>(<span class="php-var">$temp</span>);
</span><span id="8934" class="l"><a class="l" href="#8934"> 8934: </a>                        <span class="php-var">$seconds</span> += <span class="php-var">$minutes</span> * <span class="php-num">60</span>;
</span><span id="8935" class="l"><a class="l" href="#8935"> 8935: </a>                    }
</span><span id="8936" class="l"><a class="l" href="#8936"> 8936: </a>                    <span class="php-keyword1">if</span> (<span class="php-keyword2">sizeof</span>(<span class="php-var">$temp</span>) &gt; <span class="php-num">0</span>)
</span><span id="8937" class="l"><a class="l" href="#8937"> 8937: </a>                    {
</span><span id="8938" class="l"><a class="l" href="#8938"> 8938: </a>                        <span class="php-var">$hours</span> = (int) <span class="php-keyword2">array_pop</span>(<span class="php-var">$temp</span>);
</span><span id="8939" class="l"><a class="l" href="#8939"> 8939: </a>                        <span class="php-var">$seconds</span> += <span class="php-var">$hours</span> * <span class="php-num">3600</span>;
</span><span id="8940" class="l"><a class="l" href="#8940"> 8940: </a>                    }
</span><span id="8941" class="l"><a class="l" href="#8941"> 8941: </a>                    <span class="php-keyword1">unset</span>(<span class="php-var">$temp</span>);
</span><span id="8942" class="l"><a class="l" href="#8942"> 8942: </a>                    <span class="php-var">$duration_parent</span> = <span class="php-var">$seconds</span>;
</span><span id="8943" class="l"><a class="l" href="#8943"> 8943: </a>                }
</span><span id="8944" class="l"><a class="l" href="#8944"> 8944: </a>            }
</span><span id="8945" class="l"><a class="l" href="#8945"> 8945: </a>
</span><span id="8946" class="l"><a class="l" href="#8946"> 8946: </a>            <span class="php-comment">// HASHES</span>
</span><span id="8947" class="l"><a class="l" href="#8947"> 8947: </a>            <span class="php-keyword1">if</span> (<span class="php-var">$hashes_iterator</span> = <span class="php-var">$this</span>-&gt;get_item_tags(SIMPLEPIE_NAMESPACE_MEDIARSS, <span class="php-quote">'hash'</span>))
</span><span id="8948" class="l"><a class="l" href="#8948"> 8948: </a>            {
</span><span id="8949" class="l"><a class="l" href="#8949"> 8949: </a>                <span class="php-keyword1">foreach</span> (<span class="php-var">$hashes_iterator</span> <span class="php-keyword1">as</span> <span class="php-var">$hash</span>)
</span><span id="8950" class="l"><a class="l" href="#8950"> 8950: </a>                {
</span><span id="8951" class="l"><a class="l" href="#8951"> 8951: </a>                    <span class="php-var">$value</span> = <span class="php-keyword1">null</span>;
</span><span id="8952" class="l"><a class="l" href="#8952"> 8952: </a>                    <span class="php-var">$algo</span> = <span class="php-keyword1">null</span>;
</span><span id="8953" class="l"><a class="l" href="#8953"> 8953: </a>                    <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$hash</span>[<span class="php-quote">'data'</span>]))
</span><span id="8954" class="l"><a class="l" href="#8954"> 8954: </a>                    {
</span><span id="8955" class="l"><a class="l" href="#8955"> 8955: </a>                        <span class="php-var">$value</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$hash</span>[<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="8956" class="l"><a class="l" href="#8956"> 8956: </a>                    }
</span><span id="8957" class="l"><a class="l" href="#8957"> 8957: </a>                    <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$hash</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'algo'</span>]))
</span><span id="8958" class="l"><a class="l" href="#8958"> 8958: </a>                    {
</span><span id="8959" class="l"><a class="l" href="#8959"> 8959: </a>                        <span class="php-var">$algo</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$hash</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'algo'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="8960" class="l"><a class="l" href="#8960"> 8960: </a>                    }
</span><span id="8961" class="l"><a class="l" href="#8961"> 8961: </a>                    <span class="php-keyword1">else</span>
</span><span id="8962" class="l"><a class="l" href="#8962"> 8962: </a>                    {
</span><span id="8963" class="l"><a class="l" href="#8963"> 8963: </a>                        <span class="php-var">$algo</span> = <span class="php-quote">'md5'</span>;
</span><span id="8964" class="l"><a class="l" href="#8964"> 8964: </a>                    }
</span><span id="8965" class="l"><a class="l" href="#8965"> 8965: </a>                    <span class="php-var">$hashes_parent</span>[] = <span class="php-var">$algo</span>.<span class="php-quote">':'</span>.<span class="php-var">$value</span>;
</span><span id="8966" class="l"><a class="l" href="#8966"> 8966: </a>                }
</span><span id="8967" class="l"><a class="l" href="#8967"> 8967: </a>            }
</span><span id="8968" class="l"><a class="l" href="#8968"> 8968: </a>            <span class="php-keyword1">elseif</span> (<span class="php-var">$hashes_iterator</span> = <span class="php-var">$parent</span>-&gt;get_channel_tags(SIMPLEPIE_NAMESPACE_MEDIARSS, <span class="php-quote">'hash'</span>))
</span><span id="8969" class="l"><a class="l" href="#8969"> 8969: </a>            {
</span><span id="8970" class="l"><a class="l" href="#8970"> 8970: </a>                <span class="php-keyword1">foreach</span> (<span class="php-var">$hashes_iterator</span> <span class="php-keyword1">as</span> <span class="php-var">$hash</span>)
</span><span id="8971" class="l"><a class="l" href="#8971"> 8971: </a>                {
</span><span id="8972" class="l"><a class="l" href="#8972"> 8972: </a>                    <span class="php-var">$value</span> = <span class="php-keyword1">null</span>;
</span><span id="8973" class="l"><a class="l" href="#8973"> 8973: </a>                    <span class="php-var">$algo</span> = <span class="php-keyword1">null</span>;
</span><span id="8974" class="l"><a class="l" href="#8974"> 8974: </a>                    <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$hash</span>[<span class="php-quote">'data'</span>]))
</span><span id="8975" class="l"><a class="l" href="#8975"> 8975: </a>                    {
</span><span id="8976" class="l"><a class="l" href="#8976"> 8976: </a>                        <span class="php-var">$value</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$hash</span>[<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="8977" class="l"><a class="l" href="#8977"> 8977: </a>                    }
</span><span id="8978" class="l"><a class="l" href="#8978"> 8978: </a>                    <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$hash</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'algo'</span>]))
</span><span id="8979" class="l"><a class="l" href="#8979"> 8979: </a>                    {
</span><span id="8980" class="l"><a class="l" href="#8980"> 8980: </a>                        <span class="php-var">$algo</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$hash</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'algo'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="8981" class="l"><a class="l" href="#8981"> 8981: </a>                    }
</span><span id="8982" class="l"><a class="l" href="#8982"> 8982: </a>                    <span class="php-keyword1">else</span>
</span><span id="8983" class="l"><a class="l" href="#8983"> 8983: </a>                    {
</span><span id="8984" class="l"><a class="l" href="#8984"> 8984: </a>                        <span class="php-var">$algo</span> = <span class="php-quote">'md5'</span>;
</span><span id="8985" class="l"><a class="l" href="#8985"> 8985: </a>                    }
</span><span id="8986" class="l"><a class="l" href="#8986"> 8986: </a>                    <span class="php-var">$hashes_parent</span>[] = <span class="php-var">$algo</span>.<span class="php-quote">':'</span>.<span class="php-var">$value</span>;
</span><span id="8987" class="l"><a class="l" href="#8987"> 8987: </a>                }
</span><span id="8988" class="l"><a class="l" href="#8988"> 8988: </a>            }
</span><span id="8989" class="l"><a class="l" href="#8989"> 8989: </a>            <span class="php-keyword1">if</span> (<span class="php-keyword2">is_array</span>(<span class="php-var">$hashes_parent</span>))
</span><span id="8990" class="l"><a class="l" href="#8990"> 8990: </a>            {
</span><span id="8991" class="l"><a class="l" href="#8991"> 8991: </a>                <span class="php-var">$hashes_parent</span> = <span class="php-keyword2">array_values</span>(<span class="php-var">$this</span>-&gt;registry-&gt;call(<span class="php-quote">'Misc'</span>, <span class="php-quote">'array_unique'</span>, <span class="php-keyword1">array</span>(<span class="php-var">$hashes_parent</span>)));
</span><span id="8992" class="l"><a class="l" href="#8992"> 8992: </a>            }
</span><span id="8993" class="l"><a class="l" href="#8993"> 8993: </a>
</span><span id="8994" class="l"><a class="l" href="#8994"> 8994: </a>            <span class="php-comment">// KEYWORDS</span>
</span><span id="8995" class="l"><a class="l" href="#8995"> 8995: </a>            <span class="php-keyword1">if</span> (<span class="php-var">$keywords</span> = <span class="php-var">$this</span>-&gt;get_item_tags(SIMPLEPIE_NAMESPACE_MEDIARSS, <span class="php-quote">'keywords'</span>))
</span><span id="8996" class="l"><a class="l" href="#8996"> 8996: </a>            {
</span><span id="8997" class="l"><a class="l" href="#8997"> 8997: </a>                <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$keywords</span>[<span class="php-num">0</span>][<span class="php-quote">'data'</span>]))
</span><span id="8998" class="l"><a class="l" href="#8998"> 8998: </a>                {
</span><span id="8999" class="l"><a class="l" href="#8999"> 8999: </a>                    <span class="php-var">$temp</span> = <span class="php-keyword2">explode</span>(<span class="php-quote">','</span>, <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$keywords</span>[<span class="php-num">0</span>][<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_TEXT));
</span><span id="9000" class="l"><a class="l" href="#9000"> 9000: </a>                    <span class="php-keyword1">foreach</span> (<span class="php-var">$temp</span> <span class="php-keyword1">as</span> <span class="php-var">$word</span>)
</span><span id="9001" class="l"><a class="l" href="#9001"> 9001: </a>                    {
</span><span id="9002" class="l"><a class="l" href="#9002"> 9002: </a>                        <span class="php-var">$keywords_parent</span>[] = <span class="php-keyword2">trim</span>(<span class="php-var">$word</span>);
</span><span id="9003" class="l"><a class="l" href="#9003"> 9003: </a>                    }
</span><span id="9004" class="l"><a class="l" href="#9004"> 9004: </a>                }
</span><span id="9005" class="l"><a class="l" href="#9005"> 9005: </a>                <span class="php-keyword1">unset</span>(<span class="php-var">$temp</span>);
</span><span id="9006" class="l"><a class="l" href="#9006"> 9006: </a>            }
</span><span id="9007" class="l"><a class="l" href="#9007"> 9007: </a>            <span class="php-keyword1">elseif</span> (<span class="php-var">$keywords</span> = <span class="php-var">$this</span>-&gt;get_item_tags(SIMPLEPIE_NAMESPACE_ITUNES, <span class="php-quote">'keywords'</span>))
</span><span id="9008" class="l"><a class="l" href="#9008"> 9008: </a>            {
</span><span id="9009" class="l"><a class="l" href="#9009"> 9009: </a>                <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$keywords</span>[<span class="php-num">0</span>][<span class="php-quote">'data'</span>]))
</span><span id="9010" class="l"><a class="l" href="#9010"> 9010: </a>                {
</span><span id="9011" class="l"><a class="l" href="#9011"> 9011: </a>                    <span class="php-var">$temp</span> = <span class="php-keyword2">explode</span>(<span class="php-quote">','</span>, <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$keywords</span>[<span class="php-num">0</span>][<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_TEXT));
</span><span id="9012" class="l"><a class="l" href="#9012"> 9012: </a>                    <span class="php-keyword1">foreach</span> (<span class="php-var">$temp</span> <span class="php-keyword1">as</span> <span class="php-var">$word</span>)
</span><span id="9013" class="l"><a class="l" href="#9013"> 9013: </a>                    {
</span><span id="9014" class="l"><a class="l" href="#9014"> 9014: </a>                        <span class="php-var">$keywords_parent</span>[] = <span class="php-keyword2">trim</span>(<span class="php-var">$word</span>);
</span><span id="9015" class="l"><a class="l" href="#9015"> 9015: </a>                    }
</span><span id="9016" class="l"><a class="l" href="#9016"> 9016: </a>                }
</span><span id="9017" class="l"><a class="l" href="#9017"> 9017: </a>                <span class="php-keyword1">unset</span>(<span class="php-var">$temp</span>);
</span><span id="9018" class="l"><a class="l" href="#9018"> 9018: </a>            }
</span><span id="9019" class="l"><a class="l" href="#9019"> 9019: </a>            <span class="php-keyword1">elseif</span> (<span class="php-var">$keywords</span> = <span class="php-var">$parent</span>-&gt;get_channel_tags(SIMPLEPIE_NAMESPACE_MEDIARSS, <span class="php-quote">'keywords'</span>))
</span><span id="9020" class="l"><a class="l" href="#9020"> 9020: </a>            {
</span><span id="9021" class="l"><a class="l" href="#9021"> 9021: </a>                <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$keywords</span>[<span class="php-num">0</span>][<span class="php-quote">'data'</span>]))
</span><span id="9022" class="l"><a class="l" href="#9022"> 9022: </a>                {
</span><span id="9023" class="l"><a class="l" href="#9023"> 9023: </a>                    <span class="php-var">$temp</span> = <span class="php-keyword2">explode</span>(<span class="php-quote">','</span>, <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$keywords</span>[<span class="php-num">0</span>][<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_TEXT));
</span><span id="9024" class="l"><a class="l" href="#9024"> 9024: </a>                    <span class="php-keyword1">foreach</span> (<span class="php-var">$temp</span> <span class="php-keyword1">as</span> <span class="php-var">$word</span>)
</span><span id="9025" class="l"><a class="l" href="#9025"> 9025: </a>                    {
</span><span id="9026" class="l"><a class="l" href="#9026"> 9026: </a>                        <span class="php-var">$keywords_parent</span>[] = <span class="php-keyword2">trim</span>(<span class="php-var">$word</span>);
</span><span id="9027" class="l"><a class="l" href="#9027"> 9027: </a>                    }
</span><span id="9028" class="l"><a class="l" href="#9028"> 9028: </a>                }
</span><span id="9029" class="l"><a class="l" href="#9029"> 9029: </a>                <span class="php-keyword1">unset</span>(<span class="php-var">$temp</span>);
</span><span id="9030" class="l"><a class="l" href="#9030"> 9030: </a>            }
</span><span id="9031" class="l"><a class="l" href="#9031"> 9031: </a>            <span class="php-keyword1">elseif</span> (<span class="php-var">$keywords</span> = <span class="php-var">$parent</span>-&gt;get_channel_tags(SIMPLEPIE_NAMESPACE_ITUNES, <span class="php-quote">'keywords'</span>))
</span><span id="9032" class="l"><a class="l" href="#9032"> 9032: </a>            {
</span><span id="9033" class="l"><a class="l" href="#9033"> 9033: </a>                <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$keywords</span>[<span class="php-num">0</span>][<span class="php-quote">'data'</span>]))
</span><span id="9034" class="l"><a class="l" href="#9034"> 9034: </a>                {
</span><span id="9035" class="l"><a class="l" href="#9035"> 9035: </a>                    <span class="php-var">$temp</span> = <span class="php-keyword2">explode</span>(<span class="php-quote">','</span>, <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$keywords</span>[<span class="php-num">0</span>][<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_TEXT));
</span><span id="9036" class="l"><a class="l" href="#9036"> 9036: </a>                    <span class="php-keyword1">foreach</span> (<span class="php-var">$temp</span> <span class="php-keyword1">as</span> <span class="php-var">$word</span>)
</span><span id="9037" class="l"><a class="l" href="#9037"> 9037: </a>                    {
</span><span id="9038" class="l"><a class="l" href="#9038"> 9038: </a>                        <span class="php-var">$keywords_parent</span>[] = <span class="php-keyword2">trim</span>(<span class="php-var">$word</span>);
</span><span id="9039" class="l"><a class="l" href="#9039"> 9039: </a>                    }
</span><span id="9040" class="l"><a class="l" href="#9040"> 9040: </a>                }
</span><span id="9041" class="l"><a class="l" href="#9041"> 9041: </a>                <span class="php-keyword1">unset</span>(<span class="php-var">$temp</span>);
</span><span id="9042" class="l"><a class="l" href="#9042"> 9042: </a>            }
</span><span id="9043" class="l"><a class="l" href="#9043"> 9043: </a>            <span class="php-keyword1">if</span> (<span class="php-keyword2">is_array</span>(<span class="php-var">$keywords_parent</span>))
</span><span id="9044" class="l"><a class="l" href="#9044"> 9044: </a>            {
</span><span id="9045" class="l"><a class="l" href="#9045"> 9045: </a>                <span class="php-var">$keywords_parent</span> = <span class="php-keyword2">array_values</span>(<span class="php-var">$this</span>-&gt;registry-&gt;call(<span class="php-quote">'Misc'</span>, <span class="php-quote">'array_unique'</span>, <span class="php-keyword1">array</span>(<span class="php-var">$keywords_parent</span>)));
</span><span id="9046" class="l"><a class="l" href="#9046"> 9046: </a>            }
</span><span id="9047" class="l"><a class="l" href="#9047"> 9047: </a>
</span><span id="9048" class="l"><a class="l" href="#9048"> 9048: </a>            <span class="php-comment">// PLAYER</span>
</span><span id="9049" class="l"><a class="l" href="#9049"> 9049: </a>            <span class="php-keyword1">if</span> (<span class="php-var">$player_parent</span> = <span class="php-var">$this</span>-&gt;get_item_tags(SIMPLEPIE_NAMESPACE_MEDIARSS, <span class="php-quote">'player'</span>))
</span><span id="9050" class="l"><a class="l" href="#9050"> 9050: </a>            {
</span><span id="9051" class="l"><a class="l" href="#9051"> 9051: </a>                <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$player_parent</span>[<span class="php-num">0</span>][<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'url'</span>]))
</span><span id="9052" class="l"><a class="l" href="#9052"> 9052: </a>                {
</span><span id="9053" class="l"><a class="l" href="#9053"> 9053: </a>                    <span class="php-var">$player_parent</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$player_parent</span>[<span class="php-num">0</span>][<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'url'</span>], SIMPLEPIE_CONSTRUCT_IRI);
</span><span id="9054" class="l"><a class="l" href="#9054"> 9054: </a>                }
</span><span id="9055" class="l"><a class="l" href="#9055"> 9055: </a>            }
</span><span id="9056" class="l"><a class="l" href="#9056"> 9056: </a>            <span class="php-keyword1">elseif</span> (<span class="php-var">$player_parent</span> = <span class="php-var">$parent</span>-&gt;get_channel_tags(SIMPLEPIE_NAMESPACE_MEDIARSS, <span class="php-quote">'player'</span>))
</span><span id="9057" class="l"><a class="l" href="#9057"> 9057: </a>            {
</span><span id="9058" class="l"><a class="l" href="#9058"> 9058: </a>                <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$player_parent</span>[<span class="php-num">0</span>][<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'url'</span>]))
</span><span id="9059" class="l"><a class="l" href="#9059"> 9059: </a>                {
</span><span id="9060" class="l"><a class="l" href="#9060"> 9060: </a>                    <span class="php-var">$player_parent</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$player_parent</span>[<span class="php-num">0</span>][<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'url'</span>], SIMPLEPIE_CONSTRUCT_IRI);
</span><span id="9061" class="l"><a class="l" href="#9061"> 9061: </a>                }
</span><span id="9062" class="l"><a class="l" href="#9062"> 9062: </a>            }
</span><span id="9063" class="l"><a class="l" href="#9063"> 9063: </a>
</span><span id="9064" class="l"><a class="l" href="#9064"> 9064: </a>            <span class="php-comment">// RATINGS</span>
</span><span id="9065" class="l"><a class="l" href="#9065"> 9065: </a>            <span class="php-keyword1">if</span> (<span class="php-var">$ratings</span> = <span class="php-var">$this</span>-&gt;get_item_tags(SIMPLEPIE_NAMESPACE_MEDIARSS, <span class="php-quote">'rating'</span>))
</span><span id="9066" class="l"><a class="l" href="#9066"> 9066: </a>            {
</span><span id="9067" class="l"><a class="l" href="#9067"> 9067: </a>                <span class="php-keyword1">foreach</span> (<span class="php-var">$ratings</span> <span class="php-keyword1">as</span> <span class="php-var">$rating</span>)
</span><span id="9068" class="l"><a class="l" href="#9068"> 9068: </a>                {
</span><span id="9069" class="l"><a class="l" href="#9069"> 9069: </a>                    <span class="php-var">$rating_scheme</span> = <span class="php-keyword1">null</span>;
</span><span id="9070" class="l"><a class="l" href="#9070"> 9070: </a>                    <span class="php-var">$rating_value</span> = <span class="php-keyword1">null</span>;
</span><span id="9071" class="l"><a class="l" href="#9071"> 9071: </a>                    <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$rating</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'scheme'</span>]))
</span><span id="9072" class="l"><a class="l" href="#9072"> 9072: </a>                    {
</span><span id="9073" class="l"><a class="l" href="#9073"> 9073: </a>                        <span class="php-var">$rating_scheme</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$rating</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'scheme'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="9074" class="l"><a class="l" href="#9074"> 9074: </a>                    }
</span><span id="9075" class="l"><a class="l" href="#9075"> 9075: </a>                    <span class="php-keyword1">else</span>
</span><span id="9076" class="l"><a class="l" href="#9076"> 9076: </a>                    {
</span><span id="9077" class="l"><a class="l" href="#9077"> 9077: </a>                        <span class="php-var">$rating_scheme</span> = <span class="php-quote">'urn:simple'</span>;
</span><span id="9078" class="l"><a class="l" href="#9078"> 9078: </a>                    }
</span><span id="9079" class="l"><a class="l" href="#9079"> 9079: </a>                    <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$rating</span>[<span class="php-quote">'data'</span>]))
</span><span id="9080" class="l"><a class="l" href="#9080"> 9080: </a>                    {
</span><span id="9081" class="l"><a class="l" href="#9081"> 9081: </a>                        <span class="php-var">$rating_value</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$rating</span>[<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="9082" class="l"><a class="l" href="#9082"> 9082: </a>                    }
</span><span id="9083" class="l"><a class="l" href="#9083"> 9083: </a>                    <span class="php-var">$ratings_parent</span>[] = <span class="php-var">$this</span>-&gt;registry-&gt;create(<span class="php-quote">'Rating'</span>, <span class="php-keyword1">array</span>(<span class="php-var">$rating_scheme</span>, <span class="php-var">$rating_value</span>));
</span><span id="9084" class="l"><a class="l" href="#9084"> 9084: </a>                }
</span><span id="9085" class="l"><a class="l" href="#9085"> 9085: </a>            }
</span><span id="9086" class="l"><a class="l" href="#9086"> 9086: </a>            <span class="php-keyword1">elseif</span> (<span class="php-var">$ratings</span> = <span class="php-var">$this</span>-&gt;get_item_tags(SIMPLEPIE_NAMESPACE_ITUNES, <span class="php-quote">'explicit'</span>))
</span><span id="9087" class="l"><a class="l" href="#9087"> 9087: </a>            {
</span><span id="9088" class="l"><a class="l" href="#9088"> 9088: </a>                <span class="php-keyword1">foreach</span> (<span class="php-var">$ratings</span> <span class="php-keyword1">as</span> <span class="php-var">$rating</span>)
</span><span id="9089" class="l"><a class="l" href="#9089"> 9089: </a>                {
</span><span id="9090" class="l"><a class="l" href="#9090"> 9090: </a>                    <span class="php-var">$rating_scheme</span> = <span class="php-quote">'urn:itunes'</span>;
</span><span id="9091" class="l"><a class="l" href="#9091"> 9091: </a>                    <span class="php-var">$rating_value</span> = <span class="php-keyword1">null</span>;
</span><span id="9092" class="l"><a class="l" href="#9092"> 9092: </a>                    <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$rating</span>[<span class="php-quote">'data'</span>]))
</span><span id="9093" class="l"><a class="l" href="#9093"> 9093: </a>                    {
</span><span id="9094" class="l"><a class="l" href="#9094"> 9094: </a>                        <span class="php-var">$rating_value</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$rating</span>[<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="9095" class="l"><a class="l" href="#9095"> 9095: </a>                    }
</span><span id="9096" class="l"><a class="l" href="#9096"> 9096: </a>                    <span class="php-var">$ratings_parent</span>[] = <span class="php-var">$this</span>-&gt;registry-&gt;create(<span class="php-quote">'Rating'</span>, <span class="php-keyword1">array</span>(<span class="php-var">$rating_scheme</span>, <span class="php-var">$rating_value</span>));
</span><span id="9097" class="l"><a class="l" href="#9097"> 9097: </a>                }
</span><span id="9098" class="l"><a class="l" href="#9098"> 9098: </a>            }
</span><span id="9099" class="l"><a class="l" href="#9099"> 9099: </a>            <span class="php-keyword1">elseif</span> (<span class="php-var">$ratings</span> = <span class="php-var">$parent</span>-&gt;get_channel_tags(SIMPLEPIE_NAMESPACE_MEDIARSS, <span class="php-quote">'rating'</span>))
</span><span id="9100" class="l"><a class="l" href="#9100"> 9100: </a>            {
</span><span id="9101" class="l"><a class="l" href="#9101"> 9101: </a>                <span class="php-keyword1">foreach</span> (<span class="php-var">$ratings</span> <span class="php-keyword1">as</span> <span class="php-var">$rating</span>)
</span><span id="9102" class="l"><a class="l" href="#9102"> 9102: </a>                {
</span><span id="9103" class="l"><a class="l" href="#9103"> 9103: </a>                    <span class="php-var">$rating_scheme</span> = <span class="php-keyword1">null</span>;
</span><span id="9104" class="l"><a class="l" href="#9104"> 9104: </a>                    <span class="php-var">$rating_value</span> = <span class="php-keyword1">null</span>;
</span><span id="9105" class="l"><a class="l" href="#9105"> 9105: </a>                    <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$rating</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'scheme'</span>]))
</span><span id="9106" class="l"><a class="l" href="#9106"> 9106: </a>                    {
</span><span id="9107" class="l"><a class="l" href="#9107"> 9107: </a>                        <span class="php-var">$rating_scheme</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$rating</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'scheme'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="9108" class="l"><a class="l" href="#9108"> 9108: </a>                    }
</span><span id="9109" class="l"><a class="l" href="#9109"> 9109: </a>                    <span class="php-keyword1">else</span>
</span><span id="9110" class="l"><a class="l" href="#9110"> 9110: </a>                    {
</span><span id="9111" class="l"><a class="l" href="#9111"> 9111: </a>                        <span class="php-var">$rating_scheme</span> = <span class="php-quote">'urn:simple'</span>;
</span><span id="9112" class="l"><a class="l" href="#9112"> 9112: </a>                    }
</span><span id="9113" class="l"><a class="l" href="#9113"> 9113: </a>                    <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$rating</span>[<span class="php-quote">'data'</span>]))
</span><span id="9114" class="l"><a class="l" href="#9114"> 9114: </a>                    {
</span><span id="9115" class="l"><a class="l" href="#9115"> 9115: </a>                        <span class="php-var">$rating_value</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$rating</span>[<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="9116" class="l"><a class="l" href="#9116"> 9116: </a>                    }
</span><span id="9117" class="l"><a class="l" href="#9117"> 9117: </a>                    <span class="php-var">$ratings_parent</span>[] = <span class="php-var">$this</span>-&gt;registry-&gt;create(<span class="php-quote">'Rating'</span>, <span class="php-keyword1">array</span>(<span class="php-var">$rating_scheme</span>, <span class="php-var">$rating_value</span>));
</span><span id="9118" class="l"><a class="l" href="#9118"> 9118: </a>                }
</span><span id="9119" class="l"><a class="l" href="#9119"> 9119: </a>            }
</span><span id="9120" class="l"><a class="l" href="#9120"> 9120: </a>            <span class="php-keyword1">elseif</span> (<span class="php-var">$ratings</span> = <span class="php-var">$parent</span>-&gt;get_channel_tags(SIMPLEPIE_NAMESPACE_ITUNES, <span class="php-quote">'explicit'</span>))
</span><span id="9121" class="l"><a class="l" href="#9121"> 9121: </a>            {
</span><span id="9122" class="l"><a class="l" href="#9122"> 9122: </a>                <span class="php-keyword1">foreach</span> (<span class="php-var">$ratings</span> <span class="php-keyword1">as</span> <span class="php-var">$rating</span>)
</span><span id="9123" class="l"><a class="l" href="#9123"> 9123: </a>                {
</span><span id="9124" class="l"><a class="l" href="#9124"> 9124: </a>                    <span class="php-var">$rating_scheme</span> = <span class="php-quote">'urn:itunes'</span>;
</span><span id="9125" class="l"><a class="l" href="#9125"> 9125: </a>                    <span class="php-var">$rating_value</span> = <span class="php-keyword1">null</span>;
</span><span id="9126" class="l"><a class="l" href="#9126"> 9126: </a>                    <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$rating</span>[<span class="php-quote">'data'</span>]))
</span><span id="9127" class="l"><a class="l" href="#9127"> 9127: </a>                    {
</span><span id="9128" class="l"><a class="l" href="#9128"> 9128: </a>                        <span class="php-var">$rating_value</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$rating</span>[<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="9129" class="l"><a class="l" href="#9129"> 9129: </a>                    }
</span><span id="9130" class="l"><a class="l" href="#9130"> 9130: </a>                    <span class="php-var">$ratings_parent</span>[] = <span class="php-var">$this</span>-&gt;registry-&gt;create(<span class="php-quote">'Rating'</span>, <span class="php-keyword1">array</span>(<span class="php-var">$rating_scheme</span>, <span class="php-var">$rating_value</span>));
</span><span id="9131" class="l"><a class="l" href="#9131"> 9131: </a>                }
</span><span id="9132" class="l"><a class="l" href="#9132"> 9132: </a>            }
</span><span id="9133" class="l"><a class="l" href="#9133"> 9133: </a>            <span class="php-keyword1">if</span> (<span class="php-keyword2">is_array</span>(<span class="php-var">$ratings_parent</span>))
</span><span id="9134" class="l"><a class="l" href="#9134"> 9134: </a>            {
</span><span id="9135" class="l"><a class="l" href="#9135"> 9135: </a>                <span class="php-var">$ratings_parent</span> = <span class="php-keyword2">array_values</span>(<span class="php-var">$this</span>-&gt;registry-&gt;call(<span class="php-quote">'Misc'</span>, <span class="php-quote">'array_unique'</span>, <span class="php-keyword1">array</span>(<span class="php-var">$ratings_parent</span>)));
</span><span id="9136" class="l"><a class="l" href="#9136"> 9136: </a>            }
</span><span id="9137" class="l"><a class="l" href="#9137"> 9137: </a>
</span><span id="9138" class="l"><a class="l" href="#9138"> 9138: </a>            <span class="php-comment">// RESTRICTIONS</span>
</span><span id="9139" class="l"><a class="l" href="#9139"> 9139: </a>            <span class="php-keyword1">if</span> (<span class="php-var">$restrictions</span> = <span class="php-var">$this</span>-&gt;get_item_tags(SIMPLEPIE_NAMESPACE_MEDIARSS, <span class="php-quote">'restriction'</span>))
</span><span id="9140" class="l"><a class="l" href="#9140"> 9140: </a>            {
</span><span id="9141" class="l"><a class="l" href="#9141"> 9141: </a>                <span class="php-keyword1">foreach</span> (<span class="php-var">$restrictions</span> <span class="php-keyword1">as</span> <span class="php-var">$restriction</span>)
</span><span id="9142" class="l"><a class="l" href="#9142"> 9142: </a>                {
</span><span id="9143" class="l"><a class="l" href="#9143"> 9143: </a>                    <span class="php-var">$restriction_relationship</span> = <span class="php-keyword1">null</span>;
</span><span id="9144" class="l"><a class="l" href="#9144"> 9144: </a>                    <span class="php-var">$restriction_type</span> = <span class="php-keyword1">null</span>;
</span><span id="9145" class="l"><a class="l" href="#9145"> 9145: </a>                    <span class="php-var">$restriction_value</span> = <span class="php-keyword1">null</span>;
</span><span id="9146" class="l"><a class="l" href="#9146"> 9146: </a>                    <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$restriction</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'relationship'</span>]))
</span><span id="9147" class="l"><a class="l" href="#9147"> 9147: </a>                    {
</span><span id="9148" class="l"><a class="l" href="#9148"> 9148: </a>                        <span class="php-var">$restriction_relationship</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$restriction</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'relationship'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="9149" class="l"><a class="l" href="#9149"> 9149: </a>                    }
</span><span id="9150" class="l"><a class="l" href="#9150"> 9150: </a>                    <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$restriction</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'type'</span>]))
</span><span id="9151" class="l"><a class="l" href="#9151"> 9151: </a>                    {
</span><span id="9152" class="l"><a class="l" href="#9152"> 9152: </a>                        <span class="php-var">$restriction_type</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$restriction</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'type'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="9153" class="l"><a class="l" href="#9153"> 9153: </a>                    }
</span><span id="9154" class="l"><a class="l" href="#9154"> 9154: </a>                    <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$restriction</span>[<span class="php-quote">'data'</span>]))
</span><span id="9155" class="l"><a class="l" href="#9155"> 9155: </a>                    {
</span><span id="9156" class="l"><a class="l" href="#9156"> 9156: </a>                        <span class="php-var">$restriction_value</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$restriction</span>[<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="9157" class="l"><a class="l" href="#9157"> 9157: </a>                    }
</span><span id="9158" class="l"><a class="l" href="#9158"> 9158: </a>                    <span class="php-var">$restrictions_parent</span>[] = <span class="php-var">$this</span>-&gt;registry-&gt;create(<span class="php-quote">'Restriction'</span>, <span class="php-keyword1">array</span>(<span class="php-var">$restriction_relationship</span>, <span class="php-var">$restriction_type</span>, <span class="php-var">$restriction_value</span>));
</span><span id="9159" class="l"><a class="l" href="#9159"> 9159: </a>                }
</span><span id="9160" class="l"><a class="l" href="#9160"> 9160: </a>            }
</span><span id="9161" class="l"><a class="l" href="#9161"> 9161: </a>            <span class="php-keyword1">elseif</span> (<span class="php-var">$restrictions</span> = <span class="php-var">$this</span>-&gt;get_item_tags(SIMPLEPIE_NAMESPACE_ITUNES, <span class="php-quote">'block'</span>))
</span><span id="9162" class="l"><a class="l" href="#9162"> 9162: </a>            {
</span><span id="9163" class="l"><a class="l" href="#9163"> 9163: </a>                <span class="php-keyword1">foreach</span> (<span class="php-var">$restrictions</span> <span class="php-keyword1">as</span> <span class="php-var">$restriction</span>)
</span><span id="9164" class="l"><a class="l" href="#9164"> 9164: </a>                {
</span><span id="9165" class="l"><a class="l" href="#9165"> 9165: </a>                    <span class="php-var">$restriction_relationship</span> = <span class="php-quote">'allow'</span>;
</span><span id="9166" class="l"><a class="l" href="#9166"> 9166: </a>                    <span class="php-var">$restriction_type</span> = <span class="php-keyword1">null</span>;
</span><span id="9167" class="l"><a class="l" href="#9167"> 9167: </a>                    <span class="php-var">$restriction_value</span> = <span class="php-quote">'itunes'</span>;
</span><span id="9168" class="l"><a class="l" href="#9168"> 9168: </a>                    <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$restriction</span>[<span class="php-quote">'data'</span>]) &amp;&amp; <span class="php-keyword2">strtolower</span>(<span class="php-var">$restriction</span>[<span class="php-quote">'data'</span>]) === <span class="php-quote">'yes'</span>)
</span><span id="9169" class="l"><a class="l" href="#9169"> 9169: </a>                    {
</span><span id="9170" class="l"><a class="l" href="#9170"> 9170: </a>                        <span class="php-var">$restriction_relationship</span> = <span class="php-quote">'deny'</span>;
</span><span id="9171" class="l"><a class="l" href="#9171"> 9171: </a>                    }
</span><span id="9172" class="l"><a class="l" href="#9172"> 9172: </a>                    <span class="php-var">$restrictions_parent</span>[] = <span class="php-var">$this</span>-&gt;registry-&gt;create(<span class="php-quote">'Restriction'</span>, <span class="php-keyword1">array</span>(<span class="php-var">$restriction_relationship</span>, <span class="php-var">$restriction_type</span>, <span class="php-var">$restriction_value</span>));
</span><span id="9173" class="l"><a class="l" href="#9173"> 9173: </a>                }
</span><span id="9174" class="l"><a class="l" href="#9174"> 9174: </a>            }
</span><span id="9175" class="l"><a class="l" href="#9175"> 9175: </a>            <span class="php-keyword1">elseif</span> (<span class="php-var">$restrictions</span> = <span class="php-var">$parent</span>-&gt;get_channel_tags(SIMPLEPIE_NAMESPACE_MEDIARSS, <span class="php-quote">'restriction'</span>))
</span><span id="9176" class="l"><a class="l" href="#9176"> 9176: </a>            {
</span><span id="9177" class="l"><a class="l" href="#9177"> 9177: </a>                <span class="php-keyword1">foreach</span> (<span class="php-var">$restrictions</span> <span class="php-keyword1">as</span> <span class="php-var">$restriction</span>)
</span><span id="9178" class="l"><a class="l" href="#9178"> 9178: </a>                {
</span><span id="9179" class="l"><a class="l" href="#9179"> 9179: </a>                    <span class="php-var">$restriction_relationship</span> = <span class="php-keyword1">null</span>;
</span><span id="9180" class="l"><a class="l" href="#9180"> 9180: </a>                    <span class="php-var">$restriction_type</span> = <span class="php-keyword1">null</span>;
</span><span id="9181" class="l"><a class="l" href="#9181"> 9181: </a>                    <span class="php-var">$restriction_value</span> = <span class="php-keyword1">null</span>;
</span><span id="9182" class="l"><a class="l" href="#9182"> 9182: </a>                    <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$restriction</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'relationship'</span>]))
</span><span id="9183" class="l"><a class="l" href="#9183"> 9183: </a>                    {
</span><span id="9184" class="l"><a class="l" href="#9184"> 9184: </a>                        <span class="php-var">$restriction_relationship</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$restriction</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'relationship'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="9185" class="l"><a class="l" href="#9185"> 9185: </a>                    }
</span><span id="9186" class="l"><a class="l" href="#9186"> 9186: </a>                    <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$restriction</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'type'</span>]))
</span><span id="9187" class="l"><a class="l" href="#9187"> 9187: </a>                    {
</span><span id="9188" class="l"><a class="l" href="#9188"> 9188: </a>                        <span class="php-var">$restriction_type</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$restriction</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'type'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="9189" class="l"><a class="l" href="#9189"> 9189: </a>                    }
</span><span id="9190" class="l"><a class="l" href="#9190"> 9190: </a>                    <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$restriction</span>[<span class="php-quote">'data'</span>]))
</span><span id="9191" class="l"><a class="l" href="#9191"> 9191: </a>                    {
</span><span id="9192" class="l"><a class="l" href="#9192"> 9192: </a>                        <span class="php-var">$restriction_value</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$restriction</span>[<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="9193" class="l"><a class="l" href="#9193"> 9193: </a>                    }
</span><span id="9194" class="l"><a class="l" href="#9194"> 9194: </a>                    <span class="php-var">$restrictions_parent</span>[] = <span class="php-var">$this</span>-&gt;registry-&gt;create(<span class="php-quote">'Restriction'</span>, <span class="php-keyword1">array</span>(<span class="php-var">$restriction_relationship</span>, <span class="php-var">$restriction_type</span>, <span class="php-var">$restriction_value</span>));
</span><span id="9195" class="l"><a class="l" href="#9195"> 9195: </a>                }
</span><span id="9196" class="l"><a class="l" href="#9196"> 9196: </a>            }
</span><span id="9197" class="l"><a class="l" href="#9197"> 9197: </a>            <span class="php-keyword1">elseif</span> (<span class="php-var">$restrictions</span> = <span class="php-var">$parent</span>-&gt;get_channel_tags(SIMPLEPIE_NAMESPACE_ITUNES, <span class="php-quote">'block'</span>))
</span><span id="9198" class="l"><a class="l" href="#9198"> 9198: </a>            {
</span><span id="9199" class="l"><a class="l" href="#9199"> 9199: </a>                <span class="php-keyword1">foreach</span> (<span class="php-var">$restrictions</span> <span class="php-keyword1">as</span> <span class="php-var">$restriction</span>)
</span><span id="9200" class="l"><a class="l" href="#9200"> 9200: </a>                {
</span><span id="9201" class="l"><a class="l" href="#9201"> 9201: </a>                    <span class="php-var">$restriction_relationship</span> = <span class="php-quote">'allow'</span>;
</span><span id="9202" class="l"><a class="l" href="#9202"> 9202: </a>                    <span class="php-var">$restriction_type</span> = <span class="php-keyword1">null</span>;
</span><span id="9203" class="l"><a class="l" href="#9203"> 9203: </a>                    <span class="php-var">$restriction_value</span> = <span class="php-quote">'itunes'</span>;
</span><span id="9204" class="l"><a class="l" href="#9204"> 9204: </a>                    <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$restriction</span>[<span class="php-quote">'data'</span>]) &amp;&amp; <span class="php-keyword2">strtolower</span>(<span class="php-var">$restriction</span>[<span class="php-quote">'data'</span>]) === <span class="php-quote">'yes'</span>)
</span><span id="9205" class="l"><a class="l" href="#9205"> 9205: </a>                    {
</span><span id="9206" class="l"><a class="l" href="#9206"> 9206: </a>                        <span class="php-var">$restriction_relationship</span> = <span class="php-quote">'deny'</span>;
</span><span id="9207" class="l"><a class="l" href="#9207"> 9207: </a>                    }
</span><span id="9208" class="l"><a class="l" href="#9208"> 9208: </a>                    <span class="php-var">$restrictions_parent</span>[] = <span class="php-var">$this</span>-&gt;registry-&gt;create(<span class="php-quote">'Restriction'</span>, <span class="php-keyword1">array</span>(<span class="php-var">$restriction_relationship</span>, <span class="php-var">$restriction_type</span>, <span class="php-var">$restriction_value</span>));
</span><span id="9209" class="l"><a class="l" href="#9209"> 9209: </a>                }
</span><span id="9210" class="l"><a class="l" href="#9210"> 9210: </a>            }
</span><span id="9211" class="l"><a class="l" href="#9211"> 9211: </a>            <span class="php-keyword1">if</span> (<span class="php-keyword2">is_array</span>(<span class="php-var">$restrictions_parent</span>))
</span><span id="9212" class="l"><a class="l" href="#9212"> 9212: </a>            {
</span><span id="9213" class="l"><a class="l" href="#9213"> 9213: </a>                <span class="php-var">$restrictions_parent</span> = <span class="php-keyword2">array_values</span>(<span class="php-var">$this</span>-&gt;registry-&gt;call(<span class="php-quote">'Misc'</span>, <span class="php-quote">'array_unique'</span>, <span class="php-keyword1">array</span>(<span class="php-var">$restrictions_parent</span>)));
</span><span id="9214" class="l"><a class="l" href="#9214"> 9214: </a>            }
</span><span id="9215" class="l"><a class="l" href="#9215"> 9215: </a>
</span><span id="9216" class="l"><a class="l" href="#9216"> 9216: </a>            <span class="php-comment">// THUMBNAILS</span>
</span><span id="9217" class="l"><a class="l" href="#9217"> 9217: </a>            <span class="php-keyword1">if</span> (<span class="php-var">$thumbnails</span> = <span class="php-var">$this</span>-&gt;get_item_tags(SIMPLEPIE_NAMESPACE_MEDIARSS, <span class="php-quote">'thumbnail'</span>))
</span><span id="9218" class="l"><a class="l" href="#9218"> 9218: </a>            {
</span><span id="9219" class="l"><a class="l" href="#9219"> 9219: </a>                <span class="php-keyword1">foreach</span> (<span class="php-var">$thumbnails</span> <span class="php-keyword1">as</span> <span class="php-var">$thumbnail</span>)
</span><span id="9220" class="l"><a class="l" href="#9220"> 9220: </a>                {
</span><span id="9221" class="l"><a class="l" href="#9221"> 9221: </a>                    <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$thumbnail</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'url'</span>]))
</span><span id="9222" class="l"><a class="l" href="#9222"> 9222: </a>                    {
</span><span id="9223" class="l"><a class="l" href="#9223"> 9223: </a>                        <span class="php-var">$thumbnails_parent</span>[] = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$thumbnail</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'url'</span>], SIMPLEPIE_CONSTRUCT_IRI);
</span><span id="9224" class="l"><a class="l" href="#9224"> 9224: </a>                    }
</span><span id="9225" class="l"><a class="l" href="#9225"> 9225: </a>                }
</span><span id="9226" class="l"><a class="l" href="#9226"> 9226: </a>            }
</span><span id="9227" class="l"><a class="l" href="#9227"> 9227: </a>            <span class="php-keyword1">elseif</span> (<span class="php-var">$thumbnails</span> = <span class="php-var">$parent</span>-&gt;get_channel_tags(SIMPLEPIE_NAMESPACE_MEDIARSS, <span class="php-quote">'thumbnail'</span>))
</span><span id="9228" class="l"><a class="l" href="#9228"> 9228: </a>            {
</span><span id="9229" class="l"><a class="l" href="#9229"> 9229: </a>                <span class="php-keyword1">foreach</span> (<span class="php-var">$thumbnails</span> <span class="php-keyword1">as</span> <span class="php-var">$thumbnail</span>)
</span><span id="9230" class="l"><a class="l" href="#9230"> 9230: </a>                {
</span><span id="9231" class="l"><a class="l" href="#9231"> 9231: </a>                    <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$thumbnail</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'url'</span>]))
</span><span id="9232" class="l"><a class="l" href="#9232"> 9232: </a>                    {
</span><span id="9233" class="l"><a class="l" href="#9233"> 9233: </a>                        <span class="php-var">$thumbnails_parent</span>[] = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$thumbnail</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'url'</span>], SIMPLEPIE_CONSTRUCT_IRI);
</span><span id="9234" class="l"><a class="l" href="#9234"> 9234: </a>                    }
</span><span id="9235" class="l"><a class="l" href="#9235"> 9235: </a>                }
</span><span id="9236" class="l"><a class="l" href="#9236"> 9236: </a>            }
</span><span id="9237" class="l"><a class="l" href="#9237"> 9237: </a>
</span><span id="9238" class="l"><a class="l" href="#9238"> 9238: </a>            <span class="php-comment">// TITLES</span>
</span><span id="9239" class="l"><a class="l" href="#9239"> 9239: </a>            <span class="php-keyword1">if</span> (<span class="php-var">$title_parent</span> = <span class="php-var">$this</span>-&gt;get_item_tags(SIMPLEPIE_NAMESPACE_MEDIARSS, <span class="php-quote">'title'</span>))
</span><span id="9240" class="l"><a class="l" href="#9240"> 9240: </a>            {
</span><span id="9241" class="l"><a class="l" href="#9241"> 9241: </a>                <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$title_parent</span>[<span class="php-num">0</span>][<span class="php-quote">'data'</span>]))
</span><span id="9242" class="l"><a class="l" href="#9242"> 9242: </a>                {
</span><span id="9243" class="l"><a class="l" href="#9243"> 9243: </a>                    <span class="php-var">$title_parent</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$title_parent</span>[<span class="php-num">0</span>][<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="9244" class="l"><a class="l" href="#9244"> 9244: </a>                }
</span><span id="9245" class="l"><a class="l" href="#9245"> 9245: </a>            }
</span><span id="9246" class="l"><a class="l" href="#9246"> 9246: </a>            <span class="php-keyword1">elseif</span> (<span class="php-var">$title_parent</span> = <span class="php-var">$parent</span>-&gt;get_channel_tags(SIMPLEPIE_NAMESPACE_MEDIARSS, <span class="php-quote">'title'</span>))
</span><span id="9247" class="l"><a class="l" href="#9247"> 9247: </a>            {
</span><span id="9248" class="l"><a class="l" href="#9248"> 9248: </a>                <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$title_parent</span>[<span class="php-num">0</span>][<span class="php-quote">'data'</span>]))
</span><span id="9249" class="l"><a class="l" href="#9249"> 9249: </a>                {
</span><span id="9250" class="l"><a class="l" href="#9250"> 9250: </a>                    <span class="php-var">$title_parent</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$title_parent</span>[<span class="php-num">0</span>][<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="9251" class="l"><a class="l" href="#9251"> 9251: </a>                }
</span><span id="9252" class="l"><a class="l" href="#9252"> 9252: </a>            }
</span><span id="9253" class="l"><a class="l" href="#9253"> 9253: </a>
</span><span id="9254" class="l"><a class="l" href="#9254"> 9254: </a>            <span class="php-comment">// Clear the memory</span>
</span><span id="9255" class="l"><a class="l" href="#9255"> 9255: </a>            <span class="php-keyword1">unset</span>(<span class="php-var">$parent</span>);
</span><span id="9256" class="l"><a class="l" href="#9256"> 9256: </a>
</span><span id="9257" class="l"><a class="l" href="#9257"> 9257: </a>            <span class="php-comment">// Attributes</span>
</span><span id="9258" class="l"><a class="l" href="#9258"> 9258: </a>            <span class="php-var">$bitrate</span> = <span class="php-keyword1">null</span>;
</span><span id="9259" class="l"><a class="l" href="#9259"> 9259: </a>            <span class="php-var">$channels</span> = <span class="php-keyword1">null</span>;
</span><span id="9260" class="l"><a class="l" href="#9260"> 9260: </a>            <span class="php-var">$duration</span> = <span class="php-keyword1">null</span>;
</span><span id="9261" class="l"><a class="l" href="#9261"> 9261: </a>            <span class="php-var">$expression</span> = <span class="php-keyword1">null</span>;
</span><span id="9262" class="l"><a class="l" href="#9262"> 9262: </a>            <span class="php-var">$framerate</span> = <span class="php-keyword1">null</span>;
</span><span id="9263" class="l"><a class="l" href="#9263"> 9263: </a>            <span class="php-var">$height</span> = <span class="php-keyword1">null</span>;
</span><span id="9264" class="l"><a class="l" href="#9264"> 9264: </a>            <span class="php-var">$javascript</span> = <span class="php-keyword1">null</span>;
</span><span id="9265" class="l"><a class="l" href="#9265"> 9265: </a>            <span class="php-var">$lang</span> = <span class="php-keyword1">null</span>;
</span><span id="9266" class="l"><a class="l" href="#9266"> 9266: </a>            <span class="php-var">$length</span> = <span class="php-keyword1">null</span>;
</span><span id="9267" class="l"><a class="l" href="#9267"> 9267: </a>            <span class="php-var">$medium</span> = <span class="php-keyword1">null</span>;
</span><span id="9268" class="l"><a class="l" href="#9268"> 9268: </a>            <span class="php-var">$samplingrate</span> = <span class="php-keyword1">null</span>;
</span><span id="9269" class="l"><a class="l" href="#9269"> 9269: </a>            <span class="php-var">$type</span> = <span class="php-keyword1">null</span>;
</span><span id="9270" class="l"><a class="l" href="#9270"> 9270: </a>            <span class="php-var">$url</span> = <span class="php-keyword1">null</span>;
</span><span id="9271" class="l"><a class="l" href="#9271"> 9271: </a>            <span class="php-var">$width</span> = <span class="php-keyword1">null</span>;
</span><span id="9272" class="l"><a class="l" href="#9272"> 9272: </a>
</span><span id="9273" class="l"><a class="l" href="#9273"> 9273: </a>            <span class="php-comment">// Elements</span>
</span><span id="9274" class="l"><a class="l" href="#9274"> 9274: </a>            <span class="php-var">$captions</span> = <span class="php-keyword1">null</span>;
</span><span id="9275" class="l"><a class="l" href="#9275"> 9275: </a>            <span class="php-var">$categories</span> = <span class="php-keyword1">null</span>;
</span><span id="9276" class="l"><a class="l" href="#9276"> 9276: </a>            <span class="php-var">$copyrights</span> = <span class="php-keyword1">null</span>;
</span><span id="9277" class="l"><a class="l" href="#9277"> 9277: </a>            <span class="php-var">$credits</span> = <span class="php-keyword1">null</span>;
</span><span id="9278" class="l"><a class="l" href="#9278"> 9278: </a>            <span class="php-var">$description</span> = <span class="php-keyword1">null</span>;
</span><span id="9279" class="l"><a class="l" href="#9279"> 9279: </a>            <span class="php-var">$hashes</span> = <span class="php-keyword1">null</span>;
</span><span id="9280" class="l"><a class="l" href="#9280"> 9280: </a>            <span class="php-var">$keywords</span> = <span class="php-keyword1">null</span>;
</span><span id="9281" class="l"><a class="l" href="#9281"> 9281: </a>            <span class="php-var">$player</span> = <span class="php-keyword1">null</span>;
</span><span id="9282" class="l"><a class="l" href="#9282"> 9282: </a>            <span class="php-var">$ratings</span> = <span class="php-keyword1">null</span>;
</span><span id="9283" class="l"><a class="l" href="#9283"> 9283: </a>            <span class="php-var">$restrictions</span> = <span class="php-keyword1">null</span>;
</span><span id="9284" class="l"><a class="l" href="#9284"> 9284: </a>            <span class="php-var">$thumbnails</span> = <span class="php-keyword1">null</span>;
</span><span id="9285" class="l"><a class="l" href="#9285"> 9285: </a>            <span class="php-var">$title</span> = <span class="php-keyword1">null</span>;
</span><span id="9286" class="l"><a class="l" href="#9286"> 9286: </a>
</span><span id="9287" class="l"><a class="l" href="#9287"> 9287: </a>            <span class="php-comment">// If we have media:group tags, loop through them.</span>
</span><span id="9288" class="l"><a class="l" href="#9288"> 9288: </a>            <span class="php-keyword1">foreach</span> ((<span class="php-keyword1">array</span>) <span class="php-var">$this</span>-&gt;get_item_tags(SIMPLEPIE_NAMESPACE_MEDIARSS, <span class="php-quote">'group'</span>) <span class="php-keyword1">as</span> <span class="php-var">$group</span>)
</span><span id="9289" class="l"><a class="l" href="#9289"> 9289: </a>            {
</span><span id="9290" class="l"><a class="l" href="#9290"> 9290: </a>                <span class="php-keyword1">if</span>(<span class="php-keyword1">isset</span>(<span class="php-var">$group</span>[<span class="php-quote">'child'</span>]) &amp;&amp; <span class="php-keyword1">isset</span>(<span class="php-var">$group</span>[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_MEDIARSS][<span class="php-quote">'content'</span>]))
</span><span id="9291" class="l"><a class="l" href="#9291"> 9291: </a>                {
</span><span id="9292" class="l"><a class="l" href="#9292"> 9292: </a>                    <span class="php-comment">// If we have media:content tags, loop through them.</span>
</span><span id="9293" class="l"><a class="l" href="#9293"> 9293: </a>                    <span class="php-keyword1">foreach</span> ((<span class="php-keyword1">array</span>) <span class="php-var">$group</span>[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_MEDIARSS][<span class="php-quote">'content'</span>] <span class="php-keyword1">as</span> <span class="php-var">$content</span>)
</span><span id="9294" class="l"><a class="l" href="#9294"> 9294: </a>                    {
</span><span id="9295" class="l"><a class="l" href="#9295"> 9295: </a>                        <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$content</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'url'</span>]))
</span><span id="9296" class="l"><a class="l" href="#9296"> 9296: </a>                        {
</span><span id="9297" class="l"><a class="l" href="#9297"> 9297: </a>                            <span class="php-comment">// Attributes</span>
</span><span id="9298" class="l"><a class="l" href="#9298"> 9298: </a>                            <span class="php-var">$bitrate</span> = <span class="php-keyword1">null</span>;
</span><span id="9299" class="l"><a class="l" href="#9299"> 9299: </a>                            <span class="php-var">$channels</span> = <span class="php-keyword1">null</span>;
</span><span id="9300" class="l"><a class="l" href="#9300"> 9300: </a>                            <span class="php-var">$duration</span> = <span class="php-keyword1">null</span>;
</span><span id="9301" class="l"><a class="l" href="#9301"> 9301: </a>                            <span class="php-var">$expression</span> = <span class="php-keyword1">null</span>;
</span><span id="9302" class="l"><a class="l" href="#9302"> 9302: </a>                            <span class="php-var">$framerate</span> = <span class="php-keyword1">null</span>;
</span><span id="9303" class="l"><a class="l" href="#9303"> 9303: </a>                            <span class="php-var">$height</span> = <span class="php-keyword1">null</span>;
</span><span id="9304" class="l"><a class="l" href="#9304"> 9304: </a>                            <span class="php-var">$javascript</span> = <span class="php-keyword1">null</span>;
</span><span id="9305" class="l"><a class="l" href="#9305"> 9305: </a>                            <span class="php-var">$lang</span> = <span class="php-keyword1">null</span>;
</span><span id="9306" class="l"><a class="l" href="#9306"> 9306: </a>                            <span class="php-var">$length</span> = <span class="php-keyword1">null</span>;
</span><span id="9307" class="l"><a class="l" href="#9307"> 9307: </a>                            <span class="php-var">$medium</span> = <span class="php-keyword1">null</span>;
</span><span id="9308" class="l"><a class="l" href="#9308"> 9308: </a>                            <span class="php-var">$samplingrate</span> = <span class="php-keyword1">null</span>;
</span><span id="9309" class="l"><a class="l" href="#9309"> 9309: </a>                            <span class="php-var">$type</span> = <span class="php-keyword1">null</span>;
</span><span id="9310" class="l"><a class="l" href="#9310"> 9310: </a>                            <span class="php-var">$url</span> = <span class="php-keyword1">null</span>;
</span><span id="9311" class="l"><a class="l" href="#9311"> 9311: </a>                            <span class="php-var">$width</span> = <span class="php-keyword1">null</span>;
</span><span id="9312" class="l"><a class="l" href="#9312"> 9312: </a>
</span><span id="9313" class="l"><a class="l" href="#9313"> 9313: </a>                            <span class="php-comment">// Elements</span>
</span><span id="9314" class="l"><a class="l" href="#9314"> 9314: </a>                            <span class="php-var">$captions</span> = <span class="php-keyword1">null</span>;
</span><span id="9315" class="l"><a class="l" href="#9315"> 9315: </a>                            <span class="php-var">$categories</span> = <span class="php-keyword1">null</span>;
</span><span id="9316" class="l"><a class="l" href="#9316"> 9316: </a>                            <span class="php-var">$copyrights</span> = <span class="php-keyword1">null</span>;
</span><span id="9317" class="l"><a class="l" href="#9317"> 9317: </a>                            <span class="php-var">$credits</span> = <span class="php-keyword1">null</span>;
</span><span id="9318" class="l"><a class="l" href="#9318"> 9318: </a>                            <span class="php-var">$description</span> = <span class="php-keyword1">null</span>;
</span><span id="9319" class="l"><a class="l" href="#9319"> 9319: </a>                            <span class="php-var">$hashes</span> = <span class="php-keyword1">null</span>;
</span><span id="9320" class="l"><a class="l" href="#9320"> 9320: </a>                            <span class="php-var">$keywords</span> = <span class="php-keyword1">null</span>;
</span><span id="9321" class="l"><a class="l" href="#9321"> 9321: </a>                            <span class="php-var">$player</span> = <span class="php-keyword1">null</span>;
</span><span id="9322" class="l"><a class="l" href="#9322"> 9322: </a>                            <span class="php-var">$ratings</span> = <span class="php-keyword1">null</span>;
</span><span id="9323" class="l"><a class="l" href="#9323"> 9323: </a>                            <span class="php-var">$restrictions</span> = <span class="php-keyword1">null</span>;
</span><span id="9324" class="l"><a class="l" href="#9324"> 9324: </a>                            <span class="php-var">$thumbnails</span> = <span class="php-keyword1">null</span>;
</span><span id="9325" class="l"><a class="l" href="#9325"> 9325: </a>                            <span class="php-var">$title</span> = <span class="php-keyword1">null</span>;
</span><span id="9326" class="l"><a class="l" href="#9326"> 9326: </a>
</span><span id="9327" class="l"><a class="l" href="#9327"> 9327: </a>                            <span class="php-comment">// Start checking the attributes of media:content</span>
</span><span id="9328" class="l"><a class="l" href="#9328"> 9328: </a>                            <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$content</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'bitrate'</span>]))
</span><span id="9329" class="l"><a class="l" href="#9329"> 9329: </a>                            {
</span><span id="9330" class="l"><a class="l" href="#9330"> 9330: </a>                                <span class="php-var">$bitrate</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$content</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'bitrate'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="9331" class="l"><a class="l" href="#9331"> 9331: </a>                            }
</span><span id="9332" class="l"><a class="l" href="#9332"> 9332: </a>                            <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$content</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'channels'</span>]))
</span><span id="9333" class="l"><a class="l" href="#9333"> 9333: </a>                            {
</span><span id="9334" class="l"><a class="l" href="#9334"> 9334: </a>                                <span class="php-var">$channels</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$content</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'channels'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="9335" class="l"><a class="l" href="#9335"> 9335: </a>                            }
</span><span id="9336" class="l"><a class="l" href="#9336"> 9336: </a>                            <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$content</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'duration'</span>]))
</span><span id="9337" class="l"><a class="l" href="#9337"> 9337: </a>                            {
</span><span id="9338" class="l"><a class="l" href="#9338"> 9338: </a>                                <span class="php-var">$duration</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$content</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'duration'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="9339" class="l"><a class="l" href="#9339"> 9339: </a>                            }
</span><span id="9340" class="l"><a class="l" href="#9340"> 9340: </a>                            <span class="php-keyword1">else</span>
</span><span id="9341" class="l"><a class="l" href="#9341"> 9341: </a>                            {
</span><span id="9342" class="l"><a class="l" href="#9342"> 9342: </a>                                <span class="php-var">$duration</span> = <span class="php-var">$duration_parent</span>;
</span><span id="9343" class="l"><a class="l" href="#9343"> 9343: </a>                            }
</span><span id="9344" class="l"><a class="l" href="#9344"> 9344: </a>                            <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$content</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'expression'</span>]))
</span><span id="9345" class="l"><a class="l" href="#9345"> 9345: </a>                            {
</span><span id="9346" class="l"><a class="l" href="#9346"> 9346: </a>                                <span class="php-var">$expression</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$content</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'expression'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="9347" class="l"><a class="l" href="#9347"> 9347: </a>                            }
</span><span id="9348" class="l"><a class="l" href="#9348"> 9348: </a>                            <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$content</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'framerate'</span>]))
</span><span id="9349" class="l"><a class="l" href="#9349"> 9349: </a>                            {
</span><span id="9350" class="l"><a class="l" href="#9350"> 9350: </a>                                <span class="php-var">$framerate</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$content</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'framerate'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="9351" class="l"><a class="l" href="#9351"> 9351: </a>                            }
</span><span id="9352" class="l"><a class="l" href="#9352"> 9352: </a>                            <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$content</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'height'</span>]))
</span><span id="9353" class="l"><a class="l" href="#9353"> 9353: </a>                            {
</span><span id="9354" class="l"><a class="l" href="#9354"> 9354: </a>                                <span class="php-var">$height</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$content</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'height'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="9355" class="l"><a class="l" href="#9355"> 9355: </a>                            }
</span><span id="9356" class="l"><a class="l" href="#9356"> 9356: </a>                            <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$content</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'lang'</span>]))
</span><span id="9357" class="l"><a class="l" href="#9357"> 9357: </a>                            {
</span><span id="9358" class="l"><a class="l" href="#9358"> 9358: </a>                                <span class="php-var">$lang</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$content</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'lang'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="9359" class="l"><a class="l" href="#9359"> 9359: </a>                            }
</span><span id="9360" class="l"><a class="l" href="#9360"> 9360: </a>                            <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$content</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'fileSize'</span>]))
</span><span id="9361" class="l"><a class="l" href="#9361"> 9361: </a>                            {
</span><span id="9362" class="l"><a class="l" href="#9362"> 9362: </a>                                <span class="php-var">$length</span> = <span class="php-keyword2">ceil</span>(<span class="php-var">$content</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'fileSize'</span>]);
</span><span id="9363" class="l"><a class="l" href="#9363"> 9363: </a>                            }
</span><span id="9364" class="l"><a class="l" href="#9364"> 9364: </a>                            <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$content</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'medium'</span>]))
</span><span id="9365" class="l"><a class="l" href="#9365"> 9365: </a>                            {
</span><span id="9366" class="l"><a class="l" href="#9366"> 9366: </a>                                <span class="php-var">$medium</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$content</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'medium'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="9367" class="l"><a class="l" href="#9367"> 9367: </a>                            }
</span><span id="9368" class="l"><a class="l" href="#9368"> 9368: </a>                            <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$content</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'samplingrate'</span>]))
</span><span id="9369" class="l"><a class="l" href="#9369"> 9369: </a>                            {
</span><span id="9370" class="l"><a class="l" href="#9370"> 9370: </a>                                <span class="php-var">$samplingrate</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$content</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'samplingrate'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="9371" class="l"><a class="l" href="#9371"> 9371: </a>                            }
</span><span id="9372" class="l"><a class="l" href="#9372"> 9372: </a>                            <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$content</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'type'</span>]))
</span><span id="9373" class="l"><a class="l" href="#9373"> 9373: </a>                            {
</span><span id="9374" class="l"><a class="l" href="#9374"> 9374: </a>                                <span class="php-var">$type</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$content</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'type'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="9375" class="l"><a class="l" href="#9375"> 9375: </a>                            }
</span><span id="9376" class="l"><a class="l" href="#9376"> 9376: </a>                            <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$content</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'width'</span>]))
</span><span id="9377" class="l"><a class="l" href="#9377"> 9377: </a>                            {
</span><span id="9378" class="l"><a class="l" href="#9378"> 9378: </a>                                <span class="php-var">$width</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$content</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'width'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="9379" class="l"><a class="l" href="#9379"> 9379: </a>                            }
</span><span id="9380" class="l"><a class="l" href="#9380"> 9380: </a>                            <span class="php-var">$url</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$content</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'url'</span>], SIMPLEPIE_CONSTRUCT_IRI);
</span><span id="9381" class="l"><a class="l" href="#9381"> 9381: </a>
</span><span id="9382" class="l"><a class="l" href="#9382"> 9382: </a>                            <span class="php-comment">// Checking the other optional media: elements. Priority: media:content, media:group, item, channel</span>
</span><span id="9383" class="l"><a class="l" href="#9383"> 9383: </a>
</span><span id="9384" class="l"><a class="l" href="#9384"> 9384: </a>                            <span class="php-comment">// CAPTIONS</span>
</span><span id="9385" class="l"><a class="l" href="#9385"> 9385: </a>                            <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$content</span>[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_MEDIARSS][<span class="php-quote">'text'</span>]))
</span><span id="9386" class="l"><a class="l" href="#9386"> 9386: </a>                            {
</span><span id="9387" class="l"><a class="l" href="#9387"> 9387: </a>                                <span class="php-keyword1">foreach</span> (<span class="php-var">$content</span>[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_MEDIARSS][<span class="php-quote">'text'</span>] <span class="php-keyword1">as</span> <span class="php-var">$caption</span>)
</span><span id="9388" class="l"><a class="l" href="#9388"> 9388: </a>                                {
</span><span id="9389" class="l"><a class="l" href="#9389"> 9389: </a>                                    <span class="php-var">$caption_type</span> = <span class="php-keyword1">null</span>;
</span><span id="9390" class="l"><a class="l" href="#9390"> 9390: </a>                                    <span class="php-var">$caption_lang</span> = <span class="php-keyword1">null</span>;
</span><span id="9391" class="l"><a class="l" href="#9391"> 9391: </a>                                    <span class="php-var">$caption_startTime</span> = <span class="php-keyword1">null</span>;
</span><span id="9392" class="l"><a class="l" href="#9392"> 9392: </a>                                    <span class="php-var">$caption_endTime</span> = <span class="php-keyword1">null</span>;
</span><span id="9393" class="l"><a class="l" href="#9393"> 9393: </a>                                    <span class="php-var">$caption_text</span> = <span class="php-keyword1">null</span>;
</span><span id="9394" class="l"><a class="l" href="#9394"> 9394: </a>                                    <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$caption</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'type'</span>]))
</span><span id="9395" class="l"><a class="l" href="#9395"> 9395: </a>                                    {
</span><span id="9396" class="l"><a class="l" href="#9396"> 9396: </a>                                        <span class="php-var">$caption_type</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$caption</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'type'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="9397" class="l"><a class="l" href="#9397"> 9397: </a>                                    }
</span><span id="9398" class="l"><a class="l" href="#9398"> 9398: </a>                                    <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$caption</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'lang'</span>]))
</span><span id="9399" class="l"><a class="l" href="#9399"> 9399: </a>                                    {
</span><span id="9400" class="l"><a class="l" href="#9400"> 9400: </a>                                        <span class="php-var">$caption_lang</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$caption</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'lang'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="9401" class="l"><a class="l" href="#9401"> 9401: </a>                                    }
</span><span id="9402" class="l"><a class="l" href="#9402"> 9402: </a>                                    <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$caption</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'start'</span>]))
</span><span id="9403" class="l"><a class="l" href="#9403"> 9403: </a>                                    {
</span><span id="9404" class="l"><a class="l" href="#9404"> 9404: </a>                                        <span class="php-var">$caption_startTime</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$caption</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'start'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="9405" class="l"><a class="l" href="#9405"> 9405: </a>                                    }
</span><span id="9406" class="l"><a class="l" href="#9406"> 9406: </a>                                    <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$caption</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'end'</span>]))
</span><span id="9407" class="l"><a class="l" href="#9407"> 9407: </a>                                    {
</span><span id="9408" class="l"><a class="l" href="#9408"> 9408: </a>                                        <span class="php-var">$caption_endTime</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$caption</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'end'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="9409" class="l"><a class="l" href="#9409"> 9409: </a>                                    }
</span><span id="9410" class="l"><a class="l" href="#9410"> 9410: </a>                                    <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$caption</span>[<span class="php-quote">'data'</span>]))
</span><span id="9411" class="l"><a class="l" href="#9411"> 9411: </a>                                    {
</span><span id="9412" class="l"><a class="l" href="#9412"> 9412: </a>                                        <span class="php-var">$caption_text</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$caption</span>[<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="9413" class="l"><a class="l" href="#9413"> 9413: </a>                                    }
</span><span id="9414" class="l"><a class="l" href="#9414"> 9414: </a>                                    <span class="php-var">$captions</span>[] = <span class="php-var">$this</span>-&gt;registry-&gt;create(<span class="php-quote">'Caption'</span>, <span class="php-keyword1">array</span>(<span class="php-var">$caption_type</span>, <span class="php-var">$caption_lang</span>, <span class="php-var">$caption_startTime</span>, <span class="php-var">$caption_endTime</span>, <span class="php-var">$caption_text</span>));
</span><span id="9415" class="l"><a class="l" href="#9415"> 9415: </a>                                }
</span><span id="9416" class="l"><a class="l" href="#9416"> 9416: </a>                                <span class="php-keyword1">if</span> (<span class="php-keyword2">is_array</span>(<span class="php-var">$captions</span>))
</span><span id="9417" class="l"><a class="l" href="#9417"> 9417: </a>                                {
</span><span id="9418" class="l"><a class="l" href="#9418"> 9418: </a>                                    <span class="php-var">$captions</span> = <span class="php-keyword2">array_values</span>(<span class="php-var">$this</span>-&gt;registry-&gt;call(<span class="php-quote">'Misc'</span>, <span class="php-quote">'array_unique'</span>, <span class="php-keyword1">array</span>(<span class="php-var">$captions</span>)));
</span><span id="9419" class="l"><a class="l" href="#9419"> 9419: </a>                                }
</span><span id="9420" class="l"><a class="l" href="#9420"> 9420: </a>                            }
</span><span id="9421" class="l"><a class="l" href="#9421"> 9421: </a>                            <span class="php-keyword1">elseif</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$group</span>[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_MEDIARSS][<span class="php-quote">'text'</span>]))
</span><span id="9422" class="l"><a class="l" href="#9422"> 9422: </a>                            {
</span><span id="9423" class="l"><a class="l" href="#9423"> 9423: </a>                                <span class="php-keyword1">foreach</span> (<span class="php-var">$group</span>[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_MEDIARSS][<span class="php-quote">'text'</span>] <span class="php-keyword1">as</span> <span class="php-var">$caption</span>)
</span><span id="9424" class="l"><a class="l" href="#9424"> 9424: </a>                                {
</span><span id="9425" class="l"><a class="l" href="#9425"> 9425: </a>                                    <span class="php-var">$caption_type</span> = <span class="php-keyword1">null</span>;
</span><span id="9426" class="l"><a class="l" href="#9426"> 9426: </a>                                    <span class="php-var">$caption_lang</span> = <span class="php-keyword1">null</span>;
</span><span id="9427" class="l"><a class="l" href="#9427"> 9427: </a>                                    <span class="php-var">$caption_startTime</span> = <span class="php-keyword1">null</span>;
</span><span id="9428" class="l"><a class="l" href="#9428"> 9428: </a>                                    <span class="php-var">$caption_endTime</span> = <span class="php-keyword1">null</span>;
</span><span id="9429" class="l"><a class="l" href="#9429"> 9429: </a>                                    <span class="php-var">$caption_text</span> = <span class="php-keyword1">null</span>;
</span><span id="9430" class="l"><a class="l" href="#9430"> 9430: </a>                                    <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$caption</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'type'</span>]))
</span><span id="9431" class="l"><a class="l" href="#9431"> 9431: </a>                                    {
</span><span id="9432" class="l"><a class="l" href="#9432"> 9432: </a>                                        <span class="php-var">$caption_type</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$caption</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'type'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="9433" class="l"><a class="l" href="#9433"> 9433: </a>                                    }
</span><span id="9434" class="l"><a class="l" href="#9434"> 9434: </a>                                    <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$caption</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'lang'</span>]))
</span><span id="9435" class="l"><a class="l" href="#9435"> 9435: </a>                                    {
</span><span id="9436" class="l"><a class="l" href="#9436"> 9436: </a>                                        <span class="php-var">$caption_lang</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$caption</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'lang'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="9437" class="l"><a class="l" href="#9437"> 9437: </a>                                    }
</span><span id="9438" class="l"><a class="l" href="#9438"> 9438: </a>                                    <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$caption</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'start'</span>]))
</span><span id="9439" class="l"><a class="l" href="#9439"> 9439: </a>                                    {
</span><span id="9440" class="l"><a class="l" href="#9440"> 9440: </a>                                        <span class="php-var">$caption_startTime</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$caption</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'start'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="9441" class="l"><a class="l" href="#9441"> 9441: </a>                                    }
</span><span id="9442" class="l"><a class="l" href="#9442"> 9442: </a>                                    <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$caption</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'end'</span>]))
</span><span id="9443" class="l"><a class="l" href="#9443"> 9443: </a>                                    {
</span><span id="9444" class="l"><a class="l" href="#9444"> 9444: </a>                                        <span class="php-var">$caption_endTime</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$caption</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'end'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="9445" class="l"><a class="l" href="#9445"> 9445: </a>                                    }
</span><span id="9446" class="l"><a class="l" href="#9446"> 9446: </a>                                    <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$caption</span>[<span class="php-quote">'data'</span>]))
</span><span id="9447" class="l"><a class="l" href="#9447"> 9447: </a>                                    {
</span><span id="9448" class="l"><a class="l" href="#9448"> 9448: </a>                                        <span class="php-var">$caption_text</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$caption</span>[<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="9449" class="l"><a class="l" href="#9449"> 9449: </a>                                    }
</span><span id="9450" class="l"><a class="l" href="#9450"> 9450: </a>                                    <span class="php-var">$captions</span>[] = <span class="php-var">$this</span>-&gt;registry-&gt;create(<span class="php-quote">'Caption'</span>, <span class="php-keyword1">array</span>(<span class="php-var">$caption_type</span>, <span class="php-var">$caption_lang</span>, <span class="php-var">$caption_startTime</span>, <span class="php-var">$caption_endTime</span>, <span class="php-var">$caption_text</span>));
</span><span id="9451" class="l"><a class="l" href="#9451"> 9451: </a>                                }
</span><span id="9452" class="l"><a class="l" href="#9452"> 9452: </a>                                <span class="php-keyword1">if</span> (<span class="php-keyword2">is_array</span>(<span class="php-var">$captions</span>))
</span><span id="9453" class="l"><a class="l" href="#9453"> 9453: </a>                                {
</span><span id="9454" class="l"><a class="l" href="#9454"> 9454: </a>                                    <span class="php-var">$captions</span> = <span class="php-keyword2">array_values</span>(<span class="php-var">$this</span>-&gt;registry-&gt;call(<span class="php-quote">'Misc'</span>, <span class="php-quote">'array_unique'</span>, <span class="php-keyword1">array</span>(<span class="php-var">$captions</span>)));
</span><span id="9455" class="l"><a class="l" href="#9455"> 9455: </a>                                }
</span><span id="9456" class="l"><a class="l" href="#9456"> 9456: </a>                            }
</span><span id="9457" class="l"><a class="l" href="#9457"> 9457: </a>                            <span class="php-keyword1">else</span>
</span><span id="9458" class="l"><a class="l" href="#9458"> 9458: </a>                            {
</span><span id="9459" class="l"><a class="l" href="#9459"> 9459: </a>                                <span class="php-var">$captions</span> = <span class="php-var">$captions_parent</span>;
</span><span id="9460" class="l"><a class="l" href="#9460"> 9460: </a>                            }
</span><span id="9461" class="l"><a class="l" href="#9461"> 9461: </a>
</span><span id="9462" class="l"><a class="l" href="#9462"> 9462: </a>                            <span class="php-comment">// CATEGORIES</span>
</span><span id="9463" class="l"><a class="l" href="#9463"> 9463: </a>                            <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$content</span>[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_MEDIARSS][<span class="php-quote">'category'</span>]))
</span><span id="9464" class="l"><a class="l" href="#9464"> 9464: </a>                            {
</span><span id="9465" class="l"><a class="l" href="#9465"> 9465: </a>                                <span class="php-keyword1">foreach</span> ((<span class="php-keyword1">array</span>) <span class="php-var">$content</span>[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_MEDIARSS][<span class="php-quote">'category'</span>] <span class="php-keyword1">as</span> <span class="php-var">$category</span>)
</span><span id="9466" class="l"><a class="l" href="#9466"> 9466: </a>                                {
</span><span id="9467" class="l"><a class="l" href="#9467"> 9467: </a>                                    <span class="php-var">$term</span> = <span class="php-keyword1">null</span>;
</span><span id="9468" class="l"><a class="l" href="#9468"> 9468: </a>                                    <span class="php-var">$scheme</span> = <span class="php-keyword1">null</span>;
</span><span id="9469" class="l"><a class="l" href="#9469"> 9469: </a>                                    <span class="php-var">$label</span> = <span class="php-keyword1">null</span>;
</span><span id="9470" class="l"><a class="l" href="#9470"> 9470: </a>                                    <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$category</span>[<span class="php-quote">'data'</span>]))
</span><span id="9471" class="l"><a class="l" href="#9471"> 9471: </a>                                    {
</span><span id="9472" class="l"><a class="l" href="#9472"> 9472: </a>                                        <span class="php-var">$term</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$category</span>[<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="9473" class="l"><a class="l" href="#9473"> 9473: </a>                                    }
</span><span id="9474" class="l"><a class="l" href="#9474"> 9474: </a>                                    <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$category</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'scheme'</span>]))
</span><span id="9475" class="l"><a class="l" href="#9475"> 9475: </a>                                    {
</span><span id="9476" class="l"><a class="l" href="#9476"> 9476: </a>                                        <span class="php-var">$scheme</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$category</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'scheme'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="9477" class="l"><a class="l" href="#9477"> 9477: </a>                                    }
</span><span id="9478" class="l"><a class="l" href="#9478"> 9478: </a>                                    <span class="php-keyword1">else</span>
</span><span id="9479" class="l"><a class="l" href="#9479"> 9479: </a>                                    {
</span><span id="9480" class="l"><a class="l" href="#9480"> 9480: </a>                                        <span class="php-var">$scheme</span> = <span class="php-quote">'http://search.yahoo.com/mrss/category_schema'</span>;
</span><span id="9481" class="l"><a class="l" href="#9481"> 9481: </a>                                    }
</span><span id="9482" class="l"><a class="l" href="#9482"> 9482: </a>                                    <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$category</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'label'</span>]))
</span><span id="9483" class="l"><a class="l" href="#9483"> 9483: </a>                                    {
</span><span id="9484" class="l"><a class="l" href="#9484"> 9484: </a>                                        <span class="php-var">$label</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$category</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'label'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="9485" class="l"><a class="l" href="#9485"> 9485: </a>                                    }
</span><span id="9486" class="l"><a class="l" href="#9486"> 9486: </a>                                    <span class="php-var">$categories</span>[] = <span class="php-var">$this</span>-&gt;registry-&gt;create(<span class="php-quote">'Category'</span>, <span class="php-keyword1">array</span>(<span class="php-var">$term</span>, <span class="php-var">$scheme</span>, <span class="php-var">$label</span>));
</span><span id="9487" class="l"><a class="l" href="#9487"> 9487: </a>                                }
</span><span id="9488" class="l"><a class="l" href="#9488"> 9488: </a>                            }
</span><span id="9489" class="l"><a class="l" href="#9489"> 9489: </a>                            <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$group</span>[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_MEDIARSS][<span class="php-quote">'category'</span>]))
</span><span id="9490" class="l"><a class="l" href="#9490"> 9490: </a>                            {
</span><span id="9491" class="l"><a class="l" href="#9491"> 9491: </a>                                <span class="php-keyword1">foreach</span> ((<span class="php-keyword1">array</span>) <span class="php-var">$group</span>[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_MEDIARSS][<span class="php-quote">'category'</span>] <span class="php-keyword1">as</span> <span class="php-var">$category</span>)
</span><span id="9492" class="l"><a class="l" href="#9492"> 9492: </a>                                {
</span><span id="9493" class="l"><a class="l" href="#9493"> 9493: </a>                                    <span class="php-var">$term</span> = <span class="php-keyword1">null</span>;
</span><span id="9494" class="l"><a class="l" href="#9494"> 9494: </a>                                    <span class="php-var">$scheme</span> = <span class="php-keyword1">null</span>;
</span><span id="9495" class="l"><a class="l" href="#9495"> 9495: </a>                                    <span class="php-var">$label</span> = <span class="php-keyword1">null</span>;
</span><span id="9496" class="l"><a class="l" href="#9496"> 9496: </a>                                    <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$category</span>[<span class="php-quote">'data'</span>]))
</span><span id="9497" class="l"><a class="l" href="#9497"> 9497: </a>                                    {
</span><span id="9498" class="l"><a class="l" href="#9498"> 9498: </a>                                        <span class="php-var">$term</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$category</span>[<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="9499" class="l"><a class="l" href="#9499"> 9499: </a>                                    }
</span><span id="9500" class="l"><a class="l" href="#9500"> 9500: </a>                                    <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$category</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'scheme'</span>]))
</span><span id="9501" class="l"><a class="l" href="#9501"> 9501: </a>                                    {
</span><span id="9502" class="l"><a class="l" href="#9502"> 9502: </a>                                        <span class="php-var">$scheme</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$category</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'scheme'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="9503" class="l"><a class="l" href="#9503"> 9503: </a>                                    }
</span><span id="9504" class="l"><a class="l" href="#9504"> 9504: </a>                                    <span class="php-keyword1">else</span>
</span><span id="9505" class="l"><a class="l" href="#9505"> 9505: </a>                                    {
</span><span id="9506" class="l"><a class="l" href="#9506"> 9506: </a>                                        <span class="php-var">$scheme</span> = <span class="php-quote">'http://search.yahoo.com/mrss/category_schema'</span>;
</span><span id="9507" class="l"><a class="l" href="#9507"> 9507: </a>                                    }
</span><span id="9508" class="l"><a class="l" href="#9508"> 9508: </a>                                    <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$category</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'label'</span>]))
</span><span id="9509" class="l"><a class="l" href="#9509"> 9509: </a>                                    {
</span><span id="9510" class="l"><a class="l" href="#9510"> 9510: </a>                                        <span class="php-var">$label</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$category</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'label'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="9511" class="l"><a class="l" href="#9511"> 9511: </a>                                    }
</span><span id="9512" class="l"><a class="l" href="#9512"> 9512: </a>                                    <span class="php-var">$categories</span>[] = <span class="php-var">$this</span>-&gt;registry-&gt;create(<span class="php-quote">'Category'</span>, <span class="php-keyword1">array</span>(<span class="php-var">$term</span>, <span class="php-var">$scheme</span>, <span class="php-var">$label</span>));
</span><span id="9513" class="l"><a class="l" href="#9513"> 9513: </a>                                }
</span><span id="9514" class="l"><a class="l" href="#9514"> 9514: </a>                            }
</span><span id="9515" class="l"><a class="l" href="#9515"> 9515: </a>                            <span class="php-keyword1">if</span> (<span class="php-keyword2">is_array</span>(<span class="php-var">$categories</span>) &amp;&amp; <span class="php-keyword2">is_array</span>(<span class="php-var">$categories_parent</span>))
</span><span id="9516" class="l"><a class="l" href="#9516"> 9516: </a>                            {
</span><span id="9517" class="l"><a class="l" href="#9517"> 9517: </a>                                <span class="php-var">$categories</span> = <span class="php-keyword2">array_values</span>(<span class="php-var">$this</span>-&gt;registry-&gt;call(<span class="php-quote">'Misc'</span>, <span class="php-quote">'array_unique'</span>, <span class="php-keyword1">array</span>(<span class="php-keyword2">array_merge</span>(<span class="php-var">$categories</span>, <span class="php-var">$categories_parent</span>))));
</span><span id="9518" class="l"><a class="l" href="#9518"> 9518: </a>                            }
</span><span id="9519" class="l"><a class="l" href="#9519"> 9519: </a>                            <span class="php-keyword1">elseif</span> (<span class="php-keyword2">is_array</span>(<span class="php-var">$categories</span>))
</span><span id="9520" class="l"><a class="l" href="#9520"> 9520: </a>                            {
</span><span id="9521" class="l"><a class="l" href="#9521"> 9521: </a>                                <span class="php-var">$categories</span> = <span class="php-keyword2">array_values</span>(<span class="php-var">$this</span>-&gt;registry-&gt;call(<span class="php-quote">'Misc'</span>, <span class="php-quote">'array_unique'</span>, <span class="php-keyword1">array</span>(<span class="php-var">$categories</span>)));
</span><span id="9522" class="l"><a class="l" href="#9522"> 9522: </a>                            }
</span><span id="9523" class="l"><a class="l" href="#9523"> 9523: </a>                            <span class="php-keyword1">elseif</span> (<span class="php-keyword2">is_array</span>(<span class="php-var">$categories_parent</span>))
</span><span id="9524" class="l"><a class="l" href="#9524"> 9524: </a>                            {
</span><span id="9525" class="l"><a class="l" href="#9525"> 9525: </a>                                <span class="php-var">$categories</span> = <span class="php-keyword2">array_values</span>(<span class="php-var">$this</span>-&gt;registry-&gt;call(<span class="php-quote">'Misc'</span>, <span class="php-quote">'array_unique'</span>, <span class="php-keyword1">array</span>(<span class="php-var">$categories_parent</span>)));
</span><span id="9526" class="l"><a class="l" href="#9526"> 9526: </a>                            }
</span><span id="9527" class="l"><a class="l" href="#9527"> 9527: </a>
</span><span id="9528" class="l"><a class="l" href="#9528"> 9528: </a>                            <span class="php-comment">// COPYRIGHTS</span>
</span><span id="9529" class="l"><a class="l" href="#9529"> 9529: </a>                            <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$content</span>[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_MEDIARSS][<span class="php-quote">'copyright'</span>]))
</span><span id="9530" class="l"><a class="l" href="#9530"> 9530: </a>                            {
</span><span id="9531" class="l"><a class="l" href="#9531"> 9531: </a>                                <span class="php-var">$copyright_url</span> = <span class="php-keyword1">null</span>;
</span><span id="9532" class="l"><a class="l" href="#9532"> 9532: </a>                                <span class="php-var">$copyright_label</span> = <span class="php-keyword1">null</span>;
</span><span id="9533" class="l"><a class="l" href="#9533"> 9533: </a>                                <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$content</span>[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_MEDIARSS][<span class="php-quote">'copyright'</span>][<span class="php-num">0</span>][<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'url'</span>]))
</span><span id="9534" class="l"><a class="l" href="#9534"> 9534: </a>                                {
</span><span id="9535" class="l"><a class="l" href="#9535"> 9535: </a>                                    <span class="php-var">$copyright_url</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$content</span>[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_MEDIARSS][<span class="php-quote">'copyright'</span>][<span class="php-num">0</span>][<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'url'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="9536" class="l"><a class="l" href="#9536"> 9536: </a>                                }
</span><span id="9537" class="l"><a class="l" href="#9537"> 9537: </a>                                <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$content</span>[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_MEDIARSS][<span class="php-quote">'copyright'</span>][<span class="php-num">0</span>][<span class="php-quote">'data'</span>]))
</span><span id="9538" class="l"><a class="l" href="#9538"> 9538: </a>                                {
</span><span id="9539" class="l"><a class="l" href="#9539"> 9539: </a>                                    <span class="php-var">$copyright_label</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$content</span>[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_MEDIARSS][<span class="php-quote">'copyright'</span>][<span class="php-num">0</span>][<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="9540" class="l"><a class="l" href="#9540"> 9540: </a>                                }
</span><span id="9541" class="l"><a class="l" href="#9541"> 9541: </a>                                <span class="php-var">$copyrights</span> = <span class="php-var">$this</span>-&gt;registry-&gt;create(<span class="php-quote">'Copyright'</span>, <span class="php-keyword1">array</span>(<span class="php-var">$copyright_url</span>, <span class="php-var">$copyright_label</span>));
</span><span id="9542" class="l"><a class="l" href="#9542"> 9542: </a>                            }
</span><span id="9543" class="l"><a class="l" href="#9543"> 9543: </a>                            <span class="php-keyword1">elseif</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$group</span>[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_MEDIARSS][<span class="php-quote">'copyright'</span>]))
</span><span id="9544" class="l"><a class="l" href="#9544"> 9544: </a>                            {
</span><span id="9545" class="l"><a class="l" href="#9545"> 9545: </a>                                <span class="php-var">$copyright_url</span> = <span class="php-keyword1">null</span>;
</span><span id="9546" class="l"><a class="l" href="#9546"> 9546: </a>                                <span class="php-var">$copyright_label</span> = <span class="php-keyword1">null</span>;
</span><span id="9547" class="l"><a class="l" href="#9547"> 9547: </a>                                <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$group</span>[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_MEDIARSS][<span class="php-quote">'copyright'</span>][<span class="php-num">0</span>][<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'url'</span>]))
</span><span id="9548" class="l"><a class="l" href="#9548"> 9548: </a>                                {
</span><span id="9549" class="l"><a class="l" href="#9549"> 9549: </a>                                    <span class="php-var">$copyright_url</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$group</span>[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_MEDIARSS][<span class="php-quote">'copyright'</span>][<span class="php-num">0</span>][<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'url'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="9550" class="l"><a class="l" href="#9550"> 9550: </a>                                }
</span><span id="9551" class="l"><a class="l" href="#9551"> 9551: </a>                                <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$group</span>[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_MEDIARSS][<span class="php-quote">'copyright'</span>][<span class="php-num">0</span>][<span class="php-quote">'data'</span>]))
</span><span id="9552" class="l"><a class="l" href="#9552"> 9552: </a>                                {
</span><span id="9553" class="l"><a class="l" href="#9553"> 9553: </a>                                    <span class="php-var">$copyright_label</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$group</span>[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_MEDIARSS][<span class="php-quote">'copyright'</span>][<span class="php-num">0</span>][<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="9554" class="l"><a class="l" href="#9554"> 9554: </a>                                }
</span><span id="9555" class="l"><a class="l" href="#9555"> 9555: </a>                                <span class="php-var">$copyrights</span> = <span class="php-var">$this</span>-&gt;registry-&gt;create(<span class="php-quote">'Copyright'</span>, <span class="php-keyword1">array</span>(<span class="php-var">$copyright_url</span>, <span class="php-var">$copyright_label</span>));
</span><span id="9556" class="l"><a class="l" href="#9556"> 9556: </a>                            }
</span><span id="9557" class="l"><a class="l" href="#9557"> 9557: </a>                            <span class="php-keyword1">else</span>
</span><span id="9558" class="l"><a class="l" href="#9558"> 9558: </a>                            {
</span><span id="9559" class="l"><a class="l" href="#9559"> 9559: </a>                                <span class="php-var">$copyrights</span> = <span class="php-var">$copyrights_parent</span>;
</span><span id="9560" class="l"><a class="l" href="#9560"> 9560: </a>                            }
</span><span id="9561" class="l"><a class="l" href="#9561"> 9561: </a>
</span><span id="9562" class="l"><a class="l" href="#9562"> 9562: </a>                            <span class="php-comment">// CREDITS</span>
</span><span id="9563" class="l"><a class="l" href="#9563"> 9563: </a>                            <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$content</span>[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_MEDIARSS][<span class="php-quote">'credit'</span>]))
</span><span id="9564" class="l"><a class="l" href="#9564"> 9564: </a>                            {
</span><span id="9565" class="l"><a class="l" href="#9565"> 9565: </a>                                <span class="php-keyword1">foreach</span> (<span class="php-var">$content</span>[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_MEDIARSS][<span class="php-quote">'credit'</span>] <span class="php-keyword1">as</span> <span class="php-var">$credit</span>)
</span><span id="9566" class="l"><a class="l" href="#9566"> 9566: </a>                                {
</span><span id="9567" class="l"><a class="l" href="#9567"> 9567: </a>                                    <span class="php-var">$credit_role</span> = <span class="php-keyword1">null</span>;
</span><span id="9568" class="l"><a class="l" href="#9568"> 9568: </a>                                    <span class="php-var">$credit_scheme</span> = <span class="php-keyword1">null</span>;
</span><span id="9569" class="l"><a class="l" href="#9569"> 9569: </a>                                    <span class="php-var">$credit_name</span> = <span class="php-keyword1">null</span>;
</span><span id="9570" class="l"><a class="l" href="#9570"> 9570: </a>                                    <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$credit</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'role'</span>]))
</span><span id="9571" class="l"><a class="l" href="#9571"> 9571: </a>                                    {
</span><span id="9572" class="l"><a class="l" href="#9572"> 9572: </a>                                        <span class="php-var">$credit_role</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$credit</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'role'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="9573" class="l"><a class="l" href="#9573"> 9573: </a>                                    }
</span><span id="9574" class="l"><a class="l" href="#9574"> 9574: </a>                                    <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$credit</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'scheme'</span>]))
</span><span id="9575" class="l"><a class="l" href="#9575"> 9575: </a>                                    {
</span><span id="9576" class="l"><a class="l" href="#9576"> 9576: </a>                                        <span class="php-var">$credit_scheme</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$credit</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'scheme'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="9577" class="l"><a class="l" href="#9577"> 9577: </a>                                    }
</span><span id="9578" class="l"><a class="l" href="#9578"> 9578: </a>                                    <span class="php-keyword1">else</span>
</span><span id="9579" class="l"><a class="l" href="#9579"> 9579: </a>                                    {
</span><span id="9580" class="l"><a class="l" href="#9580"> 9580: </a>                                        <span class="php-var">$credit_scheme</span> = <span class="php-quote">'urn:ebu'</span>;
</span><span id="9581" class="l"><a class="l" href="#9581"> 9581: </a>                                    }
</span><span id="9582" class="l"><a class="l" href="#9582"> 9582: </a>                                    <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$credit</span>[<span class="php-quote">'data'</span>]))
</span><span id="9583" class="l"><a class="l" href="#9583"> 9583: </a>                                    {
</span><span id="9584" class="l"><a class="l" href="#9584"> 9584: </a>                                        <span class="php-var">$credit_name</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$credit</span>[<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="9585" class="l"><a class="l" href="#9585"> 9585: </a>                                    }
</span><span id="9586" class="l"><a class="l" href="#9586"> 9586: </a>                                    <span class="php-var">$credits</span>[] = <span class="php-var">$this</span>-&gt;registry-&gt;create(<span class="php-quote">'Credit'</span>, <span class="php-keyword1">array</span>(<span class="php-var">$credit_role</span>, <span class="php-var">$credit_scheme</span>, <span class="php-var">$credit_name</span>));
</span><span id="9587" class="l"><a class="l" href="#9587"> 9587: </a>                                }
</span><span id="9588" class="l"><a class="l" href="#9588"> 9588: </a>                                <span class="php-keyword1">if</span> (<span class="php-keyword2">is_array</span>(<span class="php-var">$credits</span>))
</span><span id="9589" class="l"><a class="l" href="#9589"> 9589: </a>                                {
</span><span id="9590" class="l"><a class="l" href="#9590"> 9590: </a>                                    <span class="php-var">$credits</span> = <span class="php-keyword2">array_values</span>(<span class="php-var">$this</span>-&gt;registry-&gt;call(<span class="php-quote">'Misc'</span>, <span class="php-quote">'array_unique'</span>, <span class="php-keyword1">array</span>(<span class="php-var">$credits</span>)));
</span><span id="9591" class="l"><a class="l" href="#9591"> 9591: </a>                                }
</span><span id="9592" class="l"><a class="l" href="#9592"> 9592: </a>                            }
</span><span id="9593" class="l"><a class="l" href="#9593"> 9593: </a>                            <span class="php-keyword1">elseif</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$group</span>[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_MEDIARSS][<span class="php-quote">'credit'</span>]))
</span><span id="9594" class="l"><a class="l" href="#9594"> 9594: </a>                            {
</span><span id="9595" class="l"><a class="l" href="#9595"> 9595: </a>                                <span class="php-keyword1">foreach</span> (<span class="php-var">$group</span>[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_MEDIARSS][<span class="php-quote">'credit'</span>] <span class="php-keyword1">as</span> <span class="php-var">$credit</span>)
</span><span id="9596" class="l"><a class="l" href="#9596"> 9596: </a>                                {
</span><span id="9597" class="l"><a class="l" href="#9597"> 9597: </a>                                    <span class="php-var">$credit_role</span> = <span class="php-keyword1">null</span>;
</span><span id="9598" class="l"><a class="l" href="#9598"> 9598: </a>                                    <span class="php-var">$credit_scheme</span> = <span class="php-keyword1">null</span>;
</span><span id="9599" class="l"><a class="l" href="#9599"> 9599: </a>                                    <span class="php-var">$credit_name</span> = <span class="php-keyword1">null</span>;
</span><span id="9600" class="l"><a class="l" href="#9600"> 9600: </a>                                    <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$credit</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'role'</span>]))
</span><span id="9601" class="l"><a class="l" href="#9601"> 9601: </a>                                    {
</span><span id="9602" class="l"><a class="l" href="#9602"> 9602: </a>                                        <span class="php-var">$credit_role</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$credit</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'role'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="9603" class="l"><a class="l" href="#9603"> 9603: </a>                                    }
</span><span id="9604" class="l"><a class="l" href="#9604"> 9604: </a>                                    <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$credit</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'scheme'</span>]))
</span><span id="9605" class="l"><a class="l" href="#9605"> 9605: </a>                                    {
</span><span id="9606" class="l"><a class="l" href="#9606"> 9606: </a>                                        <span class="php-var">$credit_scheme</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$credit</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'scheme'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="9607" class="l"><a class="l" href="#9607"> 9607: </a>                                    }
</span><span id="9608" class="l"><a class="l" href="#9608"> 9608: </a>                                    <span class="php-keyword1">else</span>
</span><span id="9609" class="l"><a class="l" href="#9609"> 9609: </a>                                    {
</span><span id="9610" class="l"><a class="l" href="#9610"> 9610: </a>                                        <span class="php-var">$credit_scheme</span> = <span class="php-quote">'urn:ebu'</span>;
</span><span id="9611" class="l"><a class="l" href="#9611"> 9611: </a>                                    }
</span><span id="9612" class="l"><a class="l" href="#9612"> 9612: </a>                                    <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$credit</span>[<span class="php-quote">'data'</span>]))
</span><span id="9613" class="l"><a class="l" href="#9613"> 9613: </a>                                    {
</span><span id="9614" class="l"><a class="l" href="#9614"> 9614: </a>                                        <span class="php-var">$credit_name</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$credit</span>[<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="9615" class="l"><a class="l" href="#9615"> 9615: </a>                                    }
</span><span id="9616" class="l"><a class="l" href="#9616"> 9616: </a>                                    <span class="php-var">$credits</span>[] = <span class="php-var">$this</span>-&gt;registry-&gt;create(<span class="php-quote">'Credit'</span>, <span class="php-keyword1">array</span>(<span class="php-var">$credit_role</span>, <span class="php-var">$credit_scheme</span>, <span class="php-var">$credit_name</span>));
</span><span id="9617" class="l"><a class="l" href="#9617"> 9617: </a>                                }
</span><span id="9618" class="l"><a class="l" href="#9618"> 9618: </a>                                <span class="php-keyword1">if</span> (<span class="php-keyword2">is_array</span>(<span class="php-var">$credits</span>))
</span><span id="9619" class="l"><a class="l" href="#9619"> 9619: </a>                                {
</span><span id="9620" class="l"><a class="l" href="#9620"> 9620: </a>                                    <span class="php-var">$credits</span> = <span class="php-keyword2">array_values</span>(<span class="php-var">$this</span>-&gt;registry-&gt;call(<span class="php-quote">'Misc'</span>, <span class="php-quote">'array_unique'</span>, <span class="php-keyword1">array</span>(<span class="php-var">$credits</span>)));
</span><span id="9621" class="l"><a class="l" href="#9621"> 9621: </a>                                }
</span><span id="9622" class="l"><a class="l" href="#9622"> 9622: </a>                            }
</span><span id="9623" class="l"><a class="l" href="#9623"> 9623: </a>                            <span class="php-keyword1">else</span>
</span><span id="9624" class="l"><a class="l" href="#9624"> 9624: </a>                            {
</span><span id="9625" class="l"><a class="l" href="#9625"> 9625: </a>                                <span class="php-var">$credits</span> = <span class="php-var">$credits_parent</span>;
</span><span id="9626" class="l"><a class="l" href="#9626"> 9626: </a>                            }
</span><span id="9627" class="l"><a class="l" href="#9627"> 9627: </a>
</span><span id="9628" class="l"><a class="l" href="#9628"> 9628: </a>                            <span class="php-comment">// DESCRIPTION</span>
</span><span id="9629" class="l"><a class="l" href="#9629"> 9629: </a>                            <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$content</span>[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_MEDIARSS][<span class="php-quote">'description'</span>]))
</span><span id="9630" class="l"><a class="l" href="#9630"> 9630: </a>                            {
</span><span id="9631" class="l"><a class="l" href="#9631"> 9631: </a>                                <span class="php-var">$description</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$content</span>[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_MEDIARSS][<span class="php-quote">'description'</span>][<span class="php-num">0</span>][<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="9632" class="l"><a class="l" href="#9632"> 9632: </a>                            }
</span><span id="9633" class="l"><a class="l" href="#9633"> 9633: </a>                            <span class="php-keyword1">elseif</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$group</span>[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_MEDIARSS][<span class="php-quote">'description'</span>]))
</span><span id="9634" class="l"><a class="l" href="#9634"> 9634: </a>                            {
</span><span id="9635" class="l"><a class="l" href="#9635"> 9635: </a>                                <span class="php-var">$description</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$group</span>[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_MEDIARSS][<span class="php-quote">'description'</span>][<span class="php-num">0</span>][<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="9636" class="l"><a class="l" href="#9636"> 9636: </a>                            }
</span><span id="9637" class="l"><a class="l" href="#9637"> 9637: </a>                            <span class="php-keyword1">else</span>
</span><span id="9638" class="l"><a class="l" href="#9638"> 9638: </a>                            {
</span><span id="9639" class="l"><a class="l" href="#9639"> 9639: </a>                                <span class="php-var">$description</span> = <span class="php-var">$description_parent</span>;
</span><span id="9640" class="l"><a class="l" href="#9640"> 9640: </a>                            }
</span><span id="9641" class="l"><a class="l" href="#9641"> 9641: </a>
</span><span id="9642" class="l"><a class="l" href="#9642"> 9642: </a>                            <span class="php-comment">// HASHES</span>
</span><span id="9643" class="l"><a class="l" href="#9643"> 9643: </a>                            <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$content</span>[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_MEDIARSS][<span class="php-quote">'hash'</span>]))
</span><span id="9644" class="l"><a class="l" href="#9644"> 9644: </a>                            {
</span><span id="9645" class="l"><a class="l" href="#9645"> 9645: </a>                                <span class="php-keyword1">foreach</span> (<span class="php-var">$content</span>[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_MEDIARSS][<span class="php-quote">'hash'</span>] <span class="php-keyword1">as</span> <span class="php-var">$hash</span>)
</span><span id="9646" class="l"><a class="l" href="#9646"> 9646: </a>                                {
</span><span id="9647" class="l"><a class="l" href="#9647"> 9647: </a>                                    <span class="php-var">$value</span> = <span class="php-keyword1">null</span>;
</span><span id="9648" class="l"><a class="l" href="#9648"> 9648: </a>                                    <span class="php-var">$algo</span> = <span class="php-keyword1">null</span>;
</span><span id="9649" class="l"><a class="l" href="#9649"> 9649: </a>                                    <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$hash</span>[<span class="php-quote">'data'</span>]))
</span><span id="9650" class="l"><a class="l" href="#9650"> 9650: </a>                                    {
</span><span id="9651" class="l"><a class="l" href="#9651"> 9651: </a>                                        <span class="php-var">$value</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$hash</span>[<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="9652" class="l"><a class="l" href="#9652"> 9652: </a>                                    }
</span><span id="9653" class="l"><a class="l" href="#9653"> 9653: </a>                                    <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$hash</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'algo'</span>]))
</span><span id="9654" class="l"><a class="l" href="#9654"> 9654: </a>                                    {
</span><span id="9655" class="l"><a class="l" href="#9655"> 9655: </a>                                        <span class="php-var">$algo</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$hash</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'algo'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="9656" class="l"><a class="l" href="#9656"> 9656: </a>                                    }
</span><span id="9657" class="l"><a class="l" href="#9657"> 9657: </a>                                    <span class="php-keyword1">else</span>
</span><span id="9658" class="l"><a class="l" href="#9658"> 9658: </a>                                    {
</span><span id="9659" class="l"><a class="l" href="#9659"> 9659: </a>                                        <span class="php-var">$algo</span> = <span class="php-quote">'md5'</span>;
</span><span id="9660" class="l"><a class="l" href="#9660"> 9660: </a>                                    }
</span><span id="9661" class="l"><a class="l" href="#9661"> 9661: </a>                                    <span class="php-var">$hashes</span>[] = <span class="php-var">$algo</span>.<span class="php-quote">':'</span>.<span class="php-var">$value</span>;
</span><span id="9662" class="l"><a class="l" href="#9662"> 9662: </a>                                }
</span><span id="9663" class="l"><a class="l" href="#9663"> 9663: </a>                                <span class="php-keyword1">if</span> (<span class="php-keyword2">is_array</span>(<span class="php-var">$hashes</span>))
</span><span id="9664" class="l"><a class="l" href="#9664"> 9664: </a>                                {
</span><span id="9665" class="l"><a class="l" href="#9665"> 9665: </a>                                    <span class="php-var">$hashes</span> = <span class="php-keyword2">array_values</span>(<span class="php-var">$this</span>-&gt;registry-&gt;call(<span class="php-quote">'Misc'</span>, <span class="php-quote">'array_unique'</span>, <span class="php-keyword1">array</span>(<span class="php-var">$hashes</span>)));
</span><span id="9666" class="l"><a class="l" href="#9666"> 9666: </a>                                }
</span><span id="9667" class="l"><a class="l" href="#9667"> 9667: </a>                            }
</span><span id="9668" class="l"><a class="l" href="#9668"> 9668: </a>                            <span class="php-keyword1">elseif</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$group</span>[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_MEDIARSS][<span class="php-quote">'hash'</span>]))
</span><span id="9669" class="l"><a class="l" href="#9669"> 9669: </a>                            {
</span><span id="9670" class="l"><a class="l" href="#9670"> 9670: </a>                                <span class="php-keyword1">foreach</span> (<span class="php-var">$group</span>[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_MEDIARSS][<span class="php-quote">'hash'</span>] <span class="php-keyword1">as</span> <span class="php-var">$hash</span>)
</span><span id="9671" class="l"><a class="l" href="#9671"> 9671: </a>                                {
</span><span id="9672" class="l"><a class="l" href="#9672"> 9672: </a>                                    <span class="php-var">$value</span> = <span class="php-keyword1">null</span>;
</span><span id="9673" class="l"><a class="l" href="#9673"> 9673: </a>                                    <span class="php-var">$algo</span> = <span class="php-keyword1">null</span>;
</span><span id="9674" class="l"><a class="l" href="#9674"> 9674: </a>                                    <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$hash</span>[<span class="php-quote">'data'</span>]))
</span><span id="9675" class="l"><a class="l" href="#9675"> 9675: </a>                                    {
</span><span id="9676" class="l"><a class="l" href="#9676"> 9676: </a>                                        <span class="php-var">$value</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$hash</span>[<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="9677" class="l"><a class="l" href="#9677"> 9677: </a>                                    }
</span><span id="9678" class="l"><a class="l" href="#9678"> 9678: </a>                                    <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$hash</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'algo'</span>]))
</span><span id="9679" class="l"><a class="l" href="#9679"> 9679: </a>                                    {
</span><span id="9680" class="l"><a class="l" href="#9680"> 9680: </a>                                        <span class="php-var">$algo</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$hash</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'algo'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="9681" class="l"><a class="l" href="#9681"> 9681: </a>                                    }
</span><span id="9682" class="l"><a class="l" href="#9682"> 9682: </a>                                    <span class="php-keyword1">else</span>
</span><span id="9683" class="l"><a class="l" href="#9683"> 9683: </a>                                    {
</span><span id="9684" class="l"><a class="l" href="#9684"> 9684: </a>                                        <span class="php-var">$algo</span> = <span class="php-quote">'md5'</span>;
</span><span id="9685" class="l"><a class="l" href="#9685"> 9685: </a>                                    }
</span><span id="9686" class="l"><a class="l" href="#9686"> 9686: </a>                                    <span class="php-var">$hashes</span>[] = <span class="php-var">$algo</span>.<span class="php-quote">':'</span>.<span class="php-var">$value</span>;
</span><span id="9687" class="l"><a class="l" href="#9687"> 9687: </a>                                }
</span><span id="9688" class="l"><a class="l" href="#9688"> 9688: </a>                                <span class="php-keyword1">if</span> (<span class="php-keyword2">is_array</span>(<span class="php-var">$hashes</span>))
</span><span id="9689" class="l"><a class="l" href="#9689"> 9689: </a>                                {
</span><span id="9690" class="l"><a class="l" href="#9690"> 9690: </a>                                    <span class="php-var">$hashes</span> = <span class="php-keyword2">array_values</span>(<span class="php-var">$this</span>-&gt;registry-&gt;call(<span class="php-quote">'Misc'</span>, <span class="php-quote">'array_unique'</span>, <span class="php-keyword1">array</span>(<span class="php-var">$hashes</span>)));
</span><span id="9691" class="l"><a class="l" href="#9691"> 9691: </a>                                }
</span><span id="9692" class="l"><a class="l" href="#9692"> 9692: </a>                            }
</span><span id="9693" class="l"><a class="l" href="#9693"> 9693: </a>                            <span class="php-keyword1">else</span>
</span><span id="9694" class="l"><a class="l" href="#9694"> 9694: </a>                            {
</span><span id="9695" class="l"><a class="l" href="#9695"> 9695: </a>                                <span class="php-var">$hashes</span> = <span class="php-var">$hashes_parent</span>;
</span><span id="9696" class="l"><a class="l" href="#9696"> 9696: </a>                            }
</span><span id="9697" class="l"><a class="l" href="#9697"> 9697: </a>
</span><span id="9698" class="l"><a class="l" href="#9698"> 9698: </a>                            <span class="php-comment">// KEYWORDS</span>
</span><span id="9699" class="l"><a class="l" href="#9699"> 9699: </a>                            <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$content</span>[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_MEDIARSS][<span class="php-quote">'keywords'</span>]))
</span><span id="9700" class="l"><a class="l" href="#9700"> 9700: </a>                            {
</span><span id="9701" class="l"><a class="l" href="#9701"> 9701: </a>                                <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$content</span>[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_MEDIARSS][<span class="php-quote">'keywords'</span>][<span class="php-num">0</span>][<span class="php-quote">'data'</span>]))
</span><span id="9702" class="l"><a class="l" href="#9702"> 9702: </a>                                {
</span><span id="9703" class="l"><a class="l" href="#9703"> 9703: </a>                                    <span class="php-var">$temp</span> = <span class="php-keyword2">explode</span>(<span class="php-quote">','</span>, <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$content</span>[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_MEDIARSS][<span class="php-quote">'keywords'</span>][<span class="php-num">0</span>][<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_TEXT));
</span><span id="9704" class="l"><a class="l" href="#9704"> 9704: </a>                                    <span class="php-keyword1">foreach</span> (<span class="php-var">$temp</span> <span class="php-keyword1">as</span> <span class="php-var">$word</span>)
</span><span id="9705" class="l"><a class="l" href="#9705"> 9705: </a>                                    {
</span><span id="9706" class="l"><a class="l" href="#9706"> 9706: </a>                                        <span class="php-var">$keywords</span>[] = <span class="php-keyword2">trim</span>(<span class="php-var">$word</span>);
</span><span id="9707" class="l"><a class="l" href="#9707"> 9707: </a>                                    }
</span><span id="9708" class="l"><a class="l" href="#9708"> 9708: </a>                                    <span class="php-keyword1">unset</span>(<span class="php-var">$temp</span>);
</span><span id="9709" class="l"><a class="l" href="#9709"> 9709: </a>                                }
</span><span id="9710" class="l"><a class="l" href="#9710"> 9710: </a>                                <span class="php-keyword1">if</span> (<span class="php-keyword2">is_array</span>(<span class="php-var">$keywords</span>))
</span><span id="9711" class="l"><a class="l" href="#9711"> 9711: </a>                                {
</span><span id="9712" class="l"><a class="l" href="#9712"> 9712: </a>                                    <span class="php-var">$keywords</span> = <span class="php-keyword2">array_values</span>(<span class="php-var">$this</span>-&gt;registry-&gt;call(<span class="php-quote">'Misc'</span>, <span class="php-quote">'array_unique'</span>, <span class="php-keyword1">array</span>(<span class="php-var">$keywords</span>)));
</span><span id="9713" class="l"><a class="l" href="#9713"> 9713: </a>                                }
</span><span id="9714" class="l"><a class="l" href="#9714"> 9714: </a>                            }
</span><span id="9715" class="l"><a class="l" href="#9715"> 9715: </a>                            <span class="php-keyword1">elseif</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$group</span>[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_MEDIARSS][<span class="php-quote">'keywords'</span>]))
</span><span id="9716" class="l"><a class="l" href="#9716"> 9716: </a>                            {
</span><span id="9717" class="l"><a class="l" href="#9717"> 9717: </a>                                <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$group</span>[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_MEDIARSS][<span class="php-quote">'keywords'</span>][<span class="php-num">0</span>][<span class="php-quote">'data'</span>]))
</span><span id="9718" class="l"><a class="l" href="#9718"> 9718: </a>                                {
</span><span id="9719" class="l"><a class="l" href="#9719"> 9719: </a>                                    <span class="php-var">$temp</span> = <span class="php-keyword2">explode</span>(<span class="php-quote">','</span>, <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$group</span>[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_MEDIARSS][<span class="php-quote">'keywords'</span>][<span class="php-num">0</span>][<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_TEXT));
</span><span id="9720" class="l"><a class="l" href="#9720"> 9720: </a>                                    <span class="php-keyword1">foreach</span> (<span class="php-var">$temp</span> <span class="php-keyword1">as</span> <span class="php-var">$word</span>)
</span><span id="9721" class="l"><a class="l" href="#9721"> 9721: </a>                                    {
</span><span id="9722" class="l"><a class="l" href="#9722"> 9722: </a>                                        <span class="php-var">$keywords</span>[] = <span class="php-keyword2">trim</span>(<span class="php-var">$word</span>);
</span><span id="9723" class="l"><a class="l" href="#9723"> 9723: </a>                                    }
</span><span id="9724" class="l"><a class="l" href="#9724"> 9724: </a>                                    <span class="php-keyword1">unset</span>(<span class="php-var">$temp</span>);
</span><span id="9725" class="l"><a class="l" href="#9725"> 9725: </a>                                }
</span><span id="9726" class="l"><a class="l" href="#9726"> 9726: </a>                                <span class="php-keyword1">if</span> (<span class="php-keyword2">is_array</span>(<span class="php-var">$keywords</span>))
</span><span id="9727" class="l"><a class="l" href="#9727"> 9727: </a>                                {
</span><span id="9728" class="l"><a class="l" href="#9728"> 9728: </a>                                    <span class="php-var">$keywords</span> = <span class="php-keyword2">array_values</span>(<span class="php-var">$this</span>-&gt;registry-&gt;call(<span class="php-quote">'Misc'</span>, <span class="php-quote">'array_unique'</span>, <span class="php-keyword1">array</span>(<span class="php-var">$keywords</span>)));
</span><span id="9729" class="l"><a class="l" href="#9729"> 9729: </a>                                }
</span><span id="9730" class="l"><a class="l" href="#9730"> 9730: </a>                            }
</span><span id="9731" class="l"><a class="l" href="#9731"> 9731: </a>                            <span class="php-keyword1">else</span>
</span><span id="9732" class="l"><a class="l" href="#9732"> 9732: </a>                            {
</span><span id="9733" class="l"><a class="l" href="#9733"> 9733: </a>                                <span class="php-var">$keywords</span> = <span class="php-var">$keywords_parent</span>;
</span><span id="9734" class="l"><a class="l" href="#9734"> 9734: </a>                            }
</span><span id="9735" class="l"><a class="l" href="#9735"> 9735: </a>
</span><span id="9736" class="l"><a class="l" href="#9736"> 9736: </a>                            <span class="php-comment">// PLAYER</span>
</span><span id="9737" class="l"><a class="l" href="#9737"> 9737: </a>                            <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$content</span>[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_MEDIARSS][<span class="php-quote">'player'</span>]))
</span><span id="9738" class="l"><a class="l" href="#9738"> 9738: </a>                            {
</span><span id="9739" class="l"><a class="l" href="#9739"> 9739: </a>                                <span class="php-var">$player</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$content</span>[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_MEDIARSS][<span class="php-quote">'player'</span>][<span class="php-num">0</span>][<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'url'</span>], SIMPLEPIE_CONSTRUCT_IRI);
</span><span id="9740" class="l"><a class="l" href="#9740"> 9740: </a>                            }
</span><span id="9741" class="l"><a class="l" href="#9741"> 9741: </a>                            <span class="php-keyword1">elseif</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$group</span>[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_MEDIARSS][<span class="php-quote">'player'</span>]))
</span><span id="9742" class="l"><a class="l" href="#9742"> 9742: </a>                            {
</span><span id="9743" class="l"><a class="l" href="#9743"> 9743: </a>                                <span class="php-var">$player</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$group</span>[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_MEDIARSS][<span class="php-quote">'player'</span>][<span class="php-num">0</span>][<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'url'</span>], SIMPLEPIE_CONSTRUCT_IRI);
</span><span id="9744" class="l"><a class="l" href="#9744"> 9744: </a>                            }
</span><span id="9745" class="l"><a class="l" href="#9745"> 9745: </a>                            <span class="php-keyword1">else</span>
</span><span id="9746" class="l"><a class="l" href="#9746"> 9746: </a>                            {
</span><span id="9747" class="l"><a class="l" href="#9747"> 9747: </a>                                <span class="php-var">$player</span> = <span class="php-var">$player_parent</span>;
</span><span id="9748" class="l"><a class="l" href="#9748"> 9748: </a>                            }
</span><span id="9749" class="l"><a class="l" href="#9749"> 9749: </a>
</span><span id="9750" class="l"><a class="l" href="#9750"> 9750: </a>                            <span class="php-comment">// RATINGS</span>
</span><span id="9751" class="l"><a class="l" href="#9751"> 9751: </a>                            <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$content</span>[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_MEDIARSS][<span class="php-quote">'rating'</span>]))
</span><span id="9752" class="l"><a class="l" href="#9752"> 9752: </a>                            {
</span><span id="9753" class="l"><a class="l" href="#9753"> 9753: </a>                                <span class="php-keyword1">foreach</span> (<span class="php-var">$content</span>[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_MEDIARSS][<span class="php-quote">'rating'</span>] <span class="php-keyword1">as</span> <span class="php-var">$rating</span>)
</span><span id="9754" class="l"><a class="l" href="#9754"> 9754: </a>                                {
</span><span id="9755" class="l"><a class="l" href="#9755"> 9755: </a>                                    <span class="php-var">$rating_scheme</span> = <span class="php-keyword1">null</span>;
</span><span id="9756" class="l"><a class="l" href="#9756"> 9756: </a>                                    <span class="php-var">$rating_value</span> = <span class="php-keyword1">null</span>;
</span><span id="9757" class="l"><a class="l" href="#9757"> 9757: </a>                                    <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$rating</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'scheme'</span>]))
</span><span id="9758" class="l"><a class="l" href="#9758"> 9758: </a>                                    {
</span><span id="9759" class="l"><a class="l" href="#9759"> 9759: </a>                                        <span class="php-var">$rating_scheme</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$rating</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'scheme'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="9760" class="l"><a class="l" href="#9760"> 9760: </a>                                    }
</span><span id="9761" class="l"><a class="l" href="#9761"> 9761: </a>                                    <span class="php-keyword1">else</span>
</span><span id="9762" class="l"><a class="l" href="#9762"> 9762: </a>                                    {
</span><span id="9763" class="l"><a class="l" href="#9763"> 9763: </a>                                        <span class="php-var">$rating_scheme</span> = <span class="php-quote">'urn:simple'</span>;
</span><span id="9764" class="l"><a class="l" href="#9764"> 9764: </a>                                    }
</span><span id="9765" class="l"><a class="l" href="#9765"> 9765: </a>                                    <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$rating</span>[<span class="php-quote">'data'</span>]))
</span><span id="9766" class="l"><a class="l" href="#9766"> 9766: </a>                                    {
</span><span id="9767" class="l"><a class="l" href="#9767"> 9767: </a>                                        <span class="php-var">$rating_value</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$rating</span>[<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="9768" class="l"><a class="l" href="#9768"> 9768: </a>                                    }
</span><span id="9769" class="l"><a class="l" href="#9769"> 9769: </a>                                    <span class="php-var">$ratings</span>[] = <span class="php-var">$this</span>-&gt;registry-&gt;create(<span class="php-quote">'Rating'</span>, <span class="php-keyword1">array</span>(<span class="php-var">$rating_scheme</span>, <span class="php-var">$rating_value</span>));
</span><span id="9770" class="l"><a class="l" href="#9770"> 9770: </a>                                }
</span><span id="9771" class="l"><a class="l" href="#9771"> 9771: </a>                                <span class="php-keyword1">if</span> (<span class="php-keyword2">is_array</span>(<span class="php-var">$ratings</span>))
</span><span id="9772" class="l"><a class="l" href="#9772"> 9772: </a>                                {
</span><span id="9773" class="l"><a class="l" href="#9773"> 9773: </a>                                    <span class="php-var">$ratings</span> = <span class="php-keyword2">array_values</span>(<span class="php-var">$this</span>-&gt;registry-&gt;call(<span class="php-quote">'Misc'</span>, <span class="php-quote">'array_unique'</span>, <span class="php-keyword1">array</span>(<span class="php-var">$ratings</span>)));
</span><span id="9774" class="l"><a class="l" href="#9774"> 9774: </a>                                }
</span><span id="9775" class="l"><a class="l" href="#9775"> 9775: </a>                            }
</span><span id="9776" class="l"><a class="l" href="#9776"> 9776: </a>                            <span class="php-keyword1">elseif</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$group</span>[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_MEDIARSS][<span class="php-quote">'rating'</span>]))
</span><span id="9777" class="l"><a class="l" href="#9777"> 9777: </a>                            {
</span><span id="9778" class="l"><a class="l" href="#9778"> 9778: </a>                                <span class="php-keyword1">foreach</span> (<span class="php-var">$group</span>[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_MEDIARSS][<span class="php-quote">'rating'</span>] <span class="php-keyword1">as</span> <span class="php-var">$rating</span>)
</span><span id="9779" class="l"><a class="l" href="#9779"> 9779: </a>                                {
</span><span id="9780" class="l"><a class="l" href="#9780"> 9780: </a>                                    <span class="php-var">$rating_scheme</span> = <span class="php-keyword1">null</span>;
</span><span id="9781" class="l"><a class="l" href="#9781"> 9781: </a>                                    <span class="php-var">$rating_value</span> = <span class="php-keyword1">null</span>;
</span><span id="9782" class="l"><a class="l" href="#9782"> 9782: </a>                                    <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$rating</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'scheme'</span>]))
</span><span id="9783" class="l"><a class="l" href="#9783"> 9783: </a>                                    {
</span><span id="9784" class="l"><a class="l" href="#9784"> 9784: </a>                                        <span class="php-var">$rating_scheme</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$rating</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'scheme'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="9785" class="l"><a class="l" href="#9785"> 9785: </a>                                    }
</span><span id="9786" class="l"><a class="l" href="#9786"> 9786: </a>                                    <span class="php-keyword1">else</span>
</span><span id="9787" class="l"><a class="l" href="#9787"> 9787: </a>                                    {
</span><span id="9788" class="l"><a class="l" href="#9788"> 9788: </a>                                        <span class="php-var">$rating_scheme</span> = <span class="php-quote">'urn:simple'</span>;
</span><span id="9789" class="l"><a class="l" href="#9789"> 9789: </a>                                    }
</span><span id="9790" class="l"><a class="l" href="#9790"> 9790: </a>                                    <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$rating</span>[<span class="php-quote">'data'</span>]))
</span><span id="9791" class="l"><a class="l" href="#9791"> 9791: </a>                                    {
</span><span id="9792" class="l"><a class="l" href="#9792"> 9792: </a>                                        <span class="php-var">$rating_value</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$rating</span>[<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="9793" class="l"><a class="l" href="#9793"> 9793: </a>                                    }
</span><span id="9794" class="l"><a class="l" href="#9794"> 9794: </a>                                    <span class="php-var">$ratings</span>[] = <span class="php-var">$this</span>-&gt;registry-&gt;create(<span class="php-quote">'Rating'</span>, <span class="php-keyword1">array</span>(<span class="php-var">$rating_scheme</span>, <span class="php-var">$rating_value</span>));
</span><span id="9795" class="l"><a class="l" href="#9795"> 9795: </a>                                }
</span><span id="9796" class="l"><a class="l" href="#9796"> 9796: </a>                                <span class="php-keyword1">if</span> (<span class="php-keyword2">is_array</span>(<span class="php-var">$ratings</span>))
</span><span id="9797" class="l"><a class="l" href="#9797"> 9797: </a>                                {
</span><span id="9798" class="l"><a class="l" href="#9798"> 9798: </a>                                    <span class="php-var">$ratings</span> = <span class="php-keyword2">array_values</span>(<span class="php-var">$this</span>-&gt;registry-&gt;call(<span class="php-quote">'Misc'</span>, <span class="php-quote">'array_unique'</span>, <span class="php-keyword1">array</span>(<span class="php-var">$ratings</span>)));
</span><span id="9799" class="l"><a class="l" href="#9799"> 9799: </a>                                }
</span><span id="9800" class="l"><a class="l" href="#9800"> 9800: </a>                            }
</span><span id="9801" class="l"><a class="l" href="#9801"> 9801: </a>                            <span class="php-keyword1">else</span>
</span><span id="9802" class="l"><a class="l" href="#9802"> 9802: </a>                            {
</span><span id="9803" class="l"><a class="l" href="#9803"> 9803: </a>                                <span class="php-var">$ratings</span> = <span class="php-var">$ratings_parent</span>;
</span><span id="9804" class="l"><a class="l" href="#9804"> 9804: </a>                            }
</span><span id="9805" class="l"><a class="l" href="#9805"> 9805: </a>
</span><span id="9806" class="l"><a class="l" href="#9806"> 9806: </a>                            <span class="php-comment">// RESTRICTIONS</span>
</span><span id="9807" class="l"><a class="l" href="#9807"> 9807: </a>                            <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$content</span>[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_MEDIARSS][<span class="php-quote">'restriction'</span>]))
</span><span id="9808" class="l"><a class="l" href="#9808"> 9808: </a>                            {
</span><span id="9809" class="l"><a class="l" href="#9809"> 9809: </a>                                <span class="php-keyword1">foreach</span> (<span class="php-var">$content</span>[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_MEDIARSS][<span class="php-quote">'restriction'</span>] <span class="php-keyword1">as</span> <span class="php-var">$restriction</span>)
</span><span id="9810" class="l"><a class="l" href="#9810"> 9810: </a>                                {
</span><span id="9811" class="l"><a class="l" href="#9811"> 9811: </a>                                    <span class="php-var">$restriction_relationship</span> = <span class="php-keyword1">null</span>;
</span><span id="9812" class="l"><a class="l" href="#9812"> 9812: </a>                                    <span class="php-var">$restriction_type</span> = <span class="php-keyword1">null</span>;
</span><span id="9813" class="l"><a class="l" href="#9813"> 9813: </a>                                    <span class="php-var">$restriction_value</span> = <span class="php-keyword1">null</span>;
</span><span id="9814" class="l"><a class="l" href="#9814"> 9814: </a>                                    <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$restriction</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'relationship'</span>]))
</span><span id="9815" class="l"><a class="l" href="#9815"> 9815: </a>                                    {
</span><span id="9816" class="l"><a class="l" href="#9816"> 9816: </a>                                        <span class="php-var">$restriction_relationship</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$restriction</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'relationship'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="9817" class="l"><a class="l" href="#9817"> 9817: </a>                                    }
</span><span id="9818" class="l"><a class="l" href="#9818"> 9818: </a>                                    <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$restriction</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'type'</span>]))
</span><span id="9819" class="l"><a class="l" href="#9819"> 9819: </a>                                    {
</span><span id="9820" class="l"><a class="l" href="#9820"> 9820: </a>                                        <span class="php-var">$restriction_type</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$restriction</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'type'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="9821" class="l"><a class="l" href="#9821"> 9821: </a>                                    }
</span><span id="9822" class="l"><a class="l" href="#9822"> 9822: </a>                                    <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$restriction</span>[<span class="php-quote">'data'</span>]))
</span><span id="9823" class="l"><a class="l" href="#9823"> 9823: </a>                                    {
</span><span id="9824" class="l"><a class="l" href="#9824"> 9824: </a>                                        <span class="php-var">$restriction_value</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$restriction</span>[<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="9825" class="l"><a class="l" href="#9825"> 9825: </a>                                    }
</span><span id="9826" class="l"><a class="l" href="#9826"> 9826: </a>                                    <span class="php-var">$restrictions</span>[] = <span class="php-var">$this</span>-&gt;registry-&gt;create(<span class="php-quote">'Restriction'</span>, <span class="php-keyword1">array</span>(<span class="php-var">$restriction_relationship</span>, <span class="php-var">$restriction_type</span>, <span class="php-var">$restriction_value</span>));
</span><span id="9827" class="l"><a class="l" href="#9827"> 9827: </a>                                }
</span><span id="9828" class="l"><a class="l" href="#9828"> 9828: </a>                                <span class="php-keyword1">if</span> (<span class="php-keyword2">is_array</span>(<span class="php-var">$restrictions</span>))
</span><span id="9829" class="l"><a class="l" href="#9829"> 9829: </a>                                {
</span><span id="9830" class="l"><a class="l" href="#9830"> 9830: </a>                                    <span class="php-var">$restrictions</span> = <span class="php-keyword2">array_values</span>(<span class="php-var">$this</span>-&gt;registry-&gt;call(<span class="php-quote">'Misc'</span>, <span class="php-quote">'array_unique'</span>, <span class="php-keyword1">array</span>(<span class="php-var">$restrictions</span>)));
</span><span id="9831" class="l"><a class="l" href="#9831"> 9831: </a>                                }
</span><span id="9832" class="l"><a class="l" href="#9832"> 9832: </a>                            }
</span><span id="9833" class="l"><a class="l" href="#9833"> 9833: </a>                            <span class="php-keyword1">elseif</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$group</span>[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_MEDIARSS][<span class="php-quote">'restriction'</span>]))
</span><span id="9834" class="l"><a class="l" href="#9834"> 9834: </a>                            {
</span><span id="9835" class="l"><a class="l" href="#9835"> 9835: </a>                                <span class="php-keyword1">foreach</span> (<span class="php-var">$group</span>[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_MEDIARSS][<span class="php-quote">'restriction'</span>] <span class="php-keyword1">as</span> <span class="php-var">$restriction</span>)
</span><span id="9836" class="l"><a class="l" href="#9836"> 9836: </a>                                {
</span><span id="9837" class="l"><a class="l" href="#9837"> 9837: </a>                                    <span class="php-var">$restriction_relationship</span> = <span class="php-keyword1">null</span>;
</span><span id="9838" class="l"><a class="l" href="#9838"> 9838: </a>                                    <span class="php-var">$restriction_type</span> = <span class="php-keyword1">null</span>;
</span><span id="9839" class="l"><a class="l" href="#9839"> 9839: </a>                                    <span class="php-var">$restriction_value</span> = <span class="php-keyword1">null</span>;
</span><span id="9840" class="l"><a class="l" href="#9840"> 9840: </a>                                    <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$restriction</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'relationship'</span>]))
</span><span id="9841" class="l"><a class="l" href="#9841"> 9841: </a>                                    {
</span><span id="9842" class="l"><a class="l" href="#9842"> 9842: </a>                                        <span class="php-var">$restriction_relationship</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$restriction</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'relationship'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="9843" class="l"><a class="l" href="#9843"> 9843: </a>                                    }
</span><span id="9844" class="l"><a class="l" href="#9844"> 9844: </a>                                    <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$restriction</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'type'</span>]))
</span><span id="9845" class="l"><a class="l" href="#9845"> 9845: </a>                                    {
</span><span id="9846" class="l"><a class="l" href="#9846"> 9846: </a>                                        <span class="php-var">$restriction_type</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$restriction</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'type'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="9847" class="l"><a class="l" href="#9847"> 9847: </a>                                    }
</span><span id="9848" class="l"><a class="l" href="#9848"> 9848: </a>                                    <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$restriction</span>[<span class="php-quote">'data'</span>]))
</span><span id="9849" class="l"><a class="l" href="#9849"> 9849: </a>                                    {
</span><span id="9850" class="l"><a class="l" href="#9850"> 9850: </a>                                        <span class="php-var">$restriction_value</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$restriction</span>[<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="9851" class="l"><a class="l" href="#9851"> 9851: </a>                                    }
</span><span id="9852" class="l"><a class="l" href="#9852"> 9852: </a>                                    <span class="php-var">$restrictions</span>[] = <span class="php-var">$this</span>-&gt;registry-&gt;create(<span class="php-quote">'Restriction'</span>, <span class="php-keyword1">array</span>(<span class="php-var">$restriction_relationship</span>, <span class="php-var">$restriction_type</span>, <span class="php-var">$restriction_value</span>));
</span><span id="9853" class="l"><a class="l" href="#9853"> 9853: </a>                                }
</span><span id="9854" class="l"><a class="l" href="#9854"> 9854: </a>                                <span class="php-keyword1">if</span> (<span class="php-keyword2">is_array</span>(<span class="php-var">$restrictions</span>))
</span><span id="9855" class="l"><a class="l" href="#9855"> 9855: </a>                                {
</span><span id="9856" class="l"><a class="l" href="#9856"> 9856: </a>                                    <span class="php-var">$restrictions</span> = <span class="php-keyword2">array_values</span>(<span class="php-var">$this</span>-&gt;registry-&gt;call(<span class="php-quote">'Misc'</span>, <span class="php-quote">'array_unique'</span>, <span class="php-keyword1">array</span>(<span class="php-var">$restrictions</span>)));
</span><span id="9857" class="l"><a class="l" href="#9857"> 9857: </a>                                }
</span><span id="9858" class="l"><a class="l" href="#9858"> 9858: </a>                            }
</span><span id="9859" class="l"><a class="l" href="#9859"> 9859: </a>                            <span class="php-keyword1">else</span>
</span><span id="9860" class="l"><a class="l" href="#9860"> 9860: </a>                            {
</span><span id="9861" class="l"><a class="l" href="#9861"> 9861: </a>                                <span class="php-var">$restrictions</span> = <span class="php-var">$restrictions_parent</span>;
</span><span id="9862" class="l"><a class="l" href="#9862"> 9862: </a>                            }
</span><span id="9863" class="l"><a class="l" href="#9863"> 9863: </a>
</span><span id="9864" class="l"><a class="l" href="#9864"> 9864: </a>                            <span class="php-comment">// THUMBNAILS</span>
</span><span id="9865" class="l"><a class="l" href="#9865"> 9865: </a>                            <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$content</span>[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_MEDIARSS][<span class="php-quote">'thumbnail'</span>]))
</span><span id="9866" class="l"><a class="l" href="#9866"> 9866: </a>                            {
</span><span id="9867" class="l"><a class="l" href="#9867"> 9867: </a>                                <span class="php-keyword1">foreach</span> (<span class="php-var">$content</span>[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_MEDIARSS][<span class="php-quote">'thumbnail'</span>] <span class="php-keyword1">as</span> <span class="php-var">$thumbnail</span>)
</span><span id="9868" class="l"><a class="l" href="#9868"> 9868: </a>                                {
</span><span id="9869" class="l"><a class="l" href="#9869"> 9869: </a>                                    <span class="php-var">$thumbnails</span>[] = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$thumbnail</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'url'</span>], SIMPLEPIE_CONSTRUCT_IRI);
</span><span id="9870" class="l"><a class="l" href="#9870"> 9870: </a>                                }
</span><span id="9871" class="l"><a class="l" href="#9871"> 9871: </a>                                <span class="php-keyword1">if</span> (<span class="php-keyword2">is_array</span>(<span class="php-var">$thumbnails</span>))
</span><span id="9872" class="l"><a class="l" href="#9872"> 9872: </a>                                {
</span><span id="9873" class="l"><a class="l" href="#9873"> 9873: </a>                                    <span class="php-var">$thumbnails</span> = <span class="php-keyword2">array_values</span>(<span class="php-var">$this</span>-&gt;registry-&gt;call(<span class="php-quote">'Misc'</span>, <span class="php-quote">'array_unique'</span>, <span class="php-keyword1">array</span>(<span class="php-var">$thumbnails</span>)));
</span><span id="9874" class="l"><a class="l" href="#9874"> 9874: </a>                                }
</span><span id="9875" class="l"><a class="l" href="#9875"> 9875: </a>                            }
</span><span id="9876" class="l"><a class="l" href="#9876"> 9876: </a>                            <span class="php-keyword1">elseif</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$group</span>[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_MEDIARSS][<span class="php-quote">'thumbnail'</span>]))
</span><span id="9877" class="l"><a class="l" href="#9877"> 9877: </a>                            {
</span><span id="9878" class="l"><a class="l" href="#9878"> 9878: </a>                                <span class="php-keyword1">foreach</span> (<span class="php-var">$group</span>[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_MEDIARSS][<span class="php-quote">'thumbnail'</span>] <span class="php-keyword1">as</span> <span class="php-var">$thumbnail</span>)
</span><span id="9879" class="l"><a class="l" href="#9879"> 9879: </a>                                {
</span><span id="9880" class="l"><a class="l" href="#9880"> 9880: </a>                                    <span class="php-var">$thumbnails</span>[] = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$thumbnail</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'url'</span>], SIMPLEPIE_CONSTRUCT_IRI);
</span><span id="9881" class="l"><a class="l" href="#9881"> 9881: </a>                                }
</span><span id="9882" class="l"><a class="l" href="#9882"> 9882: </a>                                <span class="php-keyword1">if</span> (<span class="php-keyword2">is_array</span>(<span class="php-var">$thumbnails</span>))
</span><span id="9883" class="l"><a class="l" href="#9883"> 9883: </a>                                {
</span><span id="9884" class="l"><a class="l" href="#9884"> 9884: </a>                                    <span class="php-var">$thumbnails</span> = <span class="php-keyword2">array_values</span>(<span class="php-var">$this</span>-&gt;registry-&gt;call(<span class="php-quote">'Misc'</span>, <span class="php-quote">'array_unique'</span>, <span class="php-keyword1">array</span>(<span class="php-var">$thumbnails</span>)));
</span><span id="9885" class="l"><a class="l" href="#9885"> 9885: </a>                                }
</span><span id="9886" class="l"><a class="l" href="#9886"> 9886: </a>                            }
</span><span id="9887" class="l"><a class="l" href="#9887"> 9887: </a>                            <span class="php-keyword1">else</span>
</span><span id="9888" class="l"><a class="l" href="#9888"> 9888: </a>                            {
</span><span id="9889" class="l"><a class="l" href="#9889"> 9889: </a>                                <span class="php-var">$thumbnails</span> = <span class="php-var">$thumbnails_parent</span>;
</span><span id="9890" class="l"><a class="l" href="#9890"> 9890: </a>                            }
</span><span id="9891" class="l"><a class="l" href="#9891"> 9891: </a>
</span><span id="9892" class="l"><a class="l" href="#9892"> 9892: </a>                            <span class="php-comment">// TITLES</span>
</span><span id="9893" class="l"><a class="l" href="#9893"> 9893: </a>                            <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$content</span>[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_MEDIARSS][<span class="php-quote">'title'</span>]))
</span><span id="9894" class="l"><a class="l" href="#9894"> 9894: </a>                            {
</span><span id="9895" class="l"><a class="l" href="#9895"> 9895: </a>                                <span class="php-var">$title</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$content</span>[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_MEDIARSS][<span class="php-quote">'title'</span>][<span class="php-num">0</span>][<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="9896" class="l"><a class="l" href="#9896"> 9896: </a>                            }
</span><span id="9897" class="l"><a class="l" href="#9897"> 9897: </a>                            <span class="php-keyword1">elseif</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$group</span>[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_MEDIARSS][<span class="php-quote">'title'</span>]))
</span><span id="9898" class="l"><a class="l" href="#9898"> 9898: </a>                            {
</span><span id="9899" class="l"><a class="l" href="#9899"> 9899: </a>                                <span class="php-var">$title</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$group</span>[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_MEDIARSS][<span class="php-quote">'title'</span>][<span class="php-num">0</span>][<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="9900" class="l"><a class="l" href="#9900"> 9900: </a>                            }
</span><span id="9901" class="l"><a class="l" href="#9901"> 9901: </a>                            <span class="php-keyword1">else</span>
</span><span id="9902" class="l"><a class="l" href="#9902"> 9902: </a>                            {
</span><span id="9903" class="l"><a class="l" href="#9903"> 9903: </a>                                <span class="php-var">$title</span> = <span class="php-var">$title_parent</span>;
</span><span id="9904" class="l"><a class="l" href="#9904"> 9904: </a>                            }
</span><span id="9905" class="l"><a class="l" href="#9905"> 9905: </a>
</span><span id="9906" class="l"><a class="l" href="#9906"> 9906: </a>                            <span class="php-var">$this</span>-&gt;data[<span class="php-quote">'enclosures'</span>][] = <span class="php-var">$this</span>-&gt;registry-&gt;create(<span class="php-quote">'Enclosure'</span>, <span class="php-keyword1">array</span>(<span class="php-var">$url</span>, <span class="php-var">$type</span>, <span class="php-var">$length</span>, <span class="php-keyword1">null</span>, <span class="php-var">$bitrate</span>, <span class="php-var">$captions</span>, <span class="php-var">$categories</span>, <span class="php-var">$channels</span>, <span class="php-var">$copyrights</span>, <span class="php-var">$credits</span>, <span class="php-var">$description</span>, <span class="php-var">$duration</span>, <span class="php-var">$expression</span>, <span class="php-var">$framerate</span>, <span class="php-var">$hashes</span>, <span class="php-var">$height</span>, <span class="php-var">$keywords</span>, <span class="php-var">$lang</span>, <span class="php-var">$medium</span>, <span class="php-var">$player</span>, <span class="php-var">$ratings</span>, <span class="php-var">$restrictions</span>, <span class="php-var">$samplingrate</span>, <span class="php-var">$thumbnails</span>, <span class="php-var">$title</span>, <span class="php-var">$width</span>));
</span><span id="9907" class="l"><a class="l" href="#9907"> 9907: </a>                        }
</span><span id="9908" class="l"><a class="l" href="#9908"> 9908: </a>                    }
</span><span id="9909" class="l"><a class="l" href="#9909"> 9909: </a>                }
</span><span id="9910" class="l"><a class="l" href="#9910"> 9910: </a>            }
</span><span id="9911" class="l"><a class="l" href="#9911"> 9911: </a>
</span><span id="9912" class="l"><a class="l" href="#9912"> 9912: </a>            <span class="php-comment">// If we have standalone media:content tags, loop through them.</span>
</span><span id="9913" class="l"><a class="l" href="#9913"> 9913: </a>            <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$this</span>-&gt;data[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_MEDIARSS][<span class="php-quote">'content'</span>]))
</span><span id="9914" class="l"><a class="l" href="#9914"> 9914: </a>            {
</span><span id="9915" class="l"><a class="l" href="#9915"> 9915: </a>                <span class="php-keyword1">foreach</span> ((<span class="php-keyword1">array</span>) <span class="php-var">$this</span>-&gt;data[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_MEDIARSS][<span class="php-quote">'content'</span>] <span class="php-keyword1">as</span> <span class="php-var">$content</span>)
</span><span id="9916" class="l"><a class="l" href="#9916"> 9916: </a>                {
</span><span id="9917" class="l"><a class="l" href="#9917"> 9917: </a>                    <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$content</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'url'</span>]) || <span class="php-keyword1">isset</span>(<span class="php-var">$content</span>[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_MEDIARSS][<span class="php-quote">'player'</span>]))
</span><span id="9918" class="l"><a class="l" href="#9918"> 9918: </a>                    {
</span><span id="9919" class="l"><a class="l" href="#9919"> 9919: </a>                        <span class="php-comment">// Attributes</span>
</span><span id="9920" class="l"><a class="l" href="#9920"> 9920: </a>                        <span class="php-var">$bitrate</span> = <span class="php-keyword1">null</span>;
</span><span id="9921" class="l"><a class="l" href="#9921"> 9921: </a>                        <span class="php-var">$channels</span> = <span class="php-keyword1">null</span>;
</span><span id="9922" class="l"><a class="l" href="#9922"> 9922: </a>                        <span class="php-var">$duration</span> = <span class="php-keyword1">null</span>;
</span><span id="9923" class="l"><a class="l" href="#9923"> 9923: </a>                        <span class="php-var">$expression</span> = <span class="php-keyword1">null</span>;
</span><span id="9924" class="l"><a class="l" href="#9924"> 9924: </a>                        <span class="php-var">$framerate</span> = <span class="php-keyword1">null</span>;
</span><span id="9925" class="l"><a class="l" href="#9925"> 9925: </a>                        <span class="php-var">$height</span> = <span class="php-keyword1">null</span>;
</span><span id="9926" class="l"><a class="l" href="#9926"> 9926: </a>                        <span class="php-var">$javascript</span> = <span class="php-keyword1">null</span>;
</span><span id="9927" class="l"><a class="l" href="#9927"> 9927: </a>                        <span class="php-var">$lang</span> = <span class="php-keyword1">null</span>;
</span><span id="9928" class="l"><a class="l" href="#9928"> 9928: </a>                        <span class="php-var">$length</span> = <span class="php-keyword1">null</span>;
</span><span id="9929" class="l"><a class="l" href="#9929"> 9929: </a>                        <span class="php-var">$medium</span> = <span class="php-keyword1">null</span>;
</span><span id="9930" class="l"><a class="l" href="#9930"> 9930: </a>                        <span class="php-var">$samplingrate</span> = <span class="php-keyword1">null</span>;
</span><span id="9931" class="l"><a class="l" href="#9931"> 9931: </a>                        <span class="php-var">$type</span> = <span class="php-keyword1">null</span>;
</span><span id="9932" class="l"><a class="l" href="#9932"> 9932: </a>                        <span class="php-var">$url</span> = <span class="php-keyword1">null</span>;
</span><span id="9933" class="l"><a class="l" href="#9933"> 9933: </a>                        <span class="php-var">$width</span> = <span class="php-keyword1">null</span>;
</span><span id="9934" class="l"><a class="l" href="#9934"> 9934: </a>
</span><span id="9935" class="l"><a class="l" href="#9935"> 9935: </a>                        <span class="php-comment">// Elements</span>
</span><span id="9936" class="l"><a class="l" href="#9936"> 9936: </a>                        <span class="php-var">$captions</span> = <span class="php-keyword1">null</span>;
</span><span id="9937" class="l"><a class="l" href="#9937"> 9937: </a>                        <span class="php-var">$categories</span> = <span class="php-keyword1">null</span>;
</span><span id="9938" class="l"><a class="l" href="#9938"> 9938: </a>                        <span class="php-var">$copyrights</span> = <span class="php-keyword1">null</span>;
</span><span id="9939" class="l"><a class="l" href="#9939"> 9939: </a>                        <span class="php-var">$credits</span> = <span class="php-keyword1">null</span>;
</span><span id="9940" class="l"><a class="l" href="#9940"> 9940: </a>                        <span class="php-var">$description</span> = <span class="php-keyword1">null</span>;
</span><span id="9941" class="l"><a class="l" href="#9941"> 9941: </a>                        <span class="php-var">$hashes</span> = <span class="php-keyword1">null</span>;
</span><span id="9942" class="l"><a class="l" href="#9942"> 9942: </a>                        <span class="php-var">$keywords</span> = <span class="php-keyword1">null</span>;
</span><span id="9943" class="l"><a class="l" href="#9943"> 9943: </a>                        <span class="php-var">$player</span> = <span class="php-keyword1">null</span>;
</span><span id="9944" class="l"><a class="l" href="#9944"> 9944: </a>                        <span class="php-var">$ratings</span> = <span class="php-keyword1">null</span>;
</span><span id="9945" class="l"><a class="l" href="#9945"> 9945: </a>                        <span class="php-var">$restrictions</span> = <span class="php-keyword1">null</span>;
</span><span id="9946" class="l"><a class="l" href="#9946"> 9946: </a>                        <span class="php-var">$thumbnails</span> = <span class="php-keyword1">null</span>;
</span><span id="9947" class="l"><a class="l" href="#9947"> 9947: </a>                        <span class="php-var">$title</span> = <span class="php-keyword1">null</span>;
</span><span id="9948" class="l"><a class="l" href="#9948"> 9948: </a>
</span><span id="9949" class="l"><a class="l" href="#9949"> 9949: </a>                        <span class="php-comment">// Start checking the attributes of media:content</span>
</span><span id="9950" class="l"><a class="l" href="#9950"> 9950: </a>                        <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$content</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'bitrate'</span>]))
</span><span id="9951" class="l"><a class="l" href="#9951"> 9951: </a>                        {
</span><span id="9952" class="l"><a class="l" href="#9952"> 9952: </a>                            <span class="php-var">$bitrate</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$content</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'bitrate'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="9953" class="l"><a class="l" href="#9953"> 9953: </a>                        }
</span><span id="9954" class="l"><a class="l" href="#9954"> 9954: </a>                        <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$content</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'channels'</span>]))
</span><span id="9955" class="l"><a class="l" href="#9955"> 9955: </a>                        {
</span><span id="9956" class="l"><a class="l" href="#9956"> 9956: </a>                            <span class="php-var">$channels</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$content</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'channels'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="9957" class="l"><a class="l" href="#9957"> 9957: </a>                        }
</span><span id="9958" class="l"><a class="l" href="#9958"> 9958: </a>                        <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$content</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'duration'</span>]))
</span><span id="9959" class="l"><a class="l" href="#9959"> 9959: </a>                        {
</span><span id="9960" class="l"><a class="l" href="#9960"> 9960: </a>                            <span class="php-var">$duration</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$content</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'duration'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="9961" class="l"><a class="l" href="#9961"> 9961: </a>                        }
</span><span id="9962" class="l"><a class="l" href="#9962"> 9962: </a>                        <span class="php-keyword1">else</span>
</span><span id="9963" class="l"><a class="l" href="#9963"> 9963: </a>                        {
</span><span id="9964" class="l"><a class="l" href="#9964"> 9964: </a>                            <span class="php-var">$duration</span> = <span class="php-var">$duration_parent</span>;
</span><span id="9965" class="l"><a class="l" href="#9965"> 9965: </a>                        }
</span><span id="9966" class="l"><a class="l" href="#9966"> 9966: </a>                        <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$content</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'expression'</span>]))
</span><span id="9967" class="l"><a class="l" href="#9967"> 9967: </a>                        {
</span><span id="9968" class="l"><a class="l" href="#9968"> 9968: </a>                            <span class="php-var">$expression</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$content</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'expression'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="9969" class="l"><a class="l" href="#9969"> 9969: </a>                        }
</span><span id="9970" class="l"><a class="l" href="#9970"> 9970: </a>                        <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$content</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'framerate'</span>]))
</span><span id="9971" class="l"><a class="l" href="#9971"> 9971: </a>                        {
</span><span id="9972" class="l"><a class="l" href="#9972"> 9972: </a>                            <span class="php-var">$framerate</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$content</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'framerate'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="9973" class="l"><a class="l" href="#9973"> 9973: </a>                        }
</span><span id="9974" class="l"><a class="l" href="#9974"> 9974: </a>                        <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$content</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'height'</span>]))
</span><span id="9975" class="l"><a class="l" href="#9975"> 9975: </a>                        {
</span><span id="9976" class="l"><a class="l" href="#9976"> 9976: </a>                            <span class="php-var">$height</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$content</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'height'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="9977" class="l"><a class="l" href="#9977"> 9977: </a>                        }
</span><span id="9978" class="l"><a class="l" href="#9978"> 9978: </a>                        <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$content</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'lang'</span>]))
</span><span id="9979" class="l"><a class="l" href="#9979"> 9979: </a>                        {
</span><span id="9980" class="l"><a class="l" href="#9980"> 9980: </a>                            <span class="php-var">$lang</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$content</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'lang'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="9981" class="l"><a class="l" href="#9981"> 9981: </a>                        }
</span><span id="9982" class="l"><a class="l" href="#9982"> 9982: </a>                        <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$content</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'fileSize'</span>]))
</span><span id="9983" class="l"><a class="l" href="#9983"> 9983: </a>                        {
</span><span id="9984" class="l"><a class="l" href="#9984"> 9984: </a>                            <span class="php-var">$length</span> = <span class="php-keyword2">ceil</span>(<span class="php-var">$content</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'fileSize'</span>]);
</span><span id="9985" class="l"><a class="l" href="#9985"> 9985: </a>                        }
</span><span id="9986" class="l"><a class="l" href="#9986"> 9986: </a>                        <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$content</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'medium'</span>]))
</span><span id="9987" class="l"><a class="l" href="#9987"> 9987: </a>                        {
</span><span id="9988" class="l"><a class="l" href="#9988"> 9988: </a>                            <span class="php-var">$medium</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$content</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'medium'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="9989" class="l"><a class="l" href="#9989"> 9989: </a>                        }
</span><span id="9990" class="l"><a class="l" href="#9990"> 9990: </a>                        <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$content</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'samplingrate'</span>]))
</span><span id="9991" class="l"><a class="l" href="#9991"> 9991: </a>                        {
</span><span id="9992" class="l"><a class="l" href="#9992"> 9992: </a>                            <span class="php-var">$samplingrate</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$content</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'samplingrate'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="9993" class="l"><a class="l" href="#9993"> 9993: </a>                        }
</span><span id="9994" class="l"><a class="l" href="#9994"> 9994: </a>                        <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$content</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'type'</span>]))
</span><span id="9995" class="l"><a class="l" href="#9995"> 9995: </a>                        {
</span><span id="9996" class="l"><a class="l" href="#9996"> 9996: </a>                            <span class="php-var">$type</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$content</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'type'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="9997" class="l"><a class="l" href="#9997"> 9997: </a>                        }
</span><span id="9998" class="l"><a class="l" href="#9998"> 9998: </a>                        <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$content</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'width'</span>]))
</span><span id="9999" class="l"><a class="l" href="#9999"> 9999: </a>                        {
</span><span id="10000" class="l"><a class="l" href="#10000">10000: </a>                            <span class="php-var">$width</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$content</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'width'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="10001" class="l"><a class="l" href="#10001">10001: </a>                        }
</span><span id="10002" class="l"><a class="l" href="#10002">10002: </a>                        <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$content</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'url'</span>]))
</span><span id="10003" class="l"><a class="l" href="#10003">10003: </a>                        {
</span><span id="10004" class="l"><a class="l" href="#10004">10004: </a>                            <span class="php-var">$url</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$content</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'url'</span>], SIMPLEPIE_CONSTRUCT_IRI);
</span><span id="10005" class="l"><a class="l" href="#10005">10005: </a>                        }
</span><span id="10006" class="l"><a class="l" href="#10006">10006: </a>                        <span class="php-comment">// Checking the other optional media: elements. Priority: media:content, media:group, item, channel</span>
</span><span id="10007" class="l"><a class="l" href="#10007">10007: </a>
</span><span id="10008" class="l"><a class="l" href="#10008">10008: </a>                        <span class="php-comment">// CAPTIONS</span>
</span><span id="10009" class="l"><a class="l" href="#10009">10009: </a>                        <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$content</span>[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_MEDIARSS][<span class="php-quote">'text'</span>]))
</span><span id="10010" class="l"><a class="l" href="#10010">10010: </a>                        {
</span><span id="10011" class="l"><a class="l" href="#10011">10011: </a>                            <span class="php-keyword1">foreach</span> (<span class="php-var">$content</span>[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_MEDIARSS][<span class="php-quote">'text'</span>] <span class="php-keyword1">as</span> <span class="php-var">$caption</span>)
</span><span id="10012" class="l"><a class="l" href="#10012">10012: </a>                            {
</span><span id="10013" class="l"><a class="l" href="#10013">10013: </a>                                <span class="php-var">$caption_type</span> = <span class="php-keyword1">null</span>;
</span><span id="10014" class="l"><a class="l" href="#10014">10014: </a>                                <span class="php-var">$caption_lang</span> = <span class="php-keyword1">null</span>;
</span><span id="10015" class="l"><a class="l" href="#10015">10015: </a>                                <span class="php-var">$caption_startTime</span> = <span class="php-keyword1">null</span>;
</span><span id="10016" class="l"><a class="l" href="#10016">10016: </a>                                <span class="php-var">$caption_endTime</span> = <span class="php-keyword1">null</span>;
</span><span id="10017" class="l"><a class="l" href="#10017">10017: </a>                                <span class="php-var">$caption_text</span> = <span class="php-keyword1">null</span>;
</span><span id="10018" class="l"><a class="l" href="#10018">10018: </a>                                <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$caption</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'type'</span>]))
</span><span id="10019" class="l"><a class="l" href="#10019">10019: </a>                                {
</span><span id="10020" class="l"><a class="l" href="#10020">10020: </a>                                    <span class="php-var">$caption_type</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$caption</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'type'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="10021" class="l"><a class="l" href="#10021">10021: </a>                                }
</span><span id="10022" class="l"><a class="l" href="#10022">10022: </a>                                <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$caption</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'lang'</span>]))
</span><span id="10023" class="l"><a class="l" href="#10023">10023: </a>                                {
</span><span id="10024" class="l"><a class="l" href="#10024">10024: </a>                                    <span class="php-var">$caption_lang</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$caption</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'lang'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="10025" class="l"><a class="l" href="#10025">10025: </a>                                }
</span><span id="10026" class="l"><a class="l" href="#10026">10026: </a>                                <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$caption</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'start'</span>]))
</span><span id="10027" class="l"><a class="l" href="#10027">10027: </a>                                {
</span><span id="10028" class="l"><a class="l" href="#10028">10028: </a>                                    <span class="php-var">$caption_startTime</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$caption</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'start'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="10029" class="l"><a class="l" href="#10029">10029: </a>                                }
</span><span id="10030" class="l"><a class="l" href="#10030">10030: </a>                                <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$caption</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'end'</span>]))
</span><span id="10031" class="l"><a class="l" href="#10031">10031: </a>                                {
</span><span id="10032" class="l"><a class="l" href="#10032">10032: </a>                                    <span class="php-var">$caption_endTime</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$caption</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'end'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="10033" class="l"><a class="l" href="#10033">10033: </a>                                }
</span><span id="10034" class="l"><a class="l" href="#10034">10034: </a>                                <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$caption</span>[<span class="php-quote">'data'</span>]))
</span><span id="10035" class="l"><a class="l" href="#10035">10035: </a>                                {
</span><span id="10036" class="l"><a class="l" href="#10036">10036: </a>                                    <span class="php-var">$caption_text</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$caption</span>[<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="10037" class="l"><a class="l" href="#10037">10037: </a>                                }
</span><span id="10038" class="l"><a class="l" href="#10038">10038: </a>                                <span class="php-var">$captions</span>[] = <span class="php-var">$this</span>-&gt;registry-&gt;create(<span class="php-quote">'Caption'</span>, <span class="php-keyword1">array</span>(<span class="php-var">$caption_type</span>, <span class="php-var">$caption_lang</span>, <span class="php-var">$caption_startTime</span>, <span class="php-var">$caption_endTime</span>, <span class="php-var">$caption_text</span>));
</span><span id="10039" class="l"><a class="l" href="#10039">10039: </a>                            }
</span><span id="10040" class="l"><a class="l" href="#10040">10040: </a>                            <span class="php-keyword1">if</span> (<span class="php-keyword2">is_array</span>(<span class="php-var">$captions</span>))
</span><span id="10041" class="l"><a class="l" href="#10041">10041: </a>                            {
</span><span id="10042" class="l"><a class="l" href="#10042">10042: </a>                                <span class="php-var">$captions</span> = <span class="php-keyword2">array_values</span>(<span class="php-var">$this</span>-&gt;registry-&gt;call(<span class="php-quote">'Misc'</span>, <span class="php-quote">'array_unique'</span>, <span class="php-keyword1">array</span>(<span class="php-var">$captions</span>)));
</span><span id="10043" class="l"><a class="l" href="#10043">10043: </a>                            }
</span><span id="10044" class="l"><a class="l" href="#10044">10044: </a>                        }
</span><span id="10045" class="l"><a class="l" href="#10045">10045: </a>                        <span class="php-keyword1">else</span>
</span><span id="10046" class="l"><a class="l" href="#10046">10046: </a>                        {
</span><span id="10047" class="l"><a class="l" href="#10047">10047: </a>                            <span class="php-var">$captions</span> = <span class="php-var">$captions_parent</span>;
</span><span id="10048" class="l"><a class="l" href="#10048">10048: </a>                        }
</span><span id="10049" class="l"><a class="l" href="#10049">10049: </a>
</span><span id="10050" class="l"><a class="l" href="#10050">10050: </a>                        <span class="php-comment">// CATEGORIES</span>
</span><span id="10051" class="l"><a class="l" href="#10051">10051: </a>                        <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$content</span>[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_MEDIARSS][<span class="php-quote">'category'</span>]))
</span><span id="10052" class="l"><a class="l" href="#10052">10052: </a>                        {
</span><span id="10053" class="l"><a class="l" href="#10053">10053: </a>                            <span class="php-keyword1">foreach</span> ((<span class="php-keyword1">array</span>) <span class="php-var">$content</span>[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_MEDIARSS][<span class="php-quote">'category'</span>] <span class="php-keyword1">as</span> <span class="php-var">$category</span>)
</span><span id="10054" class="l"><a class="l" href="#10054">10054: </a>                            {
</span><span id="10055" class="l"><a class="l" href="#10055">10055: </a>                                <span class="php-var">$term</span> = <span class="php-keyword1">null</span>;
</span><span id="10056" class="l"><a class="l" href="#10056">10056: </a>                                <span class="php-var">$scheme</span> = <span class="php-keyword1">null</span>;
</span><span id="10057" class="l"><a class="l" href="#10057">10057: </a>                                <span class="php-var">$label</span> = <span class="php-keyword1">null</span>;
</span><span id="10058" class="l"><a class="l" href="#10058">10058: </a>                                <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$category</span>[<span class="php-quote">'data'</span>]))
</span><span id="10059" class="l"><a class="l" href="#10059">10059: </a>                                {
</span><span id="10060" class="l"><a class="l" href="#10060">10060: </a>                                    <span class="php-var">$term</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$category</span>[<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="10061" class="l"><a class="l" href="#10061">10061: </a>                                }
</span><span id="10062" class="l"><a class="l" href="#10062">10062: </a>                                <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$category</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'scheme'</span>]))
</span><span id="10063" class="l"><a class="l" href="#10063">10063: </a>                                {
</span><span id="10064" class="l"><a class="l" href="#10064">10064: </a>                                    <span class="php-var">$scheme</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$category</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'scheme'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="10065" class="l"><a class="l" href="#10065">10065: </a>                                }
</span><span id="10066" class="l"><a class="l" href="#10066">10066: </a>                                <span class="php-keyword1">else</span>
</span><span id="10067" class="l"><a class="l" href="#10067">10067: </a>                                {
</span><span id="10068" class="l"><a class="l" href="#10068">10068: </a>                                    <span class="php-var">$scheme</span> = <span class="php-quote">'http://search.yahoo.com/mrss/category_schema'</span>;
</span><span id="10069" class="l"><a class="l" href="#10069">10069: </a>                                }
</span><span id="10070" class="l"><a class="l" href="#10070">10070: </a>                                <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$category</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'label'</span>]))
</span><span id="10071" class="l"><a class="l" href="#10071">10071: </a>                                {
</span><span id="10072" class="l"><a class="l" href="#10072">10072: </a>                                    <span class="php-var">$label</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$category</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'label'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="10073" class="l"><a class="l" href="#10073">10073: </a>                                }
</span><span id="10074" class="l"><a class="l" href="#10074">10074: </a>                                <span class="php-var">$categories</span>[] = <span class="php-var">$this</span>-&gt;registry-&gt;create(<span class="php-quote">'Category'</span>, <span class="php-keyword1">array</span>(<span class="php-var">$term</span>, <span class="php-var">$scheme</span>, <span class="php-var">$label</span>));
</span><span id="10075" class="l"><a class="l" href="#10075">10075: </a>                            }
</span><span id="10076" class="l"><a class="l" href="#10076">10076: </a>                        }
</span><span id="10077" class="l"><a class="l" href="#10077">10077: </a>                        <span class="php-keyword1">if</span> (<span class="php-keyword2">is_array</span>(<span class="php-var">$categories</span>) &amp;&amp; <span class="php-keyword2">is_array</span>(<span class="php-var">$categories_parent</span>))
</span><span id="10078" class="l"><a class="l" href="#10078">10078: </a>                        {
</span><span id="10079" class="l"><a class="l" href="#10079">10079: </a>                            <span class="php-var">$categories</span> = <span class="php-keyword2">array_values</span>(<span class="php-var">$this</span>-&gt;registry-&gt;call(<span class="php-quote">'Misc'</span>, <span class="php-quote">'array_unique'</span>, <span class="php-keyword1">array</span>(<span class="php-keyword2">array_merge</span>(<span class="php-var">$categories</span>, <span class="php-var">$categories_parent</span>))));
</span><span id="10080" class="l"><a class="l" href="#10080">10080: </a>                        }
</span><span id="10081" class="l"><a class="l" href="#10081">10081: </a>                        <span class="php-keyword1">elseif</span> (<span class="php-keyword2">is_array</span>(<span class="php-var">$categories</span>))
</span><span id="10082" class="l"><a class="l" href="#10082">10082: </a>                        {
</span><span id="10083" class="l"><a class="l" href="#10083">10083: </a>                            <span class="php-var">$categories</span> = <span class="php-keyword2">array_values</span>(<span class="php-var">$this</span>-&gt;registry-&gt;call(<span class="php-quote">'Misc'</span>, <span class="php-quote">'array_unique'</span>, <span class="php-keyword1">array</span>(<span class="php-var">$categories</span>)));
</span><span id="10084" class="l"><a class="l" href="#10084">10084: </a>                        }
</span><span id="10085" class="l"><a class="l" href="#10085">10085: </a>                        <span class="php-keyword1">elseif</span> (<span class="php-keyword2">is_array</span>(<span class="php-var">$categories_parent</span>))
</span><span id="10086" class="l"><a class="l" href="#10086">10086: </a>                        {
</span><span id="10087" class="l"><a class="l" href="#10087">10087: </a>                            <span class="php-var">$categories</span> = <span class="php-keyword2">array_values</span>(<span class="php-var">$this</span>-&gt;registry-&gt;call(<span class="php-quote">'Misc'</span>, <span class="php-quote">'array_unique'</span>, <span class="php-keyword1">array</span>(<span class="php-var">$categories_parent</span>)));
</span><span id="10088" class="l"><a class="l" href="#10088">10088: </a>                        }
</span><span id="10089" class="l"><a class="l" href="#10089">10089: </a>                        <span class="php-keyword1">else</span>
</span><span id="10090" class="l"><a class="l" href="#10090">10090: </a>                        {
</span><span id="10091" class="l"><a class="l" href="#10091">10091: </a>                            <span class="php-var">$categories</span> = <span class="php-keyword1">null</span>;
</span><span id="10092" class="l"><a class="l" href="#10092">10092: </a>                        }
</span><span id="10093" class="l"><a class="l" href="#10093">10093: </a>
</span><span id="10094" class="l"><a class="l" href="#10094">10094: </a>                        <span class="php-comment">// COPYRIGHTS</span>
</span><span id="10095" class="l"><a class="l" href="#10095">10095: </a>                        <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$content</span>[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_MEDIARSS][<span class="php-quote">'copyright'</span>]))
</span><span id="10096" class="l"><a class="l" href="#10096">10096: </a>                        {
</span><span id="10097" class="l"><a class="l" href="#10097">10097: </a>                            <span class="php-var">$copyright_url</span> = <span class="php-keyword1">null</span>;
</span><span id="10098" class="l"><a class="l" href="#10098">10098: </a>                            <span class="php-var">$copyright_label</span> = <span class="php-keyword1">null</span>;
</span><span id="10099" class="l"><a class="l" href="#10099">10099: </a>                            <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$content</span>[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_MEDIARSS][<span class="php-quote">'copyright'</span>][<span class="php-num">0</span>][<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'url'</span>]))
</span><span id="10100" class="l"><a class="l" href="#10100">10100: </a>                            {
</span><span id="10101" class="l"><a class="l" href="#10101">10101: </a>                                <span class="php-var">$copyright_url</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$content</span>[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_MEDIARSS][<span class="php-quote">'copyright'</span>][<span class="php-num">0</span>][<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'url'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="10102" class="l"><a class="l" href="#10102">10102: </a>                            }
</span><span id="10103" class="l"><a class="l" href="#10103">10103: </a>                            <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$content</span>[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_MEDIARSS][<span class="php-quote">'copyright'</span>][<span class="php-num">0</span>][<span class="php-quote">'data'</span>]))
</span><span id="10104" class="l"><a class="l" href="#10104">10104: </a>                            {
</span><span id="10105" class="l"><a class="l" href="#10105">10105: </a>                                <span class="php-var">$copyright_label</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$content</span>[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_MEDIARSS][<span class="php-quote">'copyright'</span>][<span class="php-num">0</span>][<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="10106" class="l"><a class="l" href="#10106">10106: </a>                            }
</span><span id="10107" class="l"><a class="l" href="#10107">10107: </a>                            <span class="php-var">$copyrights</span> = <span class="php-var">$this</span>-&gt;registry-&gt;create(<span class="php-quote">'Copyright'</span>, <span class="php-keyword1">array</span>(<span class="php-var">$copyright_url</span>, <span class="php-var">$copyright_label</span>));
</span><span id="10108" class="l"><a class="l" href="#10108">10108: </a>                        }
</span><span id="10109" class="l"><a class="l" href="#10109">10109: </a>                        <span class="php-keyword1">else</span>
</span><span id="10110" class="l"><a class="l" href="#10110">10110: </a>                        {
</span><span id="10111" class="l"><a class="l" href="#10111">10111: </a>                            <span class="php-var">$copyrights</span> = <span class="php-var">$copyrights_parent</span>;
</span><span id="10112" class="l"><a class="l" href="#10112">10112: </a>                        }
</span><span id="10113" class="l"><a class="l" href="#10113">10113: </a>
</span><span id="10114" class="l"><a class="l" href="#10114">10114: </a>                        <span class="php-comment">// CREDITS</span>
</span><span id="10115" class="l"><a class="l" href="#10115">10115: </a>                        <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$content</span>[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_MEDIARSS][<span class="php-quote">'credit'</span>]))
</span><span id="10116" class="l"><a class="l" href="#10116">10116: </a>                        {
</span><span id="10117" class="l"><a class="l" href="#10117">10117: </a>                            <span class="php-keyword1">foreach</span> (<span class="php-var">$content</span>[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_MEDIARSS][<span class="php-quote">'credit'</span>] <span class="php-keyword1">as</span> <span class="php-var">$credit</span>)
</span><span id="10118" class="l"><a class="l" href="#10118">10118: </a>                            {
</span><span id="10119" class="l"><a class="l" href="#10119">10119: </a>                                <span class="php-var">$credit_role</span> = <span class="php-keyword1">null</span>;
</span><span id="10120" class="l"><a class="l" href="#10120">10120: </a>                                <span class="php-var">$credit_scheme</span> = <span class="php-keyword1">null</span>;
</span><span id="10121" class="l"><a class="l" href="#10121">10121: </a>                                <span class="php-var">$credit_name</span> = <span class="php-keyword1">null</span>;
</span><span id="10122" class="l"><a class="l" href="#10122">10122: </a>                                <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$credit</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'role'</span>]))
</span><span id="10123" class="l"><a class="l" href="#10123">10123: </a>                                {
</span><span id="10124" class="l"><a class="l" href="#10124">10124: </a>                                    <span class="php-var">$credit_role</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$credit</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'role'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="10125" class="l"><a class="l" href="#10125">10125: </a>                                }
</span><span id="10126" class="l"><a class="l" href="#10126">10126: </a>                                <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$credit</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'scheme'</span>]))
</span><span id="10127" class="l"><a class="l" href="#10127">10127: </a>                                {
</span><span id="10128" class="l"><a class="l" href="#10128">10128: </a>                                    <span class="php-var">$credit_scheme</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$credit</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'scheme'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="10129" class="l"><a class="l" href="#10129">10129: </a>                                }
</span><span id="10130" class="l"><a class="l" href="#10130">10130: </a>                                <span class="php-keyword1">else</span>
</span><span id="10131" class="l"><a class="l" href="#10131">10131: </a>                                {
</span><span id="10132" class="l"><a class="l" href="#10132">10132: </a>                                    <span class="php-var">$credit_scheme</span> = <span class="php-quote">'urn:ebu'</span>;
</span><span id="10133" class="l"><a class="l" href="#10133">10133: </a>                                }
</span><span id="10134" class="l"><a class="l" href="#10134">10134: </a>                                <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$credit</span>[<span class="php-quote">'data'</span>]))
</span><span id="10135" class="l"><a class="l" href="#10135">10135: </a>                                {
</span><span id="10136" class="l"><a class="l" href="#10136">10136: </a>                                    <span class="php-var">$credit_name</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$credit</span>[<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="10137" class="l"><a class="l" href="#10137">10137: </a>                                }
</span><span id="10138" class="l"><a class="l" href="#10138">10138: </a>                                <span class="php-var">$credits</span>[] = <span class="php-var">$this</span>-&gt;registry-&gt;create(<span class="php-quote">'Credit'</span>, <span class="php-keyword1">array</span>(<span class="php-var">$credit_role</span>, <span class="php-var">$credit_scheme</span>, <span class="php-var">$credit_name</span>));
</span><span id="10139" class="l"><a class="l" href="#10139">10139: </a>                            }
</span><span id="10140" class="l"><a class="l" href="#10140">10140: </a>                            <span class="php-keyword1">if</span> (<span class="php-keyword2">is_array</span>(<span class="php-var">$credits</span>))
</span><span id="10141" class="l"><a class="l" href="#10141">10141: </a>                            {
</span><span id="10142" class="l"><a class="l" href="#10142">10142: </a>                                <span class="php-var">$credits</span> = <span class="php-keyword2">array_values</span>(<span class="php-var">$this</span>-&gt;registry-&gt;call(<span class="php-quote">'Misc'</span>, <span class="php-quote">'array_unique'</span>, <span class="php-keyword1">array</span>(<span class="php-var">$credits</span>)));
</span><span id="10143" class="l"><a class="l" href="#10143">10143: </a>                            }
</span><span id="10144" class="l"><a class="l" href="#10144">10144: </a>                        }
</span><span id="10145" class="l"><a class="l" href="#10145">10145: </a>                        <span class="php-keyword1">else</span>
</span><span id="10146" class="l"><a class="l" href="#10146">10146: </a>                        {
</span><span id="10147" class="l"><a class="l" href="#10147">10147: </a>                            <span class="php-var">$credits</span> = <span class="php-var">$credits_parent</span>;
</span><span id="10148" class="l"><a class="l" href="#10148">10148: </a>                        }
</span><span id="10149" class="l"><a class="l" href="#10149">10149: </a>
</span><span id="10150" class="l"><a class="l" href="#10150">10150: </a>                        <span class="php-comment">// DESCRIPTION</span>
</span><span id="10151" class="l"><a class="l" href="#10151">10151: </a>                        <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$content</span>[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_MEDIARSS][<span class="php-quote">'description'</span>]))
</span><span id="10152" class="l"><a class="l" href="#10152">10152: </a>                        {
</span><span id="10153" class="l"><a class="l" href="#10153">10153: </a>                            <span class="php-var">$description</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$content</span>[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_MEDIARSS][<span class="php-quote">'description'</span>][<span class="php-num">0</span>][<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="10154" class="l"><a class="l" href="#10154">10154: </a>                        }
</span><span id="10155" class="l"><a class="l" href="#10155">10155: </a>                        <span class="php-keyword1">else</span>
</span><span id="10156" class="l"><a class="l" href="#10156">10156: </a>                        {
</span><span id="10157" class="l"><a class="l" href="#10157">10157: </a>                            <span class="php-var">$description</span> = <span class="php-var">$description_parent</span>;
</span><span id="10158" class="l"><a class="l" href="#10158">10158: </a>                        }
</span><span id="10159" class="l"><a class="l" href="#10159">10159: </a>
</span><span id="10160" class="l"><a class="l" href="#10160">10160: </a>                        <span class="php-comment">// HASHES</span>
</span><span id="10161" class="l"><a class="l" href="#10161">10161: </a>                        <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$content</span>[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_MEDIARSS][<span class="php-quote">'hash'</span>]))
</span><span id="10162" class="l"><a class="l" href="#10162">10162: </a>                        {
</span><span id="10163" class="l"><a class="l" href="#10163">10163: </a>                            <span class="php-keyword1">foreach</span> (<span class="php-var">$content</span>[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_MEDIARSS][<span class="php-quote">'hash'</span>] <span class="php-keyword1">as</span> <span class="php-var">$hash</span>)
</span><span id="10164" class="l"><a class="l" href="#10164">10164: </a>                            {
</span><span id="10165" class="l"><a class="l" href="#10165">10165: </a>                                <span class="php-var">$value</span> = <span class="php-keyword1">null</span>;
</span><span id="10166" class="l"><a class="l" href="#10166">10166: </a>                                <span class="php-var">$algo</span> = <span class="php-keyword1">null</span>;
</span><span id="10167" class="l"><a class="l" href="#10167">10167: </a>                                <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$hash</span>[<span class="php-quote">'data'</span>]))
</span><span id="10168" class="l"><a class="l" href="#10168">10168: </a>                                {
</span><span id="10169" class="l"><a class="l" href="#10169">10169: </a>                                    <span class="php-var">$value</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$hash</span>[<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="10170" class="l"><a class="l" href="#10170">10170: </a>                                }
</span><span id="10171" class="l"><a class="l" href="#10171">10171: </a>                                <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$hash</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'algo'</span>]))
</span><span id="10172" class="l"><a class="l" href="#10172">10172: </a>                                {
</span><span id="10173" class="l"><a class="l" href="#10173">10173: </a>                                    <span class="php-var">$algo</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$hash</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'algo'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="10174" class="l"><a class="l" href="#10174">10174: </a>                                }
</span><span id="10175" class="l"><a class="l" href="#10175">10175: </a>                                <span class="php-keyword1">else</span>
</span><span id="10176" class="l"><a class="l" href="#10176">10176: </a>                                {
</span><span id="10177" class="l"><a class="l" href="#10177">10177: </a>                                    <span class="php-var">$algo</span> = <span class="php-quote">'md5'</span>;
</span><span id="10178" class="l"><a class="l" href="#10178">10178: </a>                                }
</span><span id="10179" class="l"><a class="l" href="#10179">10179: </a>                                <span class="php-var">$hashes</span>[] = <span class="php-var">$algo</span>.<span class="php-quote">':'</span>.<span class="php-var">$value</span>;
</span><span id="10180" class="l"><a class="l" href="#10180">10180: </a>                            }
</span><span id="10181" class="l"><a class="l" href="#10181">10181: </a>                            <span class="php-keyword1">if</span> (<span class="php-keyword2">is_array</span>(<span class="php-var">$hashes</span>))
</span><span id="10182" class="l"><a class="l" href="#10182">10182: </a>                            {
</span><span id="10183" class="l"><a class="l" href="#10183">10183: </a>                                <span class="php-var">$hashes</span> = <span class="php-keyword2">array_values</span>(<span class="php-var">$this</span>-&gt;registry-&gt;call(<span class="php-quote">'Misc'</span>, <span class="php-quote">'array_unique'</span>, <span class="php-keyword1">array</span>(<span class="php-var">$hashes</span>)));
</span><span id="10184" class="l"><a class="l" href="#10184">10184: </a>                            }
</span><span id="10185" class="l"><a class="l" href="#10185">10185: </a>                        }
</span><span id="10186" class="l"><a class="l" href="#10186">10186: </a>                        <span class="php-keyword1">else</span>
</span><span id="10187" class="l"><a class="l" href="#10187">10187: </a>                        {
</span><span id="10188" class="l"><a class="l" href="#10188">10188: </a>                            <span class="php-var">$hashes</span> = <span class="php-var">$hashes_parent</span>;
</span><span id="10189" class="l"><a class="l" href="#10189">10189: </a>                        }
</span><span id="10190" class="l"><a class="l" href="#10190">10190: </a>
</span><span id="10191" class="l"><a class="l" href="#10191">10191: </a>                        <span class="php-comment">// KEYWORDS</span>
</span><span id="10192" class="l"><a class="l" href="#10192">10192: </a>                        <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$content</span>[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_MEDIARSS][<span class="php-quote">'keywords'</span>]))
</span><span id="10193" class="l"><a class="l" href="#10193">10193: </a>                        {
</span><span id="10194" class="l"><a class="l" href="#10194">10194: </a>                            <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$content</span>[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_MEDIARSS][<span class="php-quote">'keywords'</span>][<span class="php-num">0</span>][<span class="php-quote">'data'</span>]))
</span><span id="10195" class="l"><a class="l" href="#10195">10195: </a>                            {
</span><span id="10196" class="l"><a class="l" href="#10196">10196: </a>                                <span class="php-var">$temp</span> = <span class="php-keyword2">explode</span>(<span class="php-quote">','</span>, <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$content</span>[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_MEDIARSS][<span class="php-quote">'keywords'</span>][<span class="php-num">0</span>][<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_TEXT));
</span><span id="10197" class="l"><a class="l" href="#10197">10197: </a>                                <span class="php-keyword1">foreach</span> (<span class="php-var">$temp</span> <span class="php-keyword1">as</span> <span class="php-var">$word</span>)
</span><span id="10198" class="l"><a class="l" href="#10198">10198: </a>                                {
</span><span id="10199" class="l"><a class="l" href="#10199">10199: </a>                                    <span class="php-var">$keywords</span>[] = <span class="php-keyword2">trim</span>(<span class="php-var">$word</span>);
</span><span id="10200" class="l"><a class="l" href="#10200">10200: </a>                                }
</span><span id="10201" class="l"><a class="l" href="#10201">10201: </a>                                <span class="php-keyword1">unset</span>(<span class="php-var">$temp</span>);
</span><span id="10202" class="l"><a class="l" href="#10202">10202: </a>                            }
</span><span id="10203" class="l"><a class="l" href="#10203">10203: </a>                            <span class="php-keyword1">if</span> (<span class="php-keyword2">is_array</span>(<span class="php-var">$keywords</span>))
</span><span id="10204" class="l"><a class="l" href="#10204">10204: </a>                            {
</span><span id="10205" class="l"><a class="l" href="#10205">10205: </a>                                <span class="php-var">$keywords</span> = <span class="php-keyword2">array_values</span>(<span class="php-var">$this</span>-&gt;registry-&gt;call(<span class="php-quote">'Misc'</span>, <span class="php-quote">'array_unique'</span>, <span class="php-keyword1">array</span>(<span class="php-var">$keywords</span>)));
</span><span id="10206" class="l"><a class="l" href="#10206">10206: </a>                            }
</span><span id="10207" class="l"><a class="l" href="#10207">10207: </a>                        }
</span><span id="10208" class="l"><a class="l" href="#10208">10208: </a>                        <span class="php-keyword1">else</span>
</span><span id="10209" class="l"><a class="l" href="#10209">10209: </a>                        {
</span><span id="10210" class="l"><a class="l" href="#10210">10210: </a>                            <span class="php-var">$keywords</span> = <span class="php-var">$keywords_parent</span>;
</span><span id="10211" class="l"><a class="l" href="#10211">10211: </a>                        }
</span><span id="10212" class="l"><a class="l" href="#10212">10212: </a>
</span><span id="10213" class="l"><a class="l" href="#10213">10213: </a>                        <span class="php-comment">// PLAYER</span>
</span><span id="10214" class="l"><a class="l" href="#10214">10214: </a>                        <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$content</span>[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_MEDIARSS][<span class="php-quote">'player'</span>]))
</span><span id="10215" class="l"><a class="l" href="#10215">10215: </a>                        {
</span><span id="10216" class="l"><a class="l" href="#10216">10216: </a>                            <span class="php-var">$player</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$content</span>[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_MEDIARSS][<span class="php-quote">'player'</span>][<span class="php-num">0</span>][<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'url'</span>], SIMPLEPIE_CONSTRUCT_IRI);
</span><span id="10217" class="l"><a class="l" href="#10217">10217: </a>                        }
</span><span id="10218" class="l"><a class="l" href="#10218">10218: </a>                        <span class="php-keyword1">else</span>
</span><span id="10219" class="l"><a class="l" href="#10219">10219: </a>                        {
</span><span id="10220" class="l"><a class="l" href="#10220">10220: </a>                            <span class="php-var">$player</span> = <span class="php-var">$player_parent</span>;
</span><span id="10221" class="l"><a class="l" href="#10221">10221: </a>                        }
</span><span id="10222" class="l"><a class="l" href="#10222">10222: </a>
</span><span id="10223" class="l"><a class="l" href="#10223">10223: </a>                        <span class="php-comment">// RATINGS</span>
</span><span id="10224" class="l"><a class="l" href="#10224">10224: </a>                        <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$content</span>[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_MEDIARSS][<span class="php-quote">'rating'</span>]))
</span><span id="10225" class="l"><a class="l" href="#10225">10225: </a>                        {
</span><span id="10226" class="l"><a class="l" href="#10226">10226: </a>                            <span class="php-keyword1">foreach</span> (<span class="php-var">$content</span>[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_MEDIARSS][<span class="php-quote">'rating'</span>] <span class="php-keyword1">as</span> <span class="php-var">$rating</span>)
</span><span id="10227" class="l"><a class="l" href="#10227">10227: </a>                            {
</span><span id="10228" class="l"><a class="l" href="#10228">10228: </a>                                <span class="php-var">$rating_scheme</span> = <span class="php-keyword1">null</span>;
</span><span id="10229" class="l"><a class="l" href="#10229">10229: </a>                                <span class="php-var">$rating_value</span> = <span class="php-keyword1">null</span>;
</span><span id="10230" class="l"><a class="l" href="#10230">10230: </a>                                <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$rating</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'scheme'</span>]))
</span><span id="10231" class="l"><a class="l" href="#10231">10231: </a>                                {
</span><span id="10232" class="l"><a class="l" href="#10232">10232: </a>                                    <span class="php-var">$rating_scheme</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$rating</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'scheme'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="10233" class="l"><a class="l" href="#10233">10233: </a>                                }
</span><span id="10234" class="l"><a class="l" href="#10234">10234: </a>                                <span class="php-keyword1">else</span>
</span><span id="10235" class="l"><a class="l" href="#10235">10235: </a>                                {
</span><span id="10236" class="l"><a class="l" href="#10236">10236: </a>                                    <span class="php-var">$rating_scheme</span> = <span class="php-quote">'urn:simple'</span>;
</span><span id="10237" class="l"><a class="l" href="#10237">10237: </a>                                }
</span><span id="10238" class="l"><a class="l" href="#10238">10238: </a>                                <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$rating</span>[<span class="php-quote">'data'</span>]))
</span><span id="10239" class="l"><a class="l" href="#10239">10239: </a>                                {
</span><span id="10240" class="l"><a class="l" href="#10240">10240: </a>                                    <span class="php-var">$rating_value</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$rating</span>[<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="10241" class="l"><a class="l" href="#10241">10241: </a>                                }
</span><span id="10242" class="l"><a class="l" href="#10242">10242: </a>                                <span class="php-var">$ratings</span>[] = <span class="php-var">$this</span>-&gt;registry-&gt;create(<span class="php-quote">'Rating'</span>, <span class="php-keyword1">array</span>(<span class="php-var">$rating_scheme</span>, <span class="php-var">$rating_value</span>));
</span><span id="10243" class="l"><a class="l" href="#10243">10243: </a>                            }
</span><span id="10244" class="l"><a class="l" href="#10244">10244: </a>                            <span class="php-keyword1">if</span> (<span class="php-keyword2">is_array</span>(<span class="php-var">$ratings</span>))
</span><span id="10245" class="l"><a class="l" href="#10245">10245: </a>                            {
</span><span id="10246" class="l"><a class="l" href="#10246">10246: </a>                                <span class="php-var">$ratings</span> = <span class="php-keyword2">array_values</span>(<span class="php-var">$this</span>-&gt;registry-&gt;call(<span class="php-quote">'Misc'</span>, <span class="php-quote">'array_unique'</span>, <span class="php-keyword1">array</span>(<span class="php-var">$ratings</span>)));
</span><span id="10247" class="l"><a class="l" href="#10247">10247: </a>                            }
</span><span id="10248" class="l"><a class="l" href="#10248">10248: </a>                        }
</span><span id="10249" class="l"><a class="l" href="#10249">10249: </a>                        <span class="php-keyword1">else</span>
</span><span id="10250" class="l"><a class="l" href="#10250">10250: </a>                        {
</span><span id="10251" class="l"><a class="l" href="#10251">10251: </a>                            <span class="php-var">$ratings</span> = <span class="php-var">$ratings_parent</span>;
</span><span id="10252" class="l"><a class="l" href="#10252">10252: </a>                        }
</span><span id="10253" class="l"><a class="l" href="#10253">10253: </a>
</span><span id="10254" class="l"><a class="l" href="#10254">10254: </a>                        <span class="php-comment">// RESTRICTIONS</span>
</span><span id="10255" class="l"><a class="l" href="#10255">10255: </a>                        <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$content</span>[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_MEDIARSS][<span class="php-quote">'restriction'</span>]))
</span><span id="10256" class="l"><a class="l" href="#10256">10256: </a>                        {
</span><span id="10257" class="l"><a class="l" href="#10257">10257: </a>                            <span class="php-keyword1">foreach</span> (<span class="php-var">$content</span>[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_MEDIARSS][<span class="php-quote">'restriction'</span>] <span class="php-keyword1">as</span> <span class="php-var">$restriction</span>)
</span><span id="10258" class="l"><a class="l" href="#10258">10258: </a>                            {
</span><span id="10259" class="l"><a class="l" href="#10259">10259: </a>                                <span class="php-var">$restriction_relationship</span> = <span class="php-keyword1">null</span>;
</span><span id="10260" class="l"><a class="l" href="#10260">10260: </a>                                <span class="php-var">$restriction_type</span> = <span class="php-keyword1">null</span>;
</span><span id="10261" class="l"><a class="l" href="#10261">10261: </a>                                <span class="php-var">$restriction_value</span> = <span class="php-keyword1">null</span>;
</span><span id="10262" class="l"><a class="l" href="#10262">10262: </a>                                <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$restriction</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'relationship'</span>]))
</span><span id="10263" class="l"><a class="l" href="#10263">10263: </a>                                {
</span><span id="10264" class="l"><a class="l" href="#10264">10264: </a>                                    <span class="php-var">$restriction_relationship</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$restriction</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'relationship'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="10265" class="l"><a class="l" href="#10265">10265: </a>                                }
</span><span id="10266" class="l"><a class="l" href="#10266">10266: </a>                                <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$restriction</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'type'</span>]))
</span><span id="10267" class="l"><a class="l" href="#10267">10267: </a>                                {
</span><span id="10268" class="l"><a class="l" href="#10268">10268: </a>                                    <span class="php-var">$restriction_type</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$restriction</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'type'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="10269" class="l"><a class="l" href="#10269">10269: </a>                                }
</span><span id="10270" class="l"><a class="l" href="#10270">10270: </a>                                <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$restriction</span>[<span class="php-quote">'data'</span>]))
</span><span id="10271" class="l"><a class="l" href="#10271">10271: </a>                                {
</span><span id="10272" class="l"><a class="l" href="#10272">10272: </a>                                    <span class="php-var">$restriction_value</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$restriction</span>[<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="10273" class="l"><a class="l" href="#10273">10273: </a>                                }
</span><span id="10274" class="l"><a class="l" href="#10274">10274: </a>                                <span class="php-var">$restrictions</span>[] = <span class="php-var">$this</span>-&gt;registry-&gt;create(<span class="php-quote">'Restriction'</span>, <span class="php-keyword1">array</span>(<span class="php-var">$restriction_relationship</span>, <span class="php-var">$restriction_type</span>, <span class="php-var">$restriction_value</span>));
</span><span id="10275" class="l"><a class="l" href="#10275">10275: </a>                            }
</span><span id="10276" class="l"><a class="l" href="#10276">10276: </a>                            <span class="php-keyword1">if</span> (<span class="php-keyword2">is_array</span>(<span class="php-var">$restrictions</span>))
</span><span id="10277" class="l"><a class="l" href="#10277">10277: </a>                            {
</span><span id="10278" class="l"><a class="l" href="#10278">10278: </a>                                <span class="php-var">$restrictions</span> = <span class="php-keyword2">array_values</span>(<span class="php-var">$this</span>-&gt;registry-&gt;call(<span class="php-quote">'Misc'</span>, <span class="php-quote">'array_unique'</span>, <span class="php-keyword1">array</span>(<span class="php-var">$restrictions</span>)));
</span><span id="10279" class="l"><a class="l" href="#10279">10279: </a>                            }
</span><span id="10280" class="l"><a class="l" href="#10280">10280: </a>                        }
</span><span id="10281" class="l"><a class="l" href="#10281">10281: </a>                        <span class="php-keyword1">else</span>
</span><span id="10282" class="l"><a class="l" href="#10282">10282: </a>                        {
</span><span id="10283" class="l"><a class="l" href="#10283">10283: </a>                            <span class="php-var">$restrictions</span> = <span class="php-var">$restrictions_parent</span>;
</span><span id="10284" class="l"><a class="l" href="#10284">10284: </a>                        }
</span><span id="10285" class="l"><a class="l" href="#10285">10285: </a>
</span><span id="10286" class="l"><a class="l" href="#10286">10286: </a>                        <span class="php-comment">// THUMBNAILS</span>
</span><span id="10287" class="l"><a class="l" href="#10287">10287: </a>                        <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$content</span>[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_MEDIARSS][<span class="php-quote">'thumbnail'</span>]))
</span><span id="10288" class="l"><a class="l" href="#10288">10288: </a>                        {
</span><span id="10289" class="l"><a class="l" href="#10289">10289: </a>                            <span class="php-keyword1">foreach</span> (<span class="php-var">$content</span>[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_MEDIARSS][<span class="php-quote">'thumbnail'</span>] <span class="php-keyword1">as</span> <span class="php-var">$thumbnail</span>)
</span><span id="10290" class="l"><a class="l" href="#10290">10290: </a>                            {
</span><span id="10291" class="l"><a class="l" href="#10291">10291: </a>                                <span class="php-var">$thumbnails</span>[] = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$thumbnail</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'url'</span>], SIMPLEPIE_CONSTRUCT_IRI);
</span><span id="10292" class="l"><a class="l" href="#10292">10292: </a>                            }
</span><span id="10293" class="l"><a class="l" href="#10293">10293: </a>                            <span class="php-keyword1">if</span> (<span class="php-keyword2">is_array</span>(<span class="php-var">$thumbnails</span>))
</span><span id="10294" class="l"><a class="l" href="#10294">10294: </a>                            {
</span><span id="10295" class="l"><a class="l" href="#10295">10295: </a>                                <span class="php-var">$thumbnails</span> = <span class="php-keyword2">array_values</span>(<span class="php-var">$this</span>-&gt;registry-&gt;call(<span class="php-quote">'Misc'</span>, <span class="php-quote">'array_unique'</span>, <span class="php-keyword1">array</span>(<span class="php-var">$thumbnails</span>)));
</span><span id="10296" class="l"><a class="l" href="#10296">10296: </a>                            }
</span><span id="10297" class="l"><a class="l" href="#10297">10297: </a>                        }
</span><span id="10298" class="l"><a class="l" href="#10298">10298: </a>                        <span class="php-keyword1">else</span>
</span><span id="10299" class="l"><a class="l" href="#10299">10299: </a>                        {
</span><span id="10300" class="l"><a class="l" href="#10300">10300: </a>                            <span class="php-var">$thumbnails</span> = <span class="php-var">$thumbnails_parent</span>;
</span><span id="10301" class="l"><a class="l" href="#10301">10301: </a>                        }
</span><span id="10302" class="l"><a class="l" href="#10302">10302: </a>
</span><span id="10303" class="l"><a class="l" href="#10303">10303: </a>                        <span class="php-comment">// TITLES</span>
</span><span id="10304" class="l"><a class="l" href="#10304">10304: </a>                        <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$content</span>[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_MEDIARSS][<span class="php-quote">'title'</span>]))
</span><span id="10305" class="l"><a class="l" href="#10305">10305: </a>                        {
</span><span id="10306" class="l"><a class="l" href="#10306">10306: </a>                            <span class="php-var">$title</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$content</span>[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_MEDIARSS][<span class="php-quote">'title'</span>][<span class="php-num">0</span>][<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="10307" class="l"><a class="l" href="#10307">10307: </a>                        }
</span><span id="10308" class="l"><a class="l" href="#10308">10308: </a>                        <span class="php-keyword1">else</span>
</span><span id="10309" class="l"><a class="l" href="#10309">10309: </a>                        {
</span><span id="10310" class="l"><a class="l" href="#10310">10310: </a>                            <span class="php-var">$title</span> = <span class="php-var">$title_parent</span>;
</span><span id="10311" class="l"><a class="l" href="#10311">10311: </a>                        }
</span><span id="10312" class="l"><a class="l" href="#10312">10312: </a>
</span><span id="10313" class="l"><a class="l" href="#10313">10313: </a>                        <span class="php-var">$this</span>-&gt;data[<span class="php-quote">'enclosures'</span>][] = <span class="php-var">$this</span>-&gt;registry-&gt;create(<span class="php-quote">'Enclosure'</span>, <span class="php-keyword1">array</span>(<span class="php-var">$url</span>, <span class="php-var">$type</span>, <span class="php-var">$length</span>, <span class="php-keyword1">null</span>, <span class="php-var">$bitrate</span>, <span class="php-var">$captions</span>, <span class="php-var">$categories</span>, <span class="php-var">$channels</span>, <span class="php-var">$copyrights</span>, <span class="php-var">$credits</span>, <span class="php-var">$description</span>, <span class="php-var">$duration</span>, <span class="php-var">$expression</span>, <span class="php-var">$framerate</span>, <span class="php-var">$hashes</span>, <span class="php-var">$height</span>, <span class="php-var">$keywords</span>, <span class="php-var">$lang</span>, <span class="php-var">$medium</span>, <span class="php-var">$player</span>, <span class="php-var">$ratings</span>, <span class="php-var">$restrictions</span>, <span class="php-var">$samplingrate</span>, <span class="php-var">$thumbnails</span>, <span class="php-var">$title</span>, <span class="php-var">$width</span>));
</span><span id="10314" class="l"><a class="l" href="#10314">10314: </a>                    }
</span><span id="10315" class="l"><a class="l" href="#10315">10315: </a>                }
</span><span id="10316" class="l"><a class="l" href="#10316">10316: </a>            }
</span><span id="10317" class="l"><a class="l" href="#10317">10317: </a>
</span><span id="10318" class="l"><a class="l" href="#10318">10318: </a>            <span class="php-keyword1">foreach</span> ((<span class="php-keyword1">array</span>) <span class="php-var">$this</span>-&gt;get_item_tags(SIMPLEPIE_NAMESPACE_ATOM_10, <span class="php-quote">'link'</span>) <span class="php-keyword1">as</span> <span class="php-var">$link</span>)
</span><span id="10319" class="l"><a class="l" href="#10319">10319: </a>            {
</span><span id="10320" class="l"><a class="l" href="#10320">10320: </a>                <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$link</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'href'</span>]) &amp;&amp; !<span class="php-keyword1">empty</span>(<span class="php-var">$link</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'rel'</span>]) &amp;&amp; <span class="php-var">$link</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'rel'</span>] === <span class="php-quote">'enclosure'</span>)
</span><span id="10321" class="l"><a class="l" href="#10321">10321: </a>                {
</span><span id="10322" class="l"><a class="l" href="#10322">10322: </a>                    <span class="php-comment">// Attributes</span>
</span><span id="10323" class="l"><a class="l" href="#10323">10323: </a>                    <span class="php-var">$bitrate</span> = <span class="php-keyword1">null</span>;
</span><span id="10324" class="l"><a class="l" href="#10324">10324: </a>                    <span class="php-var">$channels</span> = <span class="php-keyword1">null</span>;
</span><span id="10325" class="l"><a class="l" href="#10325">10325: </a>                    <span class="php-var">$duration</span> = <span class="php-keyword1">null</span>;
</span><span id="10326" class="l"><a class="l" href="#10326">10326: </a>                    <span class="php-var">$expression</span> = <span class="php-keyword1">null</span>;
</span><span id="10327" class="l"><a class="l" href="#10327">10327: </a>                    <span class="php-var">$framerate</span> = <span class="php-keyword1">null</span>;
</span><span id="10328" class="l"><a class="l" href="#10328">10328: </a>                    <span class="php-var">$height</span> = <span class="php-keyword1">null</span>;
</span><span id="10329" class="l"><a class="l" href="#10329">10329: </a>                    <span class="php-var">$javascript</span> = <span class="php-keyword1">null</span>;
</span><span id="10330" class="l"><a class="l" href="#10330">10330: </a>                    <span class="php-var">$lang</span> = <span class="php-keyword1">null</span>;
</span><span id="10331" class="l"><a class="l" href="#10331">10331: </a>                    <span class="php-var">$length</span> = <span class="php-keyword1">null</span>;
</span><span id="10332" class="l"><a class="l" href="#10332">10332: </a>                    <span class="php-var">$medium</span> = <span class="php-keyword1">null</span>;
</span><span id="10333" class="l"><a class="l" href="#10333">10333: </a>                    <span class="php-var">$samplingrate</span> = <span class="php-keyword1">null</span>;
</span><span id="10334" class="l"><a class="l" href="#10334">10334: </a>                    <span class="php-var">$type</span> = <span class="php-keyword1">null</span>;
</span><span id="10335" class="l"><a class="l" href="#10335">10335: </a>                    <span class="php-var">$url</span> = <span class="php-keyword1">null</span>;
</span><span id="10336" class="l"><a class="l" href="#10336">10336: </a>                    <span class="php-var">$width</span> = <span class="php-keyword1">null</span>;
</span><span id="10337" class="l"><a class="l" href="#10337">10337: </a>
</span><span id="10338" class="l"><a class="l" href="#10338">10338: </a>                    <span class="php-var">$url</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$link</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'href'</span>], SIMPLEPIE_CONSTRUCT_IRI, <span class="php-var">$this</span>-&gt;get_base(<span class="php-var">$link</span>));
</span><span id="10339" class="l"><a class="l" href="#10339">10339: </a>                    <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$link</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'type'</span>]))
</span><span id="10340" class="l"><a class="l" href="#10340">10340: </a>                    {
</span><span id="10341" class="l"><a class="l" href="#10341">10341: </a>                        <span class="php-var">$type</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$link</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'type'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="10342" class="l"><a class="l" href="#10342">10342: </a>                    }
</span><span id="10343" class="l"><a class="l" href="#10343">10343: </a>                    <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$link</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'length'</span>]))
</span><span id="10344" class="l"><a class="l" href="#10344">10344: </a>                    {
</span><span id="10345" class="l"><a class="l" href="#10345">10345: </a>                        <span class="php-var">$length</span> = <span class="php-keyword2">ceil</span>(<span class="php-var">$link</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'length'</span>]);
</span><span id="10346" class="l"><a class="l" href="#10346">10346: </a>                    }
</span><span id="10347" class="l"><a class="l" href="#10347">10347: </a>
</span><span id="10348" class="l"><a class="l" href="#10348">10348: </a>                    <span class="php-comment">// Since we don't have group or content for these, we'll just pass the '*_parent' variables directly to the constructor</span>
</span><span id="10349" class="l"><a class="l" href="#10349">10349: </a>                    <span class="php-var">$this</span>-&gt;data[<span class="php-quote">'enclosures'</span>][] = <span class="php-var">$this</span>-&gt;registry-&gt;create(<span class="php-quote">'Enclosure'</span>, <span class="php-keyword1">array</span>(<span class="php-var">$url</span>, <span class="php-var">$type</span>, <span class="php-var">$length</span>, <span class="php-keyword1">null</span>, <span class="php-var">$bitrate</span>, <span class="php-var">$captions_parent</span>, <span class="php-var">$categories_parent</span>, <span class="php-var">$channels</span>, <span class="php-var">$copyrights_parent</span>, <span class="php-var">$credits_parent</span>, <span class="php-var">$description_parent</span>, <span class="php-var">$duration_parent</span>, <span class="php-var">$expression</span>, <span class="php-var">$framerate</span>, <span class="php-var">$hashes_parent</span>, <span class="php-var">$height</span>, <span class="php-var">$keywords_parent</span>, <span class="php-var">$lang</span>, <span class="php-var">$medium</span>, <span class="php-var">$player_parent</span>, <span class="php-var">$ratings_parent</span>, <span class="php-var">$restrictions_parent</span>, <span class="php-var">$samplingrate</span>, <span class="php-var">$thumbnails_parent</span>, <span class="php-var">$title_parent</span>, <span class="php-var">$width</span>));
</span><span id="10350" class="l"><a class="l" href="#10350">10350: </a>                }
</span><span id="10351" class="l"><a class="l" href="#10351">10351: </a>            }
</span><span id="10352" class="l"><a class="l" href="#10352">10352: </a>
</span><span id="10353" class="l"><a class="l" href="#10353">10353: </a>            <span class="php-keyword1">foreach</span> ((<span class="php-keyword1">array</span>) <span class="php-var">$this</span>-&gt;get_item_tags(SIMPLEPIE_NAMESPACE_ATOM_03, <span class="php-quote">'link'</span>) <span class="php-keyword1">as</span> <span class="php-var">$link</span>)
</span><span id="10354" class="l"><a class="l" href="#10354">10354: </a>            {
</span><span id="10355" class="l"><a class="l" href="#10355">10355: </a>                <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$link</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'href'</span>]) &amp;&amp; !<span class="php-keyword1">empty</span>(<span class="php-var">$link</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'rel'</span>]) &amp;&amp; <span class="php-var">$link</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'rel'</span>] === <span class="php-quote">'enclosure'</span>)
</span><span id="10356" class="l"><a class="l" href="#10356">10356: </a>                {
</span><span id="10357" class="l"><a class="l" href="#10357">10357: </a>                    <span class="php-comment">// Attributes</span>
</span><span id="10358" class="l"><a class="l" href="#10358">10358: </a>                    <span class="php-var">$bitrate</span> = <span class="php-keyword1">null</span>;
</span><span id="10359" class="l"><a class="l" href="#10359">10359: </a>                    <span class="php-var">$channels</span> = <span class="php-keyword1">null</span>;
</span><span id="10360" class="l"><a class="l" href="#10360">10360: </a>                    <span class="php-var">$duration</span> = <span class="php-keyword1">null</span>;
</span><span id="10361" class="l"><a class="l" href="#10361">10361: </a>                    <span class="php-var">$expression</span> = <span class="php-keyword1">null</span>;
</span><span id="10362" class="l"><a class="l" href="#10362">10362: </a>                    <span class="php-var">$framerate</span> = <span class="php-keyword1">null</span>;
</span><span id="10363" class="l"><a class="l" href="#10363">10363: </a>                    <span class="php-var">$height</span> = <span class="php-keyword1">null</span>;
</span><span id="10364" class="l"><a class="l" href="#10364">10364: </a>                    <span class="php-var">$javascript</span> = <span class="php-keyword1">null</span>;
</span><span id="10365" class="l"><a class="l" href="#10365">10365: </a>                    <span class="php-var">$lang</span> = <span class="php-keyword1">null</span>;
</span><span id="10366" class="l"><a class="l" href="#10366">10366: </a>                    <span class="php-var">$length</span> = <span class="php-keyword1">null</span>;
</span><span id="10367" class="l"><a class="l" href="#10367">10367: </a>                    <span class="php-var">$medium</span> = <span class="php-keyword1">null</span>;
</span><span id="10368" class="l"><a class="l" href="#10368">10368: </a>                    <span class="php-var">$samplingrate</span> = <span class="php-keyword1">null</span>;
</span><span id="10369" class="l"><a class="l" href="#10369">10369: </a>                    <span class="php-var">$type</span> = <span class="php-keyword1">null</span>;
</span><span id="10370" class="l"><a class="l" href="#10370">10370: </a>                    <span class="php-var">$url</span> = <span class="php-keyword1">null</span>;
</span><span id="10371" class="l"><a class="l" href="#10371">10371: </a>                    <span class="php-var">$width</span> = <span class="php-keyword1">null</span>;
</span><span id="10372" class="l"><a class="l" href="#10372">10372: </a>
</span><span id="10373" class="l"><a class="l" href="#10373">10373: </a>                    <span class="php-var">$url</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$link</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'href'</span>], SIMPLEPIE_CONSTRUCT_IRI, <span class="php-var">$this</span>-&gt;get_base(<span class="php-var">$link</span>));
</span><span id="10374" class="l"><a class="l" href="#10374">10374: </a>                    <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$link</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'type'</span>]))
</span><span id="10375" class="l"><a class="l" href="#10375">10375: </a>                    {
</span><span id="10376" class="l"><a class="l" href="#10376">10376: </a>                        <span class="php-var">$type</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$link</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'type'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="10377" class="l"><a class="l" href="#10377">10377: </a>                    }
</span><span id="10378" class="l"><a class="l" href="#10378">10378: </a>                    <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$link</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'length'</span>]))
</span><span id="10379" class="l"><a class="l" href="#10379">10379: </a>                    {
</span><span id="10380" class="l"><a class="l" href="#10380">10380: </a>                        <span class="php-var">$length</span> = <span class="php-keyword2">ceil</span>(<span class="php-var">$link</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'length'</span>]);
</span><span id="10381" class="l"><a class="l" href="#10381">10381: </a>                    }
</span><span id="10382" class="l"><a class="l" href="#10382">10382: </a>
</span><span id="10383" class="l"><a class="l" href="#10383">10383: </a>                    <span class="php-comment">// Since we don't have group or content for these, we'll just pass the '*_parent' variables directly to the constructor</span>
</span><span id="10384" class="l"><a class="l" href="#10384">10384: </a>                    <span class="php-var">$this</span>-&gt;data[<span class="php-quote">'enclosures'</span>][] = <span class="php-var">$this</span>-&gt;registry-&gt;create(<span class="php-quote">'Enclosure'</span>, <span class="php-keyword1">array</span>(<span class="php-var">$url</span>, <span class="php-var">$type</span>, <span class="php-var">$length</span>, <span class="php-keyword1">null</span>, <span class="php-var">$bitrate</span>, <span class="php-var">$captions_parent</span>, <span class="php-var">$categories_parent</span>, <span class="php-var">$channels</span>, <span class="php-var">$copyrights_parent</span>, <span class="php-var">$credits_parent</span>, <span class="php-var">$description_parent</span>, <span class="php-var">$duration_parent</span>, <span class="php-var">$expression</span>, <span class="php-var">$framerate</span>, <span class="php-var">$hashes_parent</span>, <span class="php-var">$height</span>, <span class="php-var">$keywords_parent</span>, <span class="php-var">$lang</span>, <span class="php-var">$medium</span>, <span class="php-var">$player_parent</span>, <span class="php-var">$ratings_parent</span>, <span class="php-var">$restrictions_parent</span>, <span class="php-var">$samplingrate</span>, <span class="php-var">$thumbnails_parent</span>, <span class="php-var">$title_parent</span>, <span class="php-var">$width</span>));
</span><span id="10385" class="l"><a class="l" href="#10385">10385: </a>                }
</span><span id="10386" class="l"><a class="l" href="#10386">10386: </a>            }
</span><span id="10387" class="l"><a class="l" href="#10387">10387: </a>
</span><span id="10388" class="l"><a class="l" href="#10388">10388: </a>            <span class="php-keyword1">if</span> (<span class="php-var">$enclosure</span> = <span class="php-var">$this</span>-&gt;get_item_tags(SIMPLEPIE_NAMESPACE_RSS_20, <span class="php-quote">'enclosure'</span>))
</span><span id="10389" class="l"><a class="l" href="#10389">10389: </a>            {
</span><span id="10390" class="l"><a class="l" href="#10390">10390: </a>                <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$enclosure</span>[<span class="php-num">0</span>][<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'url'</span>]))
</span><span id="10391" class="l"><a class="l" href="#10391">10391: </a>                {
</span><span id="10392" class="l"><a class="l" href="#10392">10392: </a>                    <span class="php-comment">// Attributes</span>
</span><span id="10393" class="l"><a class="l" href="#10393">10393: </a>                    <span class="php-var">$bitrate</span> = <span class="php-keyword1">null</span>;
</span><span id="10394" class="l"><a class="l" href="#10394">10394: </a>                    <span class="php-var">$channels</span> = <span class="php-keyword1">null</span>;
</span><span id="10395" class="l"><a class="l" href="#10395">10395: </a>                    <span class="php-var">$duration</span> = <span class="php-keyword1">null</span>;
</span><span id="10396" class="l"><a class="l" href="#10396">10396: </a>                    <span class="php-var">$expression</span> = <span class="php-keyword1">null</span>;
</span><span id="10397" class="l"><a class="l" href="#10397">10397: </a>                    <span class="php-var">$framerate</span> = <span class="php-keyword1">null</span>;
</span><span id="10398" class="l"><a class="l" href="#10398">10398: </a>                    <span class="php-var">$height</span> = <span class="php-keyword1">null</span>;
</span><span id="10399" class="l"><a class="l" href="#10399">10399: </a>                    <span class="php-var">$javascript</span> = <span class="php-keyword1">null</span>;
</span><span id="10400" class="l"><a class="l" href="#10400">10400: </a>                    <span class="php-var">$lang</span> = <span class="php-keyword1">null</span>;
</span><span id="10401" class="l"><a class="l" href="#10401">10401: </a>                    <span class="php-var">$length</span> = <span class="php-keyword1">null</span>;
</span><span id="10402" class="l"><a class="l" href="#10402">10402: </a>                    <span class="php-var">$medium</span> = <span class="php-keyword1">null</span>;
</span><span id="10403" class="l"><a class="l" href="#10403">10403: </a>                    <span class="php-var">$samplingrate</span> = <span class="php-keyword1">null</span>;
</span><span id="10404" class="l"><a class="l" href="#10404">10404: </a>                    <span class="php-var">$type</span> = <span class="php-keyword1">null</span>;
</span><span id="10405" class="l"><a class="l" href="#10405">10405: </a>                    <span class="php-var">$url</span> = <span class="php-keyword1">null</span>;
</span><span id="10406" class="l"><a class="l" href="#10406">10406: </a>                    <span class="php-var">$width</span> = <span class="php-keyword1">null</span>;
</span><span id="10407" class="l"><a class="l" href="#10407">10407: </a>
</span><span id="10408" class="l"><a class="l" href="#10408">10408: </a>                    <span class="php-var">$url</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$enclosure</span>[<span class="php-num">0</span>][<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'url'</span>], SIMPLEPIE_CONSTRUCT_IRI, <span class="php-var">$this</span>-&gt;get_base(<span class="php-var">$enclosure</span>[<span class="php-num">0</span>]));
</span><span id="10409" class="l"><a class="l" href="#10409">10409: </a>                    <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$enclosure</span>[<span class="php-num">0</span>][<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'type'</span>]))
</span><span id="10410" class="l"><a class="l" href="#10410">10410: </a>                    {
</span><span id="10411" class="l"><a class="l" href="#10411">10411: </a>                        <span class="php-var">$type</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$enclosure</span>[<span class="php-num">0</span>][<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'type'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="10412" class="l"><a class="l" href="#10412">10412: </a>                    }
</span><span id="10413" class="l"><a class="l" href="#10413">10413: </a>                    <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$enclosure</span>[<span class="php-num">0</span>][<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'length'</span>]))
</span><span id="10414" class="l"><a class="l" href="#10414">10414: </a>                    {
</span><span id="10415" class="l"><a class="l" href="#10415">10415: </a>                        <span class="php-var">$length</span> = <span class="php-keyword2">ceil</span>(<span class="php-var">$enclosure</span>[<span class="php-num">0</span>][<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'length'</span>]);
</span><span id="10416" class="l"><a class="l" href="#10416">10416: </a>                    }
</span><span id="10417" class="l"><a class="l" href="#10417">10417: </a>
</span><span id="10418" class="l"><a class="l" href="#10418">10418: </a>                    <span class="php-comment">// Since we don't have group or content for these, we'll just pass the '*_parent' variables directly to the constructor</span>
</span><span id="10419" class="l"><a class="l" href="#10419">10419: </a>                    <span class="php-var">$this</span>-&gt;data[<span class="php-quote">'enclosures'</span>][] = <span class="php-var">$this</span>-&gt;registry-&gt;create(<span class="php-quote">'Enclosure'</span>, <span class="php-keyword1">array</span>(<span class="php-var">$url</span>, <span class="php-var">$type</span>, <span class="php-var">$length</span>, <span class="php-keyword1">null</span>, <span class="php-var">$bitrate</span>, <span class="php-var">$captions_parent</span>, <span class="php-var">$categories_parent</span>, <span class="php-var">$channels</span>, <span class="php-var">$copyrights_parent</span>, <span class="php-var">$credits_parent</span>, <span class="php-var">$description_parent</span>, <span class="php-var">$duration_parent</span>, <span class="php-var">$expression</span>, <span class="php-var">$framerate</span>, <span class="php-var">$hashes_parent</span>, <span class="php-var">$height</span>, <span class="php-var">$keywords_parent</span>, <span class="php-var">$lang</span>, <span class="php-var">$medium</span>, <span class="php-var">$player_parent</span>, <span class="php-var">$ratings_parent</span>, <span class="php-var">$restrictions_parent</span>, <span class="php-var">$samplingrate</span>, <span class="php-var">$thumbnails_parent</span>, <span class="php-var">$title_parent</span>, <span class="php-var">$width</span>));
</span><span id="10420" class="l"><a class="l" href="#10420">10420: </a>                }
</span><span id="10421" class="l"><a class="l" href="#10421">10421: </a>            }
</span><span id="10422" class="l"><a class="l" href="#10422">10422: </a>
</span><span id="10423" class="l"><a class="l" href="#10423">10423: </a>            <span class="php-keyword1">if</span> (<span class="php-keyword2">sizeof</span>(<span class="php-var">$this</span>-&gt;data[<span class="php-quote">'enclosures'</span>]) === <span class="php-num">0</span> &amp;&amp; (<span class="php-var">$url</span> || <span class="php-var">$type</span> || <span class="php-var">$length</span> || <span class="php-var">$bitrate</span> || <span class="php-var">$captions_parent</span> || <span class="php-var">$categories_parent</span> || <span class="php-var">$channels</span> || <span class="php-var">$copyrights_parent</span> || <span class="php-var">$credits_parent</span> || <span class="php-var">$description_parent</span> || <span class="php-var">$duration_parent</span> || <span class="php-var">$expression</span> || <span class="php-var">$framerate</span> || <span class="php-var">$hashes_parent</span> || <span class="php-var">$height</span> || <span class="php-var">$keywords_parent</span> || <span class="php-var">$lang</span> || <span class="php-var">$medium</span> || <span class="php-var">$player_parent</span> || <span class="php-var">$ratings_parent</span> || <span class="php-var">$restrictions_parent</span> || <span class="php-var">$samplingrate</span> || <span class="php-var">$thumbnails_parent</span> || <span class="php-var">$title_parent</span> || <span class="php-var">$width</span>))
</span><span id="10424" class="l"><a class="l" href="#10424">10424: </a>            {
</span><span id="10425" class="l"><a class="l" href="#10425">10425: </a>                <span class="php-comment">// Since we don't have group or content for these, we'll just pass the '*_parent' variables directly to the constructor</span>
</span><span id="10426" class="l"><a class="l" href="#10426">10426: </a>                <span class="php-var">$this</span>-&gt;data[<span class="php-quote">'enclosures'</span>][] = <span class="php-var">$this</span>-&gt;registry-&gt;create(<span class="php-quote">'Enclosure'</span>, <span class="php-keyword1">array</span>(<span class="php-var">$url</span>, <span class="php-var">$type</span>, <span class="php-var">$length</span>, <span class="php-keyword1">null</span>, <span class="php-var">$bitrate</span>, <span class="php-var">$captions_parent</span>, <span class="php-var">$categories_parent</span>, <span class="php-var">$channels</span>, <span class="php-var">$copyrights_parent</span>, <span class="php-var">$credits_parent</span>, <span class="php-var">$description_parent</span>, <span class="php-var">$duration_parent</span>, <span class="php-var">$expression</span>, <span class="php-var">$framerate</span>, <span class="php-var">$hashes_parent</span>, <span class="php-var">$height</span>, <span class="php-var">$keywords_parent</span>, <span class="php-var">$lang</span>, <span class="php-var">$medium</span>, <span class="php-var">$player_parent</span>, <span class="php-var">$ratings_parent</span>, <span class="php-var">$restrictions_parent</span>, <span class="php-var">$samplingrate</span>, <span class="php-var">$thumbnails_parent</span>, <span class="php-var">$title_parent</span>, <span class="php-var">$width</span>));
</span><span id="10427" class="l"><a class="l" href="#10427">10427: </a>            }
</span><span id="10428" class="l"><a class="l" href="#10428">10428: </a>
</span><span id="10429" class="l"><a class="l" href="#10429">10429: </a>            <span class="php-var">$this</span>-&gt;data[<span class="php-quote">'enclosures'</span>] = <span class="php-keyword2">array_values</span>(<span class="php-var">$this</span>-&gt;registry-&gt;call(<span class="php-quote">'Misc'</span>, <span class="php-quote">'array_unique'</span>, <span class="php-keyword1">array</span>(<span class="php-var">$this</span>-&gt;data[<span class="php-quote">'enclosures'</span>])));
</span><span id="10430" class="l"><a class="l" href="#10430">10430: </a>        }
</span><span id="10431" class="l"><a class="l" href="#10431">10431: </a>        <span class="php-keyword1">if</span> (!<span class="php-keyword1">empty</span>(<span class="php-var">$this</span>-&gt;data[<span class="php-quote">'enclosures'</span>]))
</span><span id="10432" class="l"><a class="l" href="#10432">10432: </a>        {
</span><span id="10433" class="l"><a class="l" href="#10433">10433: </a>            <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;data[<span class="php-quote">'enclosures'</span>];
</span><span id="10434" class="l"><a class="l" href="#10434">10434: </a>        }
</span><span id="10435" class="l"><a class="l" href="#10435">10435: </a>        <span class="php-keyword1">else</span>
</span><span id="10436" class="l"><a class="l" href="#10436">10436: </a>        {
</span><span id="10437" class="l"><a class="l" href="#10437">10437: </a>            <span class="php-keyword1">return</span> <span class="php-keyword1">null</span>;
</span><span id="10438" class="l"><a class="l" href="#10438">10438: </a>        }
</span><span id="10439" class="l"><a class="l" href="#10439">10439: </a>    }
</span><span id="10440" class="l"><a class="l" href="#10440">10440: </a>
</span><span id="10441" class="l"><a class="l" href="#10441">10441: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_get_latitude" href="#_get_latitude">get_latitude</a>()
</span><span id="10442" class="l"><a class="l" href="#10442">10442: </a>    {
</span><span id="10443" class="l"><a class="l" href="#10443">10443: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$return</span> = <span class="php-var">$this</span>-&gt;get_item_tags(SIMPLEPIE_NAMESPACE_W3C_BASIC_GEO, <span class="php-quote">'lat'</span>))
</span><span id="10444" class="l"><a class="l" href="#10444">10444: </a>        {
</span><span id="10445" class="l"><a class="l" href="#10445">10445: </a>            <span class="php-keyword1">return</span> (float) <span class="php-var">$return</span>[<span class="php-num">0</span>][<span class="php-quote">'data'</span>];
</span><span id="10446" class="l"><a class="l" href="#10446">10446: </a>        }
</span><span id="10447" class="l"><a class="l" href="#10447">10447: </a>        <span class="php-keyword1">elseif</span> ((<span class="php-var">$return</span> = <span class="php-var">$this</span>-&gt;get_item_tags(SIMPLEPIE_NAMESPACE_GEORSS, <span class="php-quote">'point'</span>)) &amp;&amp; <span class="php-keyword2">preg_match</span>(<span class="php-quote">'/^((?:-)?[0-9]+(?:\.[0-9]+)) ((?:-)?[0-9]+(?:\.[0-9]+))$/'</span>, <span class="php-keyword2">trim</span>(<span class="php-var">$return</span>[<span class="php-num">0</span>][<span class="php-quote">'data'</span>]), <span class="php-var">$match</span>))
</span><span id="10448" class="l"><a class="l" href="#10448">10448: </a>        {
</span><span id="10449" class="l"><a class="l" href="#10449">10449: </a>            <span class="php-keyword1">return</span> (float) <span class="php-var">$match</span>[<span class="php-num">1</span>];
</span><span id="10450" class="l"><a class="l" href="#10450">10450: </a>        }
</span><span id="10451" class="l"><a class="l" href="#10451">10451: </a>        <span class="php-keyword1">else</span>
</span><span id="10452" class="l"><a class="l" href="#10452">10452: </a>        {
</span><span id="10453" class="l"><a class="l" href="#10453">10453: </a>            <span class="php-keyword1">return</span> <span class="php-keyword1">null</span>;
</span><span id="10454" class="l"><a class="l" href="#10454">10454: </a>        }
</span><span id="10455" class="l"><a class="l" href="#10455">10455: </a>    }
</span><span id="10456" class="l"><a class="l" href="#10456">10456: </a>
</span><span id="10457" class="l"><a class="l" href="#10457">10457: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_get_longitude" href="#_get_longitude">get_longitude</a>()
</span><span id="10458" class="l"><a class="l" href="#10458">10458: </a>    {
</span><span id="10459" class="l"><a class="l" href="#10459">10459: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$return</span> = <span class="php-var">$this</span>-&gt;get_item_tags(SIMPLEPIE_NAMESPACE_W3C_BASIC_GEO, <span class="php-quote">'long'</span>))
</span><span id="10460" class="l"><a class="l" href="#10460">10460: </a>        {
</span><span id="10461" class="l"><a class="l" href="#10461">10461: </a>            <span class="php-keyword1">return</span> (float) <span class="php-var">$return</span>[<span class="php-num">0</span>][<span class="php-quote">'data'</span>];
</span><span id="10462" class="l"><a class="l" href="#10462">10462: </a>        }
</span><span id="10463" class="l"><a class="l" href="#10463">10463: </a>        <span class="php-keyword1">elseif</span> (<span class="php-var">$return</span> = <span class="php-var">$this</span>-&gt;get_item_tags(SIMPLEPIE_NAMESPACE_W3C_BASIC_GEO, <span class="php-quote">'lon'</span>))
</span><span id="10464" class="l"><a class="l" href="#10464">10464: </a>        {
</span><span id="10465" class="l"><a class="l" href="#10465">10465: </a>            <span class="php-keyword1">return</span> (float) <span class="php-var">$return</span>[<span class="php-num">0</span>][<span class="php-quote">'data'</span>];
</span><span id="10466" class="l"><a class="l" href="#10466">10466: </a>        }
</span><span id="10467" class="l"><a class="l" href="#10467">10467: </a>        <span class="php-keyword1">elseif</span> ((<span class="php-var">$return</span> = <span class="php-var">$this</span>-&gt;get_item_tags(SIMPLEPIE_NAMESPACE_GEORSS, <span class="php-quote">'point'</span>)) &amp;&amp; <span class="php-keyword2">preg_match</span>(<span class="php-quote">'/^((?:-)?[0-9]+(?:\.[0-9]+)) ((?:-)?[0-9]+(?:\.[0-9]+))$/'</span>, <span class="php-keyword2">trim</span>(<span class="php-var">$return</span>[<span class="php-num">0</span>][<span class="php-quote">'data'</span>]), <span class="php-var">$match</span>))
</span><span id="10468" class="l"><a class="l" href="#10468">10468: </a>        {
</span><span id="10469" class="l"><a class="l" href="#10469">10469: </a>            <span class="php-keyword1">return</span> (float) <span class="php-var">$match</span>[<span class="php-num">2</span>];
</span><span id="10470" class="l"><a class="l" href="#10470">10470: </a>        }
</span><span id="10471" class="l"><a class="l" href="#10471">10471: </a>        <span class="php-keyword1">else</span>
</span><span id="10472" class="l"><a class="l" href="#10472">10472: </a>        {
</span><span id="10473" class="l"><a class="l" href="#10473">10473: </a>            <span class="php-keyword1">return</span> <span class="php-keyword1">null</span>;
</span><span id="10474" class="l"><a class="l" href="#10474">10474: </a>        }
</span><span id="10475" class="l"><a class="l" href="#10475">10475: </a>    }
</span><span id="10476" class="l"><a class="l" href="#10476">10476: </a>
</span><span id="10477" class="l"><a class="l" href="#10477">10477: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_get_source" href="#_get_source">get_source</a>()
</span><span id="10478" class="l"><a class="l" href="#10478">10478: </a>    {
</span><span id="10479" class="l"><a class="l" href="#10479">10479: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$return</span> = <span class="php-var">$this</span>-&gt;get_item_tags(SIMPLEPIE_NAMESPACE_ATOM_10, <span class="php-quote">'source'</span>))
</span><span id="10480" class="l"><a class="l" href="#10480">10480: </a>        {
</span><span id="10481" class="l"><a class="l" href="#10481">10481: </a>            <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;registry-&gt;create(<span class="php-quote">'Source'</span>, <span class="php-keyword1">array</span>(<span class="php-var">$this</span>, <span class="php-var">$return</span>[<span class="php-num">0</span>]));
</span><span id="10482" class="l"><a class="l" href="#10482">10482: </a>        }
</span><span id="10483" class="l"><a class="l" href="#10483">10483: </a>        <span class="php-keyword1">else</span>
</span><span id="10484" class="l"><a class="l" href="#10484">10484: </a>        {
</span><span id="10485" class="l"><a class="l" href="#10485">10485: </a>            <span class="php-keyword1">return</span> <span class="php-keyword1">null</span>;
</span><span id="10486" class="l"><a class="l" href="#10486">10486: </a>        }
</span><span id="10487" class="l"><a class="l" href="#10487">10487: </a>    }
</span><span id="10488" class="l"><a class="l" href="#10488">10488: </a>}
</span><span id="10489" class="l"><a class="l" href="#10489">10489: </a>
</span><span id="10490" class="l"><a class="l" href="#10490">10490: </a><span class="php-comment">/**
</span></span><span id="10491" class="l"><a class="l" href="#10491">10491: </a><span class="php-comment"> * Used for feed auto-discovery
</span></span><span id="10492" class="l"><a class="l" href="#10492">10492: </a><span class="php-comment"> *
</span></span><span id="10493" class="l"><a class="l" href="#10493">10493: </a><span class="php-comment"> *
</span></span><span id="10494" class="l"><a class="l" href="#10494">10494: </a><span class="php-comment"> * This class can be overloaded with {@see SimplePie::set_locator_class()}
</span></span><span id="10495" class="l"><a class="l" href="#10495">10495: </a><span class="php-comment"> *
</span></span><span id="10496" class="l"><a class="l" href="#10496">10496: </a><span class="php-comment"> * @package SimplePie
</span></span><span id="10497" class="l"><a class="l" href="#10497">10497: </a><span class="php-comment"> */</span>
</span><span id="10498" class="l"><a class="l" href="#10498">10498: </a><span class="php-keyword1">class</span> <a id="SimplePie_Locator" href="#SimplePie_Locator">SimplePie_Locator</a>
</span><span id="10499" class="l"><a class="l" href="#10499">10499: </a>{
</span><span id="10500" class="l"><a class="l" href="#10500">10500: </a>    <span class="php-keyword1">var</span> <span class="php-var"><a id="$useragent" href="#$useragent">$useragent</a></span>;
</span><span id="10501" class="l"><a class="l" href="#10501">10501: </a>    <span class="php-keyword1">var</span> <span class="php-var"><a id="$timeout" href="#$timeout">$timeout</a></span>;
</span><span id="10502" class="l"><a class="l" href="#10502">10502: </a>    <span class="php-keyword1">var</span> <span class="php-var"><a id="$file" href="#$file">$file</a></span>;
</span><span id="10503" class="l"><a class="l" href="#10503">10503: </a>    <span class="php-keyword1">var</span> <span class="php-var"><a id="$local" href="#$local">$local</a></span> = <span class="php-keyword1">array</span>();
</span><span id="10504" class="l"><a class="l" href="#10504">10504: </a>    <span class="php-keyword1">var</span> <span class="php-var"><a id="$elsewhere" href="#$elsewhere">$elsewhere</a></span> = <span class="php-keyword1">array</span>();
</span><span id="10505" class="l"><a class="l" href="#10505">10505: </a>    <span class="php-keyword1">var</span> <span class="php-var"><a id="$cached_entities" href="#$cached_entities">$cached_entities</a></span> = <span class="php-keyword1">array</span>();
</span><span id="10506" class="l"><a class="l" href="#10506">10506: </a>    <span class="php-keyword1">var</span> <span class="php-var"><a id="$http_base" href="#$http_base">$http_base</a></span>;
</span><span id="10507" class="l"><a class="l" href="#10507">10507: </a>    <span class="php-keyword1">var</span> <span class="php-var"><a id="$base" href="#$base">$base</a></span>;
</span><span id="10508" class="l"><a class="l" href="#10508">10508: </a>    <span class="php-keyword1">var</span> <span class="php-var"><a id="$base_location" href="#$base_location">$base_location</a></span> = <span class="php-num">0</span>;
</span><span id="10509" class="l"><a class="l" href="#10509">10509: </a>    <span class="php-keyword1">var</span> <span class="php-var"><a id="$checked_feeds" href="#$checked_feeds">$checked_feeds</a></span> = <span class="php-num">0</span>;
</span><span id="10510" class="l"><a class="l" href="#10510">10510: </a>    <span class="php-keyword1">var</span> <span class="php-var"><a id="$max_checked_feeds" href="#$max_checked_feeds">$max_checked_feeds</a></span> = <span class="php-num">10</span>;
</span><span id="10511" class="l"><a class="l" href="#10511">10511: </a>    <span class="php-keyword1">protected</span> <span class="php-var"><a id="$registry" href="#$registry">$registry</a></span>;
</span><span id="10512" class="l"><a class="l" href="#10512">10512: </a>
</span><span id="10513" class="l"><a class="l" href="#10513">10513: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="___construct" href="#___construct">__construct</a>(&amp;<span class="php-var">$file</span>, <span class="php-var">$timeout</span> = <span class="php-num">10</span>, <span class="php-var">$useragent</span> = <span class="php-keyword1">null</span>, <span class="php-var">$max_checked_feeds</span> = <span class="php-num">10</span>)
</span><span id="10514" class="l"><a class="l" href="#10514">10514: </a>    {
</span><span id="10515" class="l"><a class="l" href="#10515">10515: </a>        <span class="php-var">$this</span>-&gt;<span class="php-keyword2">file</span> =&amp; <span class="php-var">$file</span>;
</span><span id="10516" class="l"><a class="l" href="#10516">10516: </a>        <span class="php-var">$this</span>-&gt;useragent = <span class="php-var">$useragent</span>;
</span><span id="10517" class="l"><a class="l" href="#10517">10517: </a>        <span class="php-var">$this</span>-&gt;timeout = <span class="php-var">$timeout</span>;
</span><span id="10518" class="l"><a class="l" href="#10518">10518: </a>        <span class="php-var">$this</span>-&gt;max_checked_feeds = <span class="php-var">$max_checked_feeds</span>;
</span><span id="10519" class="l"><a class="l" href="#10519">10519: </a>
</span><span id="10520" class="l"><a class="l" href="#10520">10520: </a>        <span class="php-var">$this</span>-&gt;dom = <span class="php-keyword1">new</span> DOMDocument();
</span><span id="10521" class="l"><a class="l" href="#10521">10521: </a>
</span><span id="10522" class="l"><a class="l" href="#10522">10522: </a>        <span class="php-keyword2">set_error_handler</span>(<span class="php-keyword1">array</span>(<span class="php-quote">'SimplePie_Misc'</span>, <span class="php-quote">'silence_errors'</span>));
</span><span id="10523" class="l"><a class="l" href="#10523">10523: </a>        <span class="php-var">$this</span>-&gt;dom-&gt;loadHTML(<span class="php-var">$this</span>-&gt;<span class="php-keyword2">file</span>-&gt;body);
</span><span id="10524" class="l"><a class="l" href="#10524">10524: </a>        <span class="php-keyword2">restore_error_handler</span>();
</span><span id="10525" class="l"><a class="l" href="#10525">10525: </a>    }
</span><span id="10526" class="l"><a class="l" href="#10526">10526: </a>
</span><span id="10527" class="l"><a class="l" href="#10527">10527: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_set_registry" href="#_set_registry">set_registry</a>(SimplePie_Registry &amp;<span class="php-var">$registry</span>)
</span><span id="10528" class="l"><a class="l" href="#10528">10528: </a>    {
</span><span id="10529" class="l"><a class="l" href="#10529">10529: </a>        <span class="php-var">$this</span>-&gt;registry = &amp;<span class="php-var">$registry</span>;
</span><span id="10530" class="l"><a class="l" href="#10530">10530: </a>    }
</span><span id="10531" class="l"><a class="l" href="#10531">10531: </a>
</span><span id="10532" class="l"><a class="l" href="#10532">10532: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_find" href="#_find">find</a>(<span class="php-var">$type</span> = SIMPLEPIE_LOCATOR_ALL, &amp;<span class="php-var">$working</span>)
</span><span id="10533" class="l"><a class="l" href="#10533">10533: </a>    {
</span><span id="10534" class="l"><a class="l" href="#10534">10534: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$this</span>-&gt;is_feed(<span class="php-var">$this</span>-&gt;<span class="php-keyword2">file</span>))
</span><span id="10535" class="l"><a class="l" href="#10535">10535: </a>        {
</span><span id="10536" class="l"><a class="l" href="#10536">10536: </a>            <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;<span class="php-keyword2">file</span>;
</span><span id="10537" class="l"><a class="l" href="#10537">10537: </a>        }
</span><span id="10538" class="l"><a class="l" href="#10538">10538: </a>
</span><span id="10539" class="l"><a class="l" href="#10539">10539: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$this</span>-&gt;<span class="php-keyword2">file</span>-&gt;method &amp; SIMPLEPIE_FILE_SOURCE_REMOTE)
</span><span id="10540" class="l"><a class="l" href="#10540">10540: </a>        {
</span><span id="10541" class="l"><a class="l" href="#10541">10541: </a>            <span class="php-var">$sniffer</span> = <span class="php-var">$this</span>-&gt;registry-&gt;create(<span class="php-quote">'Content_Type_Sniffer'</span>, <span class="php-keyword1">array</span>(<span class="php-var">$this</span>-&gt;<span class="php-keyword2">file</span>));
</span><span id="10542" class="l"><a class="l" href="#10542">10542: </a>            <span class="php-keyword1">if</span> (<span class="php-var">$sniffer</span>-&gt;get_type() !== <span class="php-quote">'text/html'</span>)
</span><span id="10543" class="l"><a class="l" href="#10543">10543: </a>            {
</span><span id="10544" class="l"><a class="l" href="#10544">10544: </a>                <span class="php-keyword1">return</span> <span class="php-keyword1">null</span>;
</span><span id="10545" class="l"><a class="l" href="#10545">10545: </a>            }
</span><span id="10546" class="l"><a class="l" href="#10546">10546: </a>        }
</span><span id="10547" class="l"><a class="l" href="#10547">10547: </a>
</span><span id="10548" class="l"><a class="l" href="#10548">10548: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$type</span> &amp; ~SIMPLEPIE_LOCATOR_NONE)
</span><span id="10549" class="l"><a class="l" href="#10549">10549: </a>        {
</span><span id="10550" class="l"><a class="l" href="#10550">10550: </a>            <span class="php-var">$this</span>-&gt;get_base();
</span><span id="10551" class="l"><a class="l" href="#10551">10551: </a>        }
</span><span id="10552" class="l"><a class="l" href="#10552">10552: </a>
</span><span id="10553" class="l"><a class="l" href="#10553">10553: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$type</span> &amp; SIMPLEPIE_LOCATOR_AUTODISCOVERY &amp;&amp; <span class="php-var">$working</span> = <span class="php-var">$this</span>-&gt;autodiscovery())
</span><span id="10554" class="l"><a class="l" href="#10554">10554: </a>        {
</span><span id="10555" class="l"><a class="l" href="#10555">10555: </a>            <span class="php-keyword1">return</span> <span class="php-var">$working</span>[<span class="php-num">0</span>];
</span><span id="10556" class="l"><a class="l" href="#10556">10556: </a>        }
</span><span id="10557" class="l"><a class="l" href="#10557">10557: </a>
</span><span id="10558" class="l"><a class="l" href="#10558">10558: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$type</span> &amp; (SIMPLEPIE_LOCATOR_LOCAL_EXTENSION | SIMPLEPIE_LOCATOR_LOCAL_BODY | SIMPLEPIE_LOCATOR_REMOTE_EXTENSION | SIMPLEPIE_LOCATOR_REMOTE_BODY) &amp;&amp; <span class="php-var">$this</span>-&gt;get_links())
</span><span id="10559" class="l"><a class="l" href="#10559">10559: </a>        {
</span><span id="10560" class="l"><a class="l" href="#10560">10560: </a>            <span class="php-keyword1">if</span> (<span class="php-var">$type</span> &amp; SIMPLEPIE_LOCATOR_LOCAL_EXTENSION &amp;&amp; <span class="php-var">$working</span> = <span class="php-var">$this</span>-&gt;extension(<span class="php-var">$this</span>-&gt;local))
</span><span id="10561" class="l"><a class="l" href="#10561">10561: </a>            {
</span><span id="10562" class="l"><a class="l" href="#10562">10562: </a>                <span class="php-keyword1">return</span> <span class="php-var">$working</span>;
</span><span id="10563" class="l"><a class="l" href="#10563">10563: </a>            }
</span><span id="10564" class="l"><a class="l" href="#10564">10564: </a>
</span><span id="10565" class="l"><a class="l" href="#10565">10565: </a>            <span class="php-keyword1">if</span> (<span class="php-var">$type</span> &amp; SIMPLEPIE_LOCATOR_LOCAL_BODY &amp;&amp; <span class="php-var">$working</span> = <span class="php-var">$this</span>-&gt;body(<span class="php-var">$this</span>-&gt;local))
</span><span id="10566" class="l"><a class="l" href="#10566">10566: </a>            {
</span><span id="10567" class="l"><a class="l" href="#10567">10567: </a>                <span class="php-keyword1">return</span> <span class="php-var">$working</span>;
</span><span id="10568" class="l"><a class="l" href="#10568">10568: </a>            }
</span><span id="10569" class="l"><a class="l" href="#10569">10569: </a>
</span><span id="10570" class="l"><a class="l" href="#10570">10570: </a>            <span class="php-keyword1">if</span> (<span class="php-var">$type</span> &amp; SIMPLEPIE_LOCATOR_REMOTE_EXTENSION &amp;&amp; <span class="php-var">$working</span> = <span class="php-var">$this</span>-&gt;extension(<span class="php-var">$this</span>-&gt;elsewhere))
</span><span id="10571" class="l"><a class="l" href="#10571">10571: </a>            {
</span><span id="10572" class="l"><a class="l" href="#10572">10572: </a>                <span class="php-keyword1">return</span> <span class="php-var">$working</span>;
</span><span id="10573" class="l"><a class="l" href="#10573">10573: </a>            }
</span><span id="10574" class="l"><a class="l" href="#10574">10574: </a>
</span><span id="10575" class="l"><a class="l" href="#10575">10575: </a>            <span class="php-keyword1">if</span> (<span class="php-var">$type</span> &amp; SIMPLEPIE_LOCATOR_REMOTE_BODY &amp;&amp; <span class="php-var">$working</span> = <span class="php-var">$this</span>-&gt;body(<span class="php-var">$this</span>-&gt;elsewhere))
</span><span id="10576" class="l"><a class="l" href="#10576">10576: </a>            {
</span><span id="10577" class="l"><a class="l" href="#10577">10577: </a>                <span class="php-keyword1">return</span> <span class="php-var">$working</span>;
</span><span id="10578" class="l"><a class="l" href="#10578">10578: </a>            }
</span><span id="10579" class="l"><a class="l" href="#10579">10579: </a>        }
</span><span id="10580" class="l"><a class="l" href="#10580">10580: </a>        <span class="php-keyword1">return</span> <span class="php-keyword1">null</span>;
</span><span id="10581" class="l"><a class="l" href="#10581">10581: </a>    }
</span><span id="10582" class="l"><a class="l" href="#10582">10582: </a>
</span><span id="10583" class="l"><a class="l" href="#10583">10583: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_is_feed" href="#_is_feed">is_feed</a>(&amp;<span class="php-var">$file</span>)
</span><span id="10584" class="l"><a class="l" href="#10584">10584: </a>    {
</span><span id="10585" class="l"><a class="l" href="#10585">10585: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$file</span>-&gt;method &amp; SIMPLEPIE_FILE_SOURCE_REMOTE)
</span><span id="10586" class="l"><a class="l" href="#10586">10586: </a>        {
</span><span id="10587" class="l"><a class="l" href="#10587">10587: </a>            <span class="php-var">$sniffer</span> = <span class="php-var">$this</span>-&gt;registry-&gt;create(<span class="php-quote">'Content_Type_Sniffer'</span>, <span class="php-keyword1">array</span>(<span class="php-var">$file</span>));
</span><span id="10588" class="l"><a class="l" href="#10588">10588: </a>            <span class="php-var">$sniffed</span> = <span class="php-var">$sniffer</span>-&gt;get_type();
</span><span id="10589" class="l"><a class="l" href="#10589">10589: </a>            <span class="php-keyword1">if</span> (<span class="php-keyword2">in_array</span>(<span class="php-var">$sniffed</span>, <span class="php-keyword1">array</span>(<span class="php-quote">'application/rss+xml'</span>, <span class="php-quote">'application/rdf+xml'</span>, <span class="php-quote">'text/rdf'</span>, <span class="php-quote">'application/atom+xml'</span>, <span class="php-quote">'text/xml'</span>, <span class="php-quote">'application/xml'</span>)))
</span><span id="10590" class="l"><a class="l" href="#10590">10590: </a>            {
</span><span id="10591" class="l"><a class="l" href="#10591">10591: </a>                <span class="php-keyword1">return</span> <span class="php-keyword1">true</span>;
</span><span id="10592" class="l"><a class="l" href="#10592">10592: </a>            }
</span><span id="10593" class="l"><a class="l" href="#10593">10593: </a>            <span class="php-keyword1">else</span>
</span><span id="10594" class="l"><a class="l" href="#10594">10594: </a>            {
</span><span id="10595" class="l"><a class="l" href="#10595">10595: </a>                <span class="php-keyword1">return</span> <span class="php-keyword1">false</span>;
</span><span id="10596" class="l"><a class="l" href="#10596">10596: </a>            }
</span><span id="10597" class="l"><a class="l" href="#10597">10597: </a>        }
</span><span id="10598" class="l"><a class="l" href="#10598">10598: </a>        <span class="php-keyword1">elseif</span> (<span class="php-var">$file</span>-&gt;method &amp; SIMPLEPIE_FILE_SOURCE_LOCAL)
</span><span id="10599" class="l"><a class="l" href="#10599">10599: </a>        {
</span><span id="10600" class="l"><a class="l" href="#10600">10600: </a>            <span class="php-keyword1">return</span> <span class="php-keyword1">true</span>;
</span><span id="10601" class="l"><a class="l" href="#10601">10601: </a>        }
</span><span id="10602" class="l"><a class="l" href="#10602">10602: </a>        <span class="php-keyword1">else</span>
</span><span id="10603" class="l"><a class="l" href="#10603">10603: </a>        {
</span><span id="10604" class="l"><a class="l" href="#10604">10604: </a>            <span class="php-keyword1">return</span> <span class="php-keyword1">false</span>;
</span><span id="10605" class="l"><a class="l" href="#10605">10605: </a>        }
</span><span id="10606" class="l"><a class="l" href="#10606">10606: </a>    }
</span><span id="10607" class="l"><a class="l" href="#10607">10607: </a>
</span><span id="10608" class="l"><a class="l" href="#10608">10608: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_get_base" href="#_get_base">get_base</a>()
</span><span id="10609" class="l"><a class="l" href="#10609">10609: </a>    {
</span><span id="10610" class="l"><a class="l" href="#10610">10610: </a>        <span class="php-var">$this</span>-&gt;http_base = <span class="php-var">$this</span>-&gt;<span class="php-keyword2">file</span>-&gt;url;
</span><span id="10611" class="l"><a class="l" href="#10611">10611: </a>        <span class="php-var">$this</span>-&gt;base = <span class="php-var">$this</span>-&gt;http_base;
</span><span id="10612" class="l"><a class="l" href="#10612">10612: </a>        <span class="php-var">$elements</span> = <span class="php-var">$this</span>-&gt;dom-&gt;getElementsByTagName(<span class="php-quote">'base'</span>);
</span><span id="10613" class="l"><a class="l" href="#10613">10613: </a>        <span class="php-keyword1">foreach</span> (<span class="php-var">$elements</span> <span class="php-keyword1">as</span> <span class="php-var">$element</span>)
</span><span id="10614" class="l"><a class="l" href="#10614">10614: </a>        {
</span><span id="10615" class="l"><a class="l" href="#10615">10615: </a>            <span class="php-keyword1">if</span> (<span class="php-var">$element</span>-&gt;hasAttribute(<span class="php-quote">'href'</span>))
</span><span id="10616" class="l"><a class="l" href="#10616">10616: </a>            {
</span><span id="10617" class="l"><a class="l" href="#10617">10617: </a>                <span class="php-var">$this</span>-&gt;base = <span class="php-var">$this</span>-&gt;registry-&gt;call(<span class="php-quote">'Misc'</span>, <span class="php-quote">'absolutize_url'</span>, <span class="php-keyword1">array</span>(<span class="php-keyword2">trim</span>(<span class="php-var">$element</span>-&gt;getAttribute(<span class="php-quote">'href'</span>)), <span class="php-var">$this</span>-&gt;http_base));
</span><span id="10618" class="l"><a class="l" href="#10618">10618: </a>                <span class="php-var">$this</span>-&gt;base_location = <span class="php-var">$element</span>-&gt;getLineNo();
</span><span id="10619" class="l"><a class="l" href="#10619">10619: </a>                <span class="php-keyword1">break</span>;
</span><span id="10620" class="l"><a class="l" href="#10620">10620: </a>            }
</span><span id="10621" class="l"><a class="l" href="#10621">10621: </a>        }
</span><span id="10622" class="l"><a class="l" href="#10622">10622: </a>    }
</span><span id="10623" class="l"><a class="l" href="#10623">10623: </a>
</span><span id="10624" class="l"><a class="l" href="#10624">10624: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_autodiscovery" href="#_autodiscovery">autodiscovery</a>()
</span><span id="10625" class="l"><a class="l" href="#10625">10625: </a>    {
</span><span id="10626" class="l"><a class="l" href="#10626">10626: </a>        <span class="php-var">$done</span> = <span class="php-keyword1">array</span>();
</span><span id="10627" class="l"><a class="l" href="#10627">10627: </a>        <span class="php-var">$feeds</span> = <span class="php-keyword1">array</span>();
</span><span id="10628" class="l"><a class="l" href="#10628">10628: </a>        <span class="php-var">$feeds</span> = <span class="php-keyword2">array_merge</span>(<span class="php-var">$feeds</span>, <span class="php-var">$this</span>-&gt;search_elements_by_tag(<span class="php-quote">'link'</span>, <span class="php-var">$done</span>, <span class="php-var">$feeds</span>));
</span><span id="10629" class="l"><a class="l" href="#10629">10629: </a>        <span class="php-var">$feeds</span> = <span class="php-keyword2">array_merge</span>(<span class="php-var">$feeds</span>, <span class="php-var">$this</span>-&gt;search_elements_by_tag(<span class="php-quote">'a'</span>, <span class="php-var">$done</span>, <span class="php-var">$feeds</span>));
</span><span id="10630" class="l"><a class="l" href="#10630">10630: </a>        <span class="php-var">$feeds</span> = <span class="php-keyword2">array_merge</span>(<span class="php-var">$feeds</span>, <span class="php-var">$this</span>-&gt;search_elements_by_tag(<span class="php-quote">'area'</span>, <span class="php-var">$done</span>, <span class="php-var">$feeds</span>));
</span><span id="10631" class="l"><a class="l" href="#10631">10631: </a>
</span><span id="10632" class="l"><a class="l" href="#10632">10632: </a>        <span class="php-keyword1">if</span> (!<span class="php-keyword1">empty</span>(<span class="php-var">$feeds</span>))
</span><span id="10633" class="l"><a class="l" href="#10633">10633: </a>        {
</span><span id="10634" class="l"><a class="l" href="#10634">10634: </a>            <span class="php-keyword1">return</span> <span class="php-keyword2">array_values</span>(<span class="php-var">$feeds</span>);
</span><span id="10635" class="l"><a class="l" href="#10635">10635: </a>        }
</span><span id="10636" class="l"><a class="l" href="#10636">10636: </a>        <span class="php-keyword1">else</span>
</span><span id="10637" class="l"><a class="l" href="#10637">10637: </a>        {
</span><span id="10638" class="l"><a class="l" href="#10638">10638: </a>            <span class="php-keyword1">return</span> <span class="php-keyword1">null</span>;
</span><span id="10639" class="l"><a class="l" href="#10639">10639: </a>        }
</span><span id="10640" class="l"><a class="l" href="#10640">10640: </a>    }
</span><span id="10641" class="l"><a class="l" href="#10641">10641: </a>
</span><span id="10642" class="l"><a class="l" href="#10642">10642: </a>    <span class="php-keyword1">protected</span> <span class="php-keyword1">function</span> <a id="_search_elements_by_tag" href="#_search_elements_by_tag">search_elements_by_tag</a>(<span class="php-var">$name</span>, &amp;<span class="php-var">$done</span>, <span class="php-var">$feeds</span>)
</span><span id="10643" class="l"><a class="l" href="#10643">10643: </a>    {
</span><span id="10644" class="l"><a class="l" href="#10644">10644: </a>        <span class="php-var">$links</span> = <span class="php-var">$this</span>-&gt;dom-&gt;getElementsByTagName(<span class="php-var">$name</span>);
</span><span id="10645" class="l"><a class="l" href="#10645">10645: </a>        <span class="php-keyword1">foreach</span> (<span class="php-var">$links</span> <span class="php-keyword1">as</span> <span class="php-var">$link</span>)
</span><span id="10646" class="l"><a class="l" href="#10646">10646: </a>        {
</span><span id="10647" class="l"><a class="l" href="#10647">10647: </a>            <span class="php-keyword1">if</span> (<span class="php-var">$this</span>-&gt;checked_feeds === <span class="php-var">$this</span>-&gt;max_checked_feeds)
</span><span id="10648" class="l"><a class="l" href="#10648">10648: </a>            {
</span><span id="10649" class="l"><a class="l" href="#10649">10649: </a>                <span class="php-keyword1">break</span>;
</span><span id="10650" class="l"><a class="l" href="#10650">10650: </a>            }
</span><span id="10651" class="l"><a class="l" href="#10651">10651: </a>            <span class="php-keyword1">if</span> (<span class="php-var">$link</span>-&gt;hasAttribute(<span class="php-quote">'href'</span>) &amp;&amp; <span class="php-var">$link</span>-&gt;hasAttribute(<span class="php-quote">'rel'</span>))
</span><span id="10652" class="l"><a class="l" href="#10652">10652: </a>            {
</span><span id="10653" class="l"><a class="l" href="#10653">10653: </a>                <span class="php-var">$rel</span> = <span class="php-keyword2">array_unique</span>(<span class="php-var">$this</span>-&gt;registry-&gt;call(<span class="php-quote">'Misc'</span>, <span class="php-quote">'space_seperated_tokens'</span>, <span class="php-keyword1">array</span>(<span class="php-keyword2">strtolower</span>(<span class="php-var">$link</span>-&gt;getAttribute(<span class="php-quote">'rel'</span>)))));
</span><span id="10654" class="l"><a class="l" href="#10654">10654: </a>
</span><span id="10655" class="l"><a class="l" href="#10655">10655: </a>                <span class="php-keyword1">if</span> (<span class="php-var">$this</span>-&gt;base_location &lt; <span class="php-var">$link</span>-&gt;getLineNo())
</span><span id="10656" class="l"><a class="l" href="#10656">10656: </a>                {
</span><span id="10657" class="l"><a class="l" href="#10657">10657: </a>                    <span class="php-var">$href</span> = <span class="php-var">$this</span>-&gt;registry-&gt;call(<span class="php-quote">'Misc'</span>, <span class="php-quote">'absolutize_url'</span>, <span class="php-keyword1">array</span>(<span class="php-keyword2">trim</span>(<span class="php-var">$link</span>-&gt;getAttribute(<span class="php-quote">'href'</span>)), <span class="php-var">$this</span>-&gt;base));
</span><span id="10658" class="l"><a class="l" href="#10658">10658: </a>                }
</span><span id="10659" class="l"><a class="l" href="#10659">10659: </a>                <span class="php-keyword1">else</span>
</span><span id="10660" class="l"><a class="l" href="#10660">10660: </a>                {
</span><span id="10661" class="l"><a class="l" href="#10661">10661: </a>                    <span class="php-var">$href</span> = <span class="php-var">$this</span>-&gt;registry-&gt;call(<span class="php-quote">'Misc'</span>, <span class="php-quote">'absolutize_url'</span>, <span class="php-keyword1">array</span>(<span class="php-keyword2">trim</span>(<span class="php-var">$link</span>-&gt;getAttribute(<span class="php-quote">'href'</span>)), <span class="php-var">$this</span>-&gt;http_base));
</span><span id="10662" class="l"><a class="l" href="#10662">10662: </a>                }
</span><span id="10663" class="l"><a class="l" href="#10663">10663: </a>
</span><span id="10664" class="l"><a class="l" href="#10664">10664: </a>                <span class="php-keyword1">if</span> (!<span class="php-keyword2">in_array</span>(<span class="php-var">$href</span>, <span class="php-var">$done</span>) &amp;&amp; <span class="php-keyword2">in_array</span>(<span class="php-quote">'feed'</span>, <span class="php-var">$rel</span>) || (<span class="php-keyword2">in_array</span>(<span class="php-quote">'alternate'</span>, <span class="php-var">$rel</span>) &amp;&amp; !<span class="php-keyword2">in_array</span>(<span class="php-quote">'stylesheet'</span>, <span class="php-var">$rel</span>) &amp;&amp; <span class="php-var">$link</span>-&gt;hasAttribute(<span class="php-quote">'type'</span>) &amp;&amp; <span class="php-keyword2">in_array</span>(<span class="php-keyword2">strtolower</span>(<span class="php-var">$this</span>-&gt;registry-&gt;call(<span class="php-quote">'Misc'</span>, <span class="php-quote">'parse_mime'</span>, <span class="php-keyword1">array</span>(<span class="php-var">$link</span>-&gt;getAttribute(<span class="php-quote">'type'</span>)))), <span class="php-keyword1">array</span>(<span class="php-quote">'application/rss+xml'</span>, <span class="php-quote">'application/atom+xml'</span>))) &amp;&amp; !<span class="php-keyword1">isset</span>(<span class="php-var">$feeds</span>[<span class="php-var">$href</span>]))
</span><span id="10665" class="l"><a class="l" href="#10665">10665: </a>                {
</span><span id="10666" class="l"><a class="l" href="#10666">10666: </a>                    <span class="php-var">$this</span>-&gt;checked_feeds++;
</span><span id="10667" class="l"><a class="l" href="#10667">10667: </a>                    <span class="php-var">$headers</span> = <span class="php-keyword1">array</span>(
</span><span id="10668" class="l"><a class="l" href="#10668">10668: </a>                        <span class="php-quote">'Accept'</span> =&gt; <span class="php-quote">'application/atom+xml, application/rss+xml, application/rdf+xml;q=0.9, application/xml;q=0.8, text/xml;q=0.8, text/html;q=0.7, unknown/unknown;q=0.1, application/unknown;q=0.1, */*;q=0.1'</span>,
</span><span id="10669" class="l"><a class="l" href="#10669">10669: </a>                    );
</span><span id="10670" class="l"><a class="l" href="#10670">10670: </a>                    <span class="php-var">$feed</span> = <span class="php-var">$this</span>-&gt;registry-&gt;create(<span class="php-quote">'File'</span>, <span class="php-keyword1">array</span>(<span class="php-var">$href</span>, <span class="php-var">$this</span>-&gt;timeout, <span class="php-num">5</span>, <span class="php-var">$headers</span>, <span class="php-var">$this</span>-&gt;useragent));
</span><span id="10671" class="l"><a class="l" href="#10671">10671: </a>                    <span class="php-keyword1">if</span> (<span class="php-var">$feed</span>-&gt;success &amp;&amp; (<span class="php-var">$feed</span>-&gt;method &amp; SIMPLEPIE_FILE_SOURCE_REMOTE === <span class="php-num">0</span> || (<span class="php-var">$feed</span>-&gt;status_code === <span class="php-num">200</span> || <span class="php-var">$feed</span>-&gt;status_code &gt; <span class="php-num">206</span> &amp;&amp; <span class="php-var">$feed</span>-&gt;status_code &lt; <span class="php-num">300</span>)) &amp;&amp; <span class="php-var">$this</span>-&gt;is_feed(<span class="php-var">$feed</span>))
</span><span id="10672" class="l"><a class="l" href="#10672">10672: </a>                    {
</span><span id="10673" class="l"><a class="l" href="#10673">10673: </a>                        <span class="php-var">$feeds</span>[<span class="php-var">$href</span>] = <span class="php-var">$feed</span>;
</span><span id="10674" class="l"><a class="l" href="#10674">10674: </a>                    }
</span><span id="10675" class="l"><a class="l" href="#10675">10675: </a>                }
</span><span id="10676" class="l"><a class="l" href="#10676">10676: </a>                <span class="php-var">$done</span>[] = <span class="php-var">$href</span>;
</span><span id="10677" class="l"><a class="l" href="#10677">10677: </a>            }
</span><span id="10678" class="l"><a class="l" href="#10678">10678: </a>        }
</span><span id="10679" class="l"><a class="l" href="#10679">10679: </a>
</span><span id="10680" class="l"><a class="l" href="#10680">10680: </a>        <span class="php-keyword1">return</span> <span class="php-var">$feeds</span>;
</span><span id="10681" class="l"><a class="l" href="#10681">10681: </a>    }
</span><span id="10682" class="l"><a class="l" href="#10682">10682: </a>
</span><span id="10683" class="l"><a class="l" href="#10683">10683: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_get_links" href="#_get_links">get_links</a>()
</span><span id="10684" class="l"><a class="l" href="#10684">10684: </a>    {
</span><span id="10685" class="l"><a class="l" href="#10685">10685: </a>        <span class="php-var">$links</span> = <span class="php-var">$this</span>-&gt;dom-&gt;getElementsByTagName(<span class="php-quote">'a'</span>);
</span><span id="10686" class="l"><a class="l" href="#10686">10686: </a>        <span class="php-keyword1">foreach</span> (<span class="php-var">$links</span> <span class="php-keyword1">as</span> <span class="php-var">$link</span>)
</span><span id="10687" class="l"><a class="l" href="#10687">10687: </a>        {
</span><span id="10688" class="l"><a class="l" href="#10688">10688: </a>            <span class="php-keyword1">if</span> (<span class="php-var">$link</span>-&gt;hasAttribute(<span class="php-quote">'href'</span>))
</span><span id="10689" class="l"><a class="l" href="#10689">10689: </a>            {
</span><span id="10690" class="l"><a class="l" href="#10690">10690: </a>                <span class="php-var">$href</span> = <span class="php-keyword2">trim</span>(<span class="php-var">$link</span>-&gt;getAttribute(<span class="php-quote">'href'</span>));
</span><span id="10691" class="l"><a class="l" href="#10691">10691: </a>                <span class="php-var">$parsed</span> = <span class="php-var">$this</span>-&gt;registry-&gt;call(<span class="php-quote">'Misc'</span>, <span class="php-quote">'parse_url'</span>, <span class="php-keyword1">array</span>(<span class="php-var">$href</span>));
</span><span id="10692" class="l"><a class="l" href="#10692">10692: </a>                <span class="php-keyword1">if</span> (<span class="php-var">$parsed</span>[<span class="php-quote">'scheme'</span>] === <span class="php-quote">''</span> || <span class="php-keyword2">preg_match</span>(<span class="php-quote">'/^(http(s)|feed)?$/i'</span>, <span class="php-var">$parsed</span>[<span class="php-quote">'scheme'</span>]))
</span><span id="10693" class="l"><a class="l" href="#10693">10693: </a>                {
</span><span id="10694" class="l"><a class="l" href="#10694">10694: </a>                    <span class="php-keyword1">if</span> (<span class="php-var">$this</span>-&gt;base_location &lt; <span class="php-var">$link</span>-&gt;getLineNo())
</span><span id="10695" class="l"><a class="l" href="#10695">10695: </a>                    {
</span><span id="10696" class="l"><a class="l" href="#10696">10696: </a>                        <span class="php-var">$href</span> = <span class="php-var">$this</span>-&gt;registry-&gt;call(<span class="php-quote">'Misc'</span>, <span class="php-quote">'absolutize_url'</span>, <span class="php-keyword1">array</span>(<span class="php-keyword2">trim</span>(<span class="php-var">$link</span>-&gt;getAttribute(<span class="php-quote">'href'</span>)), <span class="php-var">$this</span>-&gt;base));
</span><span id="10697" class="l"><a class="l" href="#10697">10697: </a>                    }
</span><span id="10698" class="l"><a class="l" href="#10698">10698: </a>                    <span class="php-keyword1">else</span>
</span><span id="10699" class="l"><a class="l" href="#10699">10699: </a>                    {
</span><span id="10700" class="l"><a class="l" href="#10700">10700: </a>                        <span class="php-var">$href</span> = <span class="php-var">$this</span>-&gt;registry-&gt;call(<span class="php-quote">'Misc'</span>, <span class="php-quote">'absolutize_url'</span>, <span class="php-keyword1">array</span>(<span class="php-keyword2">trim</span>(<span class="php-var">$link</span>-&gt;getAttribute(<span class="php-quote">'href'</span>)), <span class="php-var">$this</span>-&gt;http_base));
</span><span id="10701" class="l"><a class="l" href="#10701">10701: </a>                    }
</span><span id="10702" class="l"><a class="l" href="#10702">10702: </a>
</span><span id="10703" class="l"><a class="l" href="#10703">10703: </a>                    <span class="php-var">$current</span> = <span class="php-var">$this</span>-&gt;registry-&gt;call(<span class="php-quote">'Misc'</span>, <span class="php-quote">'parse_url'</span>, <span class="php-keyword1">array</span>(<span class="php-var">$this</span>-&gt;<span class="php-keyword2">file</span>-&gt;url));
</span><span id="10704" class="l"><a class="l" href="#10704">10704: </a>
</span><span id="10705" class="l"><a class="l" href="#10705">10705: </a>                    <span class="php-keyword1">if</span> (<span class="php-var">$parsed</span>[<span class="php-quote">'authority'</span>] === <span class="php-quote">''</span> || <span class="php-var">$parsed</span>[<span class="php-quote">'authority'</span>] === <span class="php-var">$current</span>[<span class="php-quote">'authority'</span>])
</span><span id="10706" class="l"><a class="l" href="#10706">10706: </a>                    {
</span><span id="10707" class="l"><a class="l" href="#10707">10707: </a>                        <span class="php-var">$this</span>-&gt;local[] = <span class="php-var">$href</span>;
</span><span id="10708" class="l"><a class="l" href="#10708">10708: </a>                    }
</span><span id="10709" class="l"><a class="l" href="#10709">10709: </a>                    <span class="php-keyword1">else</span>
</span><span id="10710" class="l"><a class="l" href="#10710">10710: </a>                    {
</span><span id="10711" class="l"><a class="l" href="#10711">10711: </a>                        <span class="php-var">$this</span>-&gt;elsewhere[] = <span class="php-var">$href</span>;
</span><span id="10712" class="l"><a class="l" href="#10712">10712: </a>                    }
</span><span id="10713" class="l"><a class="l" href="#10713">10713: </a>                }
</span><span id="10714" class="l"><a class="l" href="#10714">10714: </a>            }
</span><span id="10715" class="l"><a class="l" href="#10715">10715: </a>        }
</span><span id="10716" class="l"><a class="l" href="#10716">10716: </a>        <span class="php-var">$this</span>-&gt;local = <span class="php-keyword2">array_unique</span>(<span class="php-var">$this</span>-&gt;local);
</span><span id="10717" class="l"><a class="l" href="#10717">10717: </a>        <span class="php-var">$this</span>-&gt;elsewhere = <span class="php-keyword2">array_unique</span>(<span class="php-var">$this</span>-&gt;elsewhere);
</span><span id="10718" class="l"><a class="l" href="#10718">10718: </a>        <span class="php-keyword1">if</span> (!<span class="php-keyword1">empty</span>(<span class="php-var">$this</span>-&gt;local) || !<span class="php-keyword1">empty</span>(<span class="php-var">$this</span>-&gt;elsewhere))
</span><span id="10719" class="l"><a class="l" href="#10719">10719: </a>        {
</span><span id="10720" class="l"><a class="l" href="#10720">10720: </a>            <span class="php-keyword1">return</span> <span class="php-keyword1">true</span>;
</span><span id="10721" class="l"><a class="l" href="#10721">10721: </a>        }
</span><span id="10722" class="l"><a class="l" href="#10722">10722: </a>        <span class="php-keyword1">return</span> <span class="php-keyword1">null</span>;
</span><span id="10723" class="l"><a class="l" href="#10723">10723: </a>    }
</span><span id="10724" class="l"><a class="l" href="#10724">10724: </a>
</span><span id="10725" class="l"><a class="l" href="#10725">10725: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_extension" href="#_extension">extension</a>(&amp;<span class="php-var">$array</span>)
</span><span id="10726" class="l"><a class="l" href="#10726">10726: </a>    {
</span><span id="10727" class="l"><a class="l" href="#10727">10727: </a>        <span class="php-keyword1">foreach</span> (<span class="php-var">$array</span> <span class="php-keyword1">as</span> <span class="php-var">$key</span> =&gt; <span class="php-var">$value</span>)
</span><span id="10728" class="l"><a class="l" href="#10728">10728: </a>        {
</span><span id="10729" class="l"><a class="l" href="#10729">10729: </a>            <span class="php-keyword1">if</span> (<span class="php-var">$this</span>-&gt;checked_feeds === <span class="php-var">$this</span>-&gt;max_checked_feeds)
</span><span id="10730" class="l"><a class="l" href="#10730">10730: </a>            {
</span><span id="10731" class="l"><a class="l" href="#10731">10731: </a>                <span class="php-keyword1">break</span>;
</span><span id="10732" class="l"><a class="l" href="#10732">10732: </a>            }
</span><span id="10733" class="l"><a class="l" href="#10733">10733: </a>            <span class="php-keyword1">if</span> (<span class="php-keyword2">in_array</span>(<span class="php-keyword2">strtolower</span>(<span class="php-keyword2">strrchr</span>(<span class="php-var">$value</span>, <span class="php-quote">'.'</span>)), <span class="php-keyword1">array</span>(<span class="php-quote">'.rss'</span>, <span class="php-quote">'.rdf'</span>, <span class="php-quote">'.atom'</span>, <span class="php-quote">'.xml'</span>)))
</span><span id="10734" class="l"><a class="l" href="#10734">10734: </a>            {
</span><span id="10735" class="l"><a class="l" href="#10735">10735: </a>                <span class="php-var">$this</span>-&gt;checked_feeds++;
</span><span id="10736" class="l"><a class="l" href="#10736">10736: </a>
</span><span id="10737" class="l"><a class="l" href="#10737">10737: </a>                <span class="php-var">$headers</span> = <span class="php-keyword1">array</span>(
</span><span id="10738" class="l"><a class="l" href="#10738">10738: </a>                    <span class="php-quote">'Accept'</span> =&gt; <span class="php-quote">'application/atom+xml, application/rss+xml, application/rdf+xml;q=0.9, application/xml;q=0.8, text/xml;q=0.8, text/html;q=0.7, unknown/unknown;q=0.1, application/unknown;q=0.1, */*;q=0.1'</span>,
</span><span id="10739" class="l"><a class="l" href="#10739">10739: </a>                );
</span><span id="10740" class="l"><a class="l" href="#10740">10740: </a>                <span class="php-var">$feed</span> = <span class="php-var">$this</span>-&gt;registry-&gt;create(<span class="php-quote">'File'</span>, <span class="php-keyword1">array</span>(<span class="php-var">$value</span>, <span class="php-var">$this</span>-&gt;timeout, <span class="php-num">5</span>, <span class="php-var">$headers</span>, <span class="php-var">$this</span>-&gt;useragent));
</span><span id="10741" class="l"><a class="l" href="#10741">10741: </a>                <span class="php-keyword1">if</span> (<span class="php-var">$feed</span>-&gt;success &amp;&amp; (<span class="php-var">$feed</span>-&gt;method &amp; SIMPLEPIE_FILE_SOURCE_REMOTE === <span class="php-num">0</span> || (<span class="php-var">$feed</span>-&gt;status_code === <span class="php-num">200</span> || <span class="php-var">$feed</span>-&gt;status_code &gt; <span class="php-num">206</span> &amp;&amp; <span class="php-var">$feed</span>-&gt;status_code &lt; <span class="php-num">300</span>)) &amp;&amp; <span class="php-var">$this</span>-&gt;is_feed(<span class="php-var">$feed</span>))
</span><span id="10742" class="l"><a class="l" href="#10742">10742: </a>                {
</span><span id="10743" class="l"><a class="l" href="#10743">10743: </a>                    <span class="php-keyword1">return</span> <span class="php-var">$feed</span>;
</span><span id="10744" class="l"><a class="l" href="#10744">10744: </a>                }
</span><span id="10745" class="l"><a class="l" href="#10745">10745: </a>                <span class="php-keyword1">else</span>
</span><span id="10746" class="l"><a class="l" href="#10746">10746: </a>                {
</span><span id="10747" class="l"><a class="l" href="#10747">10747: </a>                    <span class="php-keyword1">unset</span>(<span class="php-var">$array</span>[<span class="php-var">$key</span>]);
</span><span id="10748" class="l"><a class="l" href="#10748">10748: </a>                }
</span><span id="10749" class="l"><a class="l" href="#10749">10749: </a>            }
</span><span id="10750" class="l"><a class="l" href="#10750">10750: </a>        }
</span><span id="10751" class="l"><a class="l" href="#10751">10751: </a>        <span class="php-keyword1">return</span> <span class="php-keyword1">null</span>;
</span><span id="10752" class="l"><a class="l" href="#10752">10752: </a>    }
</span><span id="10753" class="l"><a class="l" href="#10753">10753: </a>
</span><span id="10754" class="l"><a class="l" href="#10754">10754: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_body" href="#_body">body</a>(&amp;<span class="php-var">$array</span>)
</span><span id="10755" class="l"><a class="l" href="#10755">10755: </a>    {
</span><span id="10756" class="l"><a class="l" href="#10756">10756: </a>        <span class="php-keyword1">foreach</span> (<span class="php-var">$array</span> <span class="php-keyword1">as</span> <span class="php-var">$key</span> =&gt; <span class="php-var">$value</span>)
</span><span id="10757" class="l"><a class="l" href="#10757">10757: </a>        {
</span><span id="10758" class="l"><a class="l" href="#10758">10758: </a>            <span class="php-keyword1">if</span> (<span class="php-var">$this</span>-&gt;checked_feeds === <span class="php-var">$this</span>-&gt;max_checked_feeds)
</span><span id="10759" class="l"><a class="l" href="#10759">10759: </a>            {
</span><span id="10760" class="l"><a class="l" href="#10760">10760: </a>                <span class="php-keyword1">break</span>;
</span><span id="10761" class="l"><a class="l" href="#10761">10761: </a>            }
</span><span id="10762" class="l"><a class="l" href="#10762">10762: </a>            <span class="php-keyword1">if</span> (<span class="php-keyword2">preg_match</span>(<span class="php-quote">'/(rss|rdf|atom|xml)/i'</span>, <span class="php-var">$value</span>))
</span><span id="10763" class="l"><a class="l" href="#10763">10763: </a>            {
</span><span id="10764" class="l"><a class="l" href="#10764">10764: </a>                <span class="php-var">$this</span>-&gt;checked_feeds++;
</span><span id="10765" class="l"><a class="l" href="#10765">10765: </a>                <span class="php-var">$headers</span> = <span class="php-keyword1">array</span>(
</span><span id="10766" class="l"><a class="l" href="#10766">10766: </a>                    <span class="php-quote">'Accept'</span> =&gt; <span class="php-quote">'application/atom+xml, application/rss+xml, application/rdf+xml;q=0.9, application/xml;q=0.8, text/xml;q=0.8, text/html;q=0.7, unknown/unknown;q=0.1, application/unknown;q=0.1, */*;q=0.1'</span>,
</span><span id="10767" class="l"><a class="l" href="#10767">10767: </a>                );
</span><span id="10768" class="l"><a class="l" href="#10768">10768: </a>                <span class="php-var">$feed</span> = <span class="php-var">$this</span>-&gt;registry-&gt;create(<span class="php-quote">'File'</span>, <span class="php-keyword1">array</span>(<span class="php-var">$value</span>, <span class="php-var">$this</span>-&gt;timeout, <span class="php-num">5</span>, <span class="php-keyword1">null</span>, <span class="php-var">$this</span>-&gt;useragent));
</span><span id="10769" class="l"><a class="l" href="#10769">10769: </a>                <span class="php-keyword1">if</span> (<span class="php-var">$feed</span>-&gt;success &amp;&amp; (<span class="php-var">$feed</span>-&gt;method &amp; SIMPLEPIE_FILE_SOURCE_REMOTE === <span class="php-num">0</span> || (<span class="php-var">$feed</span>-&gt;status_code === <span class="php-num">200</span> || <span class="php-var">$feed</span>-&gt;status_code &gt; <span class="php-num">206</span> &amp;&amp; <span class="php-var">$feed</span>-&gt;status_code &lt; <span class="php-num">300</span>)) &amp;&amp; <span class="php-var">$this</span>-&gt;is_feed(<span class="php-var">$feed</span>))
</span><span id="10770" class="l"><a class="l" href="#10770">10770: </a>                {
</span><span id="10771" class="l"><a class="l" href="#10771">10771: </a>                    <span class="php-keyword1">return</span> <span class="php-var">$feed</span>;
</span><span id="10772" class="l"><a class="l" href="#10772">10772: </a>                }
</span><span id="10773" class="l"><a class="l" href="#10773">10773: </a>                <span class="php-keyword1">else</span>
</span><span id="10774" class="l"><a class="l" href="#10774">10774: </a>                {
</span><span id="10775" class="l"><a class="l" href="#10775">10775: </a>                    <span class="php-keyword1">unset</span>(<span class="php-var">$array</span>[<span class="php-var">$key</span>]);
</span><span id="10776" class="l"><a class="l" href="#10776">10776: </a>                }
</span><span id="10777" class="l"><a class="l" href="#10777">10777: </a>            }
</span><span id="10778" class="l"><a class="l" href="#10778">10778: </a>        }
</span><span id="10779" class="l"><a class="l" href="#10779">10779: </a>        <span class="php-keyword1">return</span> <span class="php-keyword1">null</span>;
</span><span id="10780" class="l"><a class="l" href="#10780">10780: </a>    }
</span><span id="10781" class="l"><a class="l" href="#10781">10781: </a>}
</span><span id="10782" class="l"><a class="l" href="#10782">10782: </a>
</span><span id="10783" class="l"><a class="l" href="#10783">10783: </a><span class="php-comment">/**
</span></span><span id="10784" class="l"><a class="l" href="#10784">10784: </a><span class="php-comment"> * Miscellanous utilities
</span></span><span id="10785" class="l"><a class="l" href="#10785">10785: </a><span class="php-comment"> *
</span></span><span id="10786" class="l"><a class="l" href="#10786">10786: </a><span class="php-comment"> * @package SimplePie
</span></span><span id="10787" class="l"><a class="l" href="#10787">10787: </a><span class="php-comment"> */</span>
</span><span id="10788" class="l"><a class="l" href="#10788">10788: </a><span class="php-keyword1">class</span> <a id="SimplePie_Misc" href="#SimplePie_Misc">SimplePie_Misc</a>
</span><span id="10789" class="l"><a class="l" href="#10789">10789: </a>{
</span><span id="10790" class="l"><a class="l" href="#10790">10790: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">static</span> <span class="php-keyword1">function</span> <a id="_time_hms" href="#_time_hms">time_hms</a>(<span class="php-var">$seconds</span>)
</span><span id="10791" class="l"><a class="l" href="#10791">10791: </a>    {
</span><span id="10792" class="l"><a class="l" href="#10792">10792: </a>        <span class="php-var">$time</span> = <span class="php-quote">''</span>;
</span><span id="10793" class="l"><a class="l" href="#10793">10793: </a>
</span><span id="10794" class="l"><a class="l" href="#10794">10794: </a>        <span class="php-var">$hours</span> = <span class="php-keyword2">floor</span>(<span class="php-var">$seconds</span> / <span class="php-num">3600</span>);
</span><span id="10795" class="l"><a class="l" href="#10795">10795: </a>        <span class="php-var">$remainder</span> = <span class="php-var">$seconds</span> % <span class="php-num">3600</span>;
</span><span id="10796" class="l"><a class="l" href="#10796">10796: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$hours</span> &gt; <span class="php-num">0</span>)
</span><span id="10797" class="l"><a class="l" href="#10797">10797: </a>        {
</span><span id="10798" class="l"><a class="l" href="#10798">10798: </a>            <span class="php-var">$time</span> .= <span class="php-var">$hours</span>.<span class="php-quote">':'</span>;
</span><span id="10799" class="l"><a class="l" href="#10799">10799: </a>        }
</span><span id="10800" class="l"><a class="l" href="#10800">10800: </a>
</span><span id="10801" class="l"><a class="l" href="#10801">10801: </a>        <span class="php-var">$minutes</span> = <span class="php-keyword2">floor</span>(<span class="php-var">$remainder</span> / <span class="php-num">60</span>);
</span><span id="10802" class="l"><a class="l" href="#10802">10802: </a>        <span class="php-var">$seconds</span> = <span class="php-var">$remainder</span> % <span class="php-num">60</span>;
</span><span id="10803" class="l"><a class="l" href="#10803">10803: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$minutes</span> &lt; <span class="php-num">10</span> &amp;&amp; <span class="php-var">$hours</span> &gt; <span class="php-num">0</span>)
</span><span id="10804" class="l"><a class="l" href="#10804">10804: </a>        {
</span><span id="10805" class="l"><a class="l" href="#10805">10805: </a>            <span class="php-var">$minutes</span> = <span class="php-quote">'0'</span> . <span class="php-var">$minutes</span>;
</span><span id="10806" class="l"><a class="l" href="#10806">10806: </a>        }
</span><span id="10807" class="l"><a class="l" href="#10807">10807: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$seconds</span> &lt; <span class="php-num">10</span>)
</span><span id="10808" class="l"><a class="l" href="#10808">10808: </a>        {
</span><span id="10809" class="l"><a class="l" href="#10809">10809: </a>            <span class="php-var">$seconds</span> = <span class="php-quote">'0'</span> . <span class="php-var">$seconds</span>;
</span><span id="10810" class="l"><a class="l" href="#10810">10810: </a>        }
</span><span id="10811" class="l"><a class="l" href="#10811">10811: </a>
</span><span id="10812" class="l"><a class="l" href="#10812">10812: </a>        <span class="php-var">$time</span> .= <span class="php-var">$minutes</span>.<span class="php-quote">':'</span>;
</span><span id="10813" class="l"><a class="l" href="#10813">10813: </a>        <span class="php-var">$time</span> .= <span class="php-var">$seconds</span>;
</span><span id="10814" class="l"><a class="l" href="#10814">10814: </a>
</span><span id="10815" class="l"><a class="l" href="#10815">10815: </a>        <span class="php-keyword1">return</span> <span class="php-var">$time</span>;
</span><span id="10816" class="l"><a class="l" href="#10816">10816: </a>    }
</span><span id="10817" class="l"><a class="l" href="#10817">10817: </a>
</span><span id="10818" class="l"><a class="l" href="#10818">10818: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">static</span> <span class="php-keyword1">function</span> <a id="_absolutize_url" href="#_absolutize_url">absolutize_url</a>(<span class="php-var">$relative</span>, <span class="php-var">$base</span>)
</span><span id="10819" class="l"><a class="l" href="#10819">10819: </a>    {
</span><span id="10820" class="l"><a class="l" href="#10820">10820: </a>        <span class="php-var">$iri</span> = SimplePie_IRI::absolutize(<span class="php-keyword1">new</span> SimplePie_IRI(<span class="php-var">$base</span>), <span class="php-var">$relative</span>);
</span><span id="10821" class="l"><a class="l" href="#10821">10821: </a>        <span class="php-keyword1">return</span> <span class="php-var">$iri</span>-&gt;get_iri();
</span><span id="10822" class="l"><a class="l" href="#10822">10822: </a>    }
</span><span id="10823" class="l"><a class="l" href="#10823">10823: </a>
</span><span id="10824" class="l"><a class="l" href="#10824">10824: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">static</span> <span class="php-keyword1">function</span> <a id="_remove_dot_segments" href="#_remove_dot_segments">remove_dot_segments</a>(<span class="php-var">$input</span>)
</span><span id="10825" class="l"><a class="l" href="#10825">10825: </a>    {
</span><span id="10826" class="l"><a class="l" href="#10826">10826: </a>        <span class="php-var">$output</span> = <span class="php-quote">''</span>;
</span><span id="10827" class="l"><a class="l" href="#10827">10827: </a>        <span class="php-keyword1">while</span> (<span class="php-keyword2">strpos</span>(<span class="php-var">$input</span>, <span class="php-quote">'./'</span>) !== <span class="php-keyword1">false</span> || <span class="php-keyword2">strpos</span>(<span class="php-var">$input</span>, <span class="php-quote">'/.'</span>) !== <span class="php-keyword1">false</span> || <span class="php-var">$input</span> === <span class="php-quote">'.'</span> || <span class="php-var">$input</span> === <span class="php-quote">'..'</span>)
</span><span id="10828" class="l"><a class="l" href="#10828">10828: </a>        {
</span><span id="10829" class="l"><a class="l" href="#10829">10829: </a>            <span class="php-comment">// A: If the input buffer begins with a prefix of &quot;../&quot; or &quot;./&quot;, then remove that prefix from the input buffer; otherwise,</span>
</span><span id="10830" class="l"><a class="l" href="#10830">10830: </a>            <span class="php-keyword1">if</span> (<span class="php-keyword2">strpos</span>(<span class="php-var">$input</span>, <span class="php-quote">'../'</span>) === <span class="php-num">0</span>)
</span><span id="10831" class="l"><a class="l" href="#10831">10831: </a>            {
</span><span id="10832" class="l"><a class="l" href="#10832">10832: </a>                <span class="php-var">$input</span> = <span class="php-keyword2">substr</span>(<span class="php-var">$input</span>, <span class="php-num">3</span>);
</span><span id="10833" class="l"><a class="l" href="#10833">10833: </a>            }
</span><span id="10834" class="l"><a class="l" href="#10834">10834: </a>            <span class="php-keyword1">elseif</span> (<span class="php-keyword2">strpos</span>(<span class="php-var">$input</span>, <span class="php-quote">'./'</span>) === <span class="php-num">0</span>)
</span><span id="10835" class="l"><a class="l" href="#10835">10835: </a>            {
</span><span id="10836" class="l"><a class="l" href="#10836">10836: </a>                <span class="php-var">$input</span> = <span class="php-keyword2">substr</span>(<span class="php-var">$input</span>, <span class="php-num">2</span>);
</span><span id="10837" class="l"><a class="l" href="#10837">10837: </a>            }
</span><span id="10838" class="l"><a class="l" href="#10838">10838: </a>            <span class="php-comment">// B: if the input buffer begins with a prefix of &quot;/./&quot; or &quot;/.&quot;, where &quot;.&quot; is a complete path segment, then replace that prefix with &quot;/&quot; in the input buffer; otherwise,</span>
</span><span id="10839" class="l"><a class="l" href="#10839">10839: </a>            <span class="php-keyword1">elseif</span> (<span class="php-keyword2">strpos</span>(<span class="php-var">$input</span>, <span class="php-quote">'/./'</span>) === <span class="php-num">0</span>)
</span><span id="10840" class="l"><a class="l" href="#10840">10840: </a>            {
</span><span id="10841" class="l"><a class="l" href="#10841">10841: </a>                <span class="php-var">$input</span> = <span class="php-keyword2">substr_replace</span>(<span class="php-var">$input</span>, <span class="php-quote">'/'</span>, <span class="php-num">0</span>, <span class="php-num">3</span>);
</span><span id="10842" class="l"><a class="l" href="#10842">10842: </a>            }
</span><span id="10843" class="l"><a class="l" href="#10843">10843: </a>            <span class="php-keyword1">elseif</span> (<span class="php-var">$input</span> === <span class="php-quote">'/.'</span>)
</span><span id="10844" class="l"><a class="l" href="#10844">10844: </a>            {
</span><span id="10845" class="l"><a class="l" href="#10845">10845: </a>                <span class="php-var">$input</span> = <span class="php-quote">'/'</span>;
</span><span id="10846" class="l"><a class="l" href="#10846">10846: </a>            }
</span><span id="10847" class="l"><a class="l" href="#10847">10847: </a>            <span class="php-comment">// C: if the input buffer begins with a prefix of &quot;/../&quot; or &quot;/..&quot;, where &quot;..&quot; is a complete path segment, then replace that prefix with &quot;/&quot; in the input buffer and remove the last segment and its preceding &quot;/&quot; (if any) from the output buffer; otherwise,</span>
</span><span id="10848" class="l"><a class="l" href="#10848">10848: </a>            <span class="php-keyword1">elseif</span> (<span class="php-keyword2">strpos</span>(<span class="php-var">$input</span>, <span class="php-quote">'/../'</span>) === <span class="php-num">0</span>)
</span><span id="10849" class="l"><a class="l" href="#10849">10849: </a>            {
</span><span id="10850" class="l"><a class="l" href="#10850">10850: </a>                <span class="php-var">$input</span> = <span class="php-keyword2">substr_replace</span>(<span class="php-var">$input</span>, <span class="php-quote">'/'</span>, <span class="php-num">0</span>, <span class="php-num">4</span>);
</span><span id="10851" class="l"><a class="l" href="#10851">10851: </a>                <span class="php-var">$output</span> = <span class="php-keyword2">substr_replace</span>(<span class="php-var">$output</span>, <span class="php-quote">''</span>, <span class="php-keyword2">strrpos</span>(<span class="php-var">$output</span>, <span class="php-quote">'/'</span>));
</span><span id="10852" class="l"><a class="l" href="#10852">10852: </a>            }
</span><span id="10853" class="l"><a class="l" href="#10853">10853: </a>            <span class="php-keyword1">elseif</span> (<span class="php-var">$input</span> === <span class="php-quote">'/..'</span>)
</span><span id="10854" class="l"><a class="l" href="#10854">10854: </a>            {
</span><span id="10855" class="l"><a class="l" href="#10855">10855: </a>                <span class="php-var">$input</span> = <span class="php-quote">'/'</span>;
</span><span id="10856" class="l"><a class="l" href="#10856">10856: </a>                <span class="php-var">$output</span> = <span class="php-keyword2">substr_replace</span>(<span class="php-var">$output</span>, <span class="php-quote">''</span>, <span class="php-keyword2">strrpos</span>(<span class="php-var">$output</span>, <span class="php-quote">'/'</span>));
</span><span id="10857" class="l"><a class="l" href="#10857">10857: </a>            }
</span><span id="10858" class="l"><a class="l" href="#10858">10858: </a>            <span class="php-comment">// D: if the input buffer consists only of &quot;.&quot; or &quot;..&quot;, then remove that from the input buffer; otherwise,</span>
</span><span id="10859" class="l"><a class="l" href="#10859">10859: </a>            <span class="php-keyword1">elseif</span> (<span class="php-var">$input</span> === <span class="php-quote">'.'</span> || <span class="php-var">$input</span> === <span class="php-quote">'..'</span>)
</span><span id="10860" class="l"><a class="l" href="#10860">10860: </a>            {
</span><span id="10861" class="l"><a class="l" href="#10861">10861: </a>                <span class="php-var">$input</span> = <span class="php-quote">''</span>;
</span><span id="10862" class="l"><a class="l" href="#10862">10862: </a>            }
</span><span id="10863" class="l"><a class="l" href="#10863">10863: </a>            <span class="php-comment">// E: move the first path segment in the input buffer to the end of the output buffer, including the initial &quot;/&quot; character (if any) and any subsequent characters up to, but not including, the next &quot;/&quot; character or the end of the input buffer</span>
</span><span id="10864" class="l"><a class="l" href="#10864">10864: </a>            <span class="php-keyword1">elseif</span> ((<span class="php-var">$pos</span> = <span class="php-keyword2">strpos</span>(<span class="php-var">$input</span>, <span class="php-quote">'/'</span>, <span class="php-num">1</span>)) !== <span class="php-keyword1">false</span>)
</span><span id="10865" class="l"><a class="l" href="#10865">10865: </a>            {
</span><span id="10866" class="l"><a class="l" href="#10866">10866: </a>                <span class="php-var">$output</span> .= <span class="php-keyword2">substr</span>(<span class="php-var">$input</span>, <span class="php-num">0</span>, <span class="php-var">$pos</span>);
</span><span id="10867" class="l"><a class="l" href="#10867">10867: </a>                <span class="php-var">$input</span> = <span class="php-keyword2">substr_replace</span>(<span class="php-var">$input</span>, <span class="php-quote">''</span>, <span class="php-num">0</span>, <span class="php-var">$pos</span>);
</span><span id="10868" class="l"><a class="l" href="#10868">10868: </a>            }
</span><span id="10869" class="l"><a class="l" href="#10869">10869: </a>            <span class="php-keyword1">else</span>
</span><span id="10870" class="l"><a class="l" href="#10870">10870: </a>            {
</span><span id="10871" class="l"><a class="l" href="#10871">10871: </a>                <span class="php-var">$output</span> .= <span class="php-var">$input</span>;
</span><span id="10872" class="l"><a class="l" href="#10872">10872: </a>                <span class="php-var">$input</span> = <span class="php-quote">''</span>;
</span><span id="10873" class="l"><a class="l" href="#10873">10873: </a>            }
</span><span id="10874" class="l"><a class="l" href="#10874">10874: </a>        }
</span><span id="10875" class="l"><a class="l" href="#10875">10875: </a>        <span class="php-keyword1">return</span> <span class="php-var">$output</span> . <span class="php-var">$input</span>;
</span><span id="10876" class="l"><a class="l" href="#10876">10876: </a>    }
</span><span id="10877" class="l"><a class="l" href="#10877">10877: </a>
</span><span id="10878" class="l"><a class="l" href="#10878">10878: </a>    <span class="php-comment">/**
</span></span><span id="10879" class="l"><a class="l" href="#10879">10879: </a><span class="php-comment">     * Get a HTML/XML element from a HTML string
</span></span><span id="10880" class="l"><a class="l" href="#10880">10880: </a><span class="php-comment">     *
</span></span><span id="10881" class="l"><a class="l" href="#10881">10881: </a><span class="php-comment">     * @deprecated Use DOMDocument instead (parsing HTML with regex is bad!)
</span></span><span id="10882" class="l"><a class="l" href="#10882">10882: </a><span class="php-comment">     * @param string $realname Element name (including namespace prefix if applicable)
</span></span><span id="10883" class="l"><a class="l" href="#10883">10883: </a><span class="php-comment">     * @param string $string HTML document
</span></span><span id="10884" class="l"><a class="l" href="#10884">10884: </a><span class="php-comment">     * @return array
</span></span><span id="10885" class="l"><a class="l" href="#10885">10885: </a><span class="php-comment">     */</span>
</span><span id="10886" class="l"><a class="l" href="#10886">10886: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">static</span> <span class="php-keyword1">function</span> <a id="_get_element" href="#_get_element">get_element</a>(<span class="php-var">$realname</span>, <span class="php-var">$string</span>)
</span><span id="10887" class="l"><a class="l" href="#10887">10887: </a>    {
</span><span id="10888" class="l"><a class="l" href="#10888">10888: </a>        <span class="php-var">$return</span> = <span class="php-keyword1">array</span>();
</span><span id="10889" class="l"><a class="l" href="#10889">10889: </a>        <span class="php-var">$name</span> = <span class="php-keyword2">preg_quote</span>(<span class="php-var">$realname</span>, <span class="php-quote">'/'</span>);
</span><span id="10890" class="l"><a class="l" href="#10890">10890: </a>        <span class="php-keyword1">if</span> (<span class="php-keyword2">preg_match_all</span>(<span class="php-quote">&quot;/&lt;(</span><span class="php-var">$name</span><span class="php-quote">)&quot;</span> . SIMPLEPIE_PCRE_HTML_ATTRIBUTE . <span class="php-quote">&quot;(&gt;(.*)&lt;\/</span><span class="php-var">$name</span><span class="php-quote">&gt;|(\/)?&gt;)/siU&quot;</span>, <span class="php-var">$string</span>, <span class="php-var">$matches</span>, PREG_SET_ORDER | PREG_OFFSET_CAPTURE))
</span><span id="10891" class="l"><a class="l" href="#10891">10891: </a>        {
</span><span id="10892" class="l"><a class="l" href="#10892">10892: </a>            <span class="php-keyword1">for</span> (<span class="php-var">$i</span> = <span class="php-num">0</span>, <span class="php-var">$total_matches</span> = <span class="php-keyword2">count</span>(<span class="php-var">$matches</span>); <span class="php-var">$i</span> &lt; <span class="php-var">$total_matches</span>; <span class="php-var">$i</span>++)
</span><span id="10893" class="l"><a class="l" href="#10893">10893: </a>            {
</span><span id="10894" class="l"><a class="l" href="#10894">10894: </a>                <span class="php-var">$return</span>[<span class="php-var">$i</span>][<span class="php-quote">'tag'</span>] = <span class="php-var">$realname</span>;
</span><span id="10895" class="l"><a class="l" href="#10895">10895: </a>                <span class="php-var">$return</span>[<span class="php-var">$i</span>][<span class="php-quote">'full'</span>] = <span class="php-var">$matches</span>[<span class="php-var">$i</span>][<span class="php-num">0</span>][<span class="php-num">0</span>];
</span><span id="10896" class="l"><a class="l" href="#10896">10896: </a>                <span class="php-var">$return</span>[<span class="php-var">$i</span>][<span class="php-quote">'offset'</span>] = <span class="php-var">$matches</span>[<span class="php-var">$i</span>][<span class="php-num">0</span>][<span class="php-num">1</span>];
</span><span id="10897" class="l"><a class="l" href="#10897">10897: </a>                <span class="php-keyword1">if</span> (<span class="php-keyword2">strlen</span>(<span class="php-var">$matches</span>[<span class="php-var">$i</span>][<span class="php-num">3</span>][<span class="php-num">0</span>]) &lt;= <span class="php-num">2</span>)
</span><span id="10898" class="l"><a class="l" href="#10898">10898: </a>                {
</span><span id="10899" class="l"><a class="l" href="#10899">10899: </a>                    <span class="php-var">$return</span>[<span class="php-var">$i</span>][<span class="php-quote">'self_closing'</span>] = <span class="php-keyword1">true</span>;
</span><span id="10900" class="l"><a class="l" href="#10900">10900: </a>                }
</span><span id="10901" class="l"><a class="l" href="#10901">10901: </a>                <span class="php-keyword1">else</span>
</span><span id="10902" class="l"><a class="l" href="#10902">10902: </a>                {
</span><span id="10903" class="l"><a class="l" href="#10903">10903: </a>                    <span class="php-var">$return</span>[<span class="php-var">$i</span>][<span class="php-quote">'self_closing'</span>] = <span class="php-keyword1">false</span>;
</span><span id="10904" class="l"><a class="l" href="#10904">10904: </a>                    <span class="php-var">$return</span>[<span class="php-var">$i</span>][<span class="php-quote">'content'</span>] = <span class="php-var">$matches</span>[<span class="php-var">$i</span>][<span class="php-num">4</span>][<span class="php-num">0</span>];
</span><span id="10905" class="l"><a class="l" href="#10905">10905: </a>                }
</span><span id="10906" class="l"><a class="l" href="#10906">10906: </a>                <span class="php-var">$return</span>[<span class="php-var">$i</span>][<span class="php-quote">'attribs'</span>] = <span class="php-keyword1">array</span>();
</span><span id="10907" class="l"><a class="l" href="#10907">10907: </a>                <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$matches</span>[<span class="php-var">$i</span>][<span class="php-num">2</span>][<span class="php-num">0</span>]) &amp;&amp; <span class="php-keyword2">preg_match_all</span>(<span class="php-quote">'/[\x09\x0A\x0B\x0C\x0D\x20]+([^\x09\x0A\x0B\x0C\x0D\x20\x2F\x3E][^\x09\x0A\x0B\x0C\x0D\x20\x2F\x3D\x3E]*)(?:[\x09\x0A\x0B\x0C\x0D\x20]*=[\x09\x0A\x0B\x0C\x0D\x20]*(?:&quot;([^&quot;]*)&quot;|\'([^\']*)\'|([^\x09\x0A\x0B\x0C\x0D\x20\x22\x27\x3E][^\x09\x0A\x0B\x0C\x0D\x20\x3E]*)?))?/'</span>, <span class="php-quote">' '</span> . <span class="php-var">$matches</span>[<span class="php-var">$i</span>][<span class="php-num">2</span>][<span class="php-num">0</span>] . <span class="php-quote">' '</span>, <span class="php-var">$attribs</span>, PREG_SET_ORDER))
</span><span id="10908" class="l"><a class="l" href="#10908">10908: </a>                {
</span><span id="10909" class="l"><a class="l" href="#10909">10909: </a>                    <span class="php-keyword1">for</span> (<span class="php-var">$j</span> = <span class="php-num">0</span>, <span class="php-var">$total_attribs</span> = <span class="php-keyword2">count</span>(<span class="php-var">$attribs</span>); <span class="php-var">$j</span> &lt; <span class="php-var">$total_attribs</span>; <span class="php-var">$j</span>++)
</span><span id="10910" class="l"><a class="l" href="#10910">10910: </a>                    {
</span><span id="10911" class="l"><a class="l" href="#10911">10911: </a>                        <span class="php-keyword1">if</span> (<span class="php-keyword2">count</span>(<span class="php-var">$attribs</span>[<span class="php-var">$j</span>]) === <span class="php-num">2</span>)
</span><span id="10912" class="l"><a class="l" href="#10912">10912: </a>                        {
</span><span id="10913" class="l"><a class="l" href="#10913">10913: </a>                            <span class="php-var">$attribs</span>[<span class="php-var">$j</span>][<span class="php-num">2</span>] = <span class="php-var">$attribs</span>[<span class="php-var">$j</span>][<span class="php-num">1</span>];
</span><span id="10914" class="l"><a class="l" href="#10914">10914: </a>                        }
</span><span id="10915" class="l"><a class="l" href="#10915">10915: </a>                        <span class="php-var">$return</span>[<span class="php-var">$i</span>][<span class="php-quote">'attribs'</span>][<span class="php-keyword2">strtolower</span>(<span class="php-var">$attribs</span>[<span class="php-var">$j</span>][<span class="php-num">1</span>])][<span class="php-quote">'data'</span>] = SimplePie_Misc::entities_decode(<span class="php-keyword2">end</span>(<span class="php-var">$attribs</span>[<span class="php-var">$j</span>]), <span class="php-quote">'UTF-8'</span>);
</span><span id="10916" class="l"><a class="l" href="#10916">10916: </a>                    }
</span><span id="10917" class="l"><a class="l" href="#10917">10917: </a>                }
</span><span id="10918" class="l"><a class="l" href="#10918">10918: </a>            }
</span><span id="10919" class="l"><a class="l" href="#10919">10919: </a>        }
</span><span id="10920" class="l"><a class="l" href="#10920">10920: </a>        <span class="php-keyword1">return</span> <span class="php-var">$return</span>;
</span><span id="10921" class="l"><a class="l" href="#10921">10921: </a>    }
</span><span id="10922" class="l"><a class="l" href="#10922">10922: </a>
</span><span id="10923" class="l"><a class="l" href="#10923">10923: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">static</span> <span class="php-keyword1">function</span> <a id="_element_implode" href="#_element_implode">element_implode</a>(<span class="php-var">$element</span>)
</span><span id="10924" class="l"><a class="l" href="#10924">10924: </a>    {
</span><span id="10925" class="l"><a class="l" href="#10925">10925: </a>        <span class="php-var">$full</span> = <span class="php-quote">&quot;&lt;</span><span class="php-var">$element</span><span class="php-quote">[tag]&quot;</span>;
</span><span id="10926" class="l"><a class="l" href="#10926">10926: </a>        <span class="php-keyword1">foreach</span> (<span class="php-var">$element</span>[<span class="php-quote">'attribs'</span>] <span class="php-keyword1">as</span> <span class="php-var">$key</span> =&gt; <span class="php-var">$value</span>)
</span><span id="10927" class="l"><a class="l" href="#10927">10927: </a>        {
</span><span id="10928" class="l"><a class="l" href="#10928">10928: </a>            <span class="php-var">$key</span> = <span class="php-keyword2">strtolower</span>(<span class="php-var">$key</span>);
</span><span id="10929" class="l"><a class="l" href="#10929">10929: </a>            <span class="php-var">$full</span> .= <span class="php-quote">&quot; </span><span class="php-var">$key</span><span class="php-quote">=\&quot;&quot;</span> . <span class="php-keyword2">htmlspecialchars</span>(<span class="php-var">$value</span>[<span class="php-quote">'data'</span>]) . <span class="php-quote">'&quot;'</span>;
</span><span id="10930" class="l"><a class="l" href="#10930">10930: </a>        }
</span><span id="10931" class="l"><a class="l" href="#10931">10931: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$element</span>[<span class="php-quote">'self_closing'</span>])
</span><span id="10932" class="l"><a class="l" href="#10932">10932: </a>        {
</span><span id="10933" class="l"><a class="l" href="#10933">10933: </a>            <span class="php-var">$full</span> .= <span class="php-quote">' /&gt;'</span>;
</span><span id="10934" class="l"><a class="l" href="#10934">10934: </a>        }
</span><span id="10935" class="l"><a class="l" href="#10935">10935: </a>        <span class="php-keyword1">else</span>
</span><span id="10936" class="l"><a class="l" href="#10936">10936: </a>        {
</span><span id="10937" class="l"><a class="l" href="#10937">10937: </a>            <span class="php-var">$full</span> .= <span class="php-quote">&quot;&gt;</span><span class="php-var">$element</span><span class="php-quote">[content]&lt;/</span><span class="php-var">$element</span><span class="php-quote">[tag]&gt;&quot;</span>;
</span><span id="10938" class="l"><a class="l" href="#10938">10938: </a>        }
</span><span id="10939" class="l"><a class="l" href="#10939">10939: </a>        <span class="php-keyword1">return</span> <span class="php-var">$full</span>;
</span><span id="10940" class="l"><a class="l" href="#10940">10940: </a>    }
</span><span id="10941" class="l"><a class="l" href="#10941">10941: </a>
</span><span id="10942" class="l"><a class="l" href="#10942">10942: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">static</span> <span class="php-keyword1">function</span> <a id="_error" href="#_error">error</a>(<span class="php-var">$message</span>, <span class="php-var">$level</span>, <span class="php-var">$file</span>, <span class="php-var">$line</span>)
</span><span id="10943" class="l"><a class="l" href="#10943">10943: </a>    {
</span><span id="10944" class="l"><a class="l" href="#10944">10944: </a>        <span class="php-keyword1">if</span> ((<span class="php-keyword2">ini_get</span>(<span class="php-quote">'error_reporting'</span>) &amp; <span class="php-var">$level</span>) &gt; <span class="php-num">0</span>)
</span><span id="10945" class="l"><a class="l" href="#10945">10945: </a>        {
</span><span id="10946" class="l"><a class="l" href="#10946">10946: </a>            <span class="php-keyword1">switch</span> (<span class="php-var">$level</span>)
</span><span id="10947" class="l"><a class="l" href="#10947">10947: </a>            {
</span><span id="10948" class="l"><a class="l" href="#10948">10948: </a>                <span class="php-keyword1">case</span> E_USER_ERROR:
</span><span id="10949" class="l"><a class="l" href="#10949">10949: </a>                    <span class="php-var">$note</span> = <span class="php-quote">'PHP Error'</span>;
</span><span id="10950" class="l"><a class="l" href="#10950">10950: </a>                    <span class="php-keyword1">break</span>;
</span><span id="10951" class="l"><a class="l" href="#10951">10951: </a>                <span class="php-keyword1">case</span> E_USER_WARNING:
</span><span id="10952" class="l"><a class="l" href="#10952">10952: </a>                    <span class="php-var">$note</span> = <span class="php-quote">'PHP Warning'</span>;
</span><span id="10953" class="l"><a class="l" href="#10953">10953: </a>                    <span class="php-keyword1">break</span>;
</span><span id="10954" class="l"><a class="l" href="#10954">10954: </a>                <span class="php-keyword1">case</span> E_USER_NOTICE:
</span><span id="10955" class="l"><a class="l" href="#10955">10955: </a>                    <span class="php-var">$note</span> = <span class="php-quote">'PHP Notice'</span>;
</span><span id="10956" class="l"><a class="l" href="#10956">10956: </a>                    <span class="php-keyword1">break</span>;
</span><span id="10957" class="l"><a class="l" href="#10957">10957: </a>                <span class="php-keyword1">default</span>:
</span><span id="10958" class="l"><a class="l" href="#10958">10958: </a>                    <span class="php-var">$note</span> = <span class="php-quote">'Unknown Error'</span>;
</span><span id="10959" class="l"><a class="l" href="#10959">10959: </a>                    <span class="php-keyword1">break</span>;
</span><span id="10960" class="l"><a class="l" href="#10960">10960: </a>            }
</span><span id="10961" class="l"><a class="l" href="#10961">10961: </a>
</span><span id="10962" class="l"><a class="l" href="#10962">10962: </a>            <span class="php-var">$log_error</span> = <span class="php-keyword1">true</span>;
</span><span id="10963" class="l"><a class="l" href="#10963">10963: </a>            <span class="php-keyword1">if</span> (!<span class="php-keyword2">function_exists</span>(<span class="php-quote">'error_log'</span>))
</span><span id="10964" class="l"><a class="l" href="#10964">10964: </a>            {
</span><span id="10965" class="l"><a class="l" href="#10965">10965: </a>                <span class="php-var">$log_error</span> = <span class="php-keyword1">false</span>;
</span><span id="10966" class="l"><a class="l" href="#10966">10966: </a>            }
</span><span id="10967" class="l"><a class="l" href="#10967">10967: </a>
</span><span id="10968" class="l"><a class="l" href="#10968">10968: </a>            <span class="php-var">$log_file</span> = @<span class="php-keyword2">ini_get</span>(<span class="php-quote">'error_log'</span>);
</span><span id="10969" class="l"><a class="l" href="#10969">10969: </a>            <span class="php-keyword1">if</span> (!<span class="php-keyword1">empty</span>(<span class="php-var">$log_file</span>) &amp;&amp; (<span class="php-quote">'syslog'</span> !== <span class="php-var">$log_file</span>) &amp;&amp; !@<span class="php-keyword2">is_writable</span>(<span class="php-var">$log_file</span>))
</span><span id="10970" class="l"><a class="l" href="#10970">10970: </a>            {
</span><span id="10971" class="l"><a class="l" href="#10971">10971: </a>                <span class="php-var">$log_error</span> = <span class="php-keyword1">false</span>;
</span><span id="10972" class="l"><a class="l" href="#10972">10972: </a>            }
</span><span id="10973" class="l"><a class="l" href="#10973">10973: </a>
</span><span id="10974" class="l"><a class="l" href="#10974">10974: </a>            <span class="php-keyword1">if</span> (<span class="php-var">$log_error</span>)
</span><span id="10975" class="l"><a class="l" href="#10975">10975: </a>            {
</span><span id="10976" class="l"><a class="l" href="#10976">10976: </a>                @<span class="php-keyword2">error_log</span>(<span class="php-quote">&quot;</span><span class="php-var">$note</span><span class="php-quote">: </span><span class="php-var">$message</span><span class="php-quote"> in </span><span class="php-var">$file</span><span class="php-quote"> on line </span><span class="php-var">$line</span><span class="php-quote">&quot;</span>, <span class="php-num">0</span>);
</span><span id="10977" class="l"><a class="l" href="#10977">10977: </a>            }
</span><span id="10978" class="l"><a class="l" href="#10978">10978: </a>        }
</span><span id="10979" class="l"><a class="l" href="#10979">10979: </a>
</span><span id="10980" class="l"><a class="l" href="#10980">10980: </a>        <span class="php-keyword1">return</span> <span class="php-var">$message</span>;
</span><span id="10981" class="l"><a class="l" href="#10981">10981: </a>    }
</span><span id="10982" class="l"><a class="l" href="#10982">10982: </a>
</span><span id="10983" class="l"><a class="l" href="#10983">10983: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">static</span> <span class="php-keyword1">function</span> <a id="_fix_protocol" href="#_fix_protocol">fix_protocol</a>(<span class="php-var">$url</span>, <span class="php-var">$http</span> = <span class="php-num">1</span>)
</span><span id="10984" class="l"><a class="l" href="#10984">10984: </a>    {
</span><span id="10985" class="l"><a class="l" href="#10985">10985: </a>        <span class="php-var">$url</span> = SimplePie_Misc::normalize_url(<span class="php-var">$url</span>);
</span><span id="10986" class="l"><a class="l" href="#10986">10986: </a>        <span class="php-var">$parsed</span> = SimplePie_Misc::<span class="php-keyword2">parse_url</span>(<span class="php-var">$url</span>);
</span><span id="10987" class="l"><a class="l" href="#10987">10987: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$parsed</span>[<span class="php-quote">'scheme'</span>] !== <span class="php-quote">''</span> &amp;&amp; <span class="php-var">$parsed</span>[<span class="php-quote">'scheme'</span>] !== <span class="php-quote">'http'</span> &amp;&amp; <span class="php-var">$parsed</span>[<span class="php-quote">'scheme'</span>] !== <span class="php-quote">'https'</span>)
</span><span id="10988" class="l"><a class="l" href="#10988">10988: </a>        {
</span><span id="10989" class="l"><a class="l" href="#10989">10989: </a>            <span class="php-keyword1">return</span> SimplePie_Misc::fix_protocol(SimplePie_Misc::compress_parse_url(<span class="php-quote">'http'</span>, <span class="php-var">$parsed</span>[<span class="php-quote">'authority'</span>], <span class="php-var">$parsed</span>[<span class="php-quote">'path'</span>], <span class="php-var">$parsed</span>[<span class="php-quote">'query'</span>], <span class="php-var">$parsed</span>[<span class="php-quote">'fragment'</span>]), <span class="php-var">$http</span>);
</span><span id="10990" class="l"><a class="l" href="#10990">10990: </a>        }
</span><span id="10991" class="l"><a class="l" href="#10991">10991: </a>
</span><span id="10992" class="l"><a class="l" href="#10992">10992: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$parsed</span>[<span class="php-quote">'scheme'</span>] === <span class="php-quote">''</span> &amp;&amp; <span class="php-var">$parsed</span>[<span class="php-quote">'authority'</span>] === <span class="php-quote">''</span> &amp;&amp; !<span class="php-keyword2">file_exists</span>(<span class="php-var">$url</span>))
</span><span id="10993" class="l"><a class="l" href="#10993">10993: </a>        {
</span><span id="10994" class="l"><a class="l" href="#10994">10994: </a>            <span class="php-keyword1">return</span> SimplePie_Misc::fix_protocol(SimplePie_Misc::compress_parse_url(<span class="php-quote">'http'</span>, <span class="php-var">$parsed</span>[<span class="php-quote">'path'</span>], <span class="php-quote">''</span>, <span class="php-var">$parsed</span>[<span class="php-quote">'query'</span>], <span class="php-var">$parsed</span>[<span class="php-quote">'fragment'</span>]), <span class="php-var">$http</span>);
</span><span id="10995" class="l"><a class="l" href="#10995">10995: </a>        }
</span><span id="10996" class="l"><a class="l" href="#10996">10996: </a>
</span><span id="10997" class="l"><a class="l" href="#10997">10997: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$http</span> === <span class="php-num">2</span> &amp;&amp; <span class="php-var">$parsed</span>[<span class="php-quote">'scheme'</span>] !== <span class="php-quote">''</span>)
</span><span id="10998" class="l"><a class="l" href="#10998">10998: </a>        {
</span><span id="10999" class="l"><a class="l" href="#10999">10999: </a>            <span class="php-keyword1">return</span> <span class="php-quote">&quot;feed:</span><span class="php-var">$url</span><span class="php-quote">&quot;</span>;
</span><span id="11000" class="l"><a class="l" href="#11000">11000: </a>        }
</span><span id="11001" class="l"><a class="l" href="#11001">11001: </a>        <span class="php-keyword1">elseif</span> (<span class="php-var">$http</span> === <span class="php-num">3</span> &amp;&amp; <span class="php-keyword2">strtolower</span>(<span class="php-var">$parsed</span>[<span class="php-quote">'scheme'</span>]) === <span class="php-quote">'http'</span>)
</span><span id="11002" class="l"><a class="l" href="#11002">11002: </a>        {
</span><span id="11003" class="l"><a class="l" href="#11003">11003: </a>            <span class="php-keyword1">return</span> <span class="php-keyword2">substr_replace</span>(<span class="php-var">$url</span>, <span class="php-quote">'podcast'</span>, <span class="php-num">0</span>, <span class="php-num">4</span>);
</span><span id="11004" class="l"><a class="l" href="#11004">11004: </a>        }
</span><span id="11005" class="l"><a class="l" href="#11005">11005: </a>        <span class="php-keyword1">elseif</span> (<span class="php-var">$http</span> === <span class="php-num">4</span> &amp;&amp; <span class="php-keyword2">strtolower</span>(<span class="php-var">$parsed</span>[<span class="php-quote">'scheme'</span>]) === <span class="php-quote">'http'</span>)
</span><span id="11006" class="l"><a class="l" href="#11006">11006: </a>        {
</span><span id="11007" class="l"><a class="l" href="#11007">11007: </a>            <span class="php-keyword1">return</span> <span class="php-keyword2">substr_replace</span>(<span class="php-var">$url</span>, <span class="php-quote">'itpc'</span>, <span class="php-num">0</span>, <span class="php-num">4</span>);
</span><span id="11008" class="l"><a class="l" href="#11008">11008: </a>        }
</span><span id="11009" class="l"><a class="l" href="#11009">11009: </a>        <span class="php-keyword1">else</span>
</span><span id="11010" class="l"><a class="l" href="#11010">11010: </a>        {
</span><span id="11011" class="l"><a class="l" href="#11011">11011: </a>            <span class="php-keyword1">return</span> <span class="php-var">$url</span>;
</span><span id="11012" class="l"><a class="l" href="#11012">11012: </a>        }
</span><span id="11013" class="l"><a class="l" href="#11013">11013: </a>    }
</span><span id="11014" class="l"><a class="l" href="#11014">11014: </a>
</span><span id="11015" class="l"><a class="l" href="#11015">11015: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">static</span> <span class="php-keyword1">function</span> <span class="php-keyword2">parse_url</span>(<span class="php-var">$url</span>)
</span><span id="11016" class="l"><a class="l" href="#11016">11016: </a>    {
</span><span id="11017" class="l"><a class="l" href="#11017">11017: </a>        <span class="php-var">$iri</span> = <span class="php-keyword1">new</span> SimplePie_IRI(<span class="php-var">$url</span>);
</span><span id="11018" class="l"><a class="l" href="#11018">11018: </a>        <span class="php-keyword1">return</span> <span class="php-keyword1">array</span>(
</span><span id="11019" class="l"><a class="l" href="#11019">11019: </a>            <span class="php-quote">'scheme'</span> =&gt; (string) <span class="php-var">$iri</span>-&gt;get_scheme(),
</span><span id="11020" class="l"><a class="l" href="#11020">11020: </a>            <span class="php-quote">'authority'</span> =&gt; (string) <span class="php-var">$iri</span>-&gt;get_authority(),
</span><span id="11021" class="l"><a class="l" href="#11021">11021: </a>            <span class="php-quote">'path'</span> =&gt; (string) <span class="php-var">$iri</span>-&gt;get_path(),
</span><span id="11022" class="l"><a class="l" href="#11022">11022: </a>            <span class="php-quote">'query'</span> =&gt; (string) <span class="php-var">$iri</span>-&gt;get_query(),
</span><span id="11023" class="l"><a class="l" href="#11023">11023: </a>            <span class="php-quote">'fragment'</span> =&gt; (string) <span class="php-var">$iri</span>-&gt;get_fragment()
</span><span id="11024" class="l"><a class="l" href="#11024">11024: </a>        );
</span><span id="11025" class="l"><a class="l" href="#11025">11025: </a>    }
</span><span id="11026" class="l"><a class="l" href="#11026">11026: </a>
</span><span id="11027" class="l"><a class="l" href="#11027">11027: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">static</span> <span class="php-keyword1">function</span> <a id="_compress_parse_url" href="#_compress_parse_url">compress_parse_url</a>(<span class="php-var">$scheme</span> = <span class="php-quote">''</span>, <span class="php-var">$authority</span> = <span class="php-quote">''</span>, <span class="php-var">$path</span> = <span class="php-quote">''</span>, <span class="php-var">$query</span> = <span class="php-quote">''</span>, <span class="php-var">$fragment</span> = <span class="php-quote">''</span>)
</span><span id="11028" class="l"><a class="l" href="#11028">11028: </a>    {
</span><span id="11029" class="l"><a class="l" href="#11029">11029: </a>        <span class="php-var">$iri</span> = <span class="php-keyword1">new</span> SimplePie_IRI(<span class="php-quote">''</span>);
</span><span id="11030" class="l"><a class="l" href="#11030">11030: </a>        <span class="php-var">$iri</span>-&gt;set_scheme(<span class="php-var">$scheme</span>);
</span><span id="11031" class="l"><a class="l" href="#11031">11031: </a>        <span class="php-var">$iri</span>-&gt;set_authority(<span class="php-var">$authority</span>);
</span><span id="11032" class="l"><a class="l" href="#11032">11032: </a>        <span class="php-var">$iri</span>-&gt;set_path(<span class="php-var">$path</span>);
</span><span id="11033" class="l"><a class="l" href="#11033">11033: </a>        <span class="php-var">$iri</span>-&gt;set_query(<span class="php-var">$query</span>);
</span><span id="11034" class="l"><a class="l" href="#11034">11034: </a>        <span class="php-var">$iri</span>-&gt;set_fragment(<span class="php-var">$fragment</span>);
</span><span id="11035" class="l"><a class="l" href="#11035">11035: </a>        <span class="php-keyword1">return</span> <span class="php-var">$iri</span>-&gt;get_iri();
</span><span id="11036" class="l"><a class="l" href="#11036">11036: </a>    }
</span><span id="11037" class="l"><a class="l" href="#11037">11037: </a>
</span><span id="11038" class="l"><a class="l" href="#11038">11038: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">static</span> <span class="php-keyword1">function</span> <a id="_normalize_url" href="#_normalize_url">normalize_url</a>(<span class="php-var">$url</span>)
</span><span id="11039" class="l"><a class="l" href="#11039">11039: </a>    {
</span><span id="11040" class="l"><a class="l" href="#11040">11040: </a>        <span class="php-var">$iri</span> = <span class="php-keyword1">new</span> SimplePie_IRI(<span class="php-var">$url</span>);
</span><span id="11041" class="l"><a class="l" href="#11041">11041: </a>        <span class="php-keyword1">return</span> <span class="php-var">$iri</span>-&gt;get_iri();
</span><span id="11042" class="l"><a class="l" href="#11042">11042: </a>    }
</span><span id="11043" class="l"><a class="l" href="#11043">11043: </a>
</span><span id="11044" class="l"><a class="l" href="#11044">11044: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">static</span> <span class="php-keyword1">function</span> <a id="_percent_encoding_normalization" href="#_percent_encoding_normalization">percent_encoding_normalization</a>(<span class="php-var">$match</span>)
</span><span id="11045" class="l"><a class="l" href="#11045">11045: </a>    {
</span><span id="11046" class="l"><a class="l" href="#11046">11046: </a>        <span class="php-var">$integer</span> = <span class="php-keyword2">hexdec</span>(<span class="php-var">$match</span>[<span class="php-num">1</span>]);
</span><span id="11047" class="l"><a class="l" href="#11047">11047: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$integer</span> &gt;= <span class="php-num">0x41</span> &amp;&amp; <span class="php-var">$integer</span> &lt;= <span class="php-num">0x5A</span> || <span class="php-var">$integer</span> &gt;= <span class="php-num">0x61</span> &amp;&amp; <span class="php-var">$integer</span> &lt;= <span class="php-num">0x7A</span> || <span class="php-var">$integer</span> &gt;= <span class="php-num">0x30</span> &amp;&amp; <span class="php-var">$integer</span> &lt;= <span class="php-num">0x39</span> || <span class="php-var">$integer</span> === <span class="php-num">0x2D</span> || <span class="php-var">$integer</span> === <span class="php-num">0x2E</span> || <span class="php-var">$integer</span> === <span class="php-num">0x5F</span> || <span class="php-var">$integer</span> === <span class="php-num">0x7E</span>)
</span><span id="11048" class="l"><a class="l" href="#11048">11048: </a>        {
</span><span id="11049" class="l"><a class="l" href="#11049">11049: </a>            <span class="php-keyword1">return</span> <span class="php-keyword2">chr</span>(<span class="php-var">$integer</span>);
</span><span id="11050" class="l"><a class="l" href="#11050">11050: </a>        }
</span><span id="11051" class="l"><a class="l" href="#11051">11051: </a>        <span class="php-keyword1">else</span>
</span><span id="11052" class="l"><a class="l" href="#11052">11052: </a>        {
</span><span id="11053" class="l"><a class="l" href="#11053">11053: </a>            <span class="php-keyword1">return</span> <span class="php-keyword2">strtoupper</span>(<span class="php-var">$match</span>[<span class="php-num">0</span>]);
</span><span id="11054" class="l"><a class="l" href="#11054">11054: </a>        }
</span><span id="11055" class="l"><a class="l" href="#11055">11055: </a>    }
</span><span id="11056" class="l"><a class="l" href="#11056">11056: </a>
</span><span id="11057" class="l"><a class="l" href="#11057">11057: </a>    <span class="php-comment">/**
</span></span><span id="11058" class="l"><a class="l" href="#11058">11058: </a><span class="php-comment">     * Converts a Windows-1252 encoded string to a UTF-8 encoded string
</span></span><span id="11059" class="l"><a class="l" href="#11059">11059: </a><span class="php-comment">     *
</span></span><span id="11060" class="l"><a class="l" href="#11060">11060: </a><span class="php-comment">     * @static
</span></span><span id="11061" class="l"><a class="l" href="#11061">11061: </a><span class="php-comment">     * @param string $string Windows-1252 encoded string
</span></span><span id="11062" class="l"><a class="l" href="#11062">11062: </a><span class="php-comment">     * @return string UTF-8 encoded string
</span></span><span id="11063" class="l"><a class="l" href="#11063">11063: </a><span class="php-comment">     */</span>
</span><span id="11064" class="l"><a class="l" href="#11064">11064: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">static</span> <span class="php-keyword1">function</span> <a id="_windows_1252_to_utf8" href="#_windows_1252_to_utf8">windows_1252_to_utf8</a>(<span class="php-var">$string</span>)
</span><span id="11065" class="l"><a class="l" href="#11065">11065: </a>    {
</span><span id="11066" class="l"><a class="l" href="#11066">11066: </a>        <span class="php-keyword1">static</span> <span class="php-var"><a id="$convert_table" href="#$convert_table">$convert_table</a></span> = <span class="php-keyword1">array</span>(<span class="php-quote">&quot;\x80&quot;</span> =&gt; <span class="php-quote">&quot;\xE2\x82\xAC&quot;</span>, <span class="php-quote">&quot;\x81&quot;</span> =&gt; <span class="php-quote">&quot;\xEF\xBF\xBD&quot;</span>, <span class="php-quote">&quot;\x82&quot;</span> =&gt; <span class="php-quote">&quot;\xE2\x80\x9A&quot;</span>, <span class="php-quote">&quot;\x83&quot;</span> =&gt; <span class="php-quote">&quot;\xC6\x92&quot;</span>, <span class="php-quote">&quot;\x84&quot;</span> =&gt; <span class="php-quote">&quot;\xE2\x80\x9E&quot;</span>, <span class="php-quote">&quot;\x85&quot;</span> =&gt; <span class="php-quote">&quot;\xE2\x80\xA6&quot;</span>, <span class="php-quote">&quot;\x86&quot;</span> =&gt; <span class="php-quote">&quot;\xE2\x80\xA0&quot;</span>, <span class="php-quote">&quot;\x87&quot;</span> =&gt; <span class="php-quote">&quot;\xE2\x80\xA1&quot;</span>, <span class="php-quote">&quot;\x88&quot;</span> =&gt; <span class="php-quote">&quot;\xCB\x86&quot;</span>, <span class="php-quote">&quot;\x89&quot;</span> =&gt; <span class="php-quote">&quot;\xE2\x80\xB0&quot;</span>, <span class="php-quote">&quot;\x8A&quot;</span> =&gt; <span class="php-quote">&quot;\xC5\xA0&quot;</span>, <span class="php-quote">&quot;\x8B&quot;</span> =&gt; <span class="php-quote">&quot;\xE2\x80\xB9&quot;</span>, <span class="php-quote">&quot;\x8C&quot;</span> =&gt; <span class="php-quote">&quot;\xC5\x92&quot;</span>, <span class="php-quote">&quot;\x8D&quot;</span> =&gt; <span class="php-quote">&quot;\xEF\xBF\xBD&quot;</span>, <span class="php-quote">&quot;\x8E&quot;</span> =&gt; <span class="php-quote">&quot;\xC5\xBD&quot;</span>, <span class="php-quote">&quot;\x8F&quot;</span> =&gt; <span class="php-quote">&quot;\xEF\xBF\xBD&quot;</span>, <span class="php-quote">&quot;\x90&quot;</span> =&gt; <span class="php-quote">&quot;\xEF\xBF\xBD&quot;</span>, <span class="php-quote">&quot;\x91&quot;</span> =&gt; <span class="php-quote">&quot;\xE2\x80\x98&quot;</span>, <span class="php-quote">&quot;\x92&quot;</span> =&gt; <span class="php-quote">&quot;\xE2\x80\x99&quot;</span>, <span class="php-quote">&quot;\x93&quot;</span> =&gt; <span class="php-quote">&quot;\xE2\x80\x9C&quot;</span>, <span class="php-quote">&quot;\x94&quot;</span> =&gt; <span class="php-quote">&quot;\xE2\x80\x9D&quot;</span>, <span class="php-quote">&quot;\x95&quot;</span> =&gt; <span class="php-quote">&quot;\xE2\x80\xA2&quot;</span>, <span class="php-quote">&quot;\x96&quot;</span> =&gt; <span class="php-quote">&quot;\xE2\x80\x93&quot;</span>, <span class="php-quote">&quot;\x97&quot;</span> =&gt; <span class="php-quote">&quot;\xE2\x80\x94&quot;</span>, <span class="php-quote">&quot;\x98&quot;</span> =&gt; <span class="php-quote">&quot;\xCB\x9C&quot;</span>, <span class="php-quote">&quot;\x99&quot;</span> =&gt; <span class="php-quote">&quot;\xE2\x84\xA2&quot;</span>, <span class="php-quote">&quot;\x9A&quot;</span> =&gt; <span class="php-quote">&quot;\xC5\xA1&quot;</span>, <span class="php-quote">&quot;\x9B&quot;</span> =&gt; <span class="php-quote">&quot;\xE2\x80\xBA&quot;</span>, <span class="php-quote">&quot;\x9C&quot;</span> =&gt; <span class="php-quote">&quot;\xC5\x93&quot;</span>, <span class="php-quote">&quot;\x9D&quot;</span> =&gt; <span class="php-quote">&quot;\xEF\xBF\xBD&quot;</span>, <span class="php-quote">&quot;\x9E&quot;</span> =&gt; <span class="php-quote">&quot;\xC5\xBE&quot;</span>, <span class="php-quote">&quot;\x9F&quot;</span> =&gt; <span class="php-quote">&quot;\xC5\xB8&quot;</span>, <span class="php-quote">&quot;\xA0&quot;</span> =&gt; <span class="php-quote">&quot;\xC2\xA0&quot;</span>, <span class="php-quote">&quot;\xA1&quot;</span> =&gt; <span class="php-quote">&quot;\xC2\xA1&quot;</span>, <span class="php-quote">&quot;\xA2&quot;</span> =&gt; <span class="php-quote">&quot;\xC2\xA2&quot;</span>, <span class="php-quote">&quot;\xA3&quot;</span> =&gt; <span class="php-quote">&quot;\xC2\xA3&quot;</span>, <span class="php-quote">&quot;\xA4&quot;</span> =&gt; <span class="php-quote">&quot;\xC2\xA4&quot;</span>, <span class="php-quote">&quot;\xA5&quot;</span> =&gt; <span class="php-quote">&quot;\xC2\xA5&quot;</span>, <span class="php-quote">&quot;\xA6&quot;</span> =&gt; <span class="php-quote">&quot;\xC2\xA6&quot;</span>, <span class="php-quote">&quot;\xA7&quot;</span> =&gt; <span class="php-quote">&quot;\xC2\xA7&quot;</span>, <span class="php-quote">&quot;\xA8&quot;</span> =&gt; <span class="php-quote">&quot;\xC2\xA8&quot;</span>, <span class="php-quote">&quot;\xA9&quot;</span> =&gt; <span class="php-quote">&quot;\xC2\xA9&quot;</span>, <span class="php-quote">&quot;\xAA&quot;</span> =&gt; <span class="php-quote">&quot;\xC2\xAA&quot;</span>, <span class="php-quote">&quot;\xAB&quot;</span> =&gt; <span class="php-quote">&quot;\xC2\xAB&quot;</span>, <span class="php-quote">&quot;\xAC&quot;</span> =&gt; <span class="php-quote">&quot;\xC2\xAC&quot;</span>, <span class="php-quote">&quot;\xAD&quot;</span> =&gt; <span class="php-quote">&quot;\xC2\xAD&quot;</span>, <span class="php-quote">&quot;\xAE&quot;</span> =&gt; <span class="php-quote">&quot;\xC2\xAE&quot;</span>, <span class="php-quote">&quot;\xAF&quot;</span> =&gt; <span class="php-quote">&quot;\xC2\xAF&quot;</span>, <span class="php-quote">&quot;\xB0&quot;</span> =&gt; <span class="php-quote">&quot;\xC2\xB0&quot;</span>, <span class="php-quote">&quot;\xB1&quot;</span> =&gt; <span class="php-quote">&quot;\xC2\xB1&quot;</span>, <span class="php-quote">&quot;\xB2&quot;</span> =&gt; <span class="php-quote">&quot;\xC2\xB2&quot;</span>, <span class="php-quote">&quot;\xB3&quot;</span> =&gt; <span class="php-quote">&quot;\xC2\xB3&quot;</span>, <span class="php-quote">&quot;\xB4&quot;</span> =&gt; <span class="php-quote">&quot;\xC2\xB4&quot;</span>, <span class="php-quote">&quot;\xB5&quot;</span> =&gt; <span class="php-quote">&quot;\xC2\xB5&quot;</span>, <span class="php-quote">&quot;\xB6&quot;</span> =&gt; <span class="php-quote">&quot;\xC2\xB6&quot;</span>, <span class="php-quote">&quot;\xB7&quot;</span> =&gt; <span class="php-quote">&quot;\xC2\xB7&quot;</span>, <span class="php-quote">&quot;\xB8&quot;</span> =&gt; <span class="php-quote">&quot;\xC2\xB8&quot;</span>, <span class="php-quote">&quot;\xB9&quot;</span> =&gt; <span class="php-quote">&quot;\xC2\xB9&quot;</span>, <span class="php-quote">&quot;\xBA&quot;</span> =&gt; <span class="php-quote">&quot;\xC2\xBA&quot;</span>, <span class="php-quote">&quot;\xBB&quot;</span> =&gt; <span class="php-quote">&quot;\xC2\xBB&quot;</span>, <span class="php-quote">&quot;\xBC&quot;</span> =&gt; <span class="php-quote">&quot;\xC2\xBC&quot;</span>, <span class="php-quote">&quot;\xBD&quot;</span> =&gt; <span class="php-quote">&quot;\xC2\xBD&quot;</span>, <span class="php-quote">&quot;\xBE&quot;</span> =&gt; <span class="php-quote">&quot;\xC2\xBE&quot;</span>, <span class="php-quote">&quot;\xBF&quot;</span> =&gt; <span class="php-quote">&quot;\xC2\xBF&quot;</span>, <span class="php-quote">&quot;\xC0&quot;</span> =&gt; <span class="php-quote">&quot;\xC3\x80&quot;</span>, <span class="php-quote">&quot;\xC1&quot;</span> =&gt; <span class="php-quote">&quot;\xC3\x81&quot;</span>, <span class="php-quote">&quot;\xC2&quot;</span> =&gt; <span class="php-quote">&quot;\xC3\x82&quot;</span>, <span class="php-quote">&quot;\xC3&quot;</span> =&gt; <span class="php-quote">&quot;\xC3\x83&quot;</span>, <span class="php-quote">&quot;\xC4&quot;</span> =&gt; <span class="php-quote">&quot;\xC3\x84&quot;</span>, <span class="php-quote">&quot;\xC5&quot;</span> =&gt; <span class="php-quote">&quot;\xC3\x85&quot;</span>, <span class="php-quote">&quot;\xC6&quot;</span> =&gt; <span class="php-quote">&quot;\xC3\x86&quot;</span>, <span class="php-quote">&quot;\xC7&quot;</span> =&gt; <span class="php-quote">&quot;\xC3\x87&quot;</span>, <span class="php-quote">&quot;\xC8&quot;</span> =&gt; <span class="php-quote">&quot;\xC3\x88&quot;</span>, <span class="php-quote">&quot;\xC9&quot;</span> =&gt; <span class="php-quote">&quot;\xC3\x89&quot;</span>, <span class="php-quote">&quot;\xCA&quot;</span> =&gt; <span class="php-quote">&quot;\xC3\x8A&quot;</span>, <span class="php-quote">&quot;\xCB&quot;</span> =&gt; <span class="php-quote">&quot;\xC3\x8B&quot;</span>, <span class="php-quote">&quot;\xCC&quot;</span> =&gt; <span class="php-quote">&quot;\xC3\x8C&quot;</span>, <span class="php-quote">&quot;\xCD&quot;</span> =&gt; <span class="php-quote">&quot;\xC3\x8D&quot;</span>, <span class="php-quote">&quot;\xCE&quot;</span> =&gt; <span class="php-quote">&quot;\xC3\x8E&quot;</span>, <span class="php-quote">&quot;\xCF&quot;</span> =&gt; <span class="php-quote">&quot;\xC3\x8F&quot;</span>, <span class="php-quote">&quot;\xD0&quot;</span> =&gt; <span class="php-quote">&quot;\xC3\x90&quot;</span>, <span class="php-quote">&quot;\xD1&quot;</span> =&gt; <span class="php-quote">&quot;\xC3\x91&quot;</span>, <span class="php-quote">&quot;\xD2&quot;</span> =&gt; <span class="php-quote">&quot;\xC3\x92&quot;</span>, <span class="php-quote">&quot;\xD3&quot;</span> =&gt; <span class="php-quote">&quot;\xC3\x93&quot;</span>, <span class="php-quote">&quot;\xD4&quot;</span> =&gt; <span class="php-quote">&quot;\xC3\x94&quot;</span>, <span class="php-quote">&quot;\xD5&quot;</span> =&gt; <span class="php-quote">&quot;\xC3\x95&quot;</span>, <span class="php-quote">&quot;\xD6&quot;</span> =&gt; <span class="php-quote">&quot;\xC3\x96&quot;</span>, <span class="php-quote">&quot;\xD7&quot;</span> =&gt; <span class="php-quote">&quot;\xC3\x97&quot;</span>, <span class="php-quote">&quot;\xD8&quot;</span> =&gt; <span class="php-quote">&quot;\xC3\x98&quot;</span>, <span class="php-quote">&quot;\xD9&quot;</span> =&gt; <span class="php-quote">&quot;\xC3\x99&quot;</span>, <span class="php-quote">&quot;\xDA&quot;</span> =&gt; <span class="php-quote">&quot;\xC3\x9A&quot;</span>, <span class="php-quote">&quot;\xDB&quot;</span> =&gt; <span class="php-quote">&quot;\xC3\x9B&quot;</span>, <span class="php-quote">&quot;\xDC&quot;</span> =&gt; <span class="php-quote">&quot;\xC3\x9C&quot;</span>, <span class="php-quote">&quot;\xDD&quot;</span> =&gt; <span class="php-quote">&quot;\xC3\x9D&quot;</span>, <span class="php-quote">&quot;\xDE&quot;</span> =&gt; <span class="php-quote">&quot;\xC3\x9E&quot;</span>, <span class="php-quote">&quot;\xDF&quot;</span> =&gt; <span class="php-quote">&quot;\xC3\x9F&quot;</span>, <span class="php-quote">&quot;\xE0&quot;</span> =&gt; <span class="php-quote">&quot;\xC3\xA0&quot;</span>, <span class="php-quote">&quot;\xE1&quot;</span> =&gt; <span class="php-quote">&quot;\xC3\xA1&quot;</span>, <span class="php-quote">&quot;\xE2&quot;</span> =&gt; <span class="php-quote">&quot;\xC3\xA2&quot;</span>, <span class="php-quote">&quot;\xE3&quot;</span> =&gt; <span class="php-quote">&quot;\xC3\xA3&quot;</span>, <span class="php-quote">&quot;\xE4&quot;</span> =&gt; <span class="php-quote">&quot;\xC3\xA4&quot;</span>, <span class="php-quote">&quot;\xE5&quot;</span> =&gt; <span class="php-quote">&quot;\xC3\xA5&quot;</span>, <span class="php-quote">&quot;\xE6&quot;</span> =&gt; <span class="php-quote">&quot;\xC3\xA6&quot;</span>, <span class="php-quote">&quot;\xE7&quot;</span> =&gt; <span class="php-quote">&quot;\xC3\xA7&quot;</span>, <span class="php-quote">&quot;\xE8&quot;</span> =&gt; <span class="php-quote">&quot;\xC3\xA8&quot;</span>, <span class="php-quote">&quot;\xE9&quot;</span> =&gt; <span class="php-quote">&quot;\xC3\xA9&quot;</span>, <span class="php-quote">&quot;\xEA&quot;</span> =&gt; <span class="php-quote">&quot;\xC3\xAA&quot;</span>, <span class="php-quote">&quot;\xEB&quot;</span> =&gt; <span class="php-quote">&quot;\xC3\xAB&quot;</span>, <span class="php-quote">&quot;\xEC&quot;</span> =&gt; <span class="php-quote">&quot;\xC3\xAC&quot;</span>, <span class="php-quote">&quot;\xED&quot;</span> =&gt; <span class="php-quote">&quot;\xC3\xAD&quot;</span>, <span class="php-quote">&quot;\xEE&quot;</span> =&gt; <span class="php-quote">&quot;\xC3\xAE&quot;</span>, <span class="php-quote">&quot;\xEF&quot;</span> =&gt; <span class="php-quote">&quot;\xC3\xAF&quot;</span>, <span class="php-quote">&quot;\xF0&quot;</span> =&gt; <span class="php-quote">&quot;\xC3\xB0&quot;</span>, <span class="php-quote">&quot;\xF1&quot;</span> =&gt; <span class="php-quote">&quot;\xC3\xB1&quot;</span>, <span class="php-quote">&quot;\xF2&quot;</span> =&gt; <span class="php-quote">&quot;\xC3\xB2&quot;</span>, <span class="php-quote">&quot;\xF3&quot;</span> =&gt; <span class="php-quote">&quot;\xC3\xB3&quot;</span>, <span class="php-quote">&quot;\xF4&quot;</span> =&gt; <span class="php-quote">&quot;\xC3\xB4&quot;</span>, <span class="php-quote">&quot;\xF5&quot;</span> =&gt; <span class="php-quote">&quot;\xC3\xB5&quot;</span>, <span class="php-quote">&quot;\xF6&quot;</span> =&gt; <span class="php-quote">&quot;\xC3\xB6&quot;</span>, <span class="php-quote">&quot;\xF7&quot;</span> =&gt; <span class="php-quote">&quot;\xC3\xB7&quot;</span>, <span class="php-quote">&quot;\xF8&quot;</span> =&gt; <span class="php-quote">&quot;\xC3\xB8&quot;</span>, <span class="php-quote">&quot;\xF9&quot;</span> =&gt; <span class="php-quote">&quot;\xC3\xB9&quot;</span>, <span class="php-quote">&quot;\xFA&quot;</span> =&gt; <span class="php-quote">&quot;\xC3\xBA&quot;</span>, <span class="php-quote">&quot;\xFB&quot;</span> =&gt; <span class="php-quote">&quot;\xC3\xBB&quot;</span>, <span class="php-quote">&quot;\xFC&quot;</span> =&gt; <span class="php-quote">&quot;\xC3\xBC&quot;</span>, <span class="php-quote">&quot;\xFD&quot;</span> =&gt; <span class="php-quote">&quot;\xC3\xBD&quot;</span>, <span class="php-quote">&quot;\xFE&quot;</span> =&gt; <span class="php-quote">&quot;\xC3\xBE&quot;</span>, <span class="php-quote">&quot;\xFF&quot;</span> =&gt; <span class="php-quote">&quot;\xC3\xBF&quot;</span>);
</span><span id="11067" class="l"><a class="l" href="#11067">11067: </a>
</span><span id="11068" class="l"><a class="l" href="#11068">11068: </a>        <span class="php-keyword1">return</span> <span class="php-keyword2">strtr</span>(<span class="php-var">$string</span>, <span class="php-var">$convert_table</span>);
</span><span id="11069" class="l"><a class="l" href="#11069">11069: </a>    }
</span><span id="11070" class="l"><a class="l" href="#11070">11070: </a>
</span><span id="11071" class="l"><a class="l" href="#11071">11071: </a>    <span class="php-comment">/**
</span></span><span id="11072" class="l"><a class="l" href="#11072">11072: </a><span class="php-comment">     * Change a string from one encoding to another
</span></span><span id="11073" class="l"><a class="l" href="#11073">11073: </a><span class="php-comment">     *
</span></span><span id="11074" class="l"><a class="l" href="#11074">11074: </a><span class="php-comment">     * @param string $data Raw data in $input encoding
</span></span><span id="11075" class="l"><a class="l" href="#11075">11075: </a><span class="php-comment">     * @param string $input Encoding of $data
</span></span><span id="11076" class="l"><a class="l" href="#11076">11076: </a><span class="php-comment">     * @param string $output Encoding you want
</span></span><span id="11077" class="l"><a class="l" href="#11077">11077: </a><span class="php-comment">     * @return string|boolean False if we can't convert it
</span></span><span id="11078" class="l"><a class="l" href="#11078">11078: </a><span class="php-comment">     */</span>
</span><span id="11079" class="l"><a class="l" href="#11079">11079: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">static</span> <span class="php-keyword1">function</span> <a id="_change_encoding" href="#_change_encoding">change_encoding</a>(<span class="php-var">$data</span>, <span class="php-var">$input</span>, <span class="php-var">$output</span>)
</span><span id="11080" class="l"><a class="l" href="#11080">11080: </a>    {
</span><span id="11081" class="l"><a class="l" href="#11081">11081: </a>        <span class="php-var">$input</span> = SimplePie_Misc::encoding(<span class="php-var">$input</span>);
</span><span id="11082" class="l"><a class="l" href="#11082">11082: </a>        <span class="php-var">$output</span> = SimplePie_Misc::encoding(<span class="php-var">$output</span>);
</span><span id="11083" class="l"><a class="l" href="#11083">11083: </a>
</span><span id="11084" class="l"><a class="l" href="#11084">11084: </a>        <span class="php-comment">// We fail to fail on non US-ASCII bytes</span>
</span><span id="11085" class="l"><a class="l" href="#11085">11085: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$input</span> === <span class="php-quote">'US-ASCII'</span>)
</span><span id="11086" class="l"><a class="l" href="#11086">11086: </a>        {
</span><span id="11087" class="l"><a class="l" href="#11087">11087: </a>            <span class="php-keyword1">static</span> <span class="php-var"><a id="$non_ascii_octects" href="#$non_ascii_octects">$non_ascii_octects</a></span> = <span class="php-quote">''</span>;
</span><span id="11088" class="l"><a class="l" href="#11088">11088: </a>            <span class="php-keyword1">if</span> (!<span class="php-var">$non_ascii_octects</span>)
</span><span id="11089" class="l"><a class="l" href="#11089">11089: </a>            {
</span><span id="11090" class="l"><a class="l" href="#11090">11090: </a>                <span class="php-keyword1">for</span> (<span class="php-var">$i</span> = <span class="php-num">0x80</span>; <span class="php-var">$i</span> &lt;= <span class="php-num">0xFF</span>; <span class="php-var">$i</span>++)
</span><span id="11091" class="l"><a class="l" href="#11091">11091: </a>                {
</span><span id="11092" class="l"><a class="l" href="#11092">11092: </a>                    <span class="php-var">$non_ascii_octects</span> .= <span class="php-keyword2">chr</span>(<span class="php-var">$i</span>);
</span><span id="11093" class="l"><a class="l" href="#11093">11093: </a>                }
</span><span id="11094" class="l"><a class="l" href="#11094">11094: </a>            }
</span><span id="11095" class="l"><a class="l" href="#11095">11095: </a>            <span class="php-var">$data</span> = <span class="php-keyword2">substr</span>(<span class="php-var">$data</span>, <span class="php-num">0</span>, <span class="php-keyword2">strcspn</span>(<span class="php-var">$data</span>, <span class="php-var">$non_ascii_octects</span>));
</span><span id="11096" class="l"><a class="l" href="#11096">11096: </a>        }
</span><span id="11097" class="l"><a class="l" href="#11097">11097: </a>
</span><span id="11098" class="l"><a class="l" href="#11098">11098: </a>        <span class="php-comment">// This is first, as behaviour of this is completely predictable</span>
</span><span id="11099" class="l"><a class="l" href="#11099">11099: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$input</span> === <span class="php-quote">'windows-1252'</span> &amp;&amp; <span class="php-var">$output</span> === <span class="php-quote">'UTF-8'</span>)
</span><span id="11100" class="l"><a class="l" href="#11100">11100: </a>        {
</span><span id="11101" class="l"><a class="l" href="#11101">11101: </a>            <span class="php-keyword1">return</span> SimplePie_Misc::windows_1252_to_utf8(<span class="php-var">$data</span>);
</span><span id="11102" class="l"><a class="l" href="#11102">11102: </a>        }
</span><span id="11103" class="l"><a class="l" href="#11103">11103: </a>        <span class="php-comment">// This is second, as behaviour of this varies only with PHP version (the middle part of this expression checks the encoding is supported).</span>
</span><span id="11104" class="l"><a class="l" href="#11104">11104: </a>        <span class="php-keyword1">elseif</span> (<span class="php-keyword2">function_exists</span>(<span class="php-quote">'mb_convert_encoding'</span>) &amp;&amp; (<span class="php-var">$return</span> = SimplePie_Misc::change_encoding_mbstring(<span class="php-var">$data</span>, <span class="php-var">$input</span>, <span class="php-var">$output</span>)))
</span><span id="11105" class="l"><a class="l" href="#11105">11105: </a>        {
</span><span id="11106" class="l"><a class="l" href="#11106">11106: </a>            <span class="php-keyword1">return</span> <span class="php-var">$return</span>;
</span><span id="11107" class="l"><a class="l" href="#11107">11107: </a>        }
</span><span id="11108" class="l"><a class="l" href="#11108">11108: </a>        <span class="php-comment">// This is last, as behaviour of this varies with OS userland and PHP version</span>
</span><span id="11109" class="l"><a class="l" href="#11109">11109: </a>        <span class="php-keyword1">elseif</span> (<span class="php-keyword2">function_exists</span>(<span class="php-quote">'iconv'</span>) &amp;&amp; (<span class="php-var">$return</span> = SimplePie_Misc::change_encoding_iconv(<span class="php-var">$data</span>, <span class="php-var">$input</span>, <span class="php-var">$output</span>)))
</span><span id="11110" class="l"><a class="l" href="#11110">11110: </a>        {
</span><span id="11111" class="l"><a class="l" href="#11111">11111: </a>            <span class="php-keyword1">return</span> <span class="php-var">$return</span>;
</span><span id="11112" class="l"><a class="l" href="#11112">11112: </a>        }
</span><span id="11113" class="l"><a class="l" href="#11113">11113: </a>        <span class="php-comment">// If we can't do anything, just fail</span>
</span><span id="11114" class="l"><a class="l" href="#11114">11114: </a>        <span class="php-keyword1">else</span>
</span><span id="11115" class="l"><a class="l" href="#11115">11115: </a>        {
</span><span id="11116" class="l"><a class="l" href="#11116">11116: </a>            <span class="php-keyword1">return</span> <span class="php-keyword1">false</span>;
</span><span id="11117" class="l"><a class="l" href="#11117">11117: </a>        }
</span><span id="11118" class="l"><a class="l" href="#11118">11118: </a>    }
</span><span id="11119" class="l"><a class="l" href="#11119">11119: </a>
</span><span id="11120" class="l"><a class="l" href="#11120">11120: </a>    <span class="php-keyword1">protected</span> <span class="php-keyword1">static</span> <span class="php-keyword1">function</span> <a id="_change_encoding_mbstring" href="#_change_encoding_mbstring">change_encoding_mbstring</a>(<span class="php-var">$data</span>, <span class="php-var">$input</span>, <span class="php-var">$output</span>)
</span><span id="11121" class="l"><a class="l" href="#11121">11121: </a>    {
</span><span id="11122" class="l"><a class="l" href="#11122">11122: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$input</span> === <span class="php-quote">'windows-949'</span>)
</span><span id="11123" class="l"><a class="l" href="#11123">11123: </a>        {
</span><span id="11124" class="l"><a class="l" href="#11124">11124: </a>            <span class="php-var">$input</span> = <span class="php-quote">'EUC-KR'</span>;
</span><span id="11125" class="l"><a class="l" href="#11125">11125: </a>        }
</span><span id="11126" class="l"><a class="l" href="#11126">11126: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$output</span> === <span class="php-quote">'windows-949'</span>)
</span><span id="11127" class="l"><a class="l" href="#11127">11127: </a>        {
</span><span id="11128" class="l"><a class="l" href="#11128">11128: </a>            <span class="php-var">$output</span> = <span class="php-quote">'EUC-KR'</span>;
</span><span id="11129" class="l"><a class="l" href="#11129">11129: </a>        }
</span><span id="11130" class="l"><a class="l" href="#11130">11130: </a>
</span><span id="11131" class="l"><a class="l" href="#11131">11131: </a>        <span class="php-comment">// Check that the encoding is supported</span>
</span><span id="11132" class="l"><a class="l" href="#11132">11132: </a>        <span class="php-keyword1">if</span> (@<span class="php-keyword2">mb_convert_encoding</span>(<span class="php-quote">&quot;\x80&quot;</span>, <span class="php-quote">'UTF-16BE'</span>, <span class="php-var">$input</span>) === <span class="php-quote">&quot;\x00\x80&quot;</span>)
</span><span id="11133" class="l"><a class="l" href="#11133">11133: </a>        {
</span><span id="11134" class="l"><a class="l" href="#11134">11134: </a>            <span class="php-keyword1">return</span> <span class="php-keyword1">false</span>;
</span><span id="11135" class="l"><a class="l" href="#11135">11135: </a>        }
</span><span id="11136" class="l"><a class="l" href="#11136">11136: </a>        <span class="php-keyword1">if</span> (!<span class="php-keyword2">in_array</span>(<span class="php-var">$input</span>, <span class="php-keyword2">mb_list_encodings</span>()))
</span><span id="11137" class="l"><a class="l" href="#11137">11137: </a>        {
</span><span id="11138" class="l"><a class="l" href="#11138">11138: </a>            <span class="php-keyword1">return</span> <span class="php-keyword1">false</span>;
</span><span id="11139" class="l"><a class="l" href="#11139">11139: </a>        }
</span><span id="11140" class="l"><a class="l" href="#11140">11140: </a>
</span><span id="11141" class="l"><a class="l" href="#11141">11141: </a>        <span class="php-comment">// Let's do some conversion</span>
</span><span id="11142" class="l"><a class="l" href="#11142">11142: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$return</span> = @<span class="php-keyword2">mb_convert_encoding</span>(<span class="php-var">$data</span>, <span class="php-var">$output</span>, <span class="php-var">$input</span>))
</span><span id="11143" class="l"><a class="l" href="#11143">11143: </a>        {
</span><span id="11144" class="l"><a class="l" href="#11144">11144: </a>            <span class="php-keyword1">return</span> <span class="php-var">$return</span>;
</span><span id="11145" class="l"><a class="l" href="#11145">11145: </a>        }
</span><span id="11146" class="l"><a class="l" href="#11146">11146: </a>
</span><span id="11147" class="l"><a class="l" href="#11147">11147: </a>        <span class="php-keyword1">return</span> <span class="php-keyword1">false</span>;
</span><span id="11148" class="l"><a class="l" href="#11148">11148: </a>    }
</span><span id="11149" class="l"><a class="l" href="#11149">11149: </a>
</span><span id="11150" class="l"><a class="l" href="#11150">11150: </a>    <span class="php-keyword1">protected</span> <span class="php-keyword1">static</span> <span class="php-keyword1">function</span> <a id="_change_encoding_iconv" href="#_change_encoding_iconv">change_encoding_iconv</a>(<span class="php-var">$data</span>, <span class="php-var">$input</span>, <span class="php-var">$output</span>)
</span><span id="11151" class="l"><a class="l" href="#11151">11151: </a>    {
</span><span id="11152" class="l"><a class="l" href="#11152">11152: </a>        <span class="php-keyword1">return</span> @<span class="php-keyword2">iconv</span>(<span class="php-var">$input</span>, <span class="php-var">$output</span>, <span class="php-var">$data</span>);
</span><span id="11153" class="l"><a class="l" href="#11153">11153: </a>    }
</span><span id="11154" class="l"><a class="l" href="#11154">11154: </a>
</span><span id="11155" class="l"><a class="l" href="#11155">11155: </a>    <span class="php-comment">/**
</span></span><span id="11156" class="l"><a class="l" href="#11156">11156: </a><span class="php-comment">     * Normalize an encoding name
</span></span><span id="11157" class="l"><a class="l" href="#11157">11157: </a><span class="php-comment">     *
</span></span><span id="11158" class="l"><a class="l" href="#11158">11158: </a><span class="php-comment">     * This is automatically generated by create.php
</span></span><span id="11159" class="l"><a class="l" href="#11159">11159: </a><span class="php-comment">     *
</span></span><span id="11160" class="l"><a class="l" href="#11160">11160: </a><span class="php-comment">     * To generate it, run `php create.php` on the command line, and copy the
</span></span><span id="11161" class="l"><a class="l" href="#11161">11161: </a><span class="php-comment">     * output to replace this function.
</span></span><span id="11162" class="l"><a class="l" href="#11162">11162: </a><span class="php-comment">     *
</span></span><span id="11163" class="l"><a class="l" href="#11163">11163: </a><span class="php-comment">     * @param string $charset Character set to standardise
</span></span><span id="11164" class="l"><a class="l" href="#11164">11164: </a><span class="php-comment">     * @return string Standardised name
</span></span><span id="11165" class="l"><a class="l" href="#11165">11165: </a><span class="php-comment">     */</span>
</span><span id="11166" class="l"><a class="l" href="#11166">11166: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">static</span> <span class="php-keyword1">function</span> <a id="_encoding" href="#_encoding">encoding</a>(<span class="php-var">$charset</span>)
</span><span id="11167" class="l"><a class="l" href="#11167">11167: </a>    {
</span><span id="11168" class="l"><a class="l" href="#11168">11168: </a>        <span class="php-comment">// Normalization from UTS #22</span>
</span><span id="11169" class="l"><a class="l" href="#11169">11169: </a>        <span class="php-keyword1">switch</span> (<span class="php-keyword2">strtolower</span>(<span class="php-keyword2">preg_replace</span>(<span class="php-quote">'/(?:[^a-zA-Z0-9]+|([^0-9])0+)/'</span>, <span class="php-quote">'\1'</span>, <span class="php-var">$charset</span>)))
</span><span id="11170" class="l"><a class="l" href="#11170">11170: </a>        {
</span><span id="11171" class="l"><a class="l" href="#11171">11171: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'adobestandardencoding'</span>:
</span><span id="11172" class="l"><a class="l" href="#11172">11172: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csadobestandardencoding'</span>:
</span><span id="11173" class="l"><a class="l" href="#11173">11173: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'Adobe-Standard-Encoding'</span>;
</span><span id="11174" class="l"><a class="l" href="#11174">11174: </a>
</span><span id="11175" class="l"><a class="l" href="#11175">11175: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'adobesymbolencoding'</span>:
</span><span id="11176" class="l"><a class="l" href="#11176">11176: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'cshppsmath'</span>:
</span><span id="11177" class="l"><a class="l" href="#11177">11177: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'Adobe-Symbol-Encoding'</span>;
</span><span id="11178" class="l"><a class="l" href="#11178">11178: </a>
</span><span id="11179" class="l"><a class="l" href="#11179">11179: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'ami1251'</span>:
</span><span id="11180" class="l"><a class="l" href="#11180">11180: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'amiga1251'</span>:
</span><span id="11181" class="l"><a class="l" href="#11181">11181: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'Amiga-1251'</span>;
</span><span id="11182" class="l"><a class="l" href="#11182">11182: </a>
</span><span id="11183" class="l"><a class="l" href="#11183">11183: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'ansix31101983'</span>:
</span><span id="11184" class="l"><a class="l" href="#11184">11184: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csat5001983'</span>:
</span><span id="11185" class="l"><a class="l" href="#11185">11185: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csiso99naplps'</span>:
</span><span id="11186" class="l"><a class="l" href="#11186">11186: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'isoir99'</span>:
</span><span id="11187" class="l"><a class="l" href="#11187">11187: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'naplps'</span>:
</span><span id="11188" class="l"><a class="l" href="#11188">11188: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'ANSI_X3.110-1983'</span>;
</span><span id="11189" class="l"><a class="l" href="#11189">11189: </a>
</span><span id="11190" class="l"><a class="l" href="#11190">11190: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'arabic7'</span>:
</span><span id="11191" class="l"><a class="l" href="#11191">11191: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'asmo449'</span>:
</span><span id="11192" class="l"><a class="l" href="#11192">11192: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csiso89asmo449'</span>:
</span><span id="11193" class="l"><a class="l" href="#11193">11193: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'iso9036'</span>:
</span><span id="11194" class="l"><a class="l" href="#11194">11194: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'isoir89'</span>:
</span><span id="11195" class="l"><a class="l" href="#11195">11195: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'ASMO_449'</span>;
</span><span id="11196" class="l"><a class="l" href="#11196">11196: </a>
</span><span id="11197" class="l"><a class="l" href="#11197">11197: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'big5'</span>:
</span><span id="11198" class="l"><a class="l" href="#11198">11198: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csbig5'</span>:
</span><span id="11199" class="l"><a class="l" href="#11199">11199: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'Big5'</span>;
</span><span id="11200" class="l"><a class="l" href="#11200">11200: </a>
</span><span id="11201" class="l"><a class="l" href="#11201">11201: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'big5hkscs'</span>:
</span><span id="11202" class="l"><a class="l" href="#11202">11202: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'Big5-HKSCS'</span>;
</span><span id="11203" class="l"><a class="l" href="#11203">11203: </a>
</span><span id="11204" class="l"><a class="l" href="#11204">11204: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'bocu1'</span>:
</span><span id="11205" class="l"><a class="l" href="#11205">11205: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csbocu1'</span>:
</span><span id="11206" class="l"><a class="l" href="#11206">11206: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'BOCU-1'</span>;
</span><span id="11207" class="l"><a class="l" href="#11207">11207: </a>
</span><span id="11208" class="l"><a class="l" href="#11208">11208: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'brf'</span>:
</span><span id="11209" class="l"><a class="l" href="#11209">11209: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csbrf'</span>:
</span><span id="11210" class="l"><a class="l" href="#11210">11210: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'BRF'</span>;
</span><span id="11211" class="l"><a class="l" href="#11211">11211: </a>
</span><span id="11212" class="l"><a class="l" href="#11212">11212: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'bs4730'</span>:
</span><span id="11213" class="l"><a class="l" href="#11213">11213: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csiso4unitedkingdom'</span>:
</span><span id="11214" class="l"><a class="l" href="#11214">11214: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'gb'</span>:
</span><span id="11215" class="l"><a class="l" href="#11215">11215: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'iso646gb'</span>:
</span><span id="11216" class="l"><a class="l" href="#11216">11216: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'isoir4'</span>:
</span><span id="11217" class="l"><a class="l" href="#11217">11217: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'uk'</span>:
</span><span id="11218" class="l"><a class="l" href="#11218">11218: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'BS_4730'</span>;
</span><span id="11219" class="l"><a class="l" href="#11219">11219: </a>
</span><span id="11220" class="l"><a class="l" href="#11220">11220: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'bsviewdata'</span>:
</span><span id="11221" class="l"><a class="l" href="#11221">11221: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csiso47bsviewdata'</span>:
</span><span id="11222" class="l"><a class="l" href="#11222">11222: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'isoir47'</span>:
</span><span id="11223" class="l"><a class="l" href="#11223">11223: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'BS_viewdata'</span>;
</span><span id="11224" class="l"><a class="l" href="#11224">11224: </a>
</span><span id="11225" class="l"><a class="l" href="#11225">11225: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'cesu8'</span>:
</span><span id="11226" class="l"><a class="l" href="#11226">11226: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'cscesu8'</span>:
</span><span id="11227" class="l"><a class="l" href="#11227">11227: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'CESU-8'</span>;
</span><span id="11228" class="l"><a class="l" href="#11228">11228: </a>
</span><span id="11229" class="l"><a class="l" href="#11229">11229: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'ca'</span>:
</span><span id="11230" class="l"><a class="l" href="#11230">11230: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csa71'</span>:
</span><span id="11231" class="l"><a class="l" href="#11231">11231: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csaz243419851'</span>:
</span><span id="11232" class="l"><a class="l" href="#11232">11232: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csiso121canadian1'</span>:
</span><span id="11233" class="l"><a class="l" href="#11233">11233: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'iso646ca'</span>:
</span><span id="11234" class="l"><a class="l" href="#11234">11234: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'isoir121'</span>:
</span><span id="11235" class="l"><a class="l" href="#11235">11235: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'CSA_Z243.4-1985-1'</span>;
</span><span id="11236" class="l"><a class="l" href="#11236">11236: </a>
</span><span id="11237" class="l"><a class="l" href="#11237">11237: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csa72'</span>:
</span><span id="11238" class="l"><a class="l" href="#11238">11238: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csaz243419852'</span>:
</span><span id="11239" class="l"><a class="l" href="#11239">11239: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csiso122canadian2'</span>:
</span><span id="11240" class="l"><a class="l" href="#11240">11240: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'iso646ca2'</span>:
</span><span id="11241" class="l"><a class="l" href="#11241">11241: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'isoir122'</span>:
</span><span id="11242" class="l"><a class="l" href="#11242">11242: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'CSA_Z243.4-1985-2'</span>;
</span><span id="11243" class="l"><a class="l" href="#11243">11243: </a>
</span><span id="11244" class="l"><a class="l" href="#11244">11244: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csaz24341985gr'</span>:
</span><span id="11245" class="l"><a class="l" href="#11245">11245: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csiso123csaz24341985gr'</span>:
</span><span id="11246" class="l"><a class="l" href="#11246">11246: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'isoir123'</span>:
</span><span id="11247" class="l"><a class="l" href="#11247">11247: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'CSA_Z243.4-1985-gr'</span>;
</span><span id="11248" class="l"><a class="l" href="#11248">11248: </a>
</span><span id="11249" class="l"><a class="l" href="#11249">11249: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csiso139csn369103'</span>:
</span><span id="11250" class="l"><a class="l" href="#11250">11250: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csn369103'</span>:
</span><span id="11251" class="l"><a class="l" href="#11251">11251: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'isoir139'</span>:
</span><span id="11252" class="l"><a class="l" href="#11252">11252: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'CSN_369103'</span>;
</span><span id="11253" class="l"><a class="l" href="#11253">11253: </a>
</span><span id="11254" class="l"><a class="l" href="#11254">11254: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csdecmcs'</span>:
</span><span id="11255" class="l"><a class="l" href="#11255">11255: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'dec'</span>:
</span><span id="11256" class="l"><a class="l" href="#11256">11256: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'decmcs'</span>:
</span><span id="11257" class="l"><a class="l" href="#11257">11257: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'DEC-MCS'</span>;
</span><span id="11258" class="l"><a class="l" href="#11258">11258: </a>
</span><span id="11259" class="l"><a class="l" href="#11259">11259: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csiso21german'</span>:
</span><span id="11260" class="l"><a class="l" href="#11260">11260: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'de'</span>:
</span><span id="11261" class="l"><a class="l" href="#11261">11261: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'din66003'</span>:
</span><span id="11262" class="l"><a class="l" href="#11262">11262: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'iso646de'</span>:
</span><span id="11263" class="l"><a class="l" href="#11263">11263: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'isoir21'</span>:
</span><span id="11264" class="l"><a class="l" href="#11264">11264: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'DIN_66003'</span>;
</span><span id="11265" class="l"><a class="l" href="#11265">11265: </a>
</span><span id="11266" class="l"><a class="l" href="#11266">11266: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csdkus'</span>:
</span><span id="11267" class="l"><a class="l" href="#11267">11267: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'dkus'</span>:
</span><span id="11268" class="l"><a class="l" href="#11268">11268: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'dk-us'</span>;
</span><span id="11269" class="l"><a class="l" href="#11269">11269: </a>
</span><span id="11270" class="l"><a class="l" href="#11270">11270: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csiso646danish'</span>:
</span><span id="11271" class="l"><a class="l" href="#11271">11271: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'dk'</span>:
</span><span id="11272" class="l"><a class="l" href="#11272">11272: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'ds2089'</span>:
</span><span id="11273" class="l"><a class="l" href="#11273">11273: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'iso646dk'</span>:
</span><span id="11274" class="l"><a class="l" href="#11274">11274: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'DS_2089'</span>;
</span><span id="11275" class="l"><a class="l" href="#11275">11275: </a>
</span><span id="11276" class="l"><a class="l" href="#11276">11276: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csibmebcdicatde'</span>:
</span><span id="11277" class="l"><a class="l" href="#11277">11277: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'ebcdicatde'</span>:
</span><span id="11278" class="l"><a class="l" href="#11278">11278: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'EBCDIC-AT-DE'</span>;
</span><span id="11279" class="l"><a class="l" href="#11279">11279: </a>
</span><span id="11280" class="l"><a class="l" href="#11280">11280: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csebcdicatdea'</span>:
</span><span id="11281" class="l"><a class="l" href="#11281">11281: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'ebcdicatdea'</span>:
</span><span id="11282" class="l"><a class="l" href="#11282">11282: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'EBCDIC-AT-DE-A'</span>;
</span><span id="11283" class="l"><a class="l" href="#11283">11283: </a>
</span><span id="11284" class="l"><a class="l" href="#11284">11284: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csebcdiccafr'</span>:
</span><span id="11285" class="l"><a class="l" href="#11285">11285: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'ebcdiccafr'</span>:
</span><span id="11286" class="l"><a class="l" href="#11286">11286: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'EBCDIC-CA-FR'</span>;
</span><span id="11287" class="l"><a class="l" href="#11287">11287: </a>
</span><span id="11288" class="l"><a class="l" href="#11288">11288: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csebcdicdkno'</span>:
</span><span id="11289" class="l"><a class="l" href="#11289">11289: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'ebcdicdkno'</span>:
</span><span id="11290" class="l"><a class="l" href="#11290">11290: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'EBCDIC-DK-NO'</span>;
</span><span id="11291" class="l"><a class="l" href="#11291">11291: </a>
</span><span id="11292" class="l"><a class="l" href="#11292">11292: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csebcdicdknoa'</span>:
</span><span id="11293" class="l"><a class="l" href="#11293">11293: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'ebcdicdknoa'</span>:
</span><span id="11294" class="l"><a class="l" href="#11294">11294: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'EBCDIC-DK-NO-A'</span>;
</span><span id="11295" class="l"><a class="l" href="#11295">11295: </a>
</span><span id="11296" class="l"><a class="l" href="#11296">11296: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csebcdices'</span>:
</span><span id="11297" class="l"><a class="l" href="#11297">11297: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'ebcdices'</span>:
</span><span id="11298" class="l"><a class="l" href="#11298">11298: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'EBCDIC-ES'</span>;
</span><span id="11299" class="l"><a class="l" href="#11299">11299: </a>
</span><span id="11300" class="l"><a class="l" href="#11300">11300: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csebcdicesa'</span>:
</span><span id="11301" class="l"><a class="l" href="#11301">11301: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'ebcdicesa'</span>:
</span><span id="11302" class="l"><a class="l" href="#11302">11302: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'EBCDIC-ES-A'</span>;
</span><span id="11303" class="l"><a class="l" href="#11303">11303: </a>
</span><span id="11304" class="l"><a class="l" href="#11304">11304: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csebcdicess'</span>:
</span><span id="11305" class="l"><a class="l" href="#11305">11305: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'ebcdicess'</span>:
</span><span id="11306" class="l"><a class="l" href="#11306">11306: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'EBCDIC-ES-S'</span>;
</span><span id="11307" class="l"><a class="l" href="#11307">11307: </a>
</span><span id="11308" class="l"><a class="l" href="#11308">11308: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csebcdicfise'</span>:
</span><span id="11309" class="l"><a class="l" href="#11309">11309: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'ebcdicfise'</span>:
</span><span id="11310" class="l"><a class="l" href="#11310">11310: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'EBCDIC-FI-SE'</span>;
</span><span id="11311" class="l"><a class="l" href="#11311">11311: </a>
</span><span id="11312" class="l"><a class="l" href="#11312">11312: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csebcdicfisea'</span>:
</span><span id="11313" class="l"><a class="l" href="#11313">11313: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'ebcdicfisea'</span>:
</span><span id="11314" class="l"><a class="l" href="#11314">11314: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'EBCDIC-FI-SE-A'</span>;
</span><span id="11315" class="l"><a class="l" href="#11315">11315: </a>
</span><span id="11316" class="l"><a class="l" href="#11316">11316: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csebcdicfr'</span>:
</span><span id="11317" class="l"><a class="l" href="#11317">11317: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'ebcdicfr'</span>:
</span><span id="11318" class="l"><a class="l" href="#11318">11318: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'EBCDIC-FR'</span>;
</span><span id="11319" class="l"><a class="l" href="#11319">11319: </a>
</span><span id="11320" class="l"><a class="l" href="#11320">11320: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csebcdicit'</span>:
</span><span id="11321" class="l"><a class="l" href="#11321">11321: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'ebcdicit'</span>:
</span><span id="11322" class="l"><a class="l" href="#11322">11322: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'EBCDIC-IT'</span>;
</span><span id="11323" class="l"><a class="l" href="#11323">11323: </a>
</span><span id="11324" class="l"><a class="l" href="#11324">11324: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csebcdicpt'</span>:
</span><span id="11325" class="l"><a class="l" href="#11325">11325: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'ebcdicpt'</span>:
</span><span id="11326" class="l"><a class="l" href="#11326">11326: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'EBCDIC-PT'</span>;
</span><span id="11327" class="l"><a class="l" href="#11327">11327: </a>
</span><span id="11328" class="l"><a class="l" href="#11328">11328: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csebcdicuk'</span>:
</span><span id="11329" class="l"><a class="l" href="#11329">11329: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'ebcdicuk'</span>:
</span><span id="11330" class="l"><a class="l" href="#11330">11330: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'EBCDIC-UK'</span>;
</span><span id="11331" class="l"><a class="l" href="#11331">11331: </a>
</span><span id="11332" class="l"><a class="l" href="#11332">11332: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csebcdicus'</span>:
</span><span id="11333" class="l"><a class="l" href="#11333">11333: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'ebcdicus'</span>:
</span><span id="11334" class="l"><a class="l" href="#11334">11334: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'EBCDIC-US'</span>;
</span><span id="11335" class="l"><a class="l" href="#11335">11335: </a>
</span><span id="11336" class="l"><a class="l" href="#11336">11336: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csiso111ecmacyrillic'</span>:
</span><span id="11337" class="l"><a class="l" href="#11337">11337: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'ecmacyrillic'</span>:
</span><span id="11338" class="l"><a class="l" href="#11338">11338: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'isoir111'</span>:
</span><span id="11339" class="l"><a class="l" href="#11339">11339: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'koi8e'</span>:
</span><span id="11340" class="l"><a class="l" href="#11340">11340: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'ECMA-cyrillic'</span>;
</span><span id="11341" class="l"><a class="l" href="#11341">11341: </a>
</span><span id="11342" class="l"><a class="l" href="#11342">11342: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csiso17spanish'</span>:
</span><span id="11343" class="l"><a class="l" href="#11343">11343: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'es'</span>:
</span><span id="11344" class="l"><a class="l" href="#11344">11344: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'iso646es'</span>:
</span><span id="11345" class="l"><a class="l" href="#11345">11345: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'isoir17'</span>:
</span><span id="11346" class="l"><a class="l" href="#11346">11346: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'ES'</span>;
</span><span id="11347" class="l"><a class="l" href="#11347">11347: </a>
</span><span id="11348" class="l"><a class="l" href="#11348">11348: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csiso85spanish2'</span>:
</span><span id="11349" class="l"><a class="l" href="#11349">11349: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'es2'</span>:
</span><span id="11350" class="l"><a class="l" href="#11350">11350: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'iso646es2'</span>:
</span><span id="11351" class="l"><a class="l" href="#11351">11351: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'isoir85'</span>:
</span><span id="11352" class="l"><a class="l" href="#11352">11352: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'ES2'</span>;
</span><span id="11353" class="l"><a class="l" href="#11353">11353: </a>
</span><span id="11354" class="l"><a class="l" href="#11354">11354: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'cseucpkdfmtjapanese'</span>:
</span><span id="11355" class="l"><a class="l" href="#11355">11355: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'eucjp'</span>:
</span><span id="11356" class="l"><a class="l" href="#11356">11356: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'extendedunixcodepackedformatforjapanese'</span>:
</span><span id="11357" class="l"><a class="l" href="#11357">11357: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'EUC-JP'</span>;
</span><span id="11358" class="l"><a class="l" href="#11358">11358: </a>
</span><span id="11359" class="l"><a class="l" href="#11359">11359: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'cseucfixwidjapanese'</span>:
</span><span id="11360" class="l"><a class="l" href="#11360">11360: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'extendedunixcodefixedwidthforjapanese'</span>:
</span><span id="11361" class="l"><a class="l" href="#11361">11361: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'Extended_UNIX_Code_Fixed_Width_for_Japanese'</span>;
</span><span id="11362" class="l"><a class="l" href="#11362">11362: </a>
</span><span id="11363" class="l"><a class="l" href="#11363">11363: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'gb18030'</span>:
</span><span id="11364" class="l"><a class="l" href="#11364">11364: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'GB18030'</span>;
</span><span id="11365" class="l"><a class="l" href="#11365">11365: </a>
</span><span id="11366" class="l"><a class="l" href="#11366">11366: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'chinese'</span>:
</span><span id="11367" class="l"><a class="l" href="#11367">11367: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'cp936'</span>:
</span><span id="11368" class="l"><a class="l" href="#11368">11368: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csgb2312'</span>:
</span><span id="11369" class="l"><a class="l" href="#11369">11369: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csiso58gb231280'</span>:
</span><span id="11370" class="l"><a class="l" href="#11370">11370: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'gb2312'</span>:
</span><span id="11371" class="l"><a class="l" href="#11371">11371: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'gb231280'</span>:
</span><span id="11372" class="l"><a class="l" href="#11372">11372: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'gbk'</span>:
</span><span id="11373" class="l"><a class="l" href="#11373">11373: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'isoir58'</span>:
</span><span id="11374" class="l"><a class="l" href="#11374">11374: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'ms936'</span>:
</span><span id="11375" class="l"><a class="l" href="#11375">11375: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'windows936'</span>:
</span><span id="11376" class="l"><a class="l" href="#11376">11376: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'GBK'</span>;
</span><span id="11377" class="l"><a class="l" href="#11377">11377: </a>
</span><span id="11378" class="l"><a class="l" href="#11378">11378: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'cn'</span>:
</span><span id="11379" class="l"><a class="l" href="#11379">11379: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csiso57gb1988'</span>:
</span><span id="11380" class="l"><a class="l" href="#11380">11380: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'gb198880'</span>:
</span><span id="11381" class="l"><a class="l" href="#11381">11381: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'iso646cn'</span>:
</span><span id="11382" class="l"><a class="l" href="#11382">11382: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'isoir57'</span>:
</span><span id="11383" class="l"><a class="l" href="#11383">11383: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'GB_1988-80'</span>;
</span><span id="11384" class="l"><a class="l" href="#11384">11384: </a>
</span><span id="11385" class="l"><a class="l" href="#11385">11385: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csiso153gost1976874'</span>:
</span><span id="11386" class="l"><a class="l" href="#11386">11386: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'gost1976874'</span>:
</span><span id="11387" class="l"><a class="l" href="#11387">11387: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'isoir153'</span>:
</span><span id="11388" class="l"><a class="l" href="#11388">11388: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'stsev35888'</span>:
</span><span id="11389" class="l"><a class="l" href="#11389">11389: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'GOST_19768-74'</span>;
</span><span id="11390" class="l"><a class="l" href="#11390">11390: </a>
</span><span id="11391" class="l"><a class="l" href="#11391">11391: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csiso150'</span>:
</span><span id="11392" class="l"><a class="l" href="#11392">11392: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csiso150greekccitt'</span>:
</span><span id="11393" class="l"><a class="l" href="#11393">11393: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'greekccitt'</span>:
</span><span id="11394" class="l"><a class="l" href="#11394">11394: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'isoir150'</span>:
</span><span id="11395" class="l"><a class="l" href="#11395">11395: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'greek-ccitt'</span>;
</span><span id="11396" class="l"><a class="l" href="#11396">11396: </a>
</span><span id="11397" class="l"><a class="l" href="#11397">11397: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csiso88greek7'</span>:
</span><span id="11398" class="l"><a class="l" href="#11398">11398: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'greek7'</span>:
</span><span id="11399" class="l"><a class="l" href="#11399">11399: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'isoir88'</span>:
</span><span id="11400" class="l"><a class="l" href="#11400">11400: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'greek7'</span>;
</span><span id="11401" class="l"><a class="l" href="#11401">11401: </a>
</span><span id="11402" class="l"><a class="l" href="#11402">11402: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csiso18greek7old'</span>:
</span><span id="11403" class="l"><a class="l" href="#11403">11403: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'greek7old'</span>:
</span><span id="11404" class="l"><a class="l" href="#11404">11404: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'isoir18'</span>:
</span><span id="11405" class="l"><a class="l" href="#11405">11405: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'greek7-old'</span>;
</span><span id="11406" class="l"><a class="l" href="#11406">11406: </a>
</span><span id="11407" class="l"><a class="l" href="#11407">11407: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'cshpdesktop'</span>:
</span><span id="11408" class="l"><a class="l" href="#11408">11408: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'hpdesktop'</span>:
</span><span id="11409" class="l"><a class="l" href="#11409">11409: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'HP-DeskTop'</span>;
</span><span id="11410" class="l"><a class="l" href="#11410">11410: </a>
</span><span id="11411" class="l"><a class="l" href="#11411">11411: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'cshplegal'</span>:
</span><span id="11412" class="l"><a class="l" href="#11412">11412: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'hplegal'</span>:
</span><span id="11413" class="l"><a class="l" href="#11413">11413: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'HP-Legal'</span>;
</span><span id="11414" class="l"><a class="l" href="#11414">11414: </a>
</span><span id="11415" class="l"><a class="l" href="#11415">11415: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'cshpmath8'</span>:
</span><span id="11416" class="l"><a class="l" href="#11416">11416: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'hpmath8'</span>:
</span><span id="11417" class="l"><a class="l" href="#11417">11417: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'HP-Math8'</span>;
</span><span id="11418" class="l"><a class="l" href="#11418">11418: </a>
</span><span id="11419" class="l"><a class="l" href="#11419">11419: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'cshppifont'</span>:
</span><span id="11420" class="l"><a class="l" href="#11420">11420: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'hppifont'</span>:
</span><span id="11421" class="l"><a class="l" href="#11421">11421: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'HP-Pi-font'</span>;
</span><span id="11422" class="l"><a class="l" href="#11422">11422: </a>
</span><span id="11423" class="l"><a class="l" href="#11423">11423: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'cshproman8'</span>:
</span><span id="11424" class="l"><a class="l" href="#11424">11424: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'hproman8'</span>:
</span><span id="11425" class="l"><a class="l" href="#11425">11425: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'r8'</span>:
</span><span id="11426" class="l"><a class="l" href="#11426">11426: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'roman8'</span>:
</span><span id="11427" class="l"><a class="l" href="#11427">11427: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'hp-roman8'</span>;
</span><span id="11428" class="l"><a class="l" href="#11428">11428: </a>
</span><span id="11429" class="l"><a class="l" href="#11429">11429: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'hzgb2312'</span>:
</span><span id="11430" class="l"><a class="l" href="#11430">11430: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'HZ-GB-2312'</span>;
</span><span id="11431" class="l"><a class="l" href="#11431">11431: </a>
</span><span id="11432" class="l"><a class="l" href="#11432">11432: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csibmsymbols'</span>:
</span><span id="11433" class="l"><a class="l" href="#11433">11433: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'ibmsymbols'</span>:
</span><span id="11434" class="l"><a class="l" href="#11434">11434: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'IBM-Symbols'</span>;
</span><span id="11435" class="l"><a class="l" href="#11435">11435: </a>
</span><span id="11436" class="l"><a class="l" href="#11436">11436: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csibmthai'</span>:
</span><span id="11437" class="l"><a class="l" href="#11437">11437: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'ibmthai'</span>:
</span><span id="11438" class="l"><a class="l" href="#11438">11438: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'IBM-Thai'</span>;
</span><span id="11439" class="l"><a class="l" href="#11439">11439: </a>
</span><span id="11440" class="l"><a class="l" href="#11440">11440: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'cp37'</span>:
</span><span id="11441" class="l"><a class="l" href="#11441">11441: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csibm37'</span>:
</span><span id="11442" class="l"><a class="l" href="#11442">11442: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'ebcdiccpca'</span>:
</span><span id="11443" class="l"><a class="l" href="#11443">11443: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'ebcdiccpnl'</span>:
</span><span id="11444" class="l"><a class="l" href="#11444">11444: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'ebcdiccpus'</span>:
</span><span id="11445" class="l"><a class="l" href="#11445">11445: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'ebcdiccpwt'</span>:
</span><span id="11446" class="l"><a class="l" href="#11446">11446: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'ibm37'</span>:
</span><span id="11447" class="l"><a class="l" href="#11447">11447: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'IBM037'</span>;
</span><span id="11448" class="l"><a class="l" href="#11448">11448: </a>
</span><span id="11449" class="l"><a class="l" href="#11449">11449: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'cp38'</span>:
</span><span id="11450" class="l"><a class="l" href="#11450">11450: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csibm38'</span>:
</span><span id="11451" class="l"><a class="l" href="#11451">11451: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'ebcdicint'</span>:
</span><span id="11452" class="l"><a class="l" href="#11452">11452: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'ibm38'</span>:
</span><span id="11453" class="l"><a class="l" href="#11453">11453: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'IBM038'</span>;
</span><span id="11454" class="l"><a class="l" href="#11454">11454: </a>
</span><span id="11455" class="l"><a class="l" href="#11455">11455: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'cp273'</span>:
</span><span id="11456" class="l"><a class="l" href="#11456">11456: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csibm273'</span>:
</span><span id="11457" class="l"><a class="l" href="#11457">11457: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'ibm273'</span>:
</span><span id="11458" class="l"><a class="l" href="#11458">11458: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'IBM273'</span>;
</span><span id="11459" class="l"><a class="l" href="#11459">11459: </a>
</span><span id="11460" class="l"><a class="l" href="#11460">11460: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'cp274'</span>:
</span><span id="11461" class="l"><a class="l" href="#11461">11461: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csibm274'</span>:
</span><span id="11462" class="l"><a class="l" href="#11462">11462: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'ebcdicbe'</span>:
</span><span id="11463" class="l"><a class="l" href="#11463">11463: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'ibm274'</span>:
</span><span id="11464" class="l"><a class="l" href="#11464">11464: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'IBM274'</span>;
</span><span id="11465" class="l"><a class="l" href="#11465">11465: </a>
</span><span id="11466" class="l"><a class="l" href="#11466">11466: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'cp275'</span>:
</span><span id="11467" class="l"><a class="l" href="#11467">11467: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csibm275'</span>:
</span><span id="11468" class="l"><a class="l" href="#11468">11468: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'ebcdicbr'</span>:
</span><span id="11469" class="l"><a class="l" href="#11469">11469: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'ibm275'</span>:
</span><span id="11470" class="l"><a class="l" href="#11470">11470: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'IBM275'</span>;
</span><span id="11471" class="l"><a class="l" href="#11471">11471: </a>
</span><span id="11472" class="l"><a class="l" href="#11472">11472: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csibm277'</span>:
</span><span id="11473" class="l"><a class="l" href="#11473">11473: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'ebcdiccpdk'</span>:
</span><span id="11474" class="l"><a class="l" href="#11474">11474: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'ebcdiccpno'</span>:
</span><span id="11475" class="l"><a class="l" href="#11475">11475: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'ibm277'</span>:
</span><span id="11476" class="l"><a class="l" href="#11476">11476: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'IBM277'</span>;
</span><span id="11477" class="l"><a class="l" href="#11477">11477: </a>
</span><span id="11478" class="l"><a class="l" href="#11478">11478: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'cp278'</span>:
</span><span id="11479" class="l"><a class="l" href="#11479">11479: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csibm278'</span>:
</span><span id="11480" class="l"><a class="l" href="#11480">11480: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'ebcdiccpfi'</span>:
</span><span id="11481" class="l"><a class="l" href="#11481">11481: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'ebcdiccpse'</span>:
</span><span id="11482" class="l"><a class="l" href="#11482">11482: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'ibm278'</span>:
</span><span id="11483" class="l"><a class="l" href="#11483">11483: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'IBM278'</span>;
</span><span id="11484" class="l"><a class="l" href="#11484">11484: </a>
</span><span id="11485" class="l"><a class="l" href="#11485">11485: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'cp280'</span>:
</span><span id="11486" class="l"><a class="l" href="#11486">11486: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csibm280'</span>:
</span><span id="11487" class="l"><a class="l" href="#11487">11487: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'ebcdiccpit'</span>:
</span><span id="11488" class="l"><a class="l" href="#11488">11488: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'ibm280'</span>:
</span><span id="11489" class="l"><a class="l" href="#11489">11489: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'IBM280'</span>;
</span><span id="11490" class="l"><a class="l" href="#11490">11490: </a>
</span><span id="11491" class="l"><a class="l" href="#11491">11491: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'cp281'</span>:
</span><span id="11492" class="l"><a class="l" href="#11492">11492: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csibm281'</span>:
</span><span id="11493" class="l"><a class="l" href="#11493">11493: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'ebcdicjpe'</span>:
</span><span id="11494" class="l"><a class="l" href="#11494">11494: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'ibm281'</span>:
</span><span id="11495" class="l"><a class="l" href="#11495">11495: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'IBM281'</span>;
</span><span id="11496" class="l"><a class="l" href="#11496">11496: </a>
</span><span id="11497" class="l"><a class="l" href="#11497">11497: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'cp284'</span>:
</span><span id="11498" class="l"><a class="l" href="#11498">11498: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csibm284'</span>:
</span><span id="11499" class="l"><a class="l" href="#11499">11499: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'ebcdiccpes'</span>:
</span><span id="11500" class="l"><a class="l" href="#11500">11500: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'ibm284'</span>:
</span><span id="11501" class="l"><a class="l" href="#11501">11501: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'IBM284'</span>;
</span><span id="11502" class="l"><a class="l" href="#11502">11502: </a>
</span><span id="11503" class="l"><a class="l" href="#11503">11503: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'cp285'</span>:
</span><span id="11504" class="l"><a class="l" href="#11504">11504: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csibm285'</span>:
</span><span id="11505" class="l"><a class="l" href="#11505">11505: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'ebcdiccpgb'</span>:
</span><span id="11506" class="l"><a class="l" href="#11506">11506: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'ibm285'</span>:
</span><span id="11507" class="l"><a class="l" href="#11507">11507: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'IBM285'</span>;
</span><span id="11508" class="l"><a class="l" href="#11508">11508: </a>
</span><span id="11509" class="l"><a class="l" href="#11509">11509: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'cp290'</span>:
</span><span id="11510" class="l"><a class="l" href="#11510">11510: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csibm290'</span>:
</span><span id="11511" class="l"><a class="l" href="#11511">11511: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'ebcdicjpkana'</span>:
</span><span id="11512" class="l"><a class="l" href="#11512">11512: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'ibm290'</span>:
</span><span id="11513" class="l"><a class="l" href="#11513">11513: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'IBM290'</span>;
</span><span id="11514" class="l"><a class="l" href="#11514">11514: </a>
</span><span id="11515" class="l"><a class="l" href="#11515">11515: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'cp297'</span>:
</span><span id="11516" class="l"><a class="l" href="#11516">11516: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csibm297'</span>:
</span><span id="11517" class="l"><a class="l" href="#11517">11517: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'ebcdiccpfr'</span>:
</span><span id="11518" class="l"><a class="l" href="#11518">11518: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'ibm297'</span>:
</span><span id="11519" class="l"><a class="l" href="#11519">11519: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'IBM297'</span>;
</span><span id="11520" class="l"><a class="l" href="#11520">11520: </a>
</span><span id="11521" class="l"><a class="l" href="#11521">11521: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'cp420'</span>:
</span><span id="11522" class="l"><a class="l" href="#11522">11522: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csibm420'</span>:
</span><span id="11523" class="l"><a class="l" href="#11523">11523: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'ebcdiccpar1'</span>:
</span><span id="11524" class="l"><a class="l" href="#11524">11524: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'ibm420'</span>:
</span><span id="11525" class="l"><a class="l" href="#11525">11525: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'IBM420'</span>;
</span><span id="11526" class="l"><a class="l" href="#11526">11526: </a>
</span><span id="11527" class="l"><a class="l" href="#11527">11527: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'cp423'</span>:
</span><span id="11528" class="l"><a class="l" href="#11528">11528: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csibm423'</span>:
</span><span id="11529" class="l"><a class="l" href="#11529">11529: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'ebcdiccpgr'</span>:
</span><span id="11530" class="l"><a class="l" href="#11530">11530: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'ibm423'</span>:
</span><span id="11531" class="l"><a class="l" href="#11531">11531: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'IBM423'</span>;
</span><span id="11532" class="l"><a class="l" href="#11532">11532: </a>
</span><span id="11533" class="l"><a class="l" href="#11533">11533: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'cp424'</span>:
</span><span id="11534" class="l"><a class="l" href="#11534">11534: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csibm424'</span>:
</span><span id="11535" class="l"><a class="l" href="#11535">11535: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'ebcdiccphe'</span>:
</span><span id="11536" class="l"><a class="l" href="#11536">11536: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'ibm424'</span>:
</span><span id="11537" class="l"><a class="l" href="#11537">11537: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'IBM424'</span>;
</span><span id="11538" class="l"><a class="l" href="#11538">11538: </a>
</span><span id="11539" class="l"><a class="l" href="#11539">11539: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'437'</span>:
</span><span id="11540" class="l"><a class="l" href="#11540">11540: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'cp437'</span>:
</span><span id="11541" class="l"><a class="l" href="#11541">11541: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'cspc8codepage437'</span>:
</span><span id="11542" class="l"><a class="l" href="#11542">11542: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'ibm437'</span>:
</span><span id="11543" class="l"><a class="l" href="#11543">11543: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'IBM437'</span>;
</span><span id="11544" class="l"><a class="l" href="#11544">11544: </a>
</span><span id="11545" class="l"><a class="l" href="#11545">11545: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'cp500'</span>:
</span><span id="11546" class="l"><a class="l" href="#11546">11546: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csibm500'</span>:
</span><span id="11547" class="l"><a class="l" href="#11547">11547: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'ebcdiccpbe'</span>:
</span><span id="11548" class="l"><a class="l" href="#11548">11548: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'ebcdiccpch'</span>:
</span><span id="11549" class="l"><a class="l" href="#11549">11549: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'ibm500'</span>:
</span><span id="11550" class="l"><a class="l" href="#11550">11550: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'IBM500'</span>;
</span><span id="11551" class="l"><a class="l" href="#11551">11551: </a>
</span><span id="11552" class="l"><a class="l" href="#11552">11552: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'cp775'</span>:
</span><span id="11553" class="l"><a class="l" href="#11553">11553: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'cspc775baltic'</span>:
</span><span id="11554" class="l"><a class="l" href="#11554">11554: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'ibm775'</span>:
</span><span id="11555" class="l"><a class="l" href="#11555">11555: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'IBM775'</span>;
</span><span id="11556" class="l"><a class="l" href="#11556">11556: </a>
</span><span id="11557" class="l"><a class="l" href="#11557">11557: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'850'</span>:
</span><span id="11558" class="l"><a class="l" href="#11558">11558: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'cp850'</span>:
</span><span id="11559" class="l"><a class="l" href="#11559">11559: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'cspc850multilingual'</span>:
</span><span id="11560" class="l"><a class="l" href="#11560">11560: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'ibm850'</span>:
</span><span id="11561" class="l"><a class="l" href="#11561">11561: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'IBM850'</span>;
</span><span id="11562" class="l"><a class="l" href="#11562">11562: </a>
</span><span id="11563" class="l"><a class="l" href="#11563">11563: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'851'</span>:
</span><span id="11564" class="l"><a class="l" href="#11564">11564: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'cp851'</span>:
</span><span id="11565" class="l"><a class="l" href="#11565">11565: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csibm851'</span>:
</span><span id="11566" class="l"><a class="l" href="#11566">11566: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'ibm851'</span>:
</span><span id="11567" class="l"><a class="l" href="#11567">11567: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'IBM851'</span>;
</span><span id="11568" class="l"><a class="l" href="#11568">11568: </a>
</span><span id="11569" class="l"><a class="l" href="#11569">11569: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'852'</span>:
</span><span id="11570" class="l"><a class="l" href="#11570">11570: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'cp852'</span>:
</span><span id="11571" class="l"><a class="l" href="#11571">11571: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'cspcp852'</span>:
</span><span id="11572" class="l"><a class="l" href="#11572">11572: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'ibm852'</span>:
</span><span id="11573" class="l"><a class="l" href="#11573">11573: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'IBM852'</span>;
</span><span id="11574" class="l"><a class="l" href="#11574">11574: </a>
</span><span id="11575" class="l"><a class="l" href="#11575">11575: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'855'</span>:
</span><span id="11576" class="l"><a class="l" href="#11576">11576: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'cp855'</span>:
</span><span id="11577" class="l"><a class="l" href="#11577">11577: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csibm855'</span>:
</span><span id="11578" class="l"><a class="l" href="#11578">11578: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'ibm855'</span>:
</span><span id="11579" class="l"><a class="l" href="#11579">11579: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'IBM855'</span>;
</span><span id="11580" class="l"><a class="l" href="#11580">11580: </a>
</span><span id="11581" class="l"><a class="l" href="#11581">11581: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'857'</span>:
</span><span id="11582" class="l"><a class="l" href="#11582">11582: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'cp857'</span>:
</span><span id="11583" class="l"><a class="l" href="#11583">11583: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csibm857'</span>:
</span><span id="11584" class="l"><a class="l" href="#11584">11584: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'ibm857'</span>:
</span><span id="11585" class="l"><a class="l" href="#11585">11585: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'IBM857'</span>;
</span><span id="11586" class="l"><a class="l" href="#11586">11586: </a>
</span><span id="11587" class="l"><a class="l" href="#11587">11587: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'ccsid858'</span>:
</span><span id="11588" class="l"><a class="l" href="#11588">11588: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'cp858'</span>:
</span><span id="11589" class="l"><a class="l" href="#11589">11589: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'ibm858'</span>:
</span><span id="11590" class="l"><a class="l" href="#11590">11590: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'pcmultilingual850euro'</span>:
</span><span id="11591" class="l"><a class="l" href="#11591">11591: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'IBM00858'</span>;
</span><span id="11592" class="l"><a class="l" href="#11592">11592: </a>
</span><span id="11593" class="l"><a class="l" href="#11593">11593: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'860'</span>:
</span><span id="11594" class="l"><a class="l" href="#11594">11594: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'cp860'</span>:
</span><span id="11595" class="l"><a class="l" href="#11595">11595: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csibm860'</span>:
</span><span id="11596" class="l"><a class="l" href="#11596">11596: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'ibm860'</span>:
</span><span id="11597" class="l"><a class="l" href="#11597">11597: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'IBM860'</span>;
</span><span id="11598" class="l"><a class="l" href="#11598">11598: </a>
</span><span id="11599" class="l"><a class="l" href="#11599">11599: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'861'</span>:
</span><span id="11600" class="l"><a class="l" href="#11600">11600: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'cp861'</span>:
</span><span id="11601" class="l"><a class="l" href="#11601">11601: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'cpis'</span>:
</span><span id="11602" class="l"><a class="l" href="#11602">11602: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csibm861'</span>:
</span><span id="11603" class="l"><a class="l" href="#11603">11603: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'ibm861'</span>:
</span><span id="11604" class="l"><a class="l" href="#11604">11604: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'IBM861'</span>;
</span><span id="11605" class="l"><a class="l" href="#11605">11605: </a>
</span><span id="11606" class="l"><a class="l" href="#11606">11606: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'862'</span>:
</span><span id="11607" class="l"><a class="l" href="#11607">11607: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'cp862'</span>:
</span><span id="11608" class="l"><a class="l" href="#11608">11608: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'cspc862latinhebrew'</span>:
</span><span id="11609" class="l"><a class="l" href="#11609">11609: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'ibm862'</span>:
</span><span id="11610" class="l"><a class="l" href="#11610">11610: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'IBM862'</span>;
</span><span id="11611" class="l"><a class="l" href="#11611">11611: </a>
</span><span id="11612" class="l"><a class="l" href="#11612">11612: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'863'</span>:
</span><span id="11613" class="l"><a class="l" href="#11613">11613: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'cp863'</span>:
</span><span id="11614" class="l"><a class="l" href="#11614">11614: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csibm863'</span>:
</span><span id="11615" class="l"><a class="l" href="#11615">11615: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'ibm863'</span>:
</span><span id="11616" class="l"><a class="l" href="#11616">11616: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'IBM863'</span>;
</span><span id="11617" class="l"><a class="l" href="#11617">11617: </a>
</span><span id="11618" class="l"><a class="l" href="#11618">11618: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'cp864'</span>:
</span><span id="11619" class="l"><a class="l" href="#11619">11619: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csibm864'</span>:
</span><span id="11620" class="l"><a class="l" href="#11620">11620: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'ibm864'</span>:
</span><span id="11621" class="l"><a class="l" href="#11621">11621: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'IBM864'</span>;
</span><span id="11622" class="l"><a class="l" href="#11622">11622: </a>
</span><span id="11623" class="l"><a class="l" href="#11623">11623: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'865'</span>:
</span><span id="11624" class="l"><a class="l" href="#11624">11624: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'cp865'</span>:
</span><span id="11625" class="l"><a class="l" href="#11625">11625: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csibm865'</span>:
</span><span id="11626" class="l"><a class="l" href="#11626">11626: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'ibm865'</span>:
</span><span id="11627" class="l"><a class="l" href="#11627">11627: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'IBM865'</span>;
</span><span id="11628" class="l"><a class="l" href="#11628">11628: </a>
</span><span id="11629" class="l"><a class="l" href="#11629">11629: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'866'</span>:
</span><span id="11630" class="l"><a class="l" href="#11630">11630: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'cp866'</span>:
</span><span id="11631" class="l"><a class="l" href="#11631">11631: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csibm866'</span>:
</span><span id="11632" class="l"><a class="l" href="#11632">11632: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'ibm866'</span>:
</span><span id="11633" class="l"><a class="l" href="#11633">11633: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'IBM866'</span>;
</span><span id="11634" class="l"><a class="l" href="#11634">11634: </a>
</span><span id="11635" class="l"><a class="l" href="#11635">11635: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'cp868'</span>:
</span><span id="11636" class="l"><a class="l" href="#11636">11636: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'cpar'</span>:
</span><span id="11637" class="l"><a class="l" href="#11637">11637: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csibm868'</span>:
</span><span id="11638" class="l"><a class="l" href="#11638">11638: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'ibm868'</span>:
</span><span id="11639" class="l"><a class="l" href="#11639">11639: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'IBM868'</span>;
</span><span id="11640" class="l"><a class="l" href="#11640">11640: </a>
</span><span id="11641" class="l"><a class="l" href="#11641">11641: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'869'</span>:
</span><span id="11642" class="l"><a class="l" href="#11642">11642: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'cp869'</span>:
</span><span id="11643" class="l"><a class="l" href="#11643">11643: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'cpgr'</span>:
</span><span id="11644" class="l"><a class="l" href="#11644">11644: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csibm869'</span>:
</span><span id="11645" class="l"><a class="l" href="#11645">11645: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'ibm869'</span>:
</span><span id="11646" class="l"><a class="l" href="#11646">11646: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'IBM869'</span>;
</span><span id="11647" class="l"><a class="l" href="#11647">11647: </a>
</span><span id="11648" class="l"><a class="l" href="#11648">11648: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'cp870'</span>:
</span><span id="11649" class="l"><a class="l" href="#11649">11649: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csibm870'</span>:
</span><span id="11650" class="l"><a class="l" href="#11650">11650: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'ebcdiccproece'</span>:
</span><span id="11651" class="l"><a class="l" href="#11651">11651: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'ebcdiccpyu'</span>:
</span><span id="11652" class="l"><a class="l" href="#11652">11652: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'ibm870'</span>:
</span><span id="11653" class="l"><a class="l" href="#11653">11653: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'IBM870'</span>;
</span><span id="11654" class="l"><a class="l" href="#11654">11654: </a>
</span><span id="11655" class="l"><a class="l" href="#11655">11655: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'cp871'</span>:
</span><span id="11656" class="l"><a class="l" href="#11656">11656: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csibm871'</span>:
</span><span id="11657" class="l"><a class="l" href="#11657">11657: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'ebcdiccpis'</span>:
</span><span id="11658" class="l"><a class="l" href="#11658">11658: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'ibm871'</span>:
</span><span id="11659" class="l"><a class="l" href="#11659">11659: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'IBM871'</span>;
</span><span id="11660" class="l"><a class="l" href="#11660">11660: </a>
</span><span id="11661" class="l"><a class="l" href="#11661">11661: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'cp880'</span>:
</span><span id="11662" class="l"><a class="l" href="#11662">11662: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csibm880'</span>:
</span><span id="11663" class="l"><a class="l" href="#11663">11663: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'ebcdiccyrillic'</span>:
</span><span id="11664" class="l"><a class="l" href="#11664">11664: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'ibm880'</span>:
</span><span id="11665" class="l"><a class="l" href="#11665">11665: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'IBM880'</span>;
</span><span id="11666" class="l"><a class="l" href="#11666">11666: </a>
</span><span id="11667" class="l"><a class="l" href="#11667">11667: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'cp891'</span>:
</span><span id="11668" class="l"><a class="l" href="#11668">11668: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csibm891'</span>:
</span><span id="11669" class="l"><a class="l" href="#11669">11669: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'ibm891'</span>:
</span><span id="11670" class="l"><a class="l" href="#11670">11670: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'IBM891'</span>;
</span><span id="11671" class="l"><a class="l" href="#11671">11671: </a>
</span><span id="11672" class="l"><a class="l" href="#11672">11672: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'cp903'</span>:
</span><span id="11673" class="l"><a class="l" href="#11673">11673: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csibm903'</span>:
</span><span id="11674" class="l"><a class="l" href="#11674">11674: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'ibm903'</span>:
</span><span id="11675" class="l"><a class="l" href="#11675">11675: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'IBM903'</span>;
</span><span id="11676" class="l"><a class="l" href="#11676">11676: </a>
</span><span id="11677" class="l"><a class="l" href="#11677">11677: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'904'</span>:
</span><span id="11678" class="l"><a class="l" href="#11678">11678: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'cp904'</span>:
</span><span id="11679" class="l"><a class="l" href="#11679">11679: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csibbm904'</span>:
</span><span id="11680" class="l"><a class="l" href="#11680">11680: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'ibm904'</span>:
</span><span id="11681" class="l"><a class="l" href="#11681">11681: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'IBM904'</span>;
</span><span id="11682" class="l"><a class="l" href="#11682">11682: </a>
</span><span id="11683" class="l"><a class="l" href="#11683">11683: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'cp905'</span>:
</span><span id="11684" class="l"><a class="l" href="#11684">11684: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csibm905'</span>:
</span><span id="11685" class="l"><a class="l" href="#11685">11685: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'ebcdiccptr'</span>:
</span><span id="11686" class="l"><a class="l" href="#11686">11686: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'ibm905'</span>:
</span><span id="11687" class="l"><a class="l" href="#11687">11687: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'IBM905'</span>;
</span><span id="11688" class="l"><a class="l" href="#11688">11688: </a>
</span><span id="11689" class="l"><a class="l" href="#11689">11689: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'cp918'</span>:
</span><span id="11690" class="l"><a class="l" href="#11690">11690: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csibm918'</span>:
</span><span id="11691" class="l"><a class="l" href="#11691">11691: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'ebcdiccpar2'</span>:
</span><span id="11692" class="l"><a class="l" href="#11692">11692: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'ibm918'</span>:
</span><span id="11693" class="l"><a class="l" href="#11693">11693: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'IBM918'</span>;
</span><span id="11694" class="l"><a class="l" href="#11694">11694: </a>
</span><span id="11695" class="l"><a class="l" href="#11695">11695: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'ccsid924'</span>:
</span><span id="11696" class="l"><a class="l" href="#11696">11696: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'cp924'</span>:
</span><span id="11697" class="l"><a class="l" href="#11697">11697: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'ebcdiclatin9euro'</span>:
</span><span id="11698" class="l"><a class="l" href="#11698">11698: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'ibm924'</span>:
</span><span id="11699" class="l"><a class="l" href="#11699">11699: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'IBM00924'</span>;
</span><span id="11700" class="l"><a class="l" href="#11700">11700: </a>
</span><span id="11701" class="l"><a class="l" href="#11701">11701: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'cp1026'</span>:
</span><span id="11702" class="l"><a class="l" href="#11702">11702: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csibm1026'</span>:
</span><span id="11703" class="l"><a class="l" href="#11703">11703: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'ibm1026'</span>:
</span><span id="11704" class="l"><a class="l" href="#11704">11704: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'IBM1026'</span>;
</span><span id="11705" class="l"><a class="l" href="#11705">11705: </a>
</span><span id="11706" class="l"><a class="l" href="#11706">11706: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'ibm1047'</span>:
</span><span id="11707" class="l"><a class="l" href="#11707">11707: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'IBM1047'</span>;
</span><span id="11708" class="l"><a class="l" href="#11708">11708: </a>
</span><span id="11709" class="l"><a class="l" href="#11709">11709: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'ccsid1140'</span>:
</span><span id="11710" class="l"><a class="l" href="#11710">11710: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'cp1140'</span>:
</span><span id="11711" class="l"><a class="l" href="#11711">11711: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'ebcdicus37euro'</span>:
</span><span id="11712" class="l"><a class="l" href="#11712">11712: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'ibm1140'</span>:
</span><span id="11713" class="l"><a class="l" href="#11713">11713: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'IBM01140'</span>;
</span><span id="11714" class="l"><a class="l" href="#11714">11714: </a>
</span><span id="11715" class="l"><a class="l" href="#11715">11715: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'ccsid1141'</span>:
</span><span id="11716" class="l"><a class="l" href="#11716">11716: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'cp1141'</span>:
</span><span id="11717" class="l"><a class="l" href="#11717">11717: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'ebcdicde273euro'</span>:
</span><span id="11718" class="l"><a class="l" href="#11718">11718: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'ibm1141'</span>:
</span><span id="11719" class="l"><a class="l" href="#11719">11719: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'IBM01141'</span>;
</span><span id="11720" class="l"><a class="l" href="#11720">11720: </a>
</span><span id="11721" class="l"><a class="l" href="#11721">11721: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'ccsid1142'</span>:
</span><span id="11722" class="l"><a class="l" href="#11722">11722: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'cp1142'</span>:
</span><span id="11723" class="l"><a class="l" href="#11723">11723: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'ebcdicdk277euro'</span>:
</span><span id="11724" class="l"><a class="l" href="#11724">11724: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'ebcdicno277euro'</span>:
</span><span id="11725" class="l"><a class="l" href="#11725">11725: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'ibm1142'</span>:
</span><span id="11726" class="l"><a class="l" href="#11726">11726: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'IBM01142'</span>;
</span><span id="11727" class="l"><a class="l" href="#11727">11727: </a>
</span><span id="11728" class="l"><a class="l" href="#11728">11728: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'ccsid1143'</span>:
</span><span id="11729" class="l"><a class="l" href="#11729">11729: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'cp1143'</span>:
</span><span id="11730" class="l"><a class="l" href="#11730">11730: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'ebcdicfi278euro'</span>:
</span><span id="11731" class="l"><a class="l" href="#11731">11731: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'ebcdicse278euro'</span>:
</span><span id="11732" class="l"><a class="l" href="#11732">11732: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'ibm1143'</span>:
</span><span id="11733" class="l"><a class="l" href="#11733">11733: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'IBM01143'</span>;
</span><span id="11734" class="l"><a class="l" href="#11734">11734: </a>
</span><span id="11735" class="l"><a class="l" href="#11735">11735: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'ccsid1144'</span>:
</span><span id="11736" class="l"><a class="l" href="#11736">11736: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'cp1144'</span>:
</span><span id="11737" class="l"><a class="l" href="#11737">11737: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'ebcdicit280euro'</span>:
</span><span id="11738" class="l"><a class="l" href="#11738">11738: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'ibm1144'</span>:
</span><span id="11739" class="l"><a class="l" href="#11739">11739: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'IBM01144'</span>;
</span><span id="11740" class="l"><a class="l" href="#11740">11740: </a>
</span><span id="11741" class="l"><a class="l" href="#11741">11741: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'ccsid1145'</span>:
</span><span id="11742" class="l"><a class="l" href="#11742">11742: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'cp1145'</span>:
</span><span id="11743" class="l"><a class="l" href="#11743">11743: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'ebcdices284euro'</span>:
</span><span id="11744" class="l"><a class="l" href="#11744">11744: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'ibm1145'</span>:
</span><span id="11745" class="l"><a class="l" href="#11745">11745: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'IBM01145'</span>;
</span><span id="11746" class="l"><a class="l" href="#11746">11746: </a>
</span><span id="11747" class="l"><a class="l" href="#11747">11747: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'ccsid1146'</span>:
</span><span id="11748" class="l"><a class="l" href="#11748">11748: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'cp1146'</span>:
</span><span id="11749" class="l"><a class="l" href="#11749">11749: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'ebcdicgb285euro'</span>:
</span><span id="11750" class="l"><a class="l" href="#11750">11750: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'ibm1146'</span>:
</span><span id="11751" class="l"><a class="l" href="#11751">11751: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'IBM01146'</span>;
</span><span id="11752" class="l"><a class="l" href="#11752">11752: </a>
</span><span id="11753" class="l"><a class="l" href="#11753">11753: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'ccsid1147'</span>:
</span><span id="11754" class="l"><a class="l" href="#11754">11754: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'cp1147'</span>:
</span><span id="11755" class="l"><a class="l" href="#11755">11755: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'ebcdicfr297euro'</span>:
</span><span id="11756" class="l"><a class="l" href="#11756">11756: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'ibm1147'</span>:
</span><span id="11757" class="l"><a class="l" href="#11757">11757: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'IBM01147'</span>;
</span><span id="11758" class="l"><a class="l" href="#11758">11758: </a>
</span><span id="11759" class="l"><a class="l" href="#11759">11759: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'ccsid1148'</span>:
</span><span id="11760" class="l"><a class="l" href="#11760">11760: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'cp1148'</span>:
</span><span id="11761" class="l"><a class="l" href="#11761">11761: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'ebcdicinternational500euro'</span>:
</span><span id="11762" class="l"><a class="l" href="#11762">11762: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'ibm1148'</span>:
</span><span id="11763" class="l"><a class="l" href="#11763">11763: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'IBM01148'</span>;
</span><span id="11764" class="l"><a class="l" href="#11764">11764: </a>
</span><span id="11765" class="l"><a class="l" href="#11765">11765: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'ccsid1149'</span>:
</span><span id="11766" class="l"><a class="l" href="#11766">11766: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'cp1149'</span>:
</span><span id="11767" class="l"><a class="l" href="#11767">11767: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'ebcdicis871euro'</span>:
</span><span id="11768" class="l"><a class="l" href="#11768">11768: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'ibm1149'</span>:
</span><span id="11769" class="l"><a class="l" href="#11769">11769: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'IBM01149'</span>;
</span><span id="11770" class="l"><a class="l" href="#11770">11770: </a>
</span><span id="11771" class="l"><a class="l" href="#11771">11771: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csiso143iecp271'</span>:
</span><span id="11772" class="l"><a class="l" href="#11772">11772: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'iecp271'</span>:
</span><span id="11773" class="l"><a class="l" href="#11773">11773: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'isoir143'</span>:
</span><span id="11774" class="l"><a class="l" href="#11774">11774: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'IEC_P27-1'</span>;
</span><span id="11775" class="l"><a class="l" href="#11775">11775: </a>
</span><span id="11776" class="l"><a class="l" href="#11776">11776: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csiso49inis'</span>:
</span><span id="11777" class="l"><a class="l" href="#11777">11777: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'inis'</span>:
</span><span id="11778" class="l"><a class="l" href="#11778">11778: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'isoir49'</span>:
</span><span id="11779" class="l"><a class="l" href="#11779">11779: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'INIS'</span>;
</span><span id="11780" class="l"><a class="l" href="#11780">11780: </a>
</span><span id="11781" class="l"><a class="l" href="#11781">11781: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csiso50inis8'</span>:
</span><span id="11782" class="l"><a class="l" href="#11782">11782: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'inis8'</span>:
</span><span id="11783" class="l"><a class="l" href="#11783">11783: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'isoir50'</span>:
</span><span id="11784" class="l"><a class="l" href="#11784">11784: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'INIS-8'</span>;
</span><span id="11785" class="l"><a class="l" href="#11785">11785: </a>
</span><span id="11786" class="l"><a class="l" href="#11786">11786: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csiso51iniscyrillic'</span>:
</span><span id="11787" class="l"><a class="l" href="#11787">11787: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'iniscyrillic'</span>:
</span><span id="11788" class="l"><a class="l" href="#11788">11788: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'isoir51'</span>:
</span><span id="11789" class="l"><a class="l" href="#11789">11789: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'INIS-cyrillic'</span>;
</span><span id="11790" class="l"><a class="l" href="#11790">11790: </a>
</span><span id="11791" class="l"><a class="l" href="#11791">11791: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csinvariant'</span>:
</span><span id="11792" class="l"><a class="l" href="#11792">11792: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'invariant'</span>:
</span><span id="11793" class="l"><a class="l" href="#11793">11793: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'INVARIANT'</span>;
</span><span id="11794" class="l"><a class="l" href="#11794">11794: </a>
</span><span id="11795" class="l"><a class="l" href="#11795">11795: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'iso2022cn'</span>:
</span><span id="11796" class="l"><a class="l" href="#11796">11796: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'ISO-2022-CN'</span>;
</span><span id="11797" class="l"><a class="l" href="#11797">11797: </a>
</span><span id="11798" class="l"><a class="l" href="#11798">11798: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'iso2022cnext'</span>:
</span><span id="11799" class="l"><a class="l" href="#11799">11799: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'ISO-2022-CN-EXT'</span>;
</span><span id="11800" class="l"><a class="l" href="#11800">11800: </a>
</span><span id="11801" class="l"><a class="l" href="#11801">11801: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csiso2022jp'</span>:
</span><span id="11802" class="l"><a class="l" href="#11802">11802: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'iso2022jp'</span>:
</span><span id="11803" class="l"><a class="l" href="#11803">11803: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'ISO-2022-JP'</span>;
</span><span id="11804" class="l"><a class="l" href="#11804">11804: </a>
</span><span id="11805" class="l"><a class="l" href="#11805">11805: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csiso2022jp2'</span>:
</span><span id="11806" class="l"><a class="l" href="#11806">11806: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'iso2022jp2'</span>:
</span><span id="11807" class="l"><a class="l" href="#11807">11807: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'ISO-2022-JP-2'</span>;
</span><span id="11808" class="l"><a class="l" href="#11808">11808: </a>
</span><span id="11809" class="l"><a class="l" href="#11809">11809: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csiso2022kr'</span>:
</span><span id="11810" class="l"><a class="l" href="#11810">11810: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'iso2022kr'</span>:
</span><span id="11811" class="l"><a class="l" href="#11811">11811: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'ISO-2022-KR'</span>;
</span><span id="11812" class="l"><a class="l" href="#11812">11812: </a>
</span><span id="11813" class="l"><a class="l" href="#11813">11813: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'cswindows30latin1'</span>:
</span><span id="11814" class="l"><a class="l" href="#11814">11814: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'iso88591windows30latin1'</span>:
</span><span id="11815" class="l"><a class="l" href="#11815">11815: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'ISO-8859-1-Windows-3.0-Latin-1'</span>;
</span><span id="11816" class="l"><a class="l" href="#11816">11816: </a>
</span><span id="11817" class="l"><a class="l" href="#11817">11817: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'cswindows31latin1'</span>:
</span><span id="11818" class="l"><a class="l" href="#11818">11818: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'iso88591windows31latin1'</span>:
</span><span id="11819" class="l"><a class="l" href="#11819">11819: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'ISO-8859-1-Windows-3.1-Latin-1'</span>;
</span><span id="11820" class="l"><a class="l" href="#11820">11820: </a>
</span><span id="11821" class="l"><a class="l" href="#11821">11821: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csisolatin2'</span>:
</span><span id="11822" class="l"><a class="l" href="#11822">11822: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'iso88592'</span>:
</span><span id="11823" class="l"><a class="l" href="#11823">11823: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'iso885921987'</span>:
</span><span id="11824" class="l"><a class="l" href="#11824">11824: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'isoir101'</span>:
</span><span id="11825" class="l"><a class="l" href="#11825">11825: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'l2'</span>:
</span><span id="11826" class="l"><a class="l" href="#11826">11826: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'latin2'</span>:
</span><span id="11827" class="l"><a class="l" href="#11827">11827: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'ISO-8859-2'</span>;
</span><span id="11828" class="l"><a class="l" href="#11828">11828: </a>
</span><span id="11829" class="l"><a class="l" href="#11829">11829: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'cswindows31latin2'</span>:
</span><span id="11830" class="l"><a class="l" href="#11830">11830: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'iso88592windowslatin2'</span>:
</span><span id="11831" class="l"><a class="l" href="#11831">11831: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'ISO-8859-2-Windows-Latin-2'</span>;
</span><span id="11832" class="l"><a class="l" href="#11832">11832: </a>
</span><span id="11833" class="l"><a class="l" href="#11833">11833: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csisolatin3'</span>:
</span><span id="11834" class="l"><a class="l" href="#11834">11834: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'iso88593'</span>:
</span><span id="11835" class="l"><a class="l" href="#11835">11835: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'iso885931988'</span>:
</span><span id="11836" class="l"><a class="l" href="#11836">11836: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'isoir109'</span>:
</span><span id="11837" class="l"><a class="l" href="#11837">11837: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'l3'</span>:
</span><span id="11838" class="l"><a class="l" href="#11838">11838: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'latin3'</span>:
</span><span id="11839" class="l"><a class="l" href="#11839">11839: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'ISO-8859-3'</span>;
</span><span id="11840" class="l"><a class="l" href="#11840">11840: </a>
</span><span id="11841" class="l"><a class="l" href="#11841">11841: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csisolatin4'</span>:
</span><span id="11842" class="l"><a class="l" href="#11842">11842: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'iso88594'</span>:
</span><span id="11843" class="l"><a class="l" href="#11843">11843: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'iso885941988'</span>:
</span><span id="11844" class="l"><a class="l" href="#11844">11844: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'isoir110'</span>:
</span><span id="11845" class="l"><a class="l" href="#11845">11845: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'l4'</span>:
</span><span id="11846" class="l"><a class="l" href="#11846">11846: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'latin4'</span>:
</span><span id="11847" class="l"><a class="l" href="#11847">11847: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'ISO-8859-4'</span>;
</span><span id="11848" class="l"><a class="l" href="#11848">11848: </a>
</span><span id="11849" class="l"><a class="l" href="#11849">11849: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csisolatincyrillic'</span>:
</span><span id="11850" class="l"><a class="l" href="#11850">11850: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'cyrillic'</span>:
</span><span id="11851" class="l"><a class="l" href="#11851">11851: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'iso88595'</span>:
</span><span id="11852" class="l"><a class="l" href="#11852">11852: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'iso885951988'</span>:
</span><span id="11853" class="l"><a class="l" href="#11853">11853: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'isoir144'</span>:
</span><span id="11854" class="l"><a class="l" href="#11854">11854: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'ISO-8859-5'</span>;
</span><span id="11855" class="l"><a class="l" href="#11855">11855: </a>
</span><span id="11856" class="l"><a class="l" href="#11856">11856: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'arabic'</span>:
</span><span id="11857" class="l"><a class="l" href="#11857">11857: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'asmo708'</span>:
</span><span id="11858" class="l"><a class="l" href="#11858">11858: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csisolatinarabic'</span>:
</span><span id="11859" class="l"><a class="l" href="#11859">11859: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'ecma114'</span>:
</span><span id="11860" class="l"><a class="l" href="#11860">11860: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'iso88596'</span>:
</span><span id="11861" class="l"><a class="l" href="#11861">11861: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'iso885961987'</span>:
</span><span id="11862" class="l"><a class="l" href="#11862">11862: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'isoir127'</span>:
</span><span id="11863" class="l"><a class="l" href="#11863">11863: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'ISO-8859-6'</span>;
</span><span id="11864" class="l"><a class="l" href="#11864">11864: </a>
</span><span id="11865" class="l"><a class="l" href="#11865">11865: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csiso88596e'</span>:
</span><span id="11866" class="l"><a class="l" href="#11866">11866: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'iso88596e'</span>:
</span><span id="11867" class="l"><a class="l" href="#11867">11867: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'ISO-8859-6-E'</span>;
</span><span id="11868" class="l"><a class="l" href="#11868">11868: </a>
</span><span id="11869" class="l"><a class="l" href="#11869">11869: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csiso88596i'</span>:
</span><span id="11870" class="l"><a class="l" href="#11870">11870: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'iso88596i'</span>:
</span><span id="11871" class="l"><a class="l" href="#11871">11871: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'ISO-8859-6-I'</span>;
</span><span id="11872" class="l"><a class="l" href="#11872">11872: </a>
</span><span id="11873" class="l"><a class="l" href="#11873">11873: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csisolatingreek'</span>:
</span><span id="11874" class="l"><a class="l" href="#11874">11874: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'ecma118'</span>:
</span><span id="11875" class="l"><a class="l" href="#11875">11875: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'elot928'</span>:
</span><span id="11876" class="l"><a class="l" href="#11876">11876: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'greek'</span>:
</span><span id="11877" class="l"><a class="l" href="#11877">11877: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'greek8'</span>:
</span><span id="11878" class="l"><a class="l" href="#11878">11878: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'iso88597'</span>:
</span><span id="11879" class="l"><a class="l" href="#11879">11879: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'iso885971987'</span>:
</span><span id="11880" class="l"><a class="l" href="#11880">11880: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'isoir126'</span>:
</span><span id="11881" class="l"><a class="l" href="#11881">11881: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'ISO-8859-7'</span>;
</span><span id="11882" class="l"><a class="l" href="#11882">11882: </a>
</span><span id="11883" class="l"><a class="l" href="#11883">11883: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csisolatinhebrew'</span>:
</span><span id="11884" class="l"><a class="l" href="#11884">11884: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'hebrew'</span>:
</span><span id="11885" class="l"><a class="l" href="#11885">11885: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'iso88598'</span>:
</span><span id="11886" class="l"><a class="l" href="#11886">11886: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'iso885981988'</span>:
</span><span id="11887" class="l"><a class="l" href="#11887">11887: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'isoir138'</span>:
</span><span id="11888" class="l"><a class="l" href="#11888">11888: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'ISO-8859-8'</span>;
</span><span id="11889" class="l"><a class="l" href="#11889">11889: </a>
</span><span id="11890" class="l"><a class="l" href="#11890">11890: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csiso88598e'</span>:
</span><span id="11891" class="l"><a class="l" href="#11891">11891: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'iso88598e'</span>:
</span><span id="11892" class="l"><a class="l" href="#11892">11892: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'ISO-8859-8-E'</span>;
</span><span id="11893" class="l"><a class="l" href="#11893">11893: </a>
</span><span id="11894" class="l"><a class="l" href="#11894">11894: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csiso88598i'</span>:
</span><span id="11895" class="l"><a class="l" href="#11895">11895: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'iso88598i'</span>:
</span><span id="11896" class="l"><a class="l" href="#11896">11896: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'ISO-8859-8-I'</span>;
</span><span id="11897" class="l"><a class="l" href="#11897">11897: </a>
</span><span id="11898" class="l"><a class="l" href="#11898">11898: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'cswindows31latin5'</span>:
</span><span id="11899" class="l"><a class="l" href="#11899">11899: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'iso88599windowslatin5'</span>:
</span><span id="11900" class="l"><a class="l" href="#11900">11900: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'ISO-8859-9-Windows-Latin-5'</span>;
</span><span id="11901" class="l"><a class="l" href="#11901">11901: </a>
</span><span id="11902" class="l"><a class="l" href="#11902">11902: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csisolatin6'</span>:
</span><span id="11903" class="l"><a class="l" href="#11903">11903: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'iso885910'</span>:
</span><span id="11904" class="l"><a class="l" href="#11904">11904: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'iso8859101992'</span>:
</span><span id="11905" class="l"><a class="l" href="#11905">11905: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'isoir157'</span>:
</span><span id="11906" class="l"><a class="l" href="#11906">11906: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'l6'</span>:
</span><span id="11907" class="l"><a class="l" href="#11907">11907: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'latin6'</span>:
</span><span id="11908" class="l"><a class="l" href="#11908">11908: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'ISO-8859-10'</span>;
</span><span id="11909" class="l"><a class="l" href="#11909">11909: </a>
</span><span id="11910" class="l"><a class="l" href="#11910">11910: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'iso885913'</span>:
</span><span id="11911" class="l"><a class="l" href="#11911">11911: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'ISO-8859-13'</span>;
</span><span id="11912" class="l"><a class="l" href="#11912">11912: </a>
</span><span id="11913" class="l"><a class="l" href="#11913">11913: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'iso885914'</span>:
</span><span id="11914" class="l"><a class="l" href="#11914">11914: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'iso8859141998'</span>:
</span><span id="11915" class="l"><a class="l" href="#11915">11915: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'isoceltic'</span>:
</span><span id="11916" class="l"><a class="l" href="#11916">11916: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'isoir199'</span>:
</span><span id="11917" class="l"><a class="l" href="#11917">11917: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'l8'</span>:
</span><span id="11918" class="l"><a class="l" href="#11918">11918: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'latin8'</span>:
</span><span id="11919" class="l"><a class="l" href="#11919">11919: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'ISO-8859-14'</span>;
</span><span id="11920" class="l"><a class="l" href="#11920">11920: </a>
</span><span id="11921" class="l"><a class="l" href="#11921">11921: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'iso885915'</span>:
</span><span id="11922" class="l"><a class="l" href="#11922">11922: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'latin9'</span>:
</span><span id="11923" class="l"><a class="l" href="#11923">11923: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'ISO-8859-15'</span>;
</span><span id="11924" class="l"><a class="l" href="#11924">11924: </a>
</span><span id="11925" class="l"><a class="l" href="#11925">11925: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'iso885916'</span>:
</span><span id="11926" class="l"><a class="l" href="#11926">11926: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'iso8859162001'</span>:
</span><span id="11927" class="l"><a class="l" href="#11927">11927: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'isoir226'</span>:
</span><span id="11928" class="l"><a class="l" href="#11928">11928: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'l10'</span>:
</span><span id="11929" class="l"><a class="l" href="#11929">11929: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'latin10'</span>:
</span><span id="11930" class="l"><a class="l" href="#11930">11930: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'ISO-8859-16'</span>;
</span><span id="11931" class="l"><a class="l" href="#11931">11931: </a>
</span><span id="11932" class="l"><a class="l" href="#11932">11932: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'iso10646j1'</span>:
</span><span id="11933" class="l"><a class="l" href="#11933">11933: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'ISO-10646-J-1'</span>;
</span><span id="11934" class="l"><a class="l" href="#11934">11934: </a>
</span><span id="11935" class="l"><a class="l" href="#11935">11935: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csunicode'</span>:
</span><span id="11936" class="l"><a class="l" href="#11936">11936: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'iso10646ucs2'</span>:
</span><span id="11937" class="l"><a class="l" href="#11937">11937: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'ISO-10646-UCS-2'</span>;
</span><span id="11938" class="l"><a class="l" href="#11938">11938: </a>
</span><span id="11939" class="l"><a class="l" href="#11939">11939: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csucs4'</span>:
</span><span id="11940" class="l"><a class="l" href="#11940">11940: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'iso10646ucs4'</span>:
</span><span id="11941" class="l"><a class="l" href="#11941">11941: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'ISO-10646-UCS-4'</span>;
</span><span id="11942" class="l"><a class="l" href="#11942">11942: </a>
</span><span id="11943" class="l"><a class="l" href="#11943">11943: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csunicodeascii'</span>:
</span><span id="11944" class="l"><a class="l" href="#11944">11944: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'iso10646ucsbasic'</span>:
</span><span id="11945" class="l"><a class="l" href="#11945">11945: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'ISO-10646-UCS-Basic'</span>;
</span><span id="11946" class="l"><a class="l" href="#11946">11946: </a>
</span><span id="11947" class="l"><a class="l" href="#11947">11947: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csunicodelatin1'</span>:
</span><span id="11948" class="l"><a class="l" href="#11948">11948: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'iso10646'</span>:
</span><span id="11949" class="l"><a class="l" href="#11949">11949: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'iso10646unicodelatin1'</span>:
</span><span id="11950" class="l"><a class="l" href="#11950">11950: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'ISO-10646-Unicode-Latin1'</span>;
</span><span id="11951" class="l"><a class="l" href="#11951">11951: </a>
</span><span id="11952" class="l"><a class="l" href="#11952">11952: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csiso10646utf1'</span>:
</span><span id="11953" class="l"><a class="l" href="#11953">11953: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'iso10646utf1'</span>:
</span><span id="11954" class="l"><a class="l" href="#11954">11954: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'ISO-10646-UTF-1'</span>;
</span><span id="11955" class="l"><a class="l" href="#11955">11955: </a>
</span><span id="11956" class="l"><a class="l" href="#11956">11956: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csiso115481'</span>:
</span><span id="11957" class="l"><a class="l" href="#11957">11957: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'iso115481'</span>:
</span><span id="11958" class="l"><a class="l" href="#11958">11958: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'isotr115481'</span>:
</span><span id="11959" class="l"><a class="l" href="#11959">11959: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'ISO-11548-1'</span>;
</span><span id="11960" class="l"><a class="l" href="#11960">11960: </a>
</span><span id="11961" class="l"><a class="l" href="#11961">11961: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csiso90'</span>:
</span><span id="11962" class="l"><a class="l" href="#11962">11962: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'isoir90'</span>:
</span><span id="11963" class="l"><a class="l" href="#11963">11963: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'iso-ir-90'</span>;
</span><span id="11964" class="l"><a class="l" href="#11964">11964: </a>
</span><span id="11965" class="l"><a class="l" href="#11965">11965: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csunicodeibm1261'</span>:
</span><span id="11966" class="l"><a class="l" href="#11966">11966: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'isounicodeibm1261'</span>:
</span><span id="11967" class="l"><a class="l" href="#11967">11967: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'ISO-Unicode-IBM-1261'</span>;
</span><span id="11968" class="l"><a class="l" href="#11968">11968: </a>
</span><span id="11969" class="l"><a class="l" href="#11969">11969: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csunicodeibm1264'</span>:
</span><span id="11970" class="l"><a class="l" href="#11970">11970: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'isounicodeibm1264'</span>:
</span><span id="11971" class="l"><a class="l" href="#11971">11971: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'ISO-Unicode-IBM-1264'</span>;
</span><span id="11972" class="l"><a class="l" href="#11972">11972: </a>
</span><span id="11973" class="l"><a class="l" href="#11973">11973: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csunicodeibm1265'</span>:
</span><span id="11974" class="l"><a class="l" href="#11974">11974: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'isounicodeibm1265'</span>:
</span><span id="11975" class="l"><a class="l" href="#11975">11975: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'ISO-Unicode-IBM-1265'</span>;
</span><span id="11976" class="l"><a class="l" href="#11976">11976: </a>
</span><span id="11977" class="l"><a class="l" href="#11977">11977: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csunicodeibm1268'</span>:
</span><span id="11978" class="l"><a class="l" href="#11978">11978: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'isounicodeibm1268'</span>:
</span><span id="11979" class="l"><a class="l" href="#11979">11979: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'ISO-Unicode-IBM-1268'</span>;
</span><span id="11980" class="l"><a class="l" href="#11980">11980: </a>
</span><span id="11981" class="l"><a class="l" href="#11981">11981: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csunicodeibm1276'</span>:
</span><span id="11982" class="l"><a class="l" href="#11982">11982: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'isounicodeibm1276'</span>:
</span><span id="11983" class="l"><a class="l" href="#11983">11983: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'ISO-Unicode-IBM-1276'</span>;
</span><span id="11984" class="l"><a class="l" href="#11984">11984: </a>
</span><span id="11985" class="l"><a class="l" href="#11985">11985: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csiso646basic1983'</span>:
</span><span id="11986" class="l"><a class="l" href="#11986">11986: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'iso646basic1983'</span>:
</span><span id="11987" class="l"><a class="l" href="#11987">11987: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'ref'</span>:
</span><span id="11988" class="l"><a class="l" href="#11988">11988: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'ISO_646.basic:1983'</span>;
</span><span id="11989" class="l"><a class="l" href="#11989">11989: </a>
</span><span id="11990" class="l"><a class="l" href="#11990">11990: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csiso2intlrefversion'</span>:
</span><span id="11991" class="l"><a class="l" href="#11991">11991: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'irv'</span>:
</span><span id="11992" class="l"><a class="l" href="#11992">11992: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'iso646irv1983'</span>:
</span><span id="11993" class="l"><a class="l" href="#11993">11993: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'isoir2'</span>:
</span><span id="11994" class="l"><a class="l" href="#11994">11994: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'ISO_646.irv:1983'</span>;
</span><span id="11995" class="l"><a class="l" href="#11995">11995: </a>
</span><span id="11996" class="l"><a class="l" href="#11996">11996: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csiso2033'</span>:
</span><span id="11997" class="l"><a class="l" href="#11997">11997: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'e13b'</span>:
</span><span id="11998" class="l"><a class="l" href="#11998">11998: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'iso20331983'</span>:
</span><span id="11999" class="l"><a class="l" href="#11999">11999: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'isoir98'</span>:
</span><span id="12000" class="l"><a class="l" href="#12000">12000: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'ISO_2033-1983'</span>;
</span><span id="12001" class="l"><a class="l" href="#12001">12001: </a>
</span><span id="12002" class="l"><a class="l" href="#12002">12002: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csiso5427cyrillic'</span>:
</span><span id="12003" class="l"><a class="l" href="#12003">12003: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'iso5427'</span>:
</span><span id="12004" class="l"><a class="l" href="#12004">12004: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'isoir37'</span>:
</span><span id="12005" class="l"><a class="l" href="#12005">12005: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'ISO_5427'</span>;
</span><span id="12006" class="l"><a class="l" href="#12006">12006: </a>
</span><span id="12007" class="l"><a class="l" href="#12007">12007: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'iso5427cyrillic1981'</span>:
</span><span id="12008" class="l"><a class="l" href="#12008">12008: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'iso54271981'</span>:
</span><span id="12009" class="l"><a class="l" href="#12009">12009: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'isoir54'</span>:
</span><span id="12010" class="l"><a class="l" href="#12010">12010: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'ISO_5427:1981'</span>;
</span><span id="12011" class="l"><a class="l" href="#12011">12011: </a>
</span><span id="12012" class="l"><a class="l" href="#12012">12012: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csiso5428greek'</span>:
</span><span id="12013" class="l"><a class="l" href="#12013">12013: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'iso54281980'</span>:
</span><span id="12014" class="l"><a class="l" href="#12014">12014: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'isoir55'</span>:
</span><span id="12015" class="l"><a class="l" href="#12015">12015: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'ISO_5428:1980'</span>;
</span><span id="12016" class="l"><a class="l" href="#12016">12016: </a>
</span><span id="12017" class="l"><a class="l" href="#12017">12017: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csiso6937add'</span>:
</span><span id="12018" class="l"><a class="l" href="#12018">12018: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'iso6937225'</span>:
</span><span id="12019" class="l"><a class="l" href="#12019">12019: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'isoir152'</span>:
</span><span id="12020" class="l"><a class="l" href="#12020">12020: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'ISO_6937-2-25'</span>;
</span><span id="12021" class="l"><a class="l" href="#12021">12021: </a>
</span><span id="12022" class="l"><a class="l" href="#12022">12022: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csisotextcomm'</span>:
</span><span id="12023" class="l"><a class="l" href="#12023">12023: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'iso69372add'</span>:
</span><span id="12024" class="l"><a class="l" href="#12024">12024: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'isoir142'</span>:
</span><span id="12025" class="l"><a class="l" href="#12025">12025: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'ISO_6937-2-add'</span>;
</span><span id="12026" class="l"><a class="l" href="#12026">12026: </a>
</span><span id="12027" class="l"><a class="l" href="#12027">12027: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csiso8859supp'</span>:
</span><span id="12028" class="l"><a class="l" href="#12028">12028: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'iso8859supp'</span>:
</span><span id="12029" class="l"><a class="l" href="#12029">12029: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'isoir154'</span>:
</span><span id="12030" class="l"><a class="l" href="#12030">12030: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'latin125'</span>:
</span><span id="12031" class="l"><a class="l" href="#12031">12031: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'ISO_8859-supp'</span>;
</span><span id="12032" class="l"><a class="l" href="#12032">12032: </a>
</span><span id="12033" class="l"><a class="l" href="#12033">12033: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csiso10367box'</span>:
</span><span id="12034" class="l"><a class="l" href="#12034">12034: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'iso10367box'</span>:
</span><span id="12035" class="l"><a class="l" href="#12035">12035: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'isoir155'</span>:
</span><span id="12036" class="l"><a class="l" href="#12036">12036: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'ISO_10367-box'</span>;
</span><span id="12037" class="l"><a class="l" href="#12037">12037: </a>
</span><span id="12038" class="l"><a class="l" href="#12038">12038: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csiso15italian'</span>:
</span><span id="12039" class="l"><a class="l" href="#12039">12039: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'iso646it'</span>:
</span><span id="12040" class="l"><a class="l" href="#12040">12040: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'isoir15'</span>:
</span><span id="12041" class="l"><a class="l" href="#12041">12041: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'it'</span>:
</span><span id="12042" class="l"><a class="l" href="#12042">12042: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'IT'</span>;
</span><span id="12043" class="l"><a class="l" href="#12043">12043: </a>
</span><span id="12044" class="l"><a class="l" href="#12044">12044: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csiso13jisc6220jp'</span>:
</span><span id="12045" class="l"><a class="l" href="#12045">12045: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'isoir13'</span>:
</span><span id="12046" class="l"><a class="l" href="#12046">12046: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'jisc62201969'</span>:
</span><span id="12047" class="l"><a class="l" href="#12047">12047: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'jisc62201969jp'</span>:
</span><span id="12048" class="l"><a class="l" href="#12048">12048: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'katakana'</span>:
</span><span id="12049" class="l"><a class="l" href="#12049">12049: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'x2017'</span>:
</span><span id="12050" class="l"><a class="l" href="#12050">12050: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'JIS_C6220-1969-jp'</span>;
</span><span id="12051" class="l"><a class="l" href="#12051">12051: </a>
</span><span id="12052" class="l"><a class="l" href="#12052">12052: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csiso14jisc6220ro'</span>:
</span><span id="12053" class="l"><a class="l" href="#12053">12053: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'iso646jp'</span>:
</span><span id="12054" class="l"><a class="l" href="#12054">12054: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'isoir14'</span>:
</span><span id="12055" class="l"><a class="l" href="#12055">12055: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'jisc62201969ro'</span>:
</span><span id="12056" class="l"><a class="l" href="#12056">12056: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'jp'</span>:
</span><span id="12057" class="l"><a class="l" href="#12057">12057: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'JIS_C6220-1969-ro'</span>;
</span><span id="12058" class="l"><a class="l" href="#12058">12058: </a>
</span><span id="12059" class="l"><a class="l" href="#12059">12059: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csiso42jisc62261978'</span>:
</span><span id="12060" class="l"><a class="l" href="#12060">12060: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'isoir42'</span>:
</span><span id="12061" class="l"><a class="l" href="#12061">12061: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'jisc62261978'</span>:
</span><span id="12062" class="l"><a class="l" href="#12062">12062: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'JIS_C6226-1978'</span>;
</span><span id="12063" class="l"><a class="l" href="#12063">12063: </a>
</span><span id="12064" class="l"><a class="l" href="#12064">12064: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csiso87jisx208'</span>:
</span><span id="12065" class="l"><a class="l" href="#12065">12065: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'isoir87'</span>:
</span><span id="12066" class="l"><a class="l" href="#12066">12066: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'jisc62261983'</span>:
</span><span id="12067" class="l"><a class="l" href="#12067">12067: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'jisx2081983'</span>:
</span><span id="12068" class="l"><a class="l" href="#12068">12068: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'x208'</span>:
</span><span id="12069" class="l"><a class="l" href="#12069">12069: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'JIS_C6226-1983'</span>;
</span><span id="12070" class="l"><a class="l" href="#12070">12070: </a>
</span><span id="12071" class="l"><a class="l" href="#12071">12071: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csiso91jisc62291984a'</span>:
</span><span id="12072" class="l"><a class="l" href="#12072">12072: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'isoir91'</span>:
</span><span id="12073" class="l"><a class="l" href="#12073">12073: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'jisc62291984a'</span>:
</span><span id="12074" class="l"><a class="l" href="#12074">12074: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'jpocra'</span>:
</span><span id="12075" class="l"><a class="l" href="#12075">12075: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'JIS_C6229-1984-a'</span>;
</span><span id="12076" class="l"><a class="l" href="#12076">12076: </a>
</span><span id="12077" class="l"><a class="l" href="#12077">12077: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csiso92jisc62991984b'</span>:
</span><span id="12078" class="l"><a class="l" href="#12078">12078: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'iso646jpocrb'</span>:
</span><span id="12079" class="l"><a class="l" href="#12079">12079: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'isoir92'</span>:
</span><span id="12080" class="l"><a class="l" href="#12080">12080: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'jisc62291984b'</span>:
</span><span id="12081" class="l"><a class="l" href="#12081">12081: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'jpocrb'</span>:
</span><span id="12082" class="l"><a class="l" href="#12082">12082: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'JIS_C6229-1984-b'</span>;
</span><span id="12083" class="l"><a class="l" href="#12083">12083: </a>
</span><span id="12084" class="l"><a class="l" href="#12084">12084: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csiso93jis62291984badd'</span>:
</span><span id="12085" class="l"><a class="l" href="#12085">12085: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'isoir93'</span>:
</span><span id="12086" class="l"><a class="l" href="#12086">12086: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'jisc62291984badd'</span>:
</span><span id="12087" class="l"><a class="l" href="#12087">12087: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'jpocrbadd'</span>:
</span><span id="12088" class="l"><a class="l" href="#12088">12088: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'JIS_C6229-1984-b-add'</span>;
</span><span id="12089" class="l"><a class="l" href="#12089">12089: </a>
</span><span id="12090" class="l"><a class="l" href="#12090">12090: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csiso94jis62291984hand'</span>:
</span><span id="12091" class="l"><a class="l" href="#12091">12091: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'isoir94'</span>:
</span><span id="12092" class="l"><a class="l" href="#12092">12092: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'jisc62291984hand'</span>:
</span><span id="12093" class="l"><a class="l" href="#12093">12093: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'jpocrhand'</span>:
</span><span id="12094" class="l"><a class="l" href="#12094">12094: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'JIS_C6229-1984-hand'</span>;
</span><span id="12095" class="l"><a class="l" href="#12095">12095: </a>
</span><span id="12096" class="l"><a class="l" href="#12096">12096: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csiso95jis62291984handadd'</span>:
</span><span id="12097" class="l"><a class="l" href="#12097">12097: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'isoir95'</span>:
</span><span id="12098" class="l"><a class="l" href="#12098">12098: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'jisc62291984handadd'</span>:
</span><span id="12099" class="l"><a class="l" href="#12099">12099: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'jpocrhandadd'</span>:
</span><span id="12100" class="l"><a class="l" href="#12100">12100: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'JIS_C6229-1984-hand-add'</span>;
</span><span id="12101" class="l"><a class="l" href="#12101">12101: </a>
</span><span id="12102" class="l"><a class="l" href="#12102">12102: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csiso96jisc62291984kana'</span>:
</span><span id="12103" class="l"><a class="l" href="#12103">12103: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'isoir96'</span>:
</span><span id="12104" class="l"><a class="l" href="#12104">12104: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'jisc62291984kana'</span>:
</span><span id="12105" class="l"><a class="l" href="#12105">12105: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'JIS_C6229-1984-kana'</span>;
</span><span id="12106" class="l"><a class="l" href="#12106">12106: </a>
</span><span id="12107" class="l"><a class="l" href="#12107">12107: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csjisencoding'</span>:
</span><span id="12108" class="l"><a class="l" href="#12108">12108: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'jisencoding'</span>:
</span><span id="12109" class="l"><a class="l" href="#12109">12109: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'JIS_Encoding'</span>;
</span><span id="12110" class="l"><a class="l" href="#12110">12110: </a>
</span><span id="12111" class="l"><a class="l" href="#12111">12111: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'cshalfwidthkatakana'</span>:
</span><span id="12112" class="l"><a class="l" href="#12112">12112: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'jisx201'</span>:
</span><span id="12113" class="l"><a class="l" href="#12113">12113: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'x201'</span>:
</span><span id="12114" class="l"><a class="l" href="#12114">12114: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'JIS_X0201'</span>;
</span><span id="12115" class="l"><a class="l" href="#12115">12115: </a>
</span><span id="12116" class="l"><a class="l" href="#12116">12116: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csiso159jisx2121990'</span>:
</span><span id="12117" class="l"><a class="l" href="#12117">12117: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'isoir159'</span>:
</span><span id="12118" class="l"><a class="l" href="#12118">12118: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'jisx2121990'</span>:
</span><span id="12119" class="l"><a class="l" href="#12119">12119: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'x212'</span>:
</span><span id="12120" class="l"><a class="l" href="#12120">12120: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'JIS_X0212-1990'</span>;
</span><span id="12121" class="l"><a class="l" href="#12121">12121: </a>
</span><span id="12122" class="l"><a class="l" href="#12122">12122: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csiso141jusib1002'</span>:
</span><span id="12123" class="l"><a class="l" href="#12123">12123: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'iso646yu'</span>:
</span><span id="12124" class="l"><a class="l" href="#12124">12124: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'isoir141'</span>:
</span><span id="12125" class="l"><a class="l" href="#12125">12125: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'js'</span>:
</span><span id="12126" class="l"><a class="l" href="#12126">12126: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'jusib1002'</span>:
</span><span id="12127" class="l"><a class="l" href="#12127">12127: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'yu'</span>:
</span><span id="12128" class="l"><a class="l" href="#12128">12128: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'JUS_I.B1.002'</span>;
</span><span id="12129" class="l"><a class="l" href="#12129">12129: </a>
</span><span id="12130" class="l"><a class="l" href="#12130">12130: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csiso147macedonian'</span>:
</span><span id="12131" class="l"><a class="l" href="#12131">12131: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'isoir147'</span>:
</span><span id="12132" class="l"><a class="l" href="#12132">12132: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'jusib1003mac'</span>:
</span><span id="12133" class="l"><a class="l" href="#12133">12133: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'macedonian'</span>:
</span><span id="12134" class="l"><a class="l" href="#12134">12134: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'JUS_I.B1.003-mac'</span>;
</span><span id="12135" class="l"><a class="l" href="#12135">12135: </a>
</span><span id="12136" class="l"><a class="l" href="#12136">12136: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csiso146serbian'</span>:
</span><span id="12137" class="l"><a class="l" href="#12137">12137: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'isoir146'</span>:
</span><span id="12138" class="l"><a class="l" href="#12138">12138: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'jusib1003serb'</span>:
</span><span id="12139" class="l"><a class="l" href="#12139">12139: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'serbian'</span>:
</span><span id="12140" class="l"><a class="l" href="#12140">12140: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'JUS_I.B1.003-serb'</span>;
</span><span id="12141" class="l"><a class="l" href="#12141">12141: </a>
</span><span id="12142" class="l"><a class="l" href="#12142">12142: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'koi7switched'</span>:
</span><span id="12143" class="l"><a class="l" href="#12143">12143: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'KOI7-switched'</span>;
</span><span id="12144" class="l"><a class="l" href="#12144">12144: </a>
</span><span id="12145" class="l"><a class="l" href="#12145">12145: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'cskoi8r'</span>:
</span><span id="12146" class="l"><a class="l" href="#12146">12146: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'koi8r'</span>:
</span><span id="12147" class="l"><a class="l" href="#12147">12147: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'KOI8-R'</span>;
</span><span id="12148" class="l"><a class="l" href="#12148">12148: </a>
</span><span id="12149" class="l"><a class="l" href="#12149">12149: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'koi8u'</span>:
</span><span id="12150" class="l"><a class="l" href="#12150">12150: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'KOI8-U'</span>;
</span><span id="12151" class="l"><a class="l" href="#12151">12151: </a>
</span><span id="12152" class="l"><a class="l" href="#12152">12152: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csksc5636'</span>:
</span><span id="12153" class="l"><a class="l" href="#12153">12153: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'iso646kr'</span>:
</span><span id="12154" class="l"><a class="l" href="#12154">12154: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'ksc5636'</span>:
</span><span id="12155" class="l"><a class="l" href="#12155">12155: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'KSC5636'</span>;
</span><span id="12156" class="l"><a class="l" href="#12156">12156: </a>
</span><span id="12157" class="l"><a class="l" href="#12157">12157: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'cskz1048'</span>:
</span><span id="12158" class="l"><a class="l" href="#12158">12158: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'kz1048'</span>:
</span><span id="12159" class="l"><a class="l" href="#12159">12159: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'rk1048'</span>:
</span><span id="12160" class="l"><a class="l" href="#12160">12160: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'strk10482002'</span>:
</span><span id="12161" class="l"><a class="l" href="#12161">12161: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'KZ-1048'</span>;
</span><span id="12162" class="l"><a class="l" href="#12162">12162: </a>
</span><span id="12163" class="l"><a class="l" href="#12163">12163: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csiso19latingreek'</span>:
</span><span id="12164" class="l"><a class="l" href="#12164">12164: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'isoir19'</span>:
</span><span id="12165" class="l"><a class="l" href="#12165">12165: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'latingreek'</span>:
</span><span id="12166" class="l"><a class="l" href="#12166">12166: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'latin-greek'</span>;
</span><span id="12167" class="l"><a class="l" href="#12167">12167: </a>
</span><span id="12168" class="l"><a class="l" href="#12168">12168: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csiso27latingreek1'</span>:
</span><span id="12169" class="l"><a class="l" href="#12169">12169: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'isoir27'</span>:
</span><span id="12170" class="l"><a class="l" href="#12170">12170: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'latingreek1'</span>:
</span><span id="12171" class="l"><a class="l" href="#12171">12171: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'Latin-greek-1'</span>;
</span><span id="12172" class="l"><a class="l" href="#12172">12172: </a>
</span><span id="12173" class="l"><a class="l" href="#12173">12173: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csiso158lap'</span>:
</span><span id="12174" class="l"><a class="l" href="#12174">12174: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'isoir158'</span>:
</span><span id="12175" class="l"><a class="l" href="#12175">12175: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'lap'</span>:
</span><span id="12176" class="l"><a class="l" href="#12176">12176: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'latinlap'</span>:
</span><span id="12177" class="l"><a class="l" href="#12177">12177: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'latin-lap'</span>;
</span><span id="12178" class="l"><a class="l" href="#12178">12178: </a>
</span><span id="12179" class="l"><a class="l" href="#12179">12179: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csmacintosh'</span>:
</span><span id="12180" class="l"><a class="l" href="#12180">12180: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'mac'</span>:
</span><span id="12181" class="l"><a class="l" href="#12181">12181: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'macintosh'</span>:
</span><span id="12182" class="l"><a class="l" href="#12182">12182: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'macintosh'</span>;
</span><span id="12183" class="l"><a class="l" href="#12183">12183: </a>
</span><span id="12184" class="l"><a class="l" href="#12184">12184: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csmicrosoftpublishing'</span>:
</span><span id="12185" class="l"><a class="l" href="#12185">12185: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'microsoftpublishing'</span>:
</span><span id="12186" class="l"><a class="l" href="#12186">12186: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'Microsoft-Publishing'</span>;
</span><span id="12187" class="l"><a class="l" href="#12187">12187: </a>
</span><span id="12188" class="l"><a class="l" href="#12188">12188: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csmnem'</span>:
</span><span id="12189" class="l"><a class="l" href="#12189">12189: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'mnem'</span>:
</span><span id="12190" class="l"><a class="l" href="#12190">12190: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'MNEM'</span>;
</span><span id="12191" class="l"><a class="l" href="#12191">12191: </a>
</span><span id="12192" class="l"><a class="l" href="#12192">12192: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csmnemonic'</span>:
</span><span id="12193" class="l"><a class="l" href="#12193">12193: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'mnemonic'</span>:
</span><span id="12194" class="l"><a class="l" href="#12194">12194: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'MNEMONIC'</span>;
</span><span id="12195" class="l"><a class="l" href="#12195">12195: </a>
</span><span id="12196" class="l"><a class="l" href="#12196">12196: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csiso86hungarian'</span>:
</span><span id="12197" class="l"><a class="l" href="#12197">12197: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'hu'</span>:
</span><span id="12198" class="l"><a class="l" href="#12198">12198: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'iso646hu'</span>:
</span><span id="12199" class="l"><a class="l" href="#12199">12199: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'isoir86'</span>:
</span><span id="12200" class="l"><a class="l" href="#12200">12200: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'msz77953'</span>:
</span><span id="12201" class="l"><a class="l" href="#12201">12201: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'MSZ_7795.3'</span>;
</span><span id="12202" class="l"><a class="l" href="#12202">12202: </a>
</span><span id="12203" class="l"><a class="l" href="#12203">12203: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csnatsdano'</span>:
</span><span id="12204" class="l"><a class="l" href="#12204">12204: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'isoir91'</span>:
</span><span id="12205" class="l"><a class="l" href="#12205">12205: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'natsdano'</span>:
</span><span id="12206" class="l"><a class="l" href="#12206">12206: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'NATS-DANO'</span>;
</span><span id="12207" class="l"><a class="l" href="#12207">12207: </a>
</span><span id="12208" class="l"><a class="l" href="#12208">12208: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csnatsdanoadd'</span>:
</span><span id="12209" class="l"><a class="l" href="#12209">12209: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'isoir92'</span>:
</span><span id="12210" class="l"><a class="l" href="#12210">12210: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'natsdanoadd'</span>:
</span><span id="12211" class="l"><a class="l" href="#12211">12211: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'NATS-DANO-ADD'</span>;
</span><span id="12212" class="l"><a class="l" href="#12212">12212: </a>
</span><span id="12213" class="l"><a class="l" href="#12213">12213: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csnatssefi'</span>:
</span><span id="12214" class="l"><a class="l" href="#12214">12214: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'isoir81'</span>:
</span><span id="12215" class="l"><a class="l" href="#12215">12215: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'natssefi'</span>:
</span><span id="12216" class="l"><a class="l" href="#12216">12216: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'NATS-SEFI'</span>;
</span><span id="12217" class="l"><a class="l" href="#12217">12217: </a>
</span><span id="12218" class="l"><a class="l" href="#12218">12218: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csnatssefiadd'</span>:
</span><span id="12219" class="l"><a class="l" href="#12219">12219: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'isoir82'</span>:
</span><span id="12220" class="l"><a class="l" href="#12220">12220: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'natssefiadd'</span>:
</span><span id="12221" class="l"><a class="l" href="#12221">12221: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'NATS-SEFI-ADD'</span>;
</span><span id="12222" class="l"><a class="l" href="#12222">12222: </a>
</span><span id="12223" class="l"><a class="l" href="#12223">12223: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csiso151cuba'</span>:
</span><span id="12224" class="l"><a class="l" href="#12224">12224: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'cuba'</span>:
</span><span id="12225" class="l"><a class="l" href="#12225">12225: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'iso646cu'</span>:
</span><span id="12226" class="l"><a class="l" href="#12226">12226: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'isoir151'</span>:
</span><span id="12227" class="l"><a class="l" href="#12227">12227: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'ncnc1081'</span>:
</span><span id="12228" class="l"><a class="l" href="#12228">12228: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'NC_NC00-10:81'</span>;
</span><span id="12229" class="l"><a class="l" href="#12229">12229: </a>
</span><span id="12230" class="l"><a class="l" href="#12230">12230: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csiso69french'</span>:
</span><span id="12231" class="l"><a class="l" href="#12231">12231: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'fr'</span>:
</span><span id="12232" class="l"><a class="l" href="#12232">12232: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'iso646fr'</span>:
</span><span id="12233" class="l"><a class="l" href="#12233">12233: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'isoir69'</span>:
</span><span id="12234" class="l"><a class="l" href="#12234">12234: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'nfz62010'</span>:
</span><span id="12235" class="l"><a class="l" href="#12235">12235: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'NF_Z_62-010'</span>;
</span><span id="12236" class="l"><a class="l" href="#12236">12236: </a>
</span><span id="12237" class="l"><a class="l" href="#12237">12237: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csiso25french'</span>:
</span><span id="12238" class="l"><a class="l" href="#12238">12238: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'iso646fr1'</span>:
</span><span id="12239" class="l"><a class="l" href="#12239">12239: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'isoir25'</span>:
</span><span id="12240" class="l"><a class="l" href="#12240">12240: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'nfz620101973'</span>:
</span><span id="12241" class="l"><a class="l" href="#12241">12241: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'NF_Z_62-010_(1973)'</span>;
</span><span id="12242" class="l"><a class="l" href="#12242">12242: </a>
</span><span id="12243" class="l"><a class="l" href="#12243">12243: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csiso60danishnorwegian'</span>:
</span><span id="12244" class="l"><a class="l" href="#12244">12244: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csiso60norwegian1'</span>:
</span><span id="12245" class="l"><a class="l" href="#12245">12245: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'iso646no'</span>:
</span><span id="12246" class="l"><a class="l" href="#12246">12246: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'isoir60'</span>:
</span><span id="12247" class="l"><a class="l" href="#12247">12247: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'no'</span>:
</span><span id="12248" class="l"><a class="l" href="#12248">12248: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'ns45511'</span>:
</span><span id="12249" class="l"><a class="l" href="#12249">12249: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'NS_4551-1'</span>;
</span><span id="12250" class="l"><a class="l" href="#12250">12250: </a>
</span><span id="12251" class="l"><a class="l" href="#12251">12251: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csiso61norwegian2'</span>:
</span><span id="12252" class="l"><a class="l" href="#12252">12252: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'iso646no2'</span>:
</span><span id="12253" class="l"><a class="l" href="#12253">12253: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'isoir61'</span>:
</span><span id="12254" class="l"><a class="l" href="#12254">12254: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'no2'</span>:
</span><span id="12255" class="l"><a class="l" href="#12255">12255: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'ns45512'</span>:
</span><span id="12256" class="l"><a class="l" href="#12256">12256: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'NS_4551-2'</span>;
</span><span id="12257" class="l"><a class="l" href="#12257">12257: </a>
</span><span id="12258" class="l"><a class="l" href="#12258">12258: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'osdebcdicdf3irv'</span>:
</span><span id="12259" class="l"><a class="l" href="#12259">12259: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'OSD_EBCDIC_DF03_IRV'</span>;
</span><span id="12260" class="l"><a class="l" href="#12260">12260: </a>
</span><span id="12261" class="l"><a class="l" href="#12261">12261: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'osdebcdicdf41'</span>:
</span><span id="12262" class="l"><a class="l" href="#12262">12262: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'OSD_EBCDIC_DF04_1'</span>;
</span><span id="12263" class="l"><a class="l" href="#12263">12263: </a>
</span><span id="12264" class="l"><a class="l" href="#12264">12264: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'osdebcdicdf415'</span>:
</span><span id="12265" class="l"><a class="l" href="#12265">12265: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'OSD_EBCDIC_DF04_15'</span>;
</span><span id="12266" class="l"><a class="l" href="#12266">12266: </a>
</span><span id="12267" class="l"><a class="l" href="#12267">12267: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'cspc8danishnorwegian'</span>:
</span><span id="12268" class="l"><a class="l" href="#12268">12268: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'pc8danishnorwegian'</span>:
</span><span id="12269" class="l"><a class="l" href="#12269">12269: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'PC8-Danish-Norwegian'</span>;
</span><span id="12270" class="l"><a class="l" href="#12270">12270: </a>
</span><span id="12271" class="l"><a class="l" href="#12271">12271: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'cspc8turkish'</span>:
</span><span id="12272" class="l"><a class="l" href="#12272">12272: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'pc8turkish'</span>:
</span><span id="12273" class="l"><a class="l" href="#12273">12273: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'PC8-Turkish'</span>;
</span><span id="12274" class="l"><a class="l" href="#12274">12274: </a>
</span><span id="12275" class="l"><a class="l" href="#12275">12275: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csiso16portuguese'</span>:
</span><span id="12276" class="l"><a class="l" href="#12276">12276: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'iso646pt'</span>:
</span><span id="12277" class="l"><a class="l" href="#12277">12277: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'isoir16'</span>:
</span><span id="12278" class="l"><a class="l" href="#12278">12278: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'pt'</span>:
</span><span id="12279" class="l"><a class="l" href="#12279">12279: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'PT'</span>;
</span><span id="12280" class="l"><a class="l" href="#12280">12280: </a>
</span><span id="12281" class="l"><a class="l" href="#12281">12281: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csiso84portuguese2'</span>:
</span><span id="12282" class="l"><a class="l" href="#12282">12282: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'iso646pt2'</span>:
</span><span id="12283" class="l"><a class="l" href="#12283">12283: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'isoir84'</span>:
</span><span id="12284" class="l"><a class="l" href="#12284">12284: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'pt2'</span>:
</span><span id="12285" class="l"><a class="l" href="#12285">12285: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'PT2'</span>;
</span><span id="12286" class="l"><a class="l" href="#12286">12286: </a>
</span><span id="12287" class="l"><a class="l" href="#12287">12287: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'cp154'</span>:
</span><span id="12288" class="l"><a class="l" href="#12288">12288: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csptcp154'</span>:
</span><span id="12289" class="l"><a class="l" href="#12289">12289: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'cyrillicasian'</span>:
</span><span id="12290" class="l"><a class="l" href="#12290">12290: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'pt154'</span>:
</span><span id="12291" class="l"><a class="l" href="#12291">12291: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'ptcp154'</span>:
</span><span id="12292" class="l"><a class="l" href="#12292">12292: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'PTCP154'</span>;
</span><span id="12293" class="l"><a class="l" href="#12293">12293: </a>
</span><span id="12294" class="l"><a class="l" href="#12294">12294: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'scsu'</span>:
</span><span id="12295" class="l"><a class="l" href="#12295">12295: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'SCSU'</span>;
</span><span id="12296" class="l"><a class="l" href="#12296">12296: </a>
</span><span id="12297" class="l"><a class="l" href="#12297">12297: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csiso10swedish'</span>:
</span><span id="12298" class="l"><a class="l" href="#12298">12298: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'fi'</span>:
</span><span id="12299" class="l"><a class="l" href="#12299">12299: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'iso646fi'</span>:
</span><span id="12300" class="l"><a class="l" href="#12300">12300: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'iso646se'</span>:
</span><span id="12301" class="l"><a class="l" href="#12301">12301: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'isoir10'</span>:
</span><span id="12302" class="l"><a class="l" href="#12302">12302: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'se'</span>:
</span><span id="12303" class="l"><a class="l" href="#12303">12303: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'sen850200b'</span>:
</span><span id="12304" class="l"><a class="l" href="#12304">12304: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'SEN_850200_B'</span>;
</span><span id="12305" class="l"><a class="l" href="#12305">12305: </a>
</span><span id="12306" class="l"><a class="l" href="#12306">12306: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csiso11swedishfornames'</span>:
</span><span id="12307" class="l"><a class="l" href="#12307">12307: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'iso646se2'</span>:
</span><span id="12308" class="l"><a class="l" href="#12308">12308: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'isoir11'</span>:
</span><span id="12309" class="l"><a class="l" href="#12309">12309: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'se2'</span>:
</span><span id="12310" class="l"><a class="l" href="#12310">12310: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'sen850200c'</span>:
</span><span id="12311" class="l"><a class="l" href="#12311">12311: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'SEN_850200_C'</span>;
</span><span id="12312" class="l"><a class="l" href="#12312">12312: </a>
</span><span id="12313" class="l"><a class="l" href="#12313">12313: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csiso102t617bit'</span>:
</span><span id="12314" class="l"><a class="l" href="#12314">12314: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'isoir102'</span>:
</span><span id="12315" class="l"><a class="l" href="#12315">12315: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'t617bit'</span>:
</span><span id="12316" class="l"><a class="l" href="#12316">12316: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'T.61-7bit'</span>;
</span><span id="12317" class="l"><a class="l" href="#12317">12317: </a>
</span><span id="12318" class="l"><a class="l" href="#12318">12318: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csiso103t618bit'</span>:
</span><span id="12319" class="l"><a class="l" href="#12319">12319: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'isoir103'</span>:
</span><span id="12320" class="l"><a class="l" href="#12320">12320: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'t61'</span>:
</span><span id="12321" class="l"><a class="l" href="#12321">12321: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'t618bit'</span>:
</span><span id="12322" class="l"><a class="l" href="#12322">12322: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'T.61-8bit'</span>;
</span><span id="12323" class="l"><a class="l" href="#12323">12323: </a>
</span><span id="12324" class="l"><a class="l" href="#12324">12324: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csiso128t101g2'</span>:
</span><span id="12325" class="l"><a class="l" href="#12325">12325: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'isoir128'</span>:
</span><span id="12326" class="l"><a class="l" href="#12326">12326: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'t101g2'</span>:
</span><span id="12327" class="l"><a class="l" href="#12327">12327: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'T.101-G2'</span>;
</span><span id="12328" class="l"><a class="l" href="#12328">12328: </a>
</span><span id="12329" class="l"><a class="l" href="#12329">12329: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'cstscii'</span>:
</span><span id="12330" class="l"><a class="l" href="#12330">12330: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'tscii'</span>:
</span><span id="12331" class="l"><a class="l" href="#12331">12331: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'TSCII'</span>;
</span><span id="12332" class="l"><a class="l" href="#12332">12332: </a>
</span><span id="12333" class="l"><a class="l" href="#12333">12333: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csunicode11'</span>:
</span><span id="12334" class="l"><a class="l" href="#12334">12334: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'unicode11'</span>:
</span><span id="12335" class="l"><a class="l" href="#12335">12335: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'UNICODE-1-1'</span>;
</span><span id="12336" class="l"><a class="l" href="#12336">12336: </a>
</span><span id="12337" class="l"><a class="l" href="#12337">12337: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csunicode11utf7'</span>:
</span><span id="12338" class="l"><a class="l" href="#12338">12338: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'unicode11utf7'</span>:
</span><span id="12339" class="l"><a class="l" href="#12339">12339: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'UNICODE-1-1-UTF-7'</span>;
</span><span id="12340" class="l"><a class="l" href="#12340">12340: </a>
</span><span id="12341" class="l"><a class="l" href="#12341">12341: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csunknown8bit'</span>:
</span><span id="12342" class="l"><a class="l" href="#12342">12342: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'unknown8bit'</span>:
</span><span id="12343" class="l"><a class="l" href="#12343">12343: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'UNKNOWN-8BIT'</span>;
</span><span id="12344" class="l"><a class="l" href="#12344">12344: </a>
</span><span id="12345" class="l"><a class="l" href="#12345">12345: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'ansix341968'</span>:
</span><span id="12346" class="l"><a class="l" href="#12346">12346: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'ansix341986'</span>:
</span><span id="12347" class="l"><a class="l" href="#12347">12347: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'ascii'</span>:
</span><span id="12348" class="l"><a class="l" href="#12348">12348: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'cp367'</span>:
</span><span id="12349" class="l"><a class="l" href="#12349">12349: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csascii'</span>:
</span><span id="12350" class="l"><a class="l" href="#12350">12350: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'ibm367'</span>:
</span><span id="12351" class="l"><a class="l" href="#12351">12351: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'iso646irv1991'</span>:
</span><span id="12352" class="l"><a class="l" href="#12352">12352: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'iso646us'</span>:
</span><span id="12353" class="l"><a class="l" href="#12353">12353: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'isoir6'</span>:
</span><span id="12354" class="l"><a class="l" href="#12354">12354: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'us'</span>:
</span><span id="12355" class="l"><a class="l" href="#12355">12355: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'usascii'</span>:
</span><span id="12356" class="l"><a class="l" href="#12356">12356: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'US-ASCII'</span>;
</span><span id="12357" class="l"><a class="l" href="#12357">12357: </a>
</span><span id="12358" class="l"><a class="l" href="#12358">12358: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csusdk'</span>:
</span><span id="12359" class="l"><a class="l" href="#12359">12359: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'usdk'</span>:
</span><span id="12360" class="l"><a class="l" href="#12360">12360: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'us-dk'</span>;
</span><span id="12361" class="l"><a class="l" href="#12361">12361: </a>
</span><span id="12362" class="l"><a class="l" href="#12362">12362: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'utf7'</span>:
</span><span id="12363" class="l"><a class="l" href="#12363">12363: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'UTF-7'</span>;
</span><span id="12364" class="l"><a class="l" href="#12364">12364: </a>
</span><span id="12365" class="l"><a class="l" href="#12365">12365: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'utf8'</span>:
</span><span id="12366" class="l"><a class="l" href="#12366">12366: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'UTF-8'</span>;
</span><span id="12367" class="l"><a class="l" href="#12367">12367: </a>
</span><span id="12368" class="l"><a class="l" href="#12368">12368: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'utf16'</span>:
</span><span id="12369" class="l"><a class="l" href="#12369">12369: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'UTF-16'</span>;
</span><span id="12370" class="l"><a class="l" href="#12370">12370: </a>
</span><span id="12371" class="l"><a class="l" href="#12371">12371: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'utf16be'</span>:
</span><span id="12372" class="l"><a class="l" href="#12372">12372: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'UTF-16BE'</span>;
</span><span id="12373" class="l"><a class="l" href="#12373">12373: </a>
</span><span id="12374" class="l"><a class="l" href="#12374">12374: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'utf16le'</span>:
</span><span id="12375" class="l"><a class="l" href="#12375">12375: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'UTF-16LE'</span>;
</span><span id="12376" class="l"><a class="l" href="#12376">12376: </a>
</span><span id="12377" class="l"><a class="l" href="#12377">12377: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'utf32'</span>:
</span><span id="12378" class="l"><a class="l" href="#12378">12378: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'UTF-32'</span>;
</span><span id="12379" class="l"><a class="l" href="#12379">12379: </a>
</span><span id="12380" class="l"><a class="l" href="#12380">12380: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'utf32be'</span>:
</span><span id="12381" class="l"><a class="l" href="#12381">12381: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'UTF-32BE'</span>;
</span><span id="12382" class="l"><a class="l" href="#12382">12382: </a>
</span><span id="12383" class="l"><a class="l" href="#12383">12383: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'utf32le'</span>:
</span><span id="12384" class="l"><a class="l" href="#12384">12384: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'UTF-32LE'</span>;
</span><span id="12385" class="l"><a class="l" href="#12385">12385: </a>
</span><span id="12386" class="l"><a class="l" href="#12386">12386: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csventurainternational'</span>:
</span><span id="12387" class="l"><a class="l" href="#12387">12387: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'venturainternational'</span>:
</span><span id="12388" class="l"><a class="l" href="#12388">12388: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'Ventura-International'</span>;
</span><span id="12389" class="l"><a class="l" href="#12389">12389: </a>
</span><span id="12390" class="l"><a class="l" href="#12390">12390: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csventuramath'</span>:
</span><span id="12391" class="l"><a class="l" href="#12391">12391: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'venturamath'</span>:
</span><span id="12392" class="l"><a class="l" href="#12392">12392: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'Ventura-Math'</span>;
</span><span id="12393" class="l"><a class="l" href="#12393">12393: </a>
</span><span id="12394" class="l"><a class="l" href="#12394">12394: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csventuraus'</span>:
</span><span id="12395" class="l"><a class="l" href="#12395">12395: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'venturaus'</span>:
</span><span id="12396" class="l"><a class="l" href="#12396">12396: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'Ventura-US'</span>;
</span><span id="12397" class="l"><a class="l" href="#12397">12397: </a>
</span><span id="12398" class="l"><a class="l" href="#12398">12398: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csiso70videotexsupp1'</span>:
</span><span id="12399" class="l"><a class="l" href="#12399">12399: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'isoir70'</span>:
</span><span id="12400" class="l"><a class="l" href="#12400">12400: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'videotexsuppl'</span>:
</span><span id="12401" class="l"><a class="l" href="#12401">12401: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'videotex-suppl'</span>;
</span><span id="12402" class="l"><a class="l" href="#12402">12402: </a>
</span><span id="12403" class="l"><a class="l" href="#12403">12403: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csviqr'</span>:
</span><span id="12404" class="l"><a class="l" href="#12404">12404: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'viqr'</span>:
</span><span id="12405" class="l"><a class="l" href="#12405">12405: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'VIQR'</span>;
</span><span id="12406" class="l"><a class="l" href="#12406">12406: </a>
</span><span id="12407" class="l"><a class="l" href="#12407">12407: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csviscii'</span>:
</span><span id="12408" class="l"><a class="l" href="#12408">12408: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'viscii'</span>:
</span><span id="12409" class="l"><a class="l" href="#12409">12409: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'VISCII'</span>;
</span><span id="12410" class="l"><a class="l" href="#12410">12410: </a>
</span><span id="12411" class="l"><a class="l" href="#12411">12411: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csshiftjis'</span>:
</span><span id="12412" class="l"><a class="l" href="#12412">12412: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'cswindows31j'</span>:
</span><span id="12413" class="l"><a class="l" href="#12413">12413: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'mskanji'</span>:
</span><span id="12414" class="l"><a class="l" href="#12414">12414: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'shiftjis'</span>:
</span><span id="12415" class="l"><a class="l" href="#12415">12415: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'windows31j'</span>:
</span><span id="12416" class="l"><a class="l" href="#12416">12416: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'Windows-31J'</span>;
</span><span id="12417" class="l"><a class="l" href="#12417">12417: </a>
</span><span id="12418" class="l"><a class="l" href="#12418">12418: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'iso885911'</span>:
</span><span id="12419" class="l"><a class="l" href="#12419">12419: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'tis620'</span>:
</span><span id="12420" class="l"><a class="l" href="#12420">12420: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'windows-874'</span>;
</span><span id="12421" class="l"><a class="l" href="#12421">12421: </a>
</span><span id="12422" class="l"><a class="l" href="#12422">12422: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'cseuckr'</span>:
</span><span id="12423" class="l"><a class="l" href="#12423">12423: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csksc56011987'</span>:
</span><span id="12424" class="l"><a class="l" href="#12424">12424: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'euckr'</span>:
</span><span id="12425" class="l"><a class="l" href="#12425">12425: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'isoir149'</span>:
</span><span id="12426" class="l"><a class="l" href="#12426">12426: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'korean'</span>:
</span><span id="12427" class="l"><a class="l" href="#12427">12427: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'ksc5601'</span>:
</span><span id="12428" class="l"><a class="l" href="#12428">12428: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'ksc56011987'</span>:
</span><span id="12429" class="l"><a class="l" href="#12429">12429: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'ksc56011989'</span>:
</span><span id="12430" class="l"><a class="l" href="#12430">12430: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'windows949'</span>:
</span><span id="12431" class="l"><a class="l" href="#12431">12431: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'windows-949'</span>;
</span><span id="12432" class="l"><a class="l" href="#12432">12432: </a>
</span><span id="12433" class="l"><a class="l" href="#12433">12433: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'windows1250'</span>:
</span><span id="12434" class="l"><a class="l" href="#12434">12434: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'windows-1250'</span>;
</span><span id="12435" class="l"><a class="l" href="#12435">12435: </a>
</span><span id="12436" class="l"><a class="l" href="#12436">12436: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'windows1251'</span>:
</span><span id="12437" class="l"><a class="l" href="#12437">12437: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'windows-1251'</span>;
</span><span id="12438" class="l"><a class="l" href="#12438">12438: </a>
</span><span id="12439" class="l"><a class="l" href="#12439">12439: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'cp819'</span>:
</span><span id="12440" class="l"><a class="l" href="#12440">12440: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csisolatin1'</span>:
</span><span id="12441" class="l"><a class="l" href="#12441">12441: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'ibm819'</span>:
</span><span id="12442" class="l"><a class="l" href="#12442">12442: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'iso88591'</span>:
</span><span id="12443" class="l"><a class="l" href="#12443">12443: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'iso885911987'</span>:
</span><span id="12444" class="l"><a class="l" href="#12444">12444: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'isoir100'</span>:
</span><span id="12445" class="l"><a class="l" href="#12445">12445: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'l1'</span>:
</span><span id="12446" class="l"><a class="l" href="#12446">12446: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'latin1'</span>:
</span><span id="12447" class="l"><a class="l" href="#12447">12447: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'windows1252'</span>:
</span><span id="12448" class="l"><a class="l" href="#12448">12448: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'windows-1252'</span>;
</span><span id="12449" class="l"><a class="l" href="#12449">12449: </a>
</span><span id="12450" class="l"><a class="l" href="#12450">12450: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'windows1253'</span>:
</span><span id="12451" class="l"><a class="l" href="#12451">12451: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'windows-1253'</span>;
</span><span id="12452" class="l"><a class="l" href="#12452">12452: </a>
</span><span id="12453" class="l"><a class="l" href="#12453">12453: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'csisolatin5'</span>:
</span><span id="12454" class="l"><a class="l" href="#12454">12454: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'iso88599'</span>:
</span><span id="12455" class="l"><a class="l" href="#12455">12455: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'iso885991989'</span>:
</span><span id="12456" class="l"><a class="l" href="#12456">12456: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'isoir148'</span>:
</span><span id="12457" class="l"><a class="l" href="#12457">12457: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'l5'</span>:
</span><span id="12458" class="l"><a class="l" href="#12458">12458: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'latin5'</span>:
</span><span id="12459" class="l"><a class="l" href="#12459">12459: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'windows1254'</span>:
</span><span id="12460" class="l"><a class="l" href="#12460">12460: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'windows-1254'</span>;
</span><span id="12461" class="l"><a class="l" href="#12461">12461: </a>
</span><span id="12462" class="l"><a class="l" href="#12462">12462: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'windows1255'</span>:
</span><span id="12463" class="l"><a class="l" href="#12463">12463: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'windows-1255'</span>;
</span><span id="12464" class="l"><a class="l" href="#12464">12464: </a>
</span><span id="12465" class="l"><a class="l" href="#12465">12465: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'windows1256'</span>:
</span><span id="12466" class="l"><a class="l" href="#12466">12466: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'windows-1256'</span>;
</span><span id="12467" class="l"><a class="l" href="#12467">12467: </a>
</span><span id="12468" class="l"><a class="l" href="#12468">12468: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'windows1257'</span>:
</span><span id="12469" class="l"><a class="l" href="#12469">12469: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'windows-1257'</span>;
</span><span id="12470" class="l"><a class="l" href="#12470">12470: </a>
</span><span id="12471" class="l"><a class="l" href="#12471">12471: </a>            <span class="php-keyword1">case</span> <span class="php-quote">'windows1258'</span>:
</span><span id="12472" class="l"><a class="l" href="#12472">12472: </a>                <span class="php-keyword1">return</span> <span class="php-quote">'windows-1258'</span>;
</span><span id="12473" class="l"><a class="l" href="#12473">12473: </a>
</span><span id="12474" class="l"><a class="l" href="#12474">12474: </a>            <span class="php-keyword1">default</span>:
</span><span id="12475" class="l"><a class="l" href="#12475">12475: </a>                <span class="php-keyword1">return</span> <span class="php-var">$charset</span>;
</span><span id="12476" class="l"><a class="l" href="#12476">12476: </a>        }
</span><span id="12477" class="l"><a class="l" href="#12477">12477: </a>    }
</span><span id="12478" class="l"><a class="l" href="#12478">12478: </a>
</span><span id="12479" class="l"><a class="l" href="#12479">12479: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">static</span> <span class="php-keyword1">function</span> <a id="_get_curl_version" href="#_get_curl_version">get_curl_version</a>()
</span><span id="12480" class="l"><a class="l" href="#12480">12480: </a>    {
</span><span id="12481" class="l"><a class="l" href="#12481">12481: </a>        <span class="php-keyword1">if</span> (<span class="php-keyword2">is_array</span>(<span class="php-var">$curl</span> = <span class="php-keyword2">curl_version</span>()))
</span><span id="12482" class="l"><a class="l" href="#12482">12482: </a>        {
</span><span id="12483" class="l"><a class="l" href="#12483">12483: </a>            <span class="php-var">$curl</span> = <span class="php-var">$curl</span>[<span class="php-quote">'version'</span>];
</span><span id="12484" class="l"><a class="l" href="#12484">12484: </a>        }
</span><span id="12485" class="l"><a class="l" href="#12485">12485: </a>        <span class="php-keyword1">elseif</span> (<span class="php-keyword2">substr</span>(<span class="php-var">$curl</span>, <span class="php-num">0</span>, <span class="php-num">5</span>) === <span class="php-quote">'curl/'</span>)
</span><span id="12486" class="l"><a class="l" href="#12486">12486: </a>        {
</span><span id="12487" class="l"><a class="l" href="#12487">12487: </a>            <span class="php-var">$curl</span> = <span class="php-keyword2">substr</span>(<span class="php-var">$curl</span>, <span class="php-num">5</span>, <span class="php-keyword2">strcspn</span>(<span class="php-var">$curl</span>, <span class="php-quote">&quot;\x09\x0A\x0B\x0C\x0D&quot;</span>, <span class="php-num">5</span>));
</span><span id="12488" class="l"><a class="l" href="#12488">12488: </a>        }
</span><span id="12489" class="l"><a class="l" href="#12489">12489: </a>        <span class="php-keyword1">elseif</span> (<span class="php-keyword2">substr</span>(<span class="php-var">$curl</span>, <span class="php-num">0</span>, <span class="php-num">8</span>) === <span class="php-quote">'libcurl/'</span>)
</span><span id="12490" class="l"><a class="l" href="#12490">12490: </a>        {
</span><span id="12491" class="l"><a class="l" href="#12491">12491: </a>            <span class="php-var">$curl</span> = <span class="php-keyword2">substr</span>(<span class="php-var">$curl</span>, <span class="php-num">8</span>, <span class="php-keyword2">strcspn</span>(<span class="php-var">$curl</span>, <span class="php-quote">&quot;\x09\x0A\x0B\x0C\x0D&quot;</span>, <span class="php-num">8</span>));
</span><span id="12492" class="l"><a class="l" href="#12492">12492: </a>        }
</span><span id="12493" class="l"><a class="l" href="#12493">12493: </a>        <span class="php-keyword1">else</span>
</span><span id="12494" class="l"><a class="l" href="#12494">12494: </a>        {
</span><span id="12495" class="l"><a class="l" href="#12495">12495: </a>            <span class="php-var">$curl</span> = <span class="php-num">0</span>;
</span><span id="12496" class="l"><a class="l" href="#12496">12496: </a>        }
</span><span id="12497" class="l"><a class="l" href="#12497">12497: </a>        <span class="php-keyword1">return</span> <span class="php-var">$curl</span>;
</span><span id="12498" class="l"><a class="l" href="#12498">12498: </a>    }
</span><span id="12499" class="l"><a class="l" href="#12499">12499: </a>
</span><span id="12500" class="l"><a class="l" href="#12500">12500: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">static</span> <span class="php-keyword1">function</span> <span class="php-keyword2">is_subclass_of</span>(<span class="php-var">$class1</span>, <span class="php-var">$class2</span>)
</span><span id="12501" class="l"><a class="l" href="#12501">12501: </a>    {
</span><span id="12502" class="l"><a class="l" href="#12502">12502: </a>        <span class="php-keyword1">if</span> (<span class="php-keyword2">func_num_args</span>() !== <span class="php-num">2</span>)
</span><span id="12503" class="l"><a class="l" href="#12503">12503: </a>        {
</span><span id="12504" class="l"><a class="l" href="#12504">12504: </a>            <span class="php-keyword2">trigger_error</span>(<span class="php-quote">'Wrong parameter count for SimplePie_Misc::is_subclass_of()'</span>, E_USER_WARNING);
</span><span id="12505" class="l"><a class="l" href="#12505">12505: </a>        }
</span><span id="12506" class="l"><a class="l" href="#12506">12506: </a>        <span class="php-keyword1">elseif</span> (<span class="php-keyword2">version_compare</span>(PHP_VERSION, <span class="php-quote">'5.0.3'</span>, <span class="php-quote">'&gt;='</span>) || <span class="php-keyword2">is_object</span>(<span class="php-var">$class1</span>))
</span><span id="12507" class="l"><a class="l" href="#12507">12507: </a>        {
</span><span id="12508" class="l"><a class="l" href="#12508">12508: </a>            <span class="php-keyword1">return</span> <span class="php-keyword2">is_subclass_of</span>(<span class="php-var">$class1</span>, <span class="php-var">$class2</span>);
</span><span id="12509" class="l"><a class="l" href="#12509">12509: </a>        }
</span><span id="12510" class="l"><a class="l" href="#12510">12510: </a>        <span class="php-keyword1">elseif</span> (<span class="php-keyword2">is_string</span>(<span class="php-var">$class1</span>) &amp;&amp; <span class="php-keyword2">is_string</span>(<span class="php-var">$class2</span>))
</span><span id="12511" class="l"><a class="l" href="#12511">12511: </a>        {
</span><span id="12512" class="l"><a class="l" href="#12512">12512: </a>            <span class="php-keyword1">if</span> (<span class="php-keyword2">class_exists</span>(<span class="php-var">$class1</span>))
</span><span id="12513" class="l"><a class="l" href="#12513">12513: </a>            {
</span><span id="12514" class="l"><a class="l" href="#12514">12514: </a>                <span class="php-keyword1">if</span> (<span class="php-keyword2">class_exists</span>(<span class="php-var">$class2</span>))
</span><span id="12515" class="l"><a class="l" href="#12515">12515: </a>                {
</span><span id="12516" class="l"><a class="l" href="#12516">12516: </a>                    <span class="php-var">$class2</span> = <span class="php-keyword2">strtolower</span>(<span class="php-var">$class2</span>);
</span><span id="12517" class="l"><a class="l" href="#12517">12517: </a>                    <span class="php-keyword1">while</span> (<span class="php-var">$class1</span> = <span class="php-keyword2">strtolower</span>(<span class="php-keyword2">get_parent_class</span>(<span class="php-var">$class1</span>)))
</span><span id="12518" class="l"><a class="l" href="#12518">12518: </a>                    {
</span><span id="12519" class="l"><a class="l" href="#12519">12519: </a>                        <span class="php-keyword1">if</span> (<span class="php-var">$class1</span> === <span class="php-var">$class2</span>)
</span><span id="12520" class="l"><a class="l" href="#12520">12520: </a>                        {
</span><span id="12521" class="l"><a class="l" href="#12521">12521: </a>                            <span class="php-keyword1">return</span> <span class="php-keyword1">true</span>;
</span><span id="12522" class="l"><a class="l" href="#12522">12522: </a>                        }
</span><span id="12523" class="l"><a class="l" href="#12523">12523: </a>                    }
</span><span id="12524" class="l"><a class="l" href="#12524">12524: </a>                }
</span><span id="12525" class="l"><a class="l" href="#12525">12525: </a>            }
</span><span id="12526" class="l"><a class="l" href="#12526">12526: </a>            <span class="php-keyword1">else</span>
</span><span id="12527" class="l"><a class="l" href="#12527">12527: </a>            {
</span><span id="12528" class="l"><a class="l" href="#12528">12528: </a>                <span class="php-keyword2">trigger_error</span>(<span class="php-quote">'Unknown class passed as parameter'</span>, E_USER_WARNNG);
</span><span id="12529" class="l"><a class="l" href="#12529">12529: </a>            }
</span><span id="12530" class="l"><a class="l" href="#12530">12530: </a>        }
</span><span id="12531" class="l"><a class="l" href="#12531">12531: </a>        <span class="php-keyword1">return</span> <span class="php-keyword1">false</span>;
</span><span id="12532" class="l"><a class="l" href="#12532">12532: </a>    }
</span><span id="12533" class="l"><a class="l" href="#12533">12533: </a>
</span><span id="12534" class="l"><a class="l" href="#12534">12534: </a>    <span class="php-comment">/**
</span></span><span id="12535" class="l"><a class="l" href="#12535">12535: </a><span class="php-comment">     * Strip HTML comments
</span></span><span id="12536" class="l"><a class="l" href="#12536">12536: </a><span class="php-comment">     *
</span></span><span id="12537" class="l"><a class="l" href="#12537">12537: </a><span class="php-comment">     * @param string $data Data to strip comments from
</span></span><span id="12538" class="l"><a class="l" href="#12538">12538: </a><span class="php-comment">     * @return string Comment stripped string
</span></span><span id="12539" class="l"><a class="l" href="#12539">12539: </a><span class="php-comment">     */</span>
</span><span id="12540" class="l"><a class="l" href="#12540">12540: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">static</span> <span class="php-keyword1">function</span> <a id="_strip_comments" href="#_strip_comments">strip_comments</a>(<span class="php-var">$data</span>)
</span><span id="12541" class="l"><a class="l" href="#12541">12541: </a>    {
</span><span id="12542" class="l"><a class="l" href="#12542">12542: </a>        <span class="php-var">$output</span> = <span class="php-quote">''</span>;
</span><span id="12543" class="l"><a class="l" href="#12543">12543: </a>        <span class="php-keyword1">while</span> ((<span class="php-var">$start</span> = <span class="php-keyword2">strpos</span>(<span class="php-var">$data</span>, <span class="php-quote">'&lt;!--'</span>)) !== <span class="php-keyword1">false</span>)
</span><span id="12544" class="l"><a class="l" href="#12544">12544: </a>        {
</span><span id="12545" class="l"><a class="l" href="#12545">12545: </a>            <span class="php-var">$output</span> .= <span class="php-keyword2">substr</span>(<span class="php-var">$data</span>, <span class="php-num">0</span>, <span class="php-var">$start</span>);
</span><span id="12546" class="l"><a class="l" href="#12546">12546: </a>            <span class="php-keyword1">if</span> ((<span class="php-var">$end</span> = <span class="php-keyword2">strpos</span>(<span class="php-var">$data</span>, <span class="php-quote">'--&gt;'</span>, <span class="php-var">$start</span>)) !== <span class="php-keyword1">false</span>)
</span><span id="12547" class="l"><a class="l" href="#12547">12547: </a>            {
</span><span id="12548" class="l"><a class="l" href="#12548">12548: </a>                <span class="php-var">$data</span> = <span class="php-keyword2">substr_replace</span>(<span class="php-var">$data</span>, <span class="php-quote">''</span>, <span class="php-num">0</span>, <span class="php-var">$end</span> + <span class="php-num">3</span>);
</span><span id="12549" class="l"><a class="l" href="#12549">12549: </a>            }
</span><span id="12550" class="l"><a class="l" href="#12550">12550: </a>            <span class="php-keyword1">else</span>
</span><span id="12551" class="l"><a class="l" href="#12551">12551: </a>            {
</span><span id="12552" class="l"><a class="l" href="#12552">12552: </a>                <span class="php-var">$data</span> = <span class="php-quote">''</span>;
</span><span id="12553" class="l"><a class="l" href="#12553">12553: </a>            }
</span><span id="12554" class="l"><a class="l" href="#12554">12554: </a>        }
</span><span id="12555" class="l"><a class="l" href="#12555">12555: </a>        <span class="php-keyword1">return</span> <span class="php-var">$output</span> . <span class="php-var">$data</span>;
</span><span id="12556" class="l"><a class="l" href="#12556">12556: </a>    }
</span><span id="12557" class="l"><a class="l" href="#12557">12557: </a>
</span><span id="12558" class="l"><a class="l" href="#12558">12558: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">static</span> <span class="php-keyword1">function</span> <a id="_parse_date" href="#_parse_date">parse_date</a>(<span class="php-var">$dt</span>)
</span><span id="12559" class="l"><a class="l" href="#12559">12559: </a>    {
</span><span id="12560" class="l"><a class="l" href="#12560">12560: </a>        <span class="php-var">$parser</span> = SimplePie_Parse_Date::get();
</span><span id="12561" class="l"><a class="l" href="#12561">12561: </a>        <span class="php-keyword1">return</span> <span class="php-var">$parser</span>-&gt;parse(<span class="php-var">$dt</span>);
</span><span id="12562" class="l"><a class="l" href="#12562">12562: </a>    }
</span><span id="12563" class="l"><a class="l" href="#12563">12563: </a>
</span><span id="12564" class="l"><a class="l" href="#12564">12564: </a>    <span class="php-comment">/**
</span></span><span id="12565" class="l"><a class="l" href="#12565">12565: </a><span class="php-comment">     * Decode HTML entities
</span></span><span id="12566" class="l"><a class="l" href="#12566">12566: </a><span class="php-comment">     *
</span></span><span id="12567" class="l"><a class="l" href="#12567">12567: </a><span class="php-comment">     * @deprecated Use DOMDocument instead
</span></span><span id="12568" class="l"><a class="l" href="#12568">12568: </a><span class="php-comment">     * @param string $data Input data
</span></span><span id="12569" class="l"><a class="l" href="#12569">12569: </a><span class="php-comment">     * @return string Output data
</span></span><span id="12570" class="l"><a class="l" href="#12570">12570: </a><span class="php-comment">     */</span>
</span><span id="12571" class="l"><a class="l" href="#12571">12571: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">static</span> <span class="php-keyword1">function</span> <a id="_entities_decode" href="#_entities_decode">entities_decode</a>(<span class="php-var">$data</span>)
</span><span id="12572" class="l"><a class="l" href="#12572">12572: </a>    {
</span><span id="12573" class="l"><a class="l" href="#12573">12573: </a>        <span class="php-var">$decoder</span> = <span class="php-keyword1">new</span> SimplePie_Decode_HTML_Entities(<span class="php-var">$data</span>);
</span><span id="12574" class="l"><a class="l" href="#12574">12574: </a>        <span class="php-keyword1">return</span> <span class="php-var">$decoder</span>-&gt;parse();
</span><span id="12575" class="l"><a class="l" href="#12575">12575: </a>    }
</span><span id="12576" class="l"><a class="l" href="#12576">12576: </a>
</span><span id="12577" class="l"><a class="l" href="#12577">12577: </a>    <span class="php-comment">/**
</span></span><span id="12578" class="l"><a class="l" href="#12578">12578: </a><span class="php-comment">     * Remove RFC822 comments
</span></span><span id="12579" class="l"><a class="l" href="#12579">12579: </a><span class="php-comment">     *
</span></span><span id="12580" class="l"><a class="l" href="#12580">12580: </a><span class="php-comment">     * @param string $data Data to strip comments from
</span></span><span id="12581" class="l"><a class="l" href="#12581">12581: </a><span class="php-comment">     * @return string Comment stripped string
</span></span><span id="12582" class="l"><a class="l" href="#12582">12582: </a><span class="php-comment">     */</span>
</span><span id="12583" class="l"><a class="l" href="#12583">12583: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">static</span> <span class="php-keyword1">function</span> <a id="_uncomment_rfc822" href="#_uncomment_rfc822">uncomment_rfc822</a>(<span class="php-var">$string</span>)
</span><span id="12584" class="l"><a class="l" href="#12584">12584: </a>    {
</span><span id="12585" class="l"><a class="l" href="#12585">12585: </a>        <span class="php-var">$string</span> = (string) <span class="php-var">$string</span>;
</span><span id="12586" class="l"><a class="l" href="#12586">12586: </a>        <span class="php-var">$position</span> = <span class="php-num">0</span>;
</span><span id="12587" class="l"><a class="l" href="#12587">12587: </a>        <span class="php-var">$length</span> = <span class="php-keyword2">strlen</span>(<span class="php-var">$string</span>);
</span><span id="12588" class="l"><a class="l" href="#12588">12588: </a>        <span class="php-var">$depth</span> = <span class="php-num">0</span>;
</span><span id="12589" class="l"><a class="l" href="#12589">12589: </a>
</span><span id="12590" class="l"><a class="l" href="#12590">12590: </a>        <span class="php-var">$output</span> = <span class="php-quote">''</span>;
</span><span id="12591" class="l"><a class="l" href="#12591">12591: </a>
</span><span id="12592" class="l"><a class="l" href="#12592">12592: </a>        <span class="php-keyword1">while</span> (<span class="php-var">$position</span> &lt; <span class="php-var">$length</span> &amp;&amp; (<span class="php-var">$pos</span> = <span class="php-keyword2">strpos</span>(<span class="php-var">$string</span>, <span class="php-quote">'('</span>, <span class="php-var">$position</span>)) !== <span class="php-keyword1">false</span>)
</span><span id="12593" class="l"><a class="l" href="#12593">12593: </a>        {
</span><span id="12594" class="l"><a class="l" href="#12594">12594: </a>            <span class="php-var">$output</span> .= <span class="php-keyword2">substr</span>(<span class="php-var">$string</span>, <span class="php-var">$position</span>, <span class="php-var">$pos</span> - <span class="php-var">$position</span>);
</span><span id="12595" class="l"><a class="l" href="#12595">12595: </a>            <span class="php-var">$position</span> = <span class="php-var">$pos</span> + <span class="php-num">1</span>;
</span><span id="12596" class="l"><a class="l" href="#12596">12596: </a>            <span class="php-keyword1">if</span> (<span class="php-var">$string</span>[<span class="php-var">$pos</span> - <span class="php-num">1</span>] !== <span class="php-quote">'\\'</span>)
</span><span id="12597" class="l"><a class="l" href="#12597">12597: </a>            {
</span><span id="12598" class="l"><a class="l" href="#12598">12598: </a>                <span class="php-var">$depth</span>++;
</span><span id="12599" class="l"><a class="l" href="#12599">12599: </a>                <span class="php-keyword1">while</span> (<span class="php-var">$depth</span> &amp;&amp; <span class="php-var">$position</span> &lt; <span class="php-var">$length</span>)
</span><span id="12600" class="l"><a class="l" href="#12600">12600: </a>                {
</span><span id="12601" class="l"><a class="l" href="#12601">12601: </a>                    <span class="php-var">$position</span> += <span class="php-keyword2">strcspn</span>(<span class="php-var">$string</span>, <span class="php-quote">'()'</span>, <span class="php-var">$position</span>);
</span><span id="12602" class="l"><a class="l" href="#12602">12602: </a>                    <span class="php-keyword1">if</span> (<span class="php-var">$string</span>[<span class="php-var">$position</span> - <span class="php-num">1</span>] === <span class="php-quote">'\\'</span>)
</span><span id="12603" class="l"><a class="l" href="#12603">12603: </a>                    {
</span><span id="12604" class="l"><a class="l" href="#12604">12604: </a>                        <span class="php-var">$position</span>++;
</span><span id="12605" class="l"><a class="l" href="#12605">12605: </a>                        <span class="php-keyword1">continue</span>;
</span><span id="12606" class="l"><a class="l" href="#12606">12606: </a>                    }
</span><span id="12607" class="l"><a class="l" href="#12607">12607: </a>                    <span class="php-keyword1">elseif</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$string</span>[<span class="php-var">$position</span>]))
</span><span id="12608" class="l"><a class="l" href="#12608">12608: </a>                    {
</span><span id="12609" class="l"><a class="l" href="#12609">12609: </a>                        <span class="php-keyword1">switch</span> (<span class="php-var">$string</span>[<span class="php-var">$position</span>])
</span><span id="12610" class="l"><a class="l" href="#12610">12610: </a>                        {
</span><span id="12611" class="l"><a class="l" href="#12611">12611: </a>                            <span class="php-keyword1">case</span> <span class="php-quote">'('</span>:
</span><span id="12612" class="l"><a class="l" href="#12612">12612: </a>                                <span class="php-var">$depth</span>++;
</span><span id="12613" class="l"><a class="l" href="#12613">12613: </a>                                <span class="php-keyword1">break</span>;
</span><span id="12614" class="l"><a class="l" href="#12614">12614: </a>
</span><span id="12615" class="l"><a class="l" href="#12615">12615: </a>                            <span class="php-keyword1">case</span> <span class="php-quote">')'</span>:
</span><span id="12616" class="l"><a class="l" href="#12616">12616: </a>                                <span class="php-var">$depth</span>--;
</span><span id="12617" class="l"><a class="l" href="#12617">12617: </a>                                <span class="php-keyword1">break</span>;
</span><span id="12618" class="l"><a class="l" href="#12618">12618: </a>                        }
</span><span id="12619" class="l"><a class="l" href="#12619">12619: </a>                        <span class="php-var">$position</span>++;
</span><span id="12620" class="l"><a class="l" href="#12620">12620: </a>                    }
</span><span id="12621" class="l"><a class="l" href="#12621">12621: </a>                    <span class="php-keyword1">else</span>
</span><span id="12622" class="l"><a class="l" href="#12622">12622: </a>                    {
</span><span id="12623" class="l"><a class="l" href="#12623">12623: </a>                        <span class="php-keyword1">break</span>;
</span><span id="12624" class="l"><a class="l" href="#12624">12624: </a>                    }
</span><span id="12625" class="l"><a class="l" href="#12625">12625: </a>                }
</span><span id="12626" class="l"><a class="l" href="#12626">12626: </a>            }
</span><span id="12627" class="l"><a class="l" href="#12627">12627: </a>            <span class="php-keyword1">else</span>
</span><span id="12628" class="l"><a class="l" href="#12628">12628: </a>            {
</span><span id="12629" class="l"><a class="l" href="#12629">12629: </a>                <span class="php-var">$output</span> .= <span class="php-quote">'('</span>;
</span><span id="12630" class="l"><a class="l" href="#12630">12630: </a>            }
</span><span id="12631" class="l"><a class="l" href="#12631">12631: </a>        }
</span><span id="12632" class="l"><a class="l" href="#12632">12632: </a>        <span class="php-var">$output</span> .= <span class="php-keyword2">substr</span>(<span class="php-var">$string</span>, <span class="php-var">$position</span>);
</span><span id="12633" class="l"><a class="l" href="#12633">12633: </a>
</span><span id="12634" class="l"><a class="l" href="#12634">12634: </a>        <span class="php-keyword1">return</span> <span class="php-var">$output</span>;
</span><span id="12635" class="l"><a class="l" href="#12635">12635: </a>    }
</span><span id="12636" class="l"><a class="l" href="#12636">12636: </a>
</span><span id="12637" class="l"><a class="l" href="#12637">12637: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">static</span> <span class="php-keyword1">function</span> <a id="_parse_mime" href="#_parse_mime">parse_mime</a>(<span class="php-var">$mime</span>)
</span><span id="12638" class="l"><a class="l" href="#12638">12638: </a>    {
</span><span id="12639" class="l"><a class="l" href="#12639">12639: </a>        <span class="php-keyword1">if</span> ((<span class="php-var">$pos</span> = <span class="php-keyword2">strpos</span>(<span class="php-var">$mime</span>, <span class="php-quote">';'</span>)) === <span class="php-keyword1">false</span>)
</span><span id="12640" class="l"><a class="l" href="#12640">12640: </a>        {
</span><span id="12641" class="l"><a class="l" href="#12641">12641: </a>            <span class="php-keyword1">return</span> <span class="php-keyword2">trim</span>(<span class="php-var">$mime</span>);
</span><span id="12642" class="l"><a class="l" href="#12642">12642: </a>        }
</span><span id="12643" class="l"><a class="l" href="#12643">12643: </a>        <span class="php-keyword1">else</span>
</span><span id="12644" class="l"><a class="l" href="#12644">12644: </a>        {
</span><span id="12645" class="l"><a class="l" href="#12645">12645: </a>            <span class="php-keyword1">return</span> <span class="php-keyword2">trim</span>(<span class="php-keyword2">substr</span>(<span class="php-var">$mime</span>, <span class="php-num">0</span>, <span class="php-var">$pos</span>));
</span><span id="12646" class="l"><a class="l" href="#12646">12646: </a>        }
</span><span id="12647" class="l"><a class="l" href="#12647">12647: </a>    }
</span><span id="12648" class="l"><a class="l" href="#12648">12648: </a>
</span><span id="12649" class="l"><a class="l" href="#12649">12649: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">static</span> <span class="php-keyword1">function</span> <span class="php-keyword2">htmlspecialchars_decode</span>(<span class="php-var">$string</span>, <span class="php-var">$quote_style</span>)
</span><span id="12650" class="l"><a class="l" href="#12650">12650: </a>    {
</span><span id="12651" class="l"><a class="l" href="#12651">12651: </a>        <span class="php-keyword1">if</span> (<span class="php-keyword2">function_exists</span>(<span class="php-quote">'htmlspecialchars_decode'</span>))
</span><span id="12652" class="l"><a class="l" href="#12652">12652: </a>        {
</span><span id="12653" class="l"><a class="l" href="#12653">12653: </a>            <span class="php-keyword1">return</span> <span class="php-keyword2">htmlspecialchars_decode</span>(<span class="php-var">$string</span>, <span class="php-var">$quote_style</span>);
</span><span id="12654" class="l"><a class="l" href="#12654">12654: </a>        }
</span><span id="12655" class="l"><a class="l" href="#12655">12655: </a>        <span class="php-keyword1">else</span>
</span><span id="12656" class="l"><a class="l" href="#12656">12656: </a>        {
</span><span id="12657" class="l"><a class="l" href="#12657">12657: </a>            <span class="php-keyword1">return</span> <span class="php-keyword2">strtr</span>(<span class="php-var">$string</span>, <span class="php-keyword2">array_flip</span>(<span class="php-keyword2">get_html_translation_table</span>(HTML_SPECIALCHARS, <span class="php-var">$quote_style</span>)));
</span><span id="12658" class="l"><a class="l" href="#12658">12658: </a>        }
</span><span id="12659" class="l"><a class="l" href="#12659">12659: </a>    }
</span><span id="12660" class="l"><a class="l" href="#12660">12660: </a>
</span><span id="12661" class="l"><a class="l" href="#12661">12661: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">static</span> <span class="php-keyword1">function</span> <a id="_atom_03_construct_type" href="#_atom_03_construct_type">atom_03_construct_type</a>(<span class="php-var">$attribs</span>)
</span><span id="12662" class="l"><a class="l" href="#12662">12662: </a>    {
</span><span id="12663" class="l"><a class="l" href="#12663">12663: </a>        <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$attribs</span>[<span class="php-quote">''</span>][<span class="php-quote">'mode'</span>]) &amp;&amp; <span class="php-keyword2">strtolower</span>(<span class="php-keyword2">trim</span>(<span class="php-var">$attribs</span>[<span class="php-quote">''</span>][<span class="php-quote">'mode'</span>]) === <span class="php-quote">'base64'</span>))
</span><span id="12664" class="l"><a class="l" href="#12664">12664: </a>        {
</span><span id="12665" class="l"><a class="l" href="#12665">12665: </a>            <span class="php-var">$mode</span> = SIMPLEPIE_CONSTRUCT_BASE64;
</span><span id="12666" class="l"><a class="l" href="#12666">12666: </a>        }
</span><span id="12667" class="l"><a class="l" href="#12667">12667: </a>        <span class="php-keyword1">else</span>
</span><span id="12668" class="l"><a class="l" href="#12668">12668: </a>        {
</span><span id="12669" class="l"><a class="l" href="#12669">12669: </a>            <span class="php-var">$mode</span> = SIMPLEPIE_CONSTRUCT_NONE;
</span><span id="12670" class="l"><a class="l" href="#12670">12670: </a>        }
</span><span id="12671" class="l"><a class="l" href="#12671">12671: </a>        <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$attribs</span>[<span class="php-quote">''</span>][<span class="php-quote">'type'</span>]))
</span><span id="12672" class="l"><a class="l" href="#12672">12672: </a>        {
</span><span id="12673" class="l"><a class="l" href="#12673">12673: </a>            <span class="php-keyword1">switch</span> (<span class="php-keyword2">strtolower</span>(<span class="php-keyword2">trim</span>(<span class="php-var">$attribs</span>[<span class="php-quote">''</span>][<span class="php-quote">'type'</span>])))
</span><span id="12674" class="l"><a class="l" href="#12674">12674: </a>            {
</span><span id="12675" class="l"><a class="l" href="#12675">12675: </a>                <span class="php-keyword1">case</span> <span class="php-quote">'text'</span>:
</span><span id="12676" class="l"><a class="l" href="#12676">12676: </a>                <span class="php-keyword1">case</span> <span class="php-quote">'text/plain'</span>:
</span><span id="12677" class="l"><a class="l" href="#12677">12677: </a>                    <span class="php-keyword1">return</span> SIMPLEPIE_CONSTRUCT_TEXT | <span class="php-var">$mode</span>;
</span><span id="12678" class="l"><a class="l" href="#12678">12678: </a>
</span><span id="12679" class="l"><a class="l" href="#12679">12679: </a>                <span class="php-keyword1">case</span> <span class="php-quote">'html'</span>:
</span><span id="12680" class="l"><a class="l" href="#12680">12680: </a>                <span class="php-keyword1">case</span> <span class="php-quote">'text/html'</span>:
</span><span id="12681" class="l"><a class="l" href="#12681">12681: </a>                    <span class="php-keyword1">return</span> SIMPLEPIE_CONSTRUCT_HTML | <span class="php-var">$mode</span>;
</span><span id="12682" class="l"><a class="l" href="#12682">12682: </a>
</span><span id="12683" class="l"><a class="l" href="#12683">12683: </a>                <span class="php-keyword1">case</span> <span class="php-quote">'xhtml'</span>:
</span><span id="12684" class="l"><a class="l" href="#12684">12684: </a>                <span class="php-keyword1">case</span> <span class="php-quote">'application/xhtml+xml'</span>:
</span><span id="12685" class="l"><a class="l" href="#12685">12685: </a>                    <span class="php-keyword1">return</span> SIMPLEPIE_CONSTRUCT_XHTML | <span class="php-var">$mode</span>;
</span><span id="12686" class="l"><a class="l" href="#12686">12686: </a>
</span><span id="12687" class="l"><a class="l" href="#12687">12687: </a>                <span class="php-keyword1">default</span>:
</span><span id="12688" class="l"><a class="l" href="#12688">12688: </a>                    <span class="php-keyword1">return</span> SIMPLEPIE_CONSTRUCT_NONE | <span class="php-var">$mode</span>;
</span><span id="12689" class="l"><a class="l" href="#12689">12689: </a>            }
</span><span id="12690" class="l"><a class="l" href="#12690">12690: </a>        }
</span><span id="12691" class="l"><a class="l" href="#12691">12691: </a>        <span class="php-keyword1">else</span>
</span><span id="12692" class="l"><a class="l" href="#12692">12692: </a>        {
</span><span id="12693" class="l"><a class="l" href="#12693">12693: </a>            <span class="php-keyword1">return</span> SIMPLEPIE_CONSTRUCT_TEXT | <span class="php-var">$mode</span>;
</span><span id="12694" class="l"><a class="l" href="#12694">12694: </a>        }
</span><span id="12695" class="l"><a class="l" href="#12695">12695: </a>    }
</span><span id="12696" class="l"><a class="l" href="#12696">12696: </a>
</span><span id="12697" class="l"><a class="l" href="#12697">12697: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">static</span> <span class="php-keyword1">function</span> <a id="_atom_10_construct_type" href="#_atom_10_construct_type">atom_10_construct_type</a>(<span class="php-var">$attribs</span>)
</span><span id="12698" class="l"><a class="l" href="#12698">12698: </a>    {
</span><span id="12699" class="l"><a class="l" href="#12699">12699: </a>        <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$attribs</span>[<span class="php-quote">''</span>][<span class="php-quote">'type'</span>]))
</span><span id="12700" class="l"><a class="l" href="#12700">12700: </a>        {
</span><span id="12701" class="l"><a class="l" href="#12701">12701: </a>            <span class="php-keyword1">switch</span> (<span class="php-keyword2">strtolower</span>(<span class="php-keyword2">trim</span>(<span class="php-var">$attribs</span>[<span class="php-quote">''</span>][<span class="php-quote">'type'</span>])))
</span><span id="12702" class="l"><a class="l" href="#12702">12702: </a>            {
</span><span id="12703" class="l"><a class="l" href="#12703">12703: </a>                <span class="php-keyword1">case</span> <span class="php-quote">'text'</span>:
</span><span id="12704" class="l"><a class="l" href="#12704">12704: </a>                    <span class="php-keyword1">return</span> SIMPLEPIE_CONSTRUCT_TEXT;
</span><span id="12705" class="l"><a class="l" href="#12705">12705: </a>
</span><span id="12706" class="l"><a class="l" href="#12706">12706: </a>                <span class="php-keyword1">case</span> <span class="php-quote">'html'</span>:
</span><span id="12707" class="l"><a class="l" href="#12707">12707: </a>                    <span class="php-keyword1">return</span> SIMPLEPIE_CONSTRUCT_HTML;
</span><span id="12708" class="l"><a class="l" href="#12708">12708: </a>
</span><span id="12709" class="l"><a class="l" href="#12709">12709: </a>                <span class="php-keyword1">case</span> <span class="php-quote">'xhtml'</span>:
</span><span id="12710" class="l"><a class="l" href="#12710">12710: </a>                    <span class="php-keyword1">return</span> SIMPLEPIE_CONSTRUCT_XHTML;
</span><span id="12711" class="l"><a class="l" href="#12711">12711: </a>
</span><span id="12712" class="l"><a class="l" href="#12712">12712: </a>                <span class="php-keyword1">default</span>:
</span><span id="12713" class="l"><a class="l" href="#12713">12713: </a>                    <span class="php-keyword1">return</span> SIMPLEPIE_CONSTRUCT_NONE;
</span><span id="12714" class="l"><a class="l" href="#12714">12714: </a>            }
</span><span id="12715" class="l"><a class="l" href="#12715">12715: </a>        }
</span><span id="12716" class="l"><a class="l" href="#12716">12716: </a>        <span class="php-keyword1">return</span> SIMPLEPIE_CONSTRUCT_TEXT;
</span><span id="12717" class="l"><a class="l" href="#12717">12717: </a>    }
</span><span id="12718" class="l"><a class="l" href="#12718">12718: </a>
</span><span id="12719" class="l"><a class="l" href="#12719">12719: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">static</span> <span class="php-keyword1">function</span> <a id="_atom_10_content_construct_type" href="#_atom_10_content_construct_type">atom_10_content_construct_type</a>(<span class="php-var">$attribs</span>)
</span><span id="12720" class="l"><a class="l" href="#12720">12720: </a>    {
</span><span id="12721" class="l"><a class="l" href="#12721">12721: </a>        <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$attribs</span>[<span class="php-quote">''</span>][<span class="php-quote">'type'</span>]))
</span><span id="12722" class="l"><a class="l" href="#12722">12722: </a>        {
</span><span id="12723" class="l"><a class="l" href="#12723">12723: </a>            <span class="php-var">$type</span> = <span class="php-keyword2">strtolower</span>(<span class="php-keyword2">trim</span>(<span class="php-var">$attribs</span>[<span class="php-quote">''</span>][<span class="php-quote">'type'</span>]));
</span><span id="12724" class="l"><a class="l" href="#12724">12724: </a>            <span class="php-keyword1">switch</span> (<span class="php-var">$type</span>)
</span><span id="12725" class="l"><a class="l" href="#12725">12725: </a>            {
</span><span id="12726" class="l"><a class="l" href="#12726">12726: </a>                <span class="php-keyword1">case</span> <span class="php-quote">'text'</span>:
</span><span id="12727" class="l"><a class="l" href="#12727">12727: </a>                    <span class="php-keyword1">return</span> SIMPLEPIE_CONSTRUCT_TEXT;
</span><span id="12728" class="l"><a class="l" href="#12728">12728: </a>
</span><span id="12729" class="l"><a class="l" href="#12729">12729: </a>                <span class="php-keyword1">case</span> <span class="php-quote">'html'</span>:
</span><span id="12730" class="l"><a class="l" href="#12730">12730: </a>                    <span class="php-keyword1">return</span> SIMPLEPIE_CONSTRUCT_HTML;
</span><span id="12731" class="l"><a class="l" href="#12731">12731: </a>
</span><span id="12732" class="l"><a class="l" href="#12732">12732: </a>                <span class="php-keyword1">case</span> <span class="php-quote">'xhtml'</span>:
</span><span id="12733" class="l"><a class="l" href="#12733">12733: </a>                    <span class="php-keyword1">return</span> SIMPLEPIE_CONSTRUCT_XHTML;
</span><span id="12734" class="l"><a class="l" href="#12734">12734: </a>            }
</span><span id="12735" class="l"><a class="l" href="#12735">12735: </a>            <span class="php-keyword1">if</span> (<span class="php-keyword2">in_array</span>(<span class="php-keyword2">substr</span>(<span class="php-var">$type</span>, -<span class="php-num">4</span>), <span class="php-keyword1">array</span>(<span class="php-quote">'+xml'</span>, <span class="php-quote">'/xml'</span>)) || <span class="php-keyword2">substr</span>(<span class="php-var">$type</span>, <span class="php-num">0</span>, <span class="php-num">5</span>) === <span class="php-quote">'text/'</span>)
</span><span id="12736" class="l"><a class="l" href="#12736">12736: </a>            {
</span><span id="12737" class="l"><a class="l" href="#12737">12737: </a>                <span class="php-keyword1">return</span> SIMPLEPIE_CONSTRUCT_NONE;
</span><span id="12738" class="l"><a class="l" href="#12738">12738: </a>            }
</span><span id="12739" class="l"><a class="l" href="#12739">12739: </a>            <span class="php-keyword1">else</span>
</span><span id="12740" class="l"><a class="l" href="#12740">12740: </a>            {
</span><span id="12741" class="l"><a class="l" href="#12741">12741: </a>                <span class="php-keyword1">return</span> SIMPLEPIE_CONSTRUCT_BASE64;
</span><span id="12742" class="l"><a class="l" href="#12742">12742: </a>            }
</span><span id="12743" class="l"><a class="l" href="#12743">12743: </a>        }
</span><span id="12744" class="l"><a class="l" href="#12744">12744: </a>        <span class="php-keyword1">else</span>
</span><span id="12745" class="l"><a class="l" href="#12745">12745: </a>        {
</span><span id="12746" class="l"><a class="l" href="#12746">12746: </a>            <span class="php-keyword1">return</span> SIMPLEPIE_CONSTRUCT_TEXT;
</span><span id="12747" class="l"><a class="l" href="#12747">12747: </a>        }
</span><span id="12748" class="l"><a class="l" href="#12748">12748: </a>    }
</span><span id="12749" class="l"><a class="l" href="#12749">12749: </a>
</span><span id="12750" class="l"><a class="l" href="#12750">12750: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">static</span> <span class="php-keyword1">function</span> <a id="_is_isegment_nz_nc" href="#_is_isegment_nz_nc">is_isegment_nz_nc</a>(<span class="php-var">$string</span>)
</span><span id="12751" class="l"><a class="l" href="#12751">12751: </a>    {
</span><span id="12752" class="l"><a class="l" href="#12752">12752: </a>        <span class="php-keyword1">return</span> (bool) <span class="php-keyword2">preg_match</span>(<span class="php-quote">'/^([A-Za-z0-9\-._~\x{A0}-\x{D7FF}\x{F900}-\x{FDCF}\x{FDF0}-\x{FFEF}\x{10000}-\x{1FFFD}\x{20000}-\x{2FFFD}\x{30000}-\x{3FFFD}\x{40000}-\x{4FFFD}\x{50000}-\x{5FFFD}\x{60000}-\x{6FFFD}\x{70000}-\x{7FFFD}\x{80000}-\x{8FFFD}\x{90000}-\x{9FFFD}\x{A0000}-\x{AFFFD}\x{B0000}-\x{BFFFD}\x{C0000}-\x{CFFFD}\x{D0000}-\x{DFFFD}\x{E1000}-\x{EFFFD}!$&amp;\'()*+,;=@]|(%[0-9ABCDEF]{2}))+$/u'</span>, <span class="php-var">$string</span>);
</span><span id="12753" class="l"><a class="l" href="#12753">12753: </a>    }
</span><span id="12754" class="l"><a class="l" href="#12754">12754: </a>
</span><span id="12755" class="l"><a class="l" href="#12755">12755: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">static</span> <span class="php-keyword1">function</span> <a id="_space_seperated_tokens" href="#_space_seperated_tokens">space_seperated_tokens</a>(<span class="php-var">$string</span>)
</span><span id="12756" class="l"><a class="l" href="#12756">12756: </a>    {
</span><span id="12757" class="l"><a class="l" href="#12757">12757: </a>        <span class="php-var">$space_characters</span> = <span class="php-quote">&quot;\x20\x09\x0A\x0B\x0C\x0D&quot;</span>;
</span><span id="12758" class="l"><a class="l" href="#12758">12758: </a>        <span class="php-var">$string_length</span> = <span class="php-keyword2">strlen</span>(<span class="php-var">$string</span>);
</span><span id="12759" class="l"><a class="l" href="#12759">12759: </a>
</span><span id="12760" class="l"><a class="l" href="#12760">12760: </a>        <span class="php-var">$position</span> = <span class="php-keyword2">strspn</span>(<span class="php-var">$string</span>, <span class="php-var">$space_characters</span>);
</span><span id="12761" class="l"><a class="l" href="#12761">12761: </a>        <span class="php-var">$tokens</span> = <span class="php-keyword1">array</span>();
</span><span id="12762" class="l"><a class="l" href="#12762">12762: </a>
</span><span id="12763" class="l"><a class="l" href="#12763">12763: </a>        <span class="php-keyword1">while</span> (<span class="php-var">$position</span> &lt; <span class="php-var">$string_length</span>)
</span><span id="12764" class="l"><a class="l" href="#12764">12764: </a>        {
</span><span id="12765" class="l"><a class="l" href="#12765">12765: </a>            <span class="php-var">$len</span> = <span class="php-keyword2">strcspn</span>(<span class="php-var">$string</span>, <span class="php-var">$space_characters</span>, <span class="php-var">$position</span>);
</span><span id="12766" class="l"><a class="l" href="#12766">12766: </a>            <span class="php-var">$tokens</span>[] = <span class="php-keyword2">substr</span>(<span class="php-var">$string</span>, <span class="php-var">$position</span>, <span class="php-var">$len</span>);
</span><span id="12767" class="l"><a class="l" href="#12767">12767: </a>            <span class="php-var">$position</span> += <span class="php-var">$len</span>;
</span><span id="12768" class="l"><a class="l" href="#12768">12768: </a>            <span class="php-var">$position</span> += <span class="php-keyword2">strspn</span>(<span class="php-var">$string</span>, <span class="php-var">$space_characters</span>, <span class="php-var">$position</span>);
</span><span id="12769" class="l"><a class="l" href="#12769">12769: </a>        }
</span><span id="12770" class="l"><a class="l" href="#12770">12770: </a>
</span><span id="12771" class="l"><a class="l" href="#12771">12771: </a>        <span class="php-keyword1">return</span> <span class="php-var">$tokens</span>;
</span><span id="12772" class="l"><a class="l" href="#12772">12772: </a>    }
</span><span id="12773" class="l"><a class="l" href="#12773">12773: </a>
</span><span id="12774" class="l"><a class="l" href="#12774">12774: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">static</span> <span class="php-keyword1">function</span> <span class="php-keyword2">array_unique</span>(<span class="php-var">$array</span>)
</span><span id="12775" class="l"><a class="l" href="#12775">12775: </a>    {
</span><span id="12776" class="l"><a class="l" href="#12776">12776: </a>        <span class="php-keyword1">if</span> (<span class="php-keyword2">version_compare</span>(PHP_VERSION, <span class="php-quote">'5.2'</span>, <span class="php-quote">'&gt;='</span>))
</span><span id="12777" class="l"><a class="l" href="#12777">12777: </a>        {
</span><span id="12778" class="l"><a class="l" href="#12778">12778: </a>            <span class="php-keyword1">return</span> <span class="php-keyword2">array_unique</span>(<span class="php-var">$array</span>);
</span><span id="12779" class="l"><a class="l" href="#12779">12779: </a>        }
</span><span id="12780" class="l"><a class="l" href="#12780">12780: </a>        <span class="php-keyword1">else</span>
</span><span id="12781" class="l"><a class="l" href="#12781">12781: </a>        {
</span><span id="12782" class="l"><a class="l" href="#12782">12782: </a>            <span class="php-var">$array</span> = (<span class="php-keyword1">array</span>) <span class="php-var">$array</span>;
</span><span id="12783" class="l"><a class="l" href="#12783">12783: </a>            <span class="php-var">$new_array</span> = <span class="php-keyword1">array</span>();
</span><span id="12784" class="l"><a class="l" href="#12784">12784: </a>            <span class="php-var">$new_array_strings</span> = <span class="php-keyword1">array</span>();
</span><span id="12785" class="l"><a class="l" href="#12785">12785: </a>            <span class="php-keyword1">foreach</span> (<span class="php-var">$array</span> <span class="php-keyword1">as</span> <span class="php-var">$key</span> =&gt; <span class="php-var">$value</span>)
</span><span id="12786" class="l"><a class="l" href="#12786">12786: </a>            {
</span><span id="12787" class="l"><a class="l" href="#12787">12787: </a>                <span class="php-keyword1">if</span> (<span class="php-keyword2">is_object</span>(<span class="php-var">$value</span>))
</span><span id="12788" class="l"><a class="l" href="#12788">12788: </a>                {
</span><span id="12789" class="l"><a class="l" href="#12789">12789: </a>                    <span class="php-keyword1">if</span> (<span class="php-keyword2">method_exists</span>(<span class="php-var">$value</span>, <span class="php-quote">'__toString'</span>))
</span><span id="12790" class="l"><a class="l" href="#12790">12790: </a>                    {
</span><span id="12791" class="l"><a class="l" href="#12791">12791: </a>                        <span class="php-var">$cmp</span> = <span class="php-var">$value</span>-&gt;__toString();
</span><span id="12792" class="l"><a class="l" href="#12792">12792: </a>                    }
</span><span id="12793" class="l"><a class="l" href="#12793">12793: </a>                    <span class="php-keyword1">else</span>
</span><span id="12794" class="l"><a class="l" href="#12794">12794: </a>                    {
</span><span id="12795" class="l"><a class="l" href="#12795">12795: </a>                        <span class="php-keyword2">trigger_error</span>(<span class="php-quote">'Object of class '</span> . <span class="php-keyword2">get_class</span>(<span class="php-var">$value</span>) . <span class="php-quote">' could not be converted to string'</span>, E_USER_ERROR);
</span><span id="12796" class="l"><a class="l" href="#12796">12796: </a>                    }
</span><span id="12797" class="l"><a class="l" href="#12797">12797: </a>                }
</span><span id="12798" class="l"><a class="l" href="#12798">12798: </a>                <span class="php-keyword1">elseif</span> (<span class="php-keyword2">is_array</span>(<span class="php-var">$value</span>))
</span><span id="12799" class="l"><a class="l" href="#12799">12799: </a>                {
</span><span id="12800" class="l"><a class="l" href="#12800">12800: </a>                    <span class="php-var">$cmp</span> = (string) <span class="php-keyword2">reset</span>(<span class="php-var">$value</span>);
</span><span id="12801" class="l"><a class="l" href="#12801">12801: </a>                }
</span><span id="12802" class="l"><a class="l" href="#12802">12802: </a>                <span class="php-keyword1">else</span>
</span><span id="12803" class="l"><a class="l" href="#12803">12803: </a>                {
</span><span id="12804" class="l"><a class="l" href="#12804">12804: </a>                    <span class="php-var">$cmp</span> = (string) <span class="php-var">$value</span>;
</span><span id="12805" class="l"><a class="l" href="#12805">12805: </a>                }
</span><span id="12806" class="l"><a class="l" href="#12806">12806: </a>                <span class="php-keyword1">if</span> (!<span class="php-keyword2">in_array</span>(<span class="php-var">$cmp</span>, <span class="php-var">$new_array_strings</span>))
</span><span id="12807" class="l"><a class="l" href="#12807">12807: </a>                {
</span><span id="12808" class="l"><a class="l" href="#12808">12808: </a>                    <span class="php-var">$new_array</span>[<span class="php-var">$key</span>] = <span class="php-var">$value</span>;
</span><span id="12809" class="l"><a class="l" href="#12809">12809: </a>                    <span class="php-var">$new_array_strings</span>[] = <span class="php-var">$cmp</span>;
</span><span id="12810" class="l"><a class="l" href="#12810">12810: </a>                }
</span><span id="12811" class="l"><a class="l" href="#12811">12811: </a>            }
</span><span id="12812" class="l"><a class="l" href="#12812">12812: </a>            <span class="php-keyword1">return</span> <span class="php-var">$new_array</span>;
</span><span id="12813" class="l"><a class="l" href="#12813">12813: </a>        }
</span><span id="12814" class="l"><a class="l" href="#12814">12814: </a>    }
</span><span id="12815" class="l"><a class="l" href="#12815">12815: </a>
</span><span id="12816" class="l"><a class="l" href="#12816">12816: </a>    <span class="php-comment">/**
</span></span><span id="12817" class="l"><a class="l" href="#12817">12817: </a><span class="php-comment">     * Converts a unicode codepoint to a UTF-8 character
</span></span><span id="12818" class="l"><a class="l" href="#12818">12818: </a><span class="php-comment">     *
</span></span><span id="12819" class="l"><a class="l" href="#12819">12819: </a><span class="php-comment">     * @static
</span></span><span id="12820" class="l"><a class="l" href="#12820">12820: </a><span class="php-comment">     * @param int $codepoint Unicode codepoint
</span></span><span id="12821" class="l"><a class="l" href="#12821">12821: </a><span class="php-comment">     * @return string UTF-8 character
</span></span><span id="12822" class="l"><a class="l" href="#12822">12822: </a><span class="php-comment">     */</span>
</span><span id="12823" class="l"><a class="l" href="#12823">12823: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">static</span> <span class="php-keyword1">function</span> <a id="_codepoint_to_utf8" href="#_codepoint_to_utf8">codepoint_to_utf8</a>(<span class="php-var">$codepoint</span>)
</span><span id="12824" class="l"><a class="l" href="#12824">12824: </a>    {
</span><span id="12825" class="l"><a class="l" href="#12825">12825: </a>        <span class="php-var">$codepoint</span> = (int) <span class="php-var">$codepoint</span>;
</span><span id="12826" class="l"><a class="l" href="#12826">12826: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$codepoint</span> &lt; <span class="php-num">0</span>)
</span><span id="12827" class="l"><a class="l" href="#12827">12827: </a>        {
</span><span id="12828" class="l"><a class="l" href="#12828">12828: </a>            <span class="php-keyword1">return</span> <span class="php-keyword1">false</span>;
</span><span id="12829" class="l"><a class="l" href="#12829">12829: </a>        }
</span><span id="12830" class="l"><a class="l" href="#12830">12830: </a>        <span class="php-keyword1">else</span> <span class="php-keyword1">if</span> (<span class="php-var">$codepoint</span> &lt;= <span class="php-num">0x7f</span>)
</span><span id="12831" class="l"><a class="l" href="#12831">12831: </a>        {
</span><span id="12832" class="l"><a class="l" href="#12832">12832: </a>            <span class="php-keyword1">return</span> <span class="php-keyword2">chr</span>(<span class="php-var">$codepoint</span>);
</span><span id="12833" class="l"><a class="l" href="#12833">12833: </a>        }
</span><span id="12834" class="l"><a class="l" href="#12834">12834: </a>        <span class="php-keyword1">else</span> <span class="php-keyword1">if</span> (<span class="php-var">$codepoint</span> &lt;= <span class="php-num">0x7ff</span>)
</span><span id="12835" class="l"><a class="l" href="#12835">12835: </a>        {
</span><span id="12836" class="l"><a class="l" href="#12836">12836: </a>            <span class="php-keyword1">return</span> <span class="php-keyword2">chr</span>(<span class="php-num">0xc0</span> | (<span class="php-var">$codepoint</span> &gt;&gt; <span class="php-num">6</span>)) . <span class="php-keyword2">chr</span>(<span class="php-num">0x80</span> | (<span class="php-var">$codepoint</span> &amp; <span class="php-num">0x3f</span>));
</span><span id="12837" class="l"><a class="l" href="#12837">12837: </a>        }
</span><span id="12838" class="l"><a class="l" href="#12838">12838: </a>        <span class="php-keyword1">else</span> <span class="php-keyword1">if</span> (<span class="php-var">$codepoint</span> &lt;= <span class="php-num">0xffff</span>)
</span><span id="12839" class="l"><a class="l" href="#12839">12839: </a>        {
</span><span id="12840" class="l"><a class="l" href="#12840">12840: </a>            <span class="php-keyword1">return</span> <span class="php-keyword2">chr</span>(<span class="php-num">0xe0</span> | (<span class="php-var">$codepoint</span> &gt;&gt; <span class="php-num">12</span>)) . <span class="php-keyword2">chr</span>(<span class="php-num">0x80</span> | ((<span class="php-var">$codepoint</span> &gt;&gt; <span class="php-num">6</span>) &amp; <span class="php-num">0x3f</span>)) . <span class="php-keyword2">chr</span>(<span class="php-num">0x80</span> | (<span class="php-var">$codepoint</span> &amp; <span class="php-num">0x3f</span>));
</span><span id="12841" class="l"><a class="l" href="#12841">12841: </a>        }
</span><span id="12842" class="l"><a class="l" href="#12842">12842: </a>        <span class="php-keyword1">else</span> <span class="php-keyword1">if</span> (<span class="php-var">$codepoint</span> &lt;= <span class="php-num">0x10ffff</span>)
</span><span id="12843" class="l"><a class="l" href="#12843">12843: </a>        {
</span><span id="12844" class="l"><a class="l" href="#12844">12844: </a>            <span class="php-keyword1">return</span> <span class="php-keyword2">chr</span>(<span class="php-num">0xf0</span> | (<span class="php-var">$codepoint</span> &gt;&gt; <span class="php-num">18</span>)) . <span class="php-keyword2">chr</span>(<span class="php-num">0x80</span> | ((<span class="php-var">$codepoint</span> &gt;&gt; <span class="php-num">12</span>) &amp; <span class="php-num">0x3f</span>)) . <span class="php-keyword2">chr</span>(<span class="php-num">0x80</span> | ((<span class="php-var">$codepoint</span> &gt;&gt; <span class="php-num">6</span>) &amp; <span class="php-num">0x3f</span>)) . <span class="php-keyword2">chr</span>(<span class="php-num">0x80</span> | (<span class="php-var">$codepoint</span> &amp; <span class="php-num">0x3f</span>));
</span><span id="12845" class="l"><a class="l" href="#12845">12845: </a>        }
</span><span id="12846" class="l"><a class="l" href="#12846">12846: </a>        <span class="php-keyword1">else</span>
</span><span id="12847" class="l"><a class="l" href="#12847">12847: </a>        {
</span><span id="12848" class="l"><a class="l" href="#12848">12848: </a>            <span class="php-comment">// U+FFFD REPLACEMENT CHARACTER</span>
</span><span id="12849" class="l"><a class="l" href="#12849">12849: </a>            <span class="php-keyword1">return</span> <span class="php-quote">&quot;\xEF\xBF\xBD&quot;</span>;
</span><span id="12850" class="l"><a class="l" href="#12850">12850: </a>        }
</span><span id="12851" class="l"><a class="l" href="#12851">12851: </a>    }
</span><span id="12852" class="l"><a class="l" href="#12852">12852: </a>
</span><span id="12853" class="l"><a class="l" href="#12853">12853: </a>    <span class="php-comment">/**
</span></span><span id="12854" class="l"><a class="l" href="#12854">12854: </a><span class="php-comment">     * Similar to parse_str()
</span></span><span id="12855" class="l"><a class="l" href="#12855">12855: </a><span class="php-comment">     *
</span></span><span id="12856" class="l"><a class="l" href="#12856">12856: </a><span class="php-comment">     * Returns an associative array of name/value pairs, where the value is an
</span></span><span id="12857" class="l"><a class="l" href="#12857">12857: </a><span class="php-comment">     * array of values that have used the same name
</span></span><span id="12858" class="l"><a class="l" href="#12858">12858: </a><span class="php-comment">     *
</span></span><span id="12859" class="l"><a class="l" href="#12859">12859: </a><span class="php-comment">     * @static
</span></span><span id="12860" class="l"><a class="l" href="#12860">12860: </a><span class="php-comment">     * @param string $str The input string.
</span></span><span id="12861" class="l"><a class="l" href="#12861">12861: </a><span class="php-comment">     * @return array
</span></span><span id="12862" class="l"><a class="l" href="#12862">12862: </a><span class="php-comment">     */</span>
</span><span id="12863" class="l"><a class="l" href="#12863">12863: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">static</span> <span class="php-keyword1">function</span> <span class="php-keyword2">parse_str</span>(<span class="php-var">$str</span>)
</span><span id="12864" class="l"><a class="l" href="#12864">12864: </a>    {
</span><span id="12865" class="l"><a class="l" href="#12865">12865: </a>        <span class="php-var">$return</span> = <span class="php-keyword1">array</span>();
</span><span id="12866" class="l"><a class="l" href="#12866">12866: </a>        <span class="php-var">$str</span> = <span class="php-keyword2">explode</span>(<span class="php-quote">'&amp;'</span>, <span class="php-var">$str</span>);
</span><span id="12867" class="l"><a class="l" href="#12867">12867: </a>
</span><span id="12868" class="l"><a class="l" href="#12868">12868: </a>        <span class="php-keyword1">foreach</span> (<span class="php-var">$str</span> <span class="php-keyword1">as</span> <span class="php-var">$section</span>)
</span><span id="12869" class="l"><a class="l" href="#12869">12869: </a>        {
</span><span id="12870" class="l"><a class="l" href="#12870">12870: </a>            <span class="php-keyword1">if</span> (<span class="php-keyword2">strpos</span>(<span class="php-var">$section</span>, <span class="php-quote">'='</span>) !== <span class="php-keyword1">false</span>)
</span><span id="12871" class="l"><a class="l" href="#12871">12871: </a>            {
</span><span id="12872" class="l"><a class="l" href="#12872">12872: </a>                <span class="php-keyword1">list</span>(<span class="php-var">$name</span>, <span class="php-var">$value</span>) = <span class="php-keyword2">explode</span>(<span class="php-quote">'='</span>, <span class="php-var">$section</span>, <span class="php-num">2</span>);
</span><span id="12873" class="l"><a class="l" href="#12873">12873: </a>                <span class="php-var">$return</span>[<span class="php-keyword2">urldecode</span>(<span class="php-var">$name</span>)][] = <span class="php-keyword2">urldecode</span>(<span class="php-var">$value</span>);
</span><span id="12874" class="l"><a class="l" href="#12874">12874: </a>            }
</span><span id="12875" class="l"><a class="l" href="#12875">12875: </a>            <span class="php-keyword1">else</span>
</span><span id="12876" class="l"><a class="l" href="#12876">12876: </a>            {
</span><span id="12877" class="l"><a class="l" href="#12877">12877: </a>                <span class="php-var">$return</span>[<span class="php-keyword2">urldecode</span>(<span class="php-var">$section</span>)][] = <span class="php-keyword1">null</span>;
</span><span id="12878" class="l"><a class="l" href="#12878">12878: </a>            }
</span><span id="12879" class="l"><a class="l" href="#12879">12879: </a>        }
</span><span id="12880" class="l"><a class="l" href="#12880">12880: </a>
</span><span id="12881" class="l"><a class="l" href="#12881">12881: </a>        <span class="php-keyword1">return</span> <span class="php-var">$return</span>;
</span><span id="12882" class="l"><a class="l" href="#12882">12882: </a>    }
</span><span id="12883" class="l"><a class="l" href="#12883">12883: </a>
</span><span id="12884" class="l"><a class="l" href="#12884">12884: </a>    <span class="php-comment">/**
</span></span><span id="12885" class="l"><a class="l" href="#12885">12885: </a><span class="php-comment">     * Detect XML encoding, as per XML 1.0 Appendix F.1
</span></span><span id="12886" class="l"><a class="l" href="#12886">12886: </a><span class="php-comment">     *
</span></span><span id="12887" class="l"><a class="l" href="#12887">12887: </a><span class="php-comment">     * @todo Add support for EBCDIC
</span></span><span id="12888" class="l"><a class="l" href="#12888">12888: </a><span class="php-comment">     * @param string $data XML data
</span></span><span id="12889" class="l"><a class="l" href="#12889">12889: </a><span class="php-comment">     * @param SimplePie_Registry $registry Class registry
</span></span><span id="12890" class="l"><a class="l" href="#12890">12890: </a><span class="php-comment">     * @return array Possible encodings
</span></span><span id="12891" class="l"><a class="l" href="#12891">12891: </a><span class="php-comment">     */</span>
</span><span id="12892" class="l"><a class="l" href="#12892">12892: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">static</span> <span class="php-keyword1">function</span> <a id="_xml_encoding" href="#_xml_encoding">xml_encoding</a>(<span class="php-var">$data</span>, &amp;<span class="php-var">$registry</span>)
</span><span id="12893" class="l"><a class="l" href="#12893">12893: </a>    {
</span><span id="12894" class="l"><a class="l" href="#12894">12894: </a>        <span class="php-comment">// UTF-32 Big Endian BOM</span>
</span><span id="12895" class="l"><a class="l" href="#12895">12895: </a>        <span class="php-keyword1">if</span> (<span class="php-keyword2">substr</span>(<span class="php-var">$data</span>, <span class="php-num">0</span>, <span class="php-num">4</span>) === <span class="php-quote">&quot;\x00\x00\xFE\xFF&quot;</span>)
</span><span id="12896" class="l"><a class="l" href="#12896">12896: </a>        {
</span><span id="12897" class="l"><a class="l" href="#12897">12897: </a>            <span class="php-var">$encoding</span>[] = <span class="php-quote">'UTF-32BE'</span>;
</span><span id="12898" class="l"><a class="l" href="#12898">12898: </a>        }
</span><span id="12899" class="l"><a class="l" href="#12899">12899: </a>        <span class="php-comment">// UTF-32 Little Endian BOM</span>
</span><span id="12900" class="l"><a class="l" href="#12900">12900: </a>        <span class="php-keyword1">elseif</span> (<span class="php-keyword2">substr</span>(<span class="php-var">$data</span>, <span class="php-num">0</span>, <span class="php-num">4</span>) === <span class="php-quote">&quot;\xFF\xFE\x00\x00&quot;</span>)
</span><span id="12901" class="l"><a class="l" href="#12901">12901: </a>        {
</span><span id="12902" class="l"><a class="l" href="#12902">12902: </a>            <span class="php-var">$encoding</span>[] = <span class="php-quote">'UTF-32LE'</span>;
</span><span id="12903" class="l"><a class="l" href="#12903">12903: </a>        }
</span><span id="12904" class="l"><a class="l" href="#12904">12904: </a>        <span class="php-comment">// UTF-16 Big Endian BOM</span>
</span><span id="12905" class="l"><a class="l" href="#12905">12905: </a>        <span class="php-keyword1">elseif</span> (<span class="php-keyword2">substr</span>(<span class="php-var">$data</span>, <span class="php-num">0</span>, <span class="php-num">2</span>) === <span class="php-quote">&quot;\xFE\xFF&quot;</span>)
</span><span id="12906" class="l"><a class="l" href="#12906">12906: </a>        {
</span><span id="12907" class="l"><a class="l" href="#12907">12907: </a>            <span class="php-var">$encoding</span>[] = <span class="php-quote">'UTF-16BE'</span>;
</span><span id="12908" class="l"><a class="l" href="#12908">12908: </a>        }
</span><span id="12909" class="l"><a class="l" href="#12909">12909: </a>        <span class="php-comment">// UTF-16 Little Endian BOM</span>
</span><span id="12910" class="l"><a class="l" href="#12910">12910: </a>        <span class="php-keyword1">elseif</span> (<span class="php-keyword2">substr</span>(<span class="php-var">$data</span>, <span class="php-num">0</span>, <span class="php-num">2</span>) === <span class="php-quote">&quot;\xFF\xFE&quot;</span>)
</span><span id="12911" class="l"><a class="l" href="#12911">12911: </a>        {
</span><span id="12912" class="l"><a class="l" href="#12912">12912: </a>            <span class="php-var">$encoding</span>[] = <span class="php-quote">'UTF-16LE'</span>;
</span><span id="12913" class="l"><a class="l" href="#12913">12913: </a>        }
</span><span id="12914" class="l"><a class="l" href="#12914">12914: </a>        <span class="php-comment">// UTF-8 BOM</span>
</span><span id="12915" class="l"><a class="l" href="#12915">12915: </a>        <span class="php-keyword1">elseif</span> (<span class="php-keyword2">substr</span>(<span class="php-var">$data</span>, <span class="php-num">0</span>, <span class="php-num">3</span>) === <span class="php-quote">&quot;\xEF\xBB\xBF&quot;</span>)
</span><span id="12916" class="l"><a class="l" href="#12916">12916: </a>        {
</span><span id="12917" class="l"><a class="l" href="#12917">12917: </a>            <span class="php-var">$encoding</span>[] = <span class="php-quote">'UTF-8'</span>;
</span><span id="12918" class="l"><a class="l" href="#12918">12918: </a>        }
</span><span id="12919" class="l"><a class="l" href="#12919">12919: </a>        <span class="php-comment">// UTF-32 Big Endian Without BOM</span>
</span><span id="12920" class="l"><a class="l" href="#12920">12920: </a>        <span class="php-keyword1">elseif</span> (<span class="php-keyword2">substr</span>(<span class="php-var">$data</span>, <span class="php-num">0</span>, <span class="php-num">20</span>) === <span class="php-quote">&quot;\x00\x00\x00\x3C\x00\x00\x00\x3F\x00\x00\x00\x78\x00\x00\x00\x6D\x00\x00\x00\x6C&quot;</span>)
</span><span id="12921" class="l"><a class="l" href="#12921">12921: </a>        {
</span><span id="12922" class="l"><a class="l" href="#12922">12922: </a>            <span class="php-keyword1">if</span> (<span class="php-var">$pos</span> = <span class="php-keyword2">strpos</span>(<span class="php-var">$data</span>, <span class="php-quote">&quot;\x00\x00\x00\x3F\x00\x00\x00\x3E&quot;</span>))
</span><span id="12923" class="l"><a class="l" href="#12923">12923: </a>            {
</span><span id="12924" class="l"><a class="l" href="#12924">12924: </a>                <span class="php-var">$parser</span> = <span class="php-var">$registry</span>-&gt;create(<span class="php-quote">'XML_Declaration_Parser'</span>, <span class="php-keyword1">array</span>(SimplePie_Misc::change_encoding(<span class="php-keyword2">substr</span>(<span class="php-var">$data</span>, <span class="php-num">20</span>, <span class="php-var">$pos</span> - <span class="php-num">20</span>), <span class="php-quote">'UTF-32BE'</span>, <span class="php-quote">'UTF-8'</span>)));
</span><span id="12925" class="l"><a class="l" href="#12925">12925: </a>                <span class="php-keyword1">if</span> (<span class="php-var">$parser</span>-&gt;parse())
</span><span id="12926" class="l"><a class="l" href="#12926">12926: </a>                {
</span><span id="12927" class="l"><a class="l" href="#12927">12927: </a>                    <span class="php-var">$encoding</span>[] = <span class="php-var">$parser</span>-&gt;encoding;
</span><span id="12928" class="l"><a class="l" href="#12928">12928: </a>                }
</span><span id="12929" class="l"><a class="l" href="#12929">12929: </a>            }
</span><span id="12930" class="l"><a class="l" href="#12930">12930: </a>            <span class="php-var">$encoding</span>[] = <span class="php-quote">'UTF-32BE'</span>;
</span><span id="12931" class="l"><a class="l" href="#12931">12931: </a>        }
</span><span id="12932" class="l"><a class="l" href="#12932">12932: </a>        <span class="php-comment">// UTF-32 Little Endian Without BOM</span>
</span><span id="12933" class="l"><a class="l" href="#12933">12933: </a>        <span class="php-keyword1">elseif</span> (<span class="php-keyword2">substr</span>(<span class="php-var">$data</span>, <span class="php-num">0</span>, <span class="php-num">20</span>) === <span class="php-quote">&quot;\x3C\x00\x00\x00\x3F\x00\x00\x00\x78\x00\x00\x00\x6D\x00\x00\x00\x6C\x00\x00\x00&quot;</span>)
</span><span id="12934" class="l"><a class="l" href="#12934">12934: </a>        {
</span><span id="12935" class="l"><a class="l" href="#12935">12935: </a>            <span class="php-keyword1">if</span> (<span class="php-var">$pos</span> = <span class="php-keyword2">strpos</span>(<span class="php-var">$data</span>, <span class="php-quote">&quot;\x3F\x00\x00\x00\x3E\x00\x00\x00&quot;</span>))
</span><span id="12936" class="l"><a class="l" href="#12936">12936: </a>            {
</span><span id="12937" class="l"><a class="l" href="#12937">12937: </a>                <span class="php-var">$parser</span> = <span class="php-var">$registry</span>-&gt;create(<span class="php-quote">'XML_Declaration_Parser'</span>, <span class="php-keyword1">array</span>(SimplePie_Misc::change_encoding(<span class="php-keyword2">substr</span>(<span class="php-var">$data</span>, <span class="php-num">20</span>, <span class="php-var">$pos</span> - <span class="php-num">20</span>), <span class="php-quote">'UTF-32LE'</span>, <span class="php-quote">'UTF-8'</span>)));
</span><span id="12938" class="l"><a class="l" href="#12938">12938: </a>                <span class="php-keyword1">if</span> (<span class="php-var">$parser</span>-&gt;parse())
</span><span id="12939" class="l"><a class="l" href="#12939">12939: </a>                {
</span><span id="12940" class="l"><a class="l" href="#12940">12940: </a>                    <span class="php-var">$encoding</span>[] = <span class="php-var">$parser</span>-&gt;encoding;
</span><span id="12941" class="l"><a class="l" href="#12941">12941: </a>                }
</span><span id="12942" class="l"><a class="l" href="#12942">12942: </a>            }
</span><span id="12943" class="l"><a class="l" href="#12943">12943: </a>            <span class="php-var">$encoding</span>[] = <span class="php-quote">'UTF-32LE'</span>;
</span><span id="12944" class="l"><a class="l" href="#12944">12944: </a>        }
</span><span id="12945" class="l"><a class="l" href="#12945">12945: </a>        <span class="php-comment">// UTF-16 Big Endian Without BOM</span>
</span><span id="12946" class="l"><a class="l" href="#12946">12946: </a>        <span class="php-keyword1">elseif</span> (<span class="php-keyword2">substr</span>(<span class="php-var">$data</span>, <span class="php-num">0</span>, <span class="php-num">10</span>) === <span class="php-quote">&quot;\x00\x3C\x00\x3F\x00\x78\x00\x6D\x00\x6C&quot;</span>)
</span><span id="12947" class="l"><a class="l" href="#12947">12947: </a>        {
</span><span id="12948" class="l"><a class="l" href="#12948">12948: </a>            <span class="php-keyword1">if</span> (<span class="php-var">$pos</span> = <span class="php-keyword2">strpos</span>(<span class="php-var">$data</span>, <span class="php-quote">&quot;\x00\x3F\x00\x3E&quot;</span>))
</span><span id="12949" class="l"><a class="l" href="#12949">12949: </a>            {
</span><span id="12950" class="l"><a class="l" href="#12950">12950: </a>                <span class="php-var">$parser</span> = <span class="php-var">$registry</span>-&gt;create(<span class="php-quote">'XML_Declaration_Parser'</span>, <span class="php-keyword1">array</span>(SimplePie_Misc::change_encoding(<span class="php-keyword2">substr</span>(<span class="php-var">$data</span>, <span class="php-num">20</span>, <span class="php-var">$pos</span> - <span class="php-num">10</span>), <span class="php-quote">'UTF-16BE'</span>, <span class="php-quote">'UTF-8'</span>)));
</span><span id="12951" class="l"><a class="l" href="#12951">12951: </a>                <span class="php-keyword1">if</span> (<span class="php-var">$parser</span>-&gt;parse())
</span><span id="12952" class="l"><a class="l" href="#12952">12952: </a>                {
</span><span id="12953" class="l"><a class="l" href="#12953">12953: </a>                    <span class="php-var">$encoding</span>[] = <span class="php-var">$parser</span>-&gt;encoding;
</span><span id="12954" class="l"><a class="l" href="#12954">12954: </a>                }
</span><span id="12955" class="l"><a class="l" href="#12955">12955: </a>            }
</span><span id="12956" class="l"><a class="l" href="#12956">12956: </a>            <span class="php-var">$encoding</span>[] = <span class="php-quote">'UTF-16BE'</span>;
</span><span id="12957" class="l"><a class="l" href="#12957">12957: </a>        }
</span><span id="12958" class="l"><a class="l" href="#12958">12958: </a>        <span class="php-comment">// UTF-16 Little Endian Without BOM</span>
</span><span id="12959" class="l"><a class="l" href="#12959">12959: </a>        <span class="php-keyword1">elseif</span> (<span class="php-keyword2">substr</span>(<span class="php-var">$data</span>, <span class="php-num">0</span>, <span class="php-num">10</span>) === <span class="php-quote">&quot;\x3C\x00\x3F\x00\x78\x00\x6D\x00\x6C\x00&quot;</span>)
</span><span id="12960" class="l"><a class="l" href="#12960">12960: </a>        {
</span><span id="12961" class="l"><a class="l" href="#12961">12961: </a>            <span class="php-keyword1">if</span> (<span class="php-var">$pos</span> = <span class="php-keyword2">strpos</span>(<span class="php-var">$data</span>, <span class="php-quote">&quot;\x3F\x00\x3E\x00&quot;</span>))
</span><span id="12962" class="l"><a class="l" href="#12962">12962: </a>            {
</span><span id="12963" class="l"><a class="l" href="#12963">12963: </a>                <span class="php-var">$parser</span> = <span class="php-var">$registry</span>-&gt;create(<span class="php-quote">'XML_Declaration_Parser'</span>, <span class="php-keyword1">array</span>(SimplePie_Misc::change_encoding(<span class="php-keyword2">substr</span>(<span class="php-var">$data</span>, <span class="php-num">20</span>, <span class="php-var">$pos</span> - <span class="php-num">10</span>), <span class="php-quote">'UTF-16LE'</span>, <span class="php-quote">'UTF-8'</span>)));
</span><span id="12964" class="l"><a class="l" href="#12964">12964: </a>                <span class="php-keyword1">if</span> (<span class="php-var">$parser</span>-&gt;parse())
</span><span id="12965" class="l"><a class="l" href="#12965">12965: </a>                {
</span><span id="12966" class="l"><a class="l" href="#12966">12966: </a>                    <span class="php-var">$encoding</span>[] = <span class="php-var">$parser</span>-&gt;encoding;
</span><span id="12967" class="l"><a class="l" href="#12967">12967: </a>                }
</span><span id="12968" class="l"><a class="l" href="#12968">12968: </a>            }
</span><span id="12969" class="l"><a class="l" href="#12969">12969: </a>            <span class="php-var">$encoding</span>[] = <span class="php-quote">'UTF-16LE'</span>;
</span><span id="12970" class="l"><a class="l" href="#12970">12970: </a>        }
</span><span id="12971" class="l"><a class="l" href="#12971">12971: </a>        <span class="php-comment">// US-ASCII (or superset)</span>
</span><span id="12972" class="l"><a class="l" href="#12972">12972: </a>        <span class="php-keyword1">elseif</span> (<span class="php-keyword2">substr</span>(<span class="php-var">$data</span>, <span class="php-num">0</span>, <span class="php-num">5</span>) === <span class="php-quote">&quot;\x3C\x3F\x78\x6D\x6C&quot;</span>)
</span><span id="12973" class="l"><a class="l" href="#12973">12973: </a>        {
</span><span id="12974" class="l"><a class="l" href="#12974">12974: </a>            <span class="php-keyword1">if</span> (<span class="php-var">$pos</span> = <span class="php-keyword2">strpos</span>(<span class="php-var">$data</span>, <span class="php-quote">&quot;\x3F\x3E&quot;</span>))
</span><span id="12975" class="l"><a class="l" href="#12975">12975: </a>            {
</span><span id="12976" class="l"><a class="l" href="#12976">12976: </a>                <span class="php-var">$parser</span> = <span class="php-var">$registry</span>-&gt;create(<span class="php-quote">'XML_Declaration_Parser'</span>, <span class="php-keyword1">array</span>(<span class="php-keyword2">substr</span>(<span class="php-var">$data</span>, <span class="php-num">5</span>, <span class="php-var">$pos</span> - <span class="php-num">5</span>)));
</span><span id="12977" class="l"><a class="l" href="#12977">12977: </a>                <span class="php-keyword1">if</span> (<span class="php-var">$parser</span>-&gt;parse())
</span><span id="12978" class="l"><a class="l" href="#12978">12978: </a>                {
</span><span id="12979" class="l"><a class="l" href="#12979">12979: </a>                    <span class="php-var">$encoding</span>[] = <span class="php-var">$parser</span>-&gt;encoding;
</span><span id="12980" class="l"><a class="l" href="#12980">12980: </a>                }
</span><span id="12981" class="l"><a class="l" href="#12981">12981: </a>            }
</span><span id="12982" class="l"><a class="l" href="#12982">12982: </a>            <span class="php-var">$encoding</span>[] = <span class="php-quote">'UTF-8'</span>;
</span><span id="12983" class="l"><a class="l" href="#12983">12983: </a>        }
</span><span id="12984" class="l"><a class="l" href="#12984">12984: </a>        <span class="php-comment">// Fallback to UTF-8</span>
</span><span id="12985" class="l"><a class="l" href="#12985">12985: </a>        <span class="php-keyword1">else</span>
</span><span id="12986" class="l"><a class="l" href="#12986">12986: </a>        {
</span><span id="12987" class="l"><a class="l" href="#12987">12987: </a>            <span class="php-var">$encoding</span>[] = <span class="php-quote">'UTF-8'</span>;
</span><span id="12988" class="l"><a class="l" href="#12988">12988: </a>        }
</span><span id="12989" class="l"><a class="l" href="#12989">12989: </a>        <span class="php-keyword1">return</span> <span class="php-var">$encoding</span>;
</span><span id="12990" class="l"><a class="l" href="#12990">12990: </a>    }
</span><span id="12991" class="l"><a class="l" href="#12991">12991: </a>
</span><span id="12992" class="l"><a class="l" href="#12992">12992: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">static</span> <span class="php-keyword1">function</span> <a id="_output_javascript" href="#_output_javascript">output_javascript</a>()
</span><span id="12993" class="l"><a class="l" href="#12993">12993: </a>    {
</span><span id="12994" class="l"><a class="l" href="#12994">12994: </a>        <span class="php-keyword1">if</span> (<span class="php-keyword2">function_exists</span>(<span class="php-quote">'ob_gzhandler'</span>))
</span><span id="12995" class="l"><a class="l" href="#12995">12995: </a>        {
</span><span id="12996" class="l"><a class="l" href="#12996">12996: </a>            <span class="php-keyword2">ob_start</span>(<span class="php-quote">'ob_gzhandler'</span>);
</span><span id="12997" class="l"><a class="l" href="#12997">12997: </a>        }
</span><span id="12998" class="l"><a class="l" href="#12998">12998: </a>        <span class="php-keyword2">header</span>(<span class="php-quote">'Content-type: text/javascript; charset: UTF-8'</span>);
</span><span id="12999" class="l"><a class="l" href="#12999">12999: </a>        <span class="php-keyword2">header</span>(<span class="php-quote">'Cache-Control: must-revalidate'</span>);
</span><span id="13000" class="l"><a class="l" href="#13000">13000: </a>        <span class="php-keyword2">header</span>(<span class="php-quote">'Expires: '</span> . <span class="php-keyword2">gmdate</span>(<span class="php-quote">'D, d M Y H:i:s'</span>, <span class="php-keyword2">time</span>() + <span class="php-num">604800</span>) . <span class="php-quote">' GMT'</span>); <span class="php-comment">// 7 days</span>
</span><span id="13001" class="l"><a class="l" href="#13001">13001: </a>        <span class="xlang">?&gt;</span>
</span><span id="13002" class="l"><a class="l" href="#13002">13002: </a><span class="php-keyword1">function</span> <a id="_embed_quicktime" href="#_embed_quicktime">embed_quicktime</a>(type, bgcolor, width, height, <span class="php-keyword2">link</span>, placeholder, loop) {
</span><span id="13003" class="l"><a class="l" href="#13003">13003: </a>    <span class="php-keyword1">if</span> (placeholder != <span class="php-quote">''</span>) {
</span><span id="13004" class="l"><a class="l" href="#13004">13004: </a>        document.writeln(<span class="php-quote">'&lt;embed type=&quot;'</span>+type+<span class="php-quote">'&quot; style=&quot;cursor:hand; cursor:pointer;&quot; href=&quot;'</span>+<span class="php-keyword2">link</span>+<span class="php-quote">'&quot; src=&quot;'</span>+placeholder+<span class="php-quote">'&quot; width=&quot;'</span>+width+<span class="php-quote">'&quot; height=&quot;'</span>+height+<span class="php-quote">'&quot; autoplay=&quot;false&quot; target=&quot;myself&quot; controller=&quot;false&quot; loop=&quot;'</span>+loop+<span class="php-quote">'&quot; scale=&quot;aspect&quot; bgcolor=&quot;'</span>+bgcolor+<span class="php-quote">'&quot; pluginspage=&quot;http://www.apple.com/quicktime/download/&quot;&gt;&lt;/embed&gt;'</span>);
</span><span id="13005" class="l"><a class="l" href="#13005">13005: </a>    }
</span><span id="13006" class="l"><a class="l" href="#13006">13006: </a>    <span class="php-keyword1">else</span> {
</span><span id="13007" class="l"><a class="l" href="#13007">13007: </a>        document.writeln(<span class="php-quote">'&lt;embed type=&quot;'</span>+type+<span class="php-quote">'&quot; style=&quot;cursor:hand; cursor:pointer;&quot; src=&quot;'</span>+<span class="php-keyword2">link</span>+<span class="php-quote">'&quot; width=&quot;'</span>+width+<span class="php-quote">'&quot; height=&quot;'</span>+height+<span class="php-quote">'&quot; autoplay=&quot;false&quot; target=&quot;myself&quot; controller=&quot;true&quot; loop=&quot;'</span>+loop+<span class="php-quote">'&quot; scale=&quot;aspect&quot; bgcolor=&quot;'</span>+bgcolor+<span class="php-quote">'&quot; pluginspage=&quot;http://www.apple.com/quicktime/download/&quot;&gt;&lt;/embed&gt;'</span>);
</span><span id="13008" class="l"><a class="l" href="#13008">13008: </a>    }
</span><span id="13009" class="l"><a class="l" href="#13009">13009: </a>}
</span><span id="13010" class="l"><a class="l" href="#13010">13010: </a>
</span><span id="13011" class="l"><a class="l" href="#13011">13011: </a><span class="php-keyword1">function</span> <a id="_embed_flash" href="#_embed_flash">embed_flash</a>(bgcolor, width, height, <span class="php-keyword2">link</span>, loop, type) {
</span><span id="13012" class="l"><a class="l" href="#13012">13012: </a>    document.writeln(<span class="php-quote">'&lt;embed src=&quot;'</span>+<span class="php-keyword2">link</span>+<span class="php-quote">'&quot; pluginspage=&quot;http://www.macromedia.com/go/getflashplayer&quot; type=&quot;'</span>+type+<span class="php-quote">'&quot; quality=&quot;high&quot; width=&quot;'</span>+width+<span class="php-quote">'&quot; height=&quot;'</span>+height+<span class="php-quote">'&quot; bgcolor=&quot;'</span>+bgcolor+<span class="php-quote">'&quot; loop=&quot;'</span>+loop+<span class="php-quote">'&quot;&gt;&lt;/embed&gt;'</span>);
</span><span id="13013" class="l"><a class="l" href="#13013">13013: </a>}
</span><span id="13014" class="l"><a class="l" href="#13014">13014: </a>
</span><span id="13015" class="l"><a class="l" href="#13015">13015: </a><span class="php-keyword1">function</span> <a id="_embed_flv" href="#_embed_flv">embed_flv</a>(width, height, <span class="php-keyword2">link</span>, placeholder, loop, player) {
</span><span id="13016" class="l"><a class="l" href="#13016">13016: </a>    document.writeln(<span class="php-quote">'&lt;embed src=&quot;'</span>+player+<span class="php-quote">'&quot; pluginspage=&quot;http://www.macromedia.com/go/getflashplayer&quot; type=&quot;application/x-shockwave-flash&quot; quality=&quot;high&quot; width=&quot;'</span>+width+<span class="php-quote">'&quot; height=&quot;'</span>+height+<span class="php-quote">'&quot; wmode=&quot;transparent&quot; flashvars=&quot;file='</span>+<span class="php-keyword2">link</span>+<span class="php-quote">'&amp;autostart=false&amp;repeat='</span>+loop+<span class="php-quote">'&amp;showdigits=true&amp;showfsbutton=false&quot;&gt;&lt;/embed&gt;'</span>);
</span><span id="13017" class="l"><a class="l" href="#13017">13017: </a>}
</span><span id="13018" class="l"><a class="l" href="#13018">13018: </a>
</span><span id="13019" class="l"><a class="l" href="#13019">13019: </a><span class="php-keyword1">function</span> <a id="_embed_wmedia" href="#_embed_wmedia">embed_wmedia</a>(width, height, <span class="php-keyword2">link</span>) {
</span><span id="13020" class="l"><a class="l" href="#13020">13020: </a>    document.writeln(<span class="php-quote">'&lt;embed type=&quot;application/x-mplayer2&quot; src=&quot;'</span>+<span class="php-keyword2">link</span>+<span class="php-quote">'&quot; autosize=&quot;1&quot; width=&quot;'</span>+width+<span class="php-quote">'&quot; height=&quot;'</span>+height+<span class="php-quote">'&quot; showcontrols=&quot;1&quot; showstatusbar=&quot;0&quot; showdisplay=&quot;0&quot; autostart=&quot;0&quot;&gt;&lt;/embed&gt;'</span>);
</span><span id="13021" class="l"><a class="l" href="#13021">13021: </a>}
</span><span id="13022" class="l"><a class="l" href="#13022">13022: </a>        <span class="xlang">&lt;?php</span>
</span><span id="13023" class="l"><a class="l" href="#13023">13023: </a>    }
</span><span id="13024" class="l"><a class="l" href="#13024">13024: </a>
</span><span id="13025" class="l"><a class="l" href="#13025">13025: </a>    <span class="php-comment">/**
</span></span><span id="13026" class="l"><a class="l" href="#13026">13026: </a><span class="php-comment">     * Get the SimplePie build timestamp
</span></span><span id="13027" class="l"><a class="l" href="#13027">13027: </a><span class="php-comment">     *
</span></span><span id="13028" class="l"><a class="l" href="#13028">13028: </a><span class="php-comment">     * Uses the git index if it exists, otherwise uses the modification time
</span></span><span id="13029" class="l"><a class="l" href="#13029">13029: </a><span class="php-comment">     * of the newest file.
</span></span><span id="13030" class="l"><a class="l" href="#13030">13030: </a><span class="php-comment">     */</span>
</span><span id="13031" class="l"><a class="l" href="#13031">13031: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">static</span> <span class="php-keyword1">function</span> <a id="_get_build" href="#_get_build">get_build</a>()
</span><span id="13032" class="l"><a class="l" href="#13032">13032: </a>    {
</span><span id="13033" class="l"><a class="l" href="#13033">13033: </a>        <span class="php-var">$root</span> = <span class="php-keyword2">dirname</span>(<span class="php-keyword2">dirname</span>(__FILE__));
</span><span id="13034" class="l"><a class="l" href="#13034">13034: </a>        <span class="php-keyword1">if</span> (<span class="php-keyword2">file_exists</span>(<span class="php-var">$root</span> . <span class="php-quote">'/.git/index'</span>))
</span><span id="13035" class="l"><a class="l" href="#13035">13035: </a>        {
</span><span id="13036" class="l"><a class="l" href="#13036">13036: </a>            <span class="php-keyword1">return</span> <span class="php-keyword2">filemtime</span>(<span class="php-var">$root</span> . <span class="php-quote">'/.git/index'</span>);
</span><span id="13037" class="l"><a class="l" href="#13037">13037: </a>        }
</span><span id="13038" class="l"><a class="l" href="#13038">13038: </a>        <span class="php-keyword1">elseif</span> (<span class="php-keyword2">file_exists</span>(<span class="php-var">$root</span> . <span class="php-quote">'/SimplePie'</span>))
</span><span id="13039" class="l"><a class="l" href="#13039">13039: </a>        {
</span><span id="13040" class="l"><a class="l" href="#13040">13040: </a>            <span class="php-var">$time</span> = <span class="php-num">0</span>;
</span><span id="13041" class="l"><a class="l" href="#13041">13041: </a>            <span class="php-keyword1">foreach</span> (<span class="php-keyword2">glob</span>(<span class="php-var">$root</span> . <span class="php-quote">'/SimplePie/*.php'</span>) <span class="php-keyword1">as</span> <span class="php-var">$file</span>)
</span><span id="13042" class="l"><a class="l" href="#13042">13042: </a>            {
</span><span id="13043" class="l"><a class="l" href="#13043">13043: </a>                <span class="php-keyword1">if</span> ((<span class="php-var">$mtime</span> = <span class="php-keyword2">filemtime</span>(<span class="php-var">$file</span>)) &gt; <span class="php-var">$time</span>)
</span><span id="13044" class="l"><a class="l" href="#13044">13044: </a>                {
</span><span id="13045" class="l"><a class="l" href="#13045">13045: </a>                    <span class="php-var">$time</span> = <span class="php-var">$mtime</span>;
</span><span id="13046" class="l"><a class="l" href="#13046">13046: </a>                }
</span><span id="13047" class="l"><a class="l" href="#13047">13047: </a>            }
</span><span id="13048" class="l"><a class="l" href="#13048">13048: </a>            <span class="php-keyword1">return</span> <span class="php-var">$time</span>;
</span><span id="13049" class="l"><a class="l" href="#13049">13049: </a>        }
</span><span id="13050" class="l"><a class="l" href="#13050">13050: </a>        <span class="php-keyword1">elseif</span> (<span class="php-keyword2">file_exists</span>(<span class="php-keyword2">dirname</span>(__FILE__) . <span class="php-quote">'/Core.php'</span>))
</span><span id="13051" class="l"><a class="l" href="#13051">13051: </a>        {
</span><span id="13052" class="l"><a class="l" href="#13052">13052: </a>            <span class="php-keyword1">return</span> <span class="php-keyword2">filemtime</span>(<span class="php-keyword2">dirname</span>(__FILE__) . <span class="php-quote">'/Core.php'</span>);
</span><span id="13053" class="l"><a class="l" href="#13053">13053: </a>        }
</span><span id="13054" class="l"><a class="l" href="#13054">13054: </a>        <span class="php-keyword1">else</span>
</span><span id="13055" class="l"><a class="l" href="#13055">13055: </a>        {
</span><span id="13056" class="l"><a class="l" href="#13056">13056: </a>            <span class="php-keyword1">return</span> <span class="php-keyword2">filemtime</span>(__FILE__);
</span><span id="13057" class="l"><a class="l" href="#13057">13057: </a>        }
</span><span id="13058" class="l"><a class="l" href="#13058">13058: </a>    }
</span><span id="13059" class="l"><a class="l" href="#13059">13059: </a>
</span><span id="13060" class="l"><a class="l" href="#13060">13060: </a>    <span class="php-comment">/**
</span></span><span id="13061" class="l"><a class="l" href="#13061">13061: </a><span class="php-comment">     * Format debugging information
</span></span><span id="13062" class="l"><a class="l" href="#13062">13062: </a><span class="php-comment">     */</span>
</span><span id="13063" class="l"><a class="l" href="#13063">13063: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">static</span> <span class="php-keyword1">function</span> <a id="_debug" href="#_debug">debug</a>(&amp;<span class="php-var">$sp</span>)
</span><span id="13064" class="l"><a class="l" href="#13064">13064: </a>    {
</span><span id="13065" class="l"><a class="l" href="#13065">13065: </a>        <span class="php-var">$info</span> = <span class="php-quote">'SimplePie '</span> . SIMPLEPIE_VERSION . <span class="php-quote">' Build '</span> . SIMPLEPIE_BUILD . <span class="php-quote">&quot;\n&quot;</span>;
</span><span id="13066" class="l"><a class="l" href="#13066">13066: </a>        <span class="php-var">$info</span> .= <span class="php-quote">'PHP '</span> . PHP_VERSION . <span class="php-quote">&quot;\n&quot;</span>;
</span><span id="13067" class="l"><a class="l" href="#13067">13067: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$sp</span>-&gt;error() !== <span class="php-keyword1">null</span>)
</span><span id="13068" class="l"><a class="l" href="#13068">13068: </a>        {
</span><span id="13069" class="l"><a class="l" href="#13069">13069: </a>            <span class="php-var">$info</span> .= <span class="php-quote">'Error occurred: '</span> . <span class="php-var">$sp</span>-&gt;error() . <span class="php-quote">&quot;\n&quot;</span>;
</span><span id="13070" class="l"><a class="l" href="#13070">13070: </a>        }
</span><span id="13071" class="l"><a class="l" href="#13071">13071: </a>        <span class="php-keyword1">else</span>
</span><span id="13072" class="l"><a class="l" href="#13072">13072: </a>        {
</span><span id="13073" class="l"><a class="l" href="#13073">13073: </a>            <span class="php-var">$info</span> .= <span class="php-quote">&quot;No error found.\n&quot;</span>;
</span><span id="13074" class="l"><a class="l" href="#13074">13074: </a>        }
</span><span id="13075" class="l"><a class="l" href="#13075">13075: </a>        <span class="php-var">$info</span> .= <span class="php-quote">&quot;Extensions:\n&quot;</span>;
</span><span id="13076" class="l"><a class="l" href="#13076">13076: </a>        <span class="php-var">$extensions</span> = <span class="php-keyword1">array</span>(<span class="php-quote">'pcre'</span>, <span class="php-quote">'curl'</span>, <span class="php-quote">'zlib'</span>, <span class="php-quote">'mbstring'</span>, <span class="php-quote">'iconv'</span>, <span class="php-quote">'xmlreader'</span>, <span class="php-quote">'xml'</span>);
</span><span id="13077" class="l"><a class="l" href="#13077">13077: </a>        <span class="php-keyword1">foreach</span> (<span class="php-var">$extensions</span> <span class="php-keyword1">as</span> <span class="php-var">$ext</span>)
</span><span id="13078" class="l"><a class="l" href="#13078">13078: </a>        {
</span><span id="13079" class="l"><a class="l" href="#13079">13079: </a>            <span class="php-keyword1">if</span> (<span class="php-keyword2">extension_loaded</span>(<span class="php-var">$ext</span>))
</span><span id="13080" class="l"><a class="l" href="#13080">13080: </a>            {
</span><span id="13081" class="l"><a class="l" href="#13081">13081: </a>                <span class="php-var">$info</span> .= <span class="php-quote">&quot;    </span><span class="php-var">$ext</span><span class="php-quote"> loaded\n&quot;</span>;
</span><span id="13082" class="l"><a class="l" href="#13082">13082: </a>                <span class="php-keyword1">switch</span> (<span class="php-var">$ext</span>)
</span><span id="13083" class="l"><a class="l" href="#13083">13083: </a>                {
</span><span id="13084" class="l"><a class="l" href="#13084">13084: </a>                    <span class="php-keyword1">case</span> <span class="php-quote">'pcre'</span>:
</span><span id="13085" class="l"><a class="l" href="#13085">13085: </a>                        <span class="php-var">$info</span> .= <span class="php-quote">'      Version '</span> . PCRE_VERSION . <span class="php-quote">&quot;\n&quot;</span>;
</span><span id="13086" class="l"><a class="l" href="#13086">13086: </a>                        <span class="php-keyword1">break</span>;
</span><span id="13087" class="l"><a class="l" href="#13087">13087: </a>                    <span class="php-keyword1">case</span> <span class="php-quote">'curl'</span>:
</span><span id="13088" class="l"><a class="l" href="#13088">13088: </a>                        <span class="php-var">$version</span> = <span class="php-keyword2">curl_version</span>();
</span><span id="13089" class="l"><a class="l" href="#13089">13089: </a>                        <span class="php-var">$info</span> .= <span class="php-quote">'      Version '</span> . <span class="php-var">$version</span>[<span class="php-quote">'version'</span>] . <span class="php-quote">&quot;\n&quot;</span>;
</span><span id="13090" class="l"><a class="l" href="#13090">13090: </a>                        <span class="php-keyword1">break</span>;
</span><span id="13091" class="l"><a class="l" href="#13091">13091: </a>                    <span class="php-keyword1">case</span> <span class="php-quote">'mbstring'</span>:
</span><span id="13092" class="l"><a class="l" href="#13092">13092: </a>                        <span class="php-var">$info</span> .= <span class="php-quote">'      Overloading: '</span> . <span class="php-keyword2">mb_get_info</span>(<span class="php-quote">'func_overload'</span>) . <span class="php-quote">&quot;\n&quot;</span>;
</span><span id="13093" class="l"><a class="l" href="#13093">13093: </a>                        <span class="php-keyword1">break</span>;
</span><span id="13094" class="l"><a class="l" href="#13094">13094: </a>                    <span class="php-keyword1">case</span> <span class="php-quote">'iconv'</span>:
</span><span id="13095" class="l"><a class="l" href="#13095">13095: </a>                        <span class="php-var">$info</span> .= <span class="php-quote">'      Version '</span> . ICONV_VERSION . <span class="php-quote">&quot;\n&quot;</span>;
</span><span id="13096" class="l"><a class="l" href="#13096">13096: </a>                        <span class="php-keyword1">break</span>;
</span><span id="13097" class="l"><a class="l" href="#13097">13097: </a>                    <span class="php-keyword1">case</span> <span class="php-quote">'xml'</span>:
</span><span id="13098" class="l"><a class="l" href="#13098">13098: </a>                        <span class="php-var">$info</span> .= <span class="php-quote">'      Version '</span> . LIBXML_DOTTED_VERSION . <span class="php-quote">&quot;\n&quot;</span>;
</span><span id="13099" class="l"><a class="l" href="#13099">13099: </a>                        <span class="php-keyword1">break</span>;
</span><span id="13100" class="l"><a class="l" href="#13100">13100: </a>                }
</span><span id="13101" class="l"><a class="l" href="#13101">13101: </a>            }
</span><span id="13102" class="l"><a class="l" href="#13102">13102: </a>            <span class="php-keyword1">else</span>
</span><span id="13103" class="l"><a class="l" href="#13103">13103: </a>            {
</span><span id="13104" class="l"><a class="l" href="#13104">13104: </a>                <span class="php-var">$info</span> .= <span class="php-quote">&quot;    </span><span class="php-var">$ext</span><span class="php-quote"> not loaded\n&quot;</span>;
</span><span id="13105" class="l"><a class="l" href="#13105">13105: </a>            }
</span><span id="13106" class="l"><a class="l" href="#13106">13106: </a>        }
</span><span id="13107" class="l"><a class="l" href="#13107">13107: </a>        <span class="php-keyword1">return</span> <span class="php-var">$info</span>;
</span><span id="13108" class="l"><a class="l" href="#13108">13108: </a>    }
</span><span id="13109" class="l"><a class="l" href="#13109">13109: </a>
</span><span id="13110" class="l"><a class="l" href="#13110">13110: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">static</span> <span class="php-keyword1">function</span> <a id="_silence_errors" href="#_silence_errors">silence_errors</a>(<span class="php-var">$num</span>, <span class="php-var">$str</span>)
</span><span id="13111" class="l"><a class="l" href="#13111">13111: </a>    {
</span><span id="13112" class="l"><a class="l" href="#13112">13112: </a>        <span class="php-comment">// No-op</span>
</span><span id="13113" class="l"><a class="l" href="#13113">13113: </a>    }
</span><span id="13114" class="l"><a class="l" href="#13114">13114: </a>}
</span><span id="13115" class="l"><a class="l" href="#13115">13115: </a>
</span><span id="13116" class="l"><a class="l" href="#13116">13116: </a><span class="php-comment">/**
</span></span><span id="13117" class="l"><a class="l" href="#13117">13117: </a><span class="php-comment"> * Class to validate and to work with IPv6 addresses.
</span></span><span id="13118" class="l"><a class="l" href="#13118">13118: </a><span class="php-comment"> *
</span></span><span id="13119" class="l"><a class="l" href="#13119">13119: </a><span class="php-comment"> * @package SimplePie
</span></span><span id="13120" class="l"><a class="l" href="#13120">13120: </a><span class="php-comment"> * @copyright 2003-2005 The PHP Group
</span></span><span id="13121" class="l"><a class="l" href="#13121">13121: </a><span class="php-comment"> * @license http://www.opensource.org/licenses/bsd-license.php
</span></span><span id="13122" class="l"><a class="l" href="#13122">13122: </a><span class="php-comment"> * @link http://pear.php.net/package/Net_IPv6
</span></span><span id="13123" class="l"><a class="l" href="#13123">13123: </a><span class="php-comment"> * @author Alexander Merz &lt;alexander.merz@web.de&gt;
</span></span><span id="13124" class="l"><a class="l" href="#13124">13124: </a><span class="php-comment"> * @author elfrink at introweb dot nl
</span></span><span id="13125" class="l"><a class="l" href="#13125">13125: </a><span class="php-comment"> * @author Josh Peck &lt;jmp at joshpeck dot org&gt;
</span></span><span id="13126" class="l"><a class="l" href="#13126">13126: </a><span class="php-comment"> * @author Geoffrey Sneddon &lt;geoffers@gmail.com&gt;
</span></span><span id="13127" class="l"><a class="l" href="#13127">13127: </a><span class="php-comment"> */</span>
</span><span id="13128" class="l"><a class="l" href="#13128">13128: </a><span class="php-keyword1">class</span> <a id="SimplePie_Net_IPv6" href="#SimplePie_Net_IPv6">SimplePie_Net_IPv6</a>
</span><span id="13129" class="l"><a class="l" href="#13129">13129: </a>{
</span><span id="13130" class="l"><a class="l" href="#13130">13130: </a>    <span class="php-comment">/**
</span></span><span id="13131" class="l"><a class="l" href="#13131">13131: </a><span class="php-comment">     * Removes a possible existing netmask specification of an IP address.
</span></span><span id="13132" class="l"><a class="l" href="#13132">13132: </a><span class="php-comment">     *
</span></span><span id="13133" class="l"><a class="l" href="#13133">13133: </a><span class="php-comment">     * @param string $ip the (compressed) IP as Hex representation
</span></span><span id="13134" class="l"><a class="l" href="#13134">13134: </a><span class="php-comment">     * @return string the IP the without netmask
</span></span><span id="13135" class="l"><a class="l" href="#13135">13135: </a><span class="php-comment">     * @since 1.1.0
</span></span><span id="13136" class="l"><a class="l" href="#13136">13136: </a><span class="php-comment">     * @access public
</span></span><span id="13137" class="l"><a class="l" href="#13137">13137: </a><span class="php-comment">     * @static
</span></span><span id="13138" class="l"><a class="l" href="#13138">13138: </a><span class="php-comment">     */</span>
</span><span id="13139" class="l"><a class="l" href="#13139">13139: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">static</span> <span class="php-keyword1">function</span> <a id="_removeNetmaskSpec" href="#_removeNetmaskSpec">removeNetmaskSpec</a>(<span class="php-var">$ip</span>)
</span><span id="13140" class="l"><a class="l" href="#13140">13140: </a>    {
</span><span id="13141" class="l"><a class="l" href="#13141">13141: </a>        <span class="php-keyword1">if</span> (<span class="php-keyword2">strpos</span>(<span class="php-var">$ip</span>, <span class="php-quote">'/'</span>) !== <span class="php-keyword1">false</span>)
</span><span id="13142" class="l"><a class="l" href="#13142">13142: </a>        {
</span><span id="13143" class="l"><a class="l" href="#13143">13143: </a>            <span class="php-keyword1">list</span>(<span class="php-var">$addr</span>, <span class="php-var">$nm</span>) = <span class="php-keyword2">explode</span>(<span class="php-quote">'/'</span>, <span class="php-var">$ip</span>);
</span><span id="13144" class="l"><a class="l" href="#13144">13144: </a>        }
</span><span id="13145" class="l"><a class="l" href="#13145">13145: </a>        <span class="php-keyword1">else</span>
</span><span id="13146" class="l"><a class="l" href="#13146">13146: </a>        {
</span><span id="13147" class="l"><a class="l" href="#13147">13147: </a>            <span class="php-var">$addr</span> = <span class="php-var">$ip</span>;
</span><span id="13148" class="l"><a class="l" href="#13148">13148: </a>        }
</span><span id="13149" class="l"><a class="l" href="#13149">13149: </a>        <span class="php-keyword1">return</span> <span class="php-var">$addr</span>;
</span><span id="13150" class="l"><a class="l" href="#13150">13150: </a>    }
</span><span id="13151" class="l"><a class="l" href="#13151">13151: </a>
</span><span id="13152" class="l"><a class="l" href="#13152">13152: </a>    <span class="php-comment">/**
</span></span><span id="13153" class="l"><a class="l" href="#13153">13153: </a><span class="php-comment">     * Uncompresses an IPv6 address
</span></span><span id="13154" class="l"><a class="l" href="#13154">13154: </a><span class="php-comment">     *
</span></span><span id="13155" class="l"><a class="l" href="#13155">13155: </a><span class="php-comment">     * RFC 2373 allows you to compress zeros in an address to '::'. This
</span></span><span id="13156" class="l"><a class="l" href="#13156">13156: </a><span class="php-comment">     * function expects an valid IPv6 address and expands the '::' to
</span></span><span id="13157" class="l"><a class="l" href="#13157">13157: </a><span class="php-comment">     * the required zeros.
</span></span><span id="13158" class="l"><a class="l" href="#13158">13158: </a><span class="php-comment">     *
</span></span><span id="13159" class="l"><a class="l" href="#13159">13159: </a><span class="php-comment">     * Example:  FF01::101  -&gt;  FF01:0:0:0:0:0:0:101
</span></span><span id="13160" class="l"><a class="l" href="#13160">13160: </a><span class="php-comment">     *           ::1        -&gt;  0:0:0:0:0:0:0:1
</span></span><span id="13161" class="l"><a class="l" href="#13161">13161: </a><span class="php-comment">     *
</span></span><span id="13162" class="l"><a class="l" href="#13162">13162: </a><span class="php-comment">     * @access public
</span></span><span id="13163" class="l"><a class="l" href="#13163">13163: </a><span class="php-comment">     * @static
</span></span><span id="13164" class="l"><a class="l" href="#13164">13164: </a><span class="php-comment">     * @param string $ip a valid IPv6-address (hex format)
</span></span><span id="13165" class="l"><a class="l" href="#13165">13165: </a><span class="php-comment">     * @return string the uncompressed IPv6-address (hex format)
</span></span><span id="13166" class="l"><a class="l" href="#13166">13166: </a><span class="php-comment">     */</span>
</span><span id="13167" class="l"><a class="l" href="#13167">13167: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">static</span> <span class="php-keyword1">function</span> <a id="_Uncompress" href="#_Uncompress">Uncompress</a>(<span class="php-var">$ip</span>)
</span><span id="13168" class="l"><a class="l" href="#13168">13168: </a>    {
</span><span id="13169" class="l"><a class="l" href="#13169">13169: </a>        <span class="php-var">$uip</span> = SimplePie_Net_IPv6::removeNetmaskSpec(<span class="php-var">$ip</span>);
</span><span id="13170" class="l"><a class="l" href="#13170">13170: </a>        <span class="php-var">$c1</span> = -<span class="php-num">1</span>;
</span><span id="13171" class="l"><a class="l" href="#13171">13171: </a>        <span class="php-var">$c2</span> = -<span class="php-num">1</span>;
</span><span id="13172" class="l"><a class="l" href="#13172">13172: </a>        <span class="php-keyword1">if</span> (<span class="php-keyword2">strpos</span>(<span class="php-var">$ip</span>, <span class="php-quote">'::'</span>) !== <span class="php-keyword1">false</span>)
</span><span id="13173" class="l"><a class="l" href="#13173">13173: </a>        {
</span><span id="13174" class="l"><a class="l" href="#13174">13174: </a>            <span class="php-keyword1">list</span>(<span class="php-var">$ip1</span>, <span class="php-var">$ip2</span>) = <span class="php-keyword2">explode</span>(<span class="php-quote">'::'</span>, <span class="php-var">$ip</span>);
</span><span id="13175" class="l"><a class="l" href="#13175">13175: </a>            <span class="php-keyword1">if</span> (<span class="php-var">$ip1</span> === <span class="php-quote">''</span>)
</span><span id="13176" class="l"><a class="l" href="#13176">13176: </a>            {
</span><span id="13177" class="l"><a class="l" href="#13177">13177: </a>                <span class="php-var">$c1</span> = -<span class="php-num">1</span>;
</span><span id="13178" class="l"><a class="l" href="#13178">13178: </a>            }
</span><span id="13179" class="l"><a class="l" href="#13179">13179: </a>            <span class="php-keyword1">else</span>
</span><span id="13180" class="l"><a class="l" href="#13180">13180: </a>            {
</span><span id="13181" class="l"><a class="l" href="#13181">13181: </a>                <span class="php-var">$pos</span> = <span class="php-num">0</span>;
</span><span id="13182" class="l"><a class="l" href="#13182">13182: </a>                <span class="php-keyword1">if</span> ((<span class="php-var">$pos</span> = <span class="php-keyword2">substr_count</span>(<span class="php-var">$ip1</span>, <span class="php-quote">':'</span>)) &gt; <span class="php-num">0</span>)
</span><span id="13183" class="l"><a class="l" href="#13183">13183: </a>                {
</span><span id="13184" class="l"><a class="l" href="#13184">13184: </a>                    <span class="php-var">$c1</span> = <span class="php-var">$pos</span>;
</span><span id="13185" class="l"><a class="l" href="#13185">13185: </a>                }
</span><span id="13186" class="l"><a class="l" href="#13186">13186: </a>                <span class="php-keyword1">else</span>
</span><span id="13187" class="l"><a class="l" href="#13187">13187: </a>                {
</span><span id="13188" class="l"><a class="l" href="#13188">13188: </a>                    <span class="php-var">$c1</span> = <span class="php-num">0</span>;
</span><span id="13189" class="l"><a class="l" href="#13189">13189: </a>                }
</span><span id="13190" class="l"><a class="l" href="#13190">13190: </a>            }
</span><span id="13191" class="l"><a class="l" href="#13191">13191: </a>            <span class="php-keyword1">if</span> (<span class="php-var">$ip2</span> === <span class="php-quote">''</span>)
</span><span id="13192" class="l"><a class="l" href="#13192">13192: </a>            {
</span><span id="13193" class="l"><a class="l" href="#13193">13193: </a>                <span class="php-var">$c2</span> = -<span class="php-num">1</span>;
</span><span id="13194" class="l"><a class="l" href="#13194">13194: </a>            }
</span><span id="13195" class="l"><a class="l" href="#13195">13195: </a>            <span class="php-keyword1">else</span>
</span><span id="13196" class="l"><a class="l" href="#13196">13196: </a>            {
</span><span id="13197" class="l"><a class="l" href="#13197">13197: </a>                <span class="php-var">$pos</span> = <span class="php-num">0</span>;
</span><span id="13198" class="l"><a class="l" href="#13198">13198: </a>                <span class="php-keyword1">if</span> ((<span class="php-var">$pos</span> = <span class="php-keyword2">substr_count</span>(<span class="php-var">$ip2</span>, <span class="php-quote">':'</span>)) &gt; <span class="php-num">0</span>)
</span><span id="13199" class="l"><a class="l" href="#13199">13199: </a>                {
</span><span id="13200" class="l"><a class="l" href="#13200">13200: </a>                    <span class="php-var">$c2</span> = <span class="php-var">$pos</span>;
</span><span id="13201" class="l"><a class="l" href="#13201">13201: </a>                }
</span><span id="13202" class="l"><a class="l" href="#13202">13202: </a>                <span class="php-keyword1">else</span>
</span><span id="13203" class="l"><a class="l" href="#13203">13203: </a>                {
</span><span id="13204" class="l"><a class="l" href="#13204">13204: </a>                    <span class="php-var">$c2</span> = <span class="php-num">0</span>;
</span><span id="13205" class="l"><a class="l" href="#13205">13205: </a>                }
</span><span id="13206" class="l"><a class="l" href="#13206">13206: </a>            }
</span><span id="13207" class="l"><a class="l" href="#13207">13207: </a>            <span class="php-keyword1">if</span> (<span class="php-keyword2">strstr</span>(<span class="php-var">$ip2</span>, <span class="php-quote">'.'</span>))
</span><span id="13208" class="l"><a class="l" href="#13208">13208: </a>            {
</span><span id="13209" class="l"><a class="l" href="#13209">13209: </a>                <span class="php-var">$c2</span>++;
</span><span id="13210" class="l"><a class="l" href="#13210">13210: </a>            }
</span><span id="13211" class="l"><a class="l" href="#13211">13211: </a>            <span class="php-comment">// ::</span>
</span><span id="13212" class="l"><a class="l" href="#13212">13212: </a>            <span class="php-keyword1">if</span> (<span class="php-var">$c1</span> === -<span class="php-num">1</span> &amp;&amp; <span class="php-var">$c2</span> === -<span class="php-num">1</span>)
</span><span id="13213" class="l"><a class="l" href="#13213">13213: </a>            {
</span><span id="13214" class="l"><a class="l" href="#13214">13214: </a>                <span class="php-var">$uip</span> = <span class="php-quote">'0:0:0:0:0:0:0:0'</span>;
</span><span id="13215" class="l"><a class="l" href="#13215">13215: </a>            }
</span><span id="13216" class="l"><a class="l" href="#13216">13216: </a>            <span class="php-comment">// ::xxx</span>
</span><span id="13217" class="l"><a class="l" href="#13217">13217: </a>            <span class="php-keyword1">else</span> <span class="php-keyword1">if</span> (<span class="php-var">$c1</span> === -<span class="php-num">1</span>)
</span><span id="13218" class="l"><a class="l" href="#13218">13218: </a>            {
</span><span id="13219" class="l"><a class="l" href="#13219">13219: </a>                <span class="php-var">$fill</span> = <span class="php-keyword2">str_repeat</span>(<span class="php-quote">'0:'</span>, <span class="php-num">7</span> - <span class="php-var">$c2</span>);
</span><span id="13220" class="l"><a class="l" href="#13220">13220: </a>                <span class="php-var">$uip</span> =  <span class="php-keyword2">str_replace</span>(<span class="php-quote">'::'</span>, <span class="php-var">$fill</span>, <span class="php-var">$uip</span>);
</span><span id="13221" class="l"><a class="l" href="#13221">13221: </a>            }
</span><span id="13222" class="l"><a class="l" href="#13222">13222: </a>            <span class="php-comment">// xxx::</span>
</span><span id="13223" class="l"><a class="l" href="#13223">13223: </a>            <span class="php-keyword1">else</span> <span class="php-keyword1">if</span> (<span class="php-var">$c2</span> === -<span class="php-num">1</span>)
</span><span id="13224" class="l"><a class="l" href="#13224">13224: </a>            {
</span><span id="13225" class="l"><a class="l" href="#13225">13225: </a>                <span class="php-var">$fill</span> = <span class="php-keyword2">str_repeat</span>(<span class="php-quote">':0'</span>, <span class="php-num">7</span> - <span class="php-var">$c1</span>);
</span><span id="13226" class="l"><a class="l" href="#13226">13226: </a>                <span class="php-var">$uip</span> =  <span class="php-keyword2">str_replace</span>(<span class="php-quote">'::'</span>, <span class="php-var">$fill</span>, <span class="php-var">$uip</span>);
</span><span id="13227" class="l"><a class="l" href="#13227">13227: </a>            }
</span><span id="13228" class="l"><a class="l" href="#13228">13228: </a>            <span class="php-comment">// xxx::xxx</span>
</span><span id="13229" class="l"><a class="l" href="#13229">13229: </a>            <span class="php-keyword1">else</span>
</span><span id="13230" class="l"><a class="l" href="#13230">13230: </a>            {
</span><span id="13231" class="l"><a class="l" href="#13231">13231: </a>                <span class="php-var">$fill</span> = <span class="php-keyword2">str_repeat</span>(<span class="php-quote">':0:'</span>, <span class="php-num">6</span> - <span class="php-var">$c2</span> - <span class="php-var">$c1</span>);
</span><span id="13232" class="l"><a class="l" href="#13232">13232: </a>                <span class="php-var">$uip</span> =  <span class="php-keyword2">str_replace</span>(<span class="php-quote">'::'</span>, <span class="php-var">$fill</span>, <span class="php-var">$uip</span>);
</span><span id="13233" class="l"><a class="l" href="#13233">13233: </a>                <span class="php-var">$uip</span> =  <span class="php-keyword2">str_replace</span>(<span class="php-quote">'::'</span>, <span class="php-quote">':'</span>, <span class="php-var">$uip</span>);
</span><span id="13234" class="l"><a class="l" href="#13234">13234: </a>            }
</span><span id="13235" class="l"><a class="l" href="#13235">13235: </a>        }
</span><span id="13236" class="l"><a class="l" href="#13236">13236: </a>        <span class="php-keyword1">return</span> <span class="php-var">$uip</span>;
</span><span id="13237" class="l"><a class="l" href="#13237">13237: </a>    }
</span><span id="13238" class="l"><a class="l" href="#13238">13238: </a>
</span><span id="13239" class="l"><a class="l" href="#13239">13239: </a>    <span class="php-comment">/**
</span></span><span id="13240" class="l"><a class="l" href="#13240">13240: </a><span class="php-comment">     * Splits an IPv6 address into the IPv6 and a possible IPv4 part
</span></span><span id="13241" class="l"><a class="l" href="#13241">13241: </a><span class="php-comment">     *
</span></span><span id="13242" class="l"><a class="l" href="#13242">13242: </a><span class="php-comment">     * RFC 2373 allows you to note the last two parts of an IPv6 address as
</span></span><span id="13243" class="l"><a class="l" href="#13243">13243: </a><span class="php-comment">     * an IPv4 compatible address
</span></span><span id="13244" class="l"><a class="l" href="#13244">13244: </a><span class="php-comment">     *
</span></span><span id="13245" class="l"><a class="l" href="#13245">13245: </a><span class="php-comment">     * Example:  0:0:0:0:0:0:13.1.68.3
</span></span><span id="13246" class="l"><a class="l" href="#13246">13246: </a><span class="php-comment">     *           0:0:0:0:0:FFFF:129.144.52.38
</span></span><span id="13247" class="l"><a class="l" href="#13247">13247: </a><span class="php-comment">     *
</span></span><span id="13248" class="l"><a class="l" href="#13248">13248: </a><span class="php-comment">     * @access public
</span></span><span id="13249" class="l"><a class="l" href="#13249">13249: </a><span class="php-comment">     * @static
</span></span><span id="13250" class="l"><a class="l" href="#13250">13250: </a><span class="php-comment">     * @param string $ip a valid IPv6-address (hex format)
</span></span><span id="13251" class="l"><a class="l" href="#13251">13251: </a><span class="php-comment">     * @return array [0] contains the IPv6 part, [1] the IPv4 part (hex format)
</span></span><span id="13252" class="l"><a class="l" href="#13252">13252: </a><span class="php-comment">     */</span>
</span><span id="13253" class="l"><a class="l" href="#13253">13253: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">static</span> <span class="php-keyword1">function</span> <a id="_SplitV64" href="#_SplitV64">SplitV64</a>(<span class="php-var">$ip</span>)
</span><span id="13254" class="l"><a class="l" href="#13254">13254: </a>    {
</span><span id="13255" class="l"><a class="l" href="#13255">13255: </a>        <span class="php-var">$ip</span> = SimplePie_Net_IPv6::Uncompress(<span class="php-var">$ip</span>);
</span><span id="13256" class="l"><a class="l" href="#13256">13256: </a>        <span class="php-keyword1">if</span> (<span class="php-keyword2">strstr</span>(<span class="php-var">$ip</span>, <span class="php-quote">'.'</span>))
</span><span id="13257" class="l"><a class="l" href="#13257">13257: </a>        {
</span><span id="13258" class="l"><a class="l" href="#13258">13258: </a>            <span class="php-var">$pos</span> = <span class="php-keyword2">strrpos</span>(<span class="php-var">$ip</span>, <span class="php-quote">':'</span>);
</span><span id="13259" class="l"><a class="l" href="#13259">13259: </a>            <span class="php-var">$ip</span>[<span class="php-var">$pos</span>] = <span class="php-quote">'_'</span>;
</span><span id="13260" class="l"><a class="l" href="#13260">13260: </a>            <span class="php-var">$ipPart</span> = <span class="php-keyword2">explode</span>(<span class="php-quote">'_'</span>, <span class="php-var">$ip</span>);
</span><span id="13261" class="l"><a class="l" href="#13261">13261: </a>            <span class="php-keyword1">return</span> <span class="php-var">$ipPart</span>;
</span><span id="13262" class="l"><a class="l" href="#13262">13262: </a>        }
</span><span id="13263" class="l"><a class="l" href="#13263">13263: </a>        <span class="php-keyword1">else</span>
</span><span id="13264" class="l"><a class="l" href="#13264">13264: </a>        {
</span><span id="13265" class="l"><a class="l" href="#13265">13265: </a>            <span class="php-keyword1">return</span> <span class="php-keyword1">array</span>(<span class="php-var">$ip</span>, <span class="php-quote">''</span>);
</span><span id="13266" class="l"><a class="l" href="#13266">13266: </a>        }
</span><span id="13267" class="l"><a class="l" href="#13267">13267: </a>    }
</span><span id="13268" class="l"><a class="l" href="#13268">13268: </a>
</span><span id="13269" class="l"><a class="l" href="#13269">13269: </a>    <span class="php-comment">/**
</span></span><span id="13270" class="l"><a class="l" href="#13270">13270: </a><span class="php-comment">     * Checks an IPv6 address
</span></span><span id="13271" class="l"><a class="l" href="#13271">13271: </a><span class="php-comment">     *
</span></span><span id="13272" class="l"><a class="l" href="#13272">13272: </a><span class="php-comment">     * Checks if the given IP is IPv6-compatible
</span></span><span id="13273" class="l"><a class="l" href="#13273">13273: </a><span class="php-comment">     *
</span></span><span id="13274" class="l"><a class="l" href="#13274">13274: </a><span class="php-comment">     * @access public
</span></span><span id="13275" class="l"><a class="l" href="#13275">13275: </a><span class="php-comment">     * @static
</span></span><span id="13276" class="l"><a class="l" href="#13276">13276: </a><span class="php-comment">     * @param string $ip a valid IPv6-address
</span></span><span id="13277" class="l"><a class="l" href="#13277">13277: </a><span class="php-comment">     * @return bool true if $ip is an IPv6 address
</span></span><span id="13278" class="l"><a class="l" href="#13278">13278: </a><span class="php-comment">     */</span>
</span><span id="13279" class="l"><a class="l" href="#13279">13279: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">static</span> <span class="php-keyword1">function</span> <a id="_checkIPv6" href="#_checkIPv6">checkIPv6</a>(<span class="php-var">$ip</span>)
</span><span id="13280" class="l"><a class="l" href="#13280">13280: </a>    {
</span><span id="13281" class="l"><a class="l" href="#13281">13281: </a>        <span class="php-var">$ipPart</span> = SimplePie_Net_IPv6::SplitV64(<span class="php-var">$ip</span>);
</span><span id="13282" class="l"><a class="l" href="#13282">13282: </a>        <span class="php-var">$count</span> = <span class="php-num">0</span>;
</span><span id="13283" class="l"><a class="l" href="#13283">13283: </a>        <span class="php-keyword1">if</span> (!<span class="php-keyword1">empty</span>(<span class="php-var">$ipPart</span>[<span class="php-num">0</span>]))
</span><span id="13284" class="l"><a class="l" href="#13284">13284: </a>        {
</span><span id="13285" class="l"><a class="l" href="#13285">13285: </a>            <span class="php-var">$ipv6</span> = <span class="php-keyword2">explode</span>(<span class="php-quote">':'</span>, <span class="php-var">$ipPart</span>[<span class="php-num">0</span>]);
</span><span id="13286" class="l"><a class="l" href="#13286">13286: </a>            <span class="php-keyword1">for</span> (<span class="php-var">$i</span> = <span class="php-num">0</span>; <span class="php-var">$i</span> &lt; <span class="php-keyword2">count</span>(<span class="php-var">$ipv6</span>); <span class="php-var">$i</span>++)
</span><span id="13287" class="l"><a class="l" href="#13287">13287: </a>            {
</span><span id="13288" class="l"><a class="l" href="#13288">13288: </a>                <span class="php-var">$dec</span> = <span class="php-keyword2">hexdec</span>(<span class="php-var">$ipv6</span>[<span class="php-var">$i</span>]);
</span><span id="13289" class="l"><a class="l" href="#13289">13289: </a>                <span class="php-var">$hex</span> = <span class="php-keyword2">strtoupper</span>(<span class="php-keyword2">preg_replace</span>(<span class="php-quote">'/^[0]{1,3}(.*[0-9a-fA-F])$/'</span>, <span class="php-quote">'\\1'</span>, <span class="php-var">$ipv6</span>[<span class="php-var">$i</span>]));
</span><span id="13290" class="l"><a class="l" href="#13290">13290: </a>                <span class="php-keyword1">if</span> (<span class="php-var">$ipv6</span>[<span class="php-var">$i</span>] &gt;= <span class="php-num">0</span> &amp;&amp; <span class="php-var">$dec</span> &lt;= <span class="php-num">65535</span> &amp;&amp; <span class="php-var">$hex</span> === <span class="php-keyword2">strtoupper</span>(<span class="php-keyword2">dechex</span>(<span class="php-var">$dec</span>)))
</span><span id="13291" class="l"><a class="l" href="#13291">13291: </a>                {
</span><span id="13292" class="l"><a class="l" href="#13292">13292: </a>                    <span class="php-var">$count</span>++;
</span><span id="13293" class="l"><a class="l" href="#13293">13293: </a>                }
</span><span id="13294" class="l"><a class="l" href="#13294">13294: </a>            }
</span><span id="13295" class="l"><a class="l" href="#13295">13295: </a>            <span class="php-keyword1">if</span> (<span class="php-var">$count</span> === <span class="php-num">8</span>)
</span><span id="13296" class="l"><a class="l" href="#13296">13296: </a>            {
</span><span id="13297" class="l"><a class="l" href="#13297">13297: </a>                <span class="php-keyword1">return</span> <span class="php-keyword1">true</span>;
</span><span id="13298" class="l"><a class="l" href="#13298">13298: </a>            }
</span><span id="13299" class="l"><a class="l" href="#13299">13299: </a>            <span class="php-keyword1">elseif</span> (<span class="php-var">$count</span> === <span class="php-num">6</span> &amp;&amp; !<span class="php-keyword1">empty</span>(<span class="php-var">$ipPart</span>[<span class="php-num">1</span>]))
</span><span id="13300" class="l"><a class="l" href="#13300">13300: </a>            {
</span><span id="13301" class="l"><a class="l" href="#13301">13301: </a>                <span class="php-var">$ipv4</span> = <span class="php-keyword2">explode</span>(<span class="php-quote">'.'</span>, <span class="php-var">$ipPart</span>[<span class="php-num">1</span>]);
</span><span id="13302" class="l"><a class="l" href="#13302">13302: </a>                <span class="php-var">$count</span> = <span class="php-num">0</span>;
</span><span id="13303" class="l"><a class="l" href="#13303">13303: </a>                <span class="php-keyword1">foreach</span> (<span class="php-var">$ipv4</span> <span class="php-keyword1">as</span> <span class="php-var">$ipv4_part</span>)
</span><span id="13304" class="l"><a class="l" href="#13304">13304: </a>                {
</span><span id="13305" class="l"><a class="l" href="#13305">13305: </a>                    <span class="php-keyword1">if</span> (<span class="php-var">$ipv4_part</span> &gt;= <span class="php-num">0</span> &amp;&amp; <span class="php-var">$ipv4_part</span> &lt;= <span class="php-num">255</span> &amp;&amp; <span class="php-keyword2">preg_match</span>(<span class="php-quote">'/^\d{1,3}$/'</span>, <span class="php-var">$ipv4_part</span>))
</span><span id="13306" class="l"><a class="l" href="#13306">13306: </a>                    {
</span><span id="13307" class="l"><a class="l" href="#13307">13307: </a>                        <span class="php-var">$count</span>++;
</span><span id="13308" class="l"><a class="l" href="#13308">13308: </a>                    }
</span><span id="13309" class="l"><a class="l" href="#13309">13309: </a>                }
</span><span id="13310" class="l"><a class="l" href="#13310">13310: </a>                <span class="php-keyword1">if</span> (<span class="php-var">$count</span> === <span class="php-num">4</span>)
</span><span id="13311" class="l"><a class="l" href="#13311">13311: </a>                {
</span><span id="13312" class="l"><a class="l" href="#13312">13312: </a>                    <span class="php-keyword1">return</span> <span class="php-keyword1">true</span>;
</span><span id="13313" class="l"><a class="l" href="#13313">13313: </a>                }
</span><span id="13314" class="l"><a class="l" href="#13314">13314: </a>            }
</span><span id="13315" class="l"><a class="l" href="#13315">13315: </a>            <span class="php-keyword1">else</span>
</span><span id="13316" class="l"><a class="l" href="#13316">13316: </a>            {
</span><span id="13317" class="l"><a class="l" href="#13317">13317: </a>                <span class="php-keyword1">return</span> <span class="php-keyword1">false</span>;
</span><span id="13318" class="l"><a class="l" href="#13318">13318: </a>            }
</span><span id="13319" class="l"><a class="l" href="#13319">13319: </a>
</span><span id="13320" class="l"><a class="l" href="#13320">13320: </a>        }
</span><span id="13321" class="l"><a class="l" href="#13321">13321: </a>        <span class="php-keyword1">else</span>
</span><span id="13322" class="l"><a class="l" href="#13322">13322: </a>        {
</span><span id="13323" class="l"><a class="l" href="#13323">13323: </a>            <span class="php-keyword1">return</span> <span class="php-keyword1">false</span>;
</span><span id="13324" class="l"><a class="l" href="#13324">13324: </a>        }
</span><span id="13325" class="l"><a class="l" href="#13325">13325: </a>    }
</span><span id="13326" class="l"><a class="l" href="#13326">13326: </a>}
</span><span id="13327" class="l"><a class="l" href="#13327">13327: </a>
</span><span id="13328" class="l"><a class="l" href="#13328">13328: </a><span class="php-comment">/**
</span></span><span id="13329" class="l"><a class="l" href="#13329">13329: </a><span class="php-comment"> * Date Parser
</span></span><span id="13330" class="l"><a class="l" href="#13330">13330: </a><span class="php-comment"> *
</span></span><span id="13331" class="l"><a class="l" href="#13331">13331: </a><span class="php-comment"> * @package SimplePie
</span></span><span id="13332" class="l"><a class="l" href="#13332">13332: </a><span class="php-comment"> */</span>
</span><span id="13333" class="l"><a class="l" href="#13333">13333: </a><span class="php-keyword1">class</span> <a id="SimplePie_Parse_Date" href="#SimplePie_Parse_Date">SimplePie_Parse_Date</a>
</span><span id="13334" class="l"><a class="l" href="#13334">13334: </a>{
</span><span id="13335" class="l"><a class="l" href="#13335">13335: </a>    <span class="php-comment">/**
</span></span><span id="13336" class="l"><a class="l" href="#13336">13336: </a><span class="php-comment">     * Input data
</span></span><span id="13337" class="l"><a class="l" href="#13337">13337: </a><span class="php-comment">     *
</span></span><span id="13338" class="l"><a class="l" href="#13338">13338: </a><span class="php-comment">     * @access protected
</span></span><span id="13339" class="l"><a class="l" href="#13339">13339: </a><span class="php-comment">     * @var string
</span></span><span id="13340" class="l"><a class="l" href="#13340">13340: </a><span class="php-comment">     */</span>
</span><span id="13341" class="l"><a class="l" href="#13341">13341: </a>    <span class="php-keyword1">var</span> <span class="php-var"><a id="$date" href="#$date">$date</a></span>;
</span><span id="13342" class="l"><a class="l" href="#13342">13342: </a>
</span><span id="13343" class="l"><a class="l" href="#13343">13343: </a>    <span class="php-comment">/**
</span></span><span id="13344" class="l"><a class="l" href="#13344">13344: </a><span class="php-comment">     * List of days, calendar day name =&gt; ordinal day number in the week
</span></span><span id="13345" class="l"><a class="l" href="#13345">13345: </a><span class="php-comment">     *
</span></span><span id="13346" class="l"><a class="l" href="#13346">13346: </a><span class="php-comment">     * @access protected
</span></span><span id="13347" class="l"><a class="l" href="#13347">13347: </a><span class="php-comment">     * @var array
</span></span><span id="13348" class="l"><a class="l" href="#13348">13348: </a><span class="php-comment">     */</span>
</span><span id="13349" class="l"><a class="l" href="#13349">13349: </a>    <span class="php-keyword1">var</span> <span class="php-var"><a id="$day" href="#$day">$day</a></span> = <span class="php-keyword1">array</span>(
</span><span id="13350" class="l"><a class="l" href="#13350">13350: </a>        <span class="php-comment">// English</span>
</span><span id="13351" class="l"><a class="l" href="#13351">13351: </a>        <span class="php-quote">'mon'</span> =&gt; <span class="php-num">1</span>,
</span><span id="13352" class="l"><a class="l" href="#13352">13352: </a>        <span class="php-quote">'monday'</span> =&gt; <span class="php-num">1</span>,
</span><span id="13353" class="l"><a class="l" href="#13353">13353: </a>        <span class="php-quote">'tue'</span> =&gt; <span class="php-num">2</span>,
</span><span id="13354" class="l"><a class="l" href="#13354">13354: </a>        <span class="php-quote">'tuesday'</span> =&gt; <span class="php-num">2</span>,
</span><span id="13355" class="l"><a class="l" href="#13355">13355: </a>        <span class="php-quote">'wed'</span> =&gt; <span class="php-num">3</span>,
</span><span id="13356" class="l"><a class="l" href="#13356">13356: </a>        <span class="php-quote">'wednesday'</span> =&gt; <span class="php-num">3</span>,
</span><span id="13357" class="l"><a class="l" href="#13357">13357: </a>        <span class="php-quote">'thu'</span> =&gt; <span class="php-num">4</span>,
</span><span id="13358" class="l"><a class="l" href="#13358">13358: </a>        <span class="php-quote">'thursday'</span> =&gt; <span class="php-num">4</span>,
</span><span id="13359" class="l"><a class="l" href="#13359">13359: </a>        <span class="php-quote">'fri'</span> =&gt; <span class="php-num">5</span>,
</span><span id="13360" class="l"><a class="l" href="#13360">13360: </a>        <span class="php-quote">'friday'</span> =&gt; <span class="php-num">5</span>,
</span><span id="13361" class="l"><a class="l" href="#13361">13361: </a>        <span class="php-quote">'sat'</span> =&gt; <span class="php-num">6</span>,
</span><span id="13362" class="l"><a class="l" href="#13362">13362: </a>        <span class="php-quote">'saturday'</span> =&gt; <span class="php-num">6</span>,
</span><span id="13363" class="l"><a class="l" href="#13363">13363: </a>        <span class="php-quote">'sun'</span> =&gt; <span class="php-num">7</span>,
</span><span id="13364" class="l"><a class="l" href="#13364">13364: </a>        <span class="php-quote">'sunday'</span> =&gt; <span class="php-num">7</span>,
</span><span id="13365" class="l"><a class="l" href="#13365">13365: </a>        <span class="php-comment">// Dutch</span>
</span><span id="13366" class="l"><a class="l" href="#13366">13366: </a>        <span class="php-quote">'maandag'</span> =&gt; <span class="php-num">1</span>,
</span><span id="13367" class="l"><a class="l" href="#13367">13367: </a>        <span class="php-quote">'dinsdag'</span> =&gt; <span class="php-num">2</span>,
</span><span id="13368" class="l"><a class="l" href="#13368">13368: </a>        <span class="php-quote">'woensdag'</span> =&gt; <span class="php-num">3</span>,
</span><span id="13369" class="l"><a class="l" href="#13369">13369: </a>        <span class="php-quote">'donderdag'</span> =&gt; <span class="php-num">4</span>,
</span><span id="13370" class="l"><a class="l" href="#13370">13370: </a>        <span class="php-quote">'vrijdag'</span> =&gt; <span class="php-num">5</span>,
</span><span id="13371" class="l"><a class="l" href="#13371">13371: </a>        <span class="php-quote">'zaterdag'</span> =&gt; <span class="php-num">6</span>,
</span><span id="13372" class="l"><a class="l" href="#13372">13372: </a>        <span class="php-quote">'zondag'</span> =&gt; <span class="php-num">7</span>,
</span><span id="13373" class="l"><a class="l" href="#13373">13373: </a>        <span class="php-comment">// French</span>
</span><span id="13374" class="l"><a class="l" href="#13374">13374: </a>        <span class="php-quote">'lundi'</span> =&gt; <span class="php-num">1</span>,
</span><span id="13375" class="l"><a class="l" href="#13375">13375: </a>        <span class="php-quote">'mardi'</span> =&gt; <span class="php-num">2</span>,
</span><span id="13376" class="l"><a class="l" href="#13376">13376: </a>        <span class="php-quote">'mercredi'</span> =&gt; <span class="php-num">3</span>,
</span><span id="13377" class="l"><a class="l" href="#13377">13377: </a>        <span class="php-quote">'jeudi'</span> =&gt; <span class="php-num">4</span>,
</span><span id="13378" class="l"><a class="l" href="#13378">13378: </a>        <span class="php-quote">'vendredi'</span> =&gt; <span class="php-num">5</span>,
</span><span id="13379" class="l"><a class="l" href="#13379">13379: </a>        <span class="php-quote">'samedi'</span> =&gt; <span class="php-num">6</span>,
</span><span id="13380" class="l"><a class="l" href="#13380">13380: </a>        <span class="php-quote">'dimanche'</span> =&gt; <span class="php-num">7</span>,
</span><span id="13381" class="l"><a class="l" href="#13381">13381: </a>        <span class="php-comment">// German</span>
</span><span id="13382" class="l"><a class="l" href="#13382">13382: </a>        <span class="php-quote">'montag'</span> =&gt; <span class="php-num">1</span>,
</span><span id="13383" class="l"><a class="l" href="#13383">13383: </a>        <span class="php-quote">'dienstag'</span> =&gt; <span class="php-num">2</span>,
</span><span id="13384" class="l"><a class="l" href="#13384">13384: </a>        <span class="php-quote">'mittwoch'</span> =&gt; <span class="php-num">3</span>,
</span><span id="13385" class="l"><a class="l" href="#13385">13385: </a>        <span class="php-quote">'donnerstag'</span> =&gt; <span class="php-num">4</span>,
</span><span id="13386" class="l"><a class="l" href="#13386">13386: </a>        <span class="php-quote">'freitag'</span> =&gt; <span class="php-num">5</span>,
</span><span id="13387" class="l"><a class="l" href="#13387">13387: </a>        <span class="php-quote">'samstag'</span> =&gt; <span class="php-num">6</span>,
</span><span id="13388" class="l"><a class="l" href="#13388">13388: </a>        <span class="php-quote">'sonnabend'</span> =&gt; <span class="php-num">6</span>,
</span><span id="13389" class="l"><a class="l" href="#13389">13389: </a>        <span class="php-quote">'sonntag'</span> =&gt; <span class="php-num">7</span>,
</span><span id="13390" class="l"><a class="l" href="#13390">13390: </a>        <span class="php-comment">// Italian</span>
</span><span id="13391" class="l"><a class="l" href="#13391">13391: </a>        <span class="php-quote">'luned'</span> =&gt; <span class="php-num">1</span>,
</span><span id="13392" class="l"><a class="l" href="#13392">13392: </a>        <span class="php-quote">'marted'</span> =&gt; <span class="php-num">2</span>,
</span><span id="13393" class="l"><a class="l" href="#13393">13393: </a>        <span class="php-quote">'mercoled'</span> =&gt; <span class="php-num">3</span>,
</span><span id="13394" class="l"><a class="l" href="#13394">13394: </a>        <span class="php-quote">'gioved'</span> =&gt; <span class="php-num">4</span>,
</span><span id="13395" class="l"><a class="l" href="#13395">13395: </a>        <span class="php-quote">'venerd'</span> =&gt; <span class="php-num">5</span>,
</span><span id="13396" class="l"><a class="l" href="#13396">13396: </a>        <span class="php-quote">'sabato'</span> =&gt; <span class="php-num">6</span>,
</span><span id="13397" class="l"><a class="l" href="#13397">13397: </a>        <span class="php-quote">'domenica'</span> =&gt; <span class="php-num">7</span>,
</span><span id="13398" class="l"><a class="l" href="#13398">13398: </a>        <span class="php-comment">// Spanish</span>
</span><span id="13399" class="l"><a class="l" href="#13399">13399: </a>        <span class="php-quote">'lunes'</span> =&gt; <span class="php-num">1</span>,
</span><span id="13400" class="l"><a class="l" href="#13400">13400: </a>        <span class="php-quote">'martes'</span> =&gt; <span class="php-num">2</span>,
</span><span id="13401" class="l"><a class="l" href="#13401">13401: </a>        <span class="php-quote">'mircoles'</span> =&gt; <span class="php-num">3</span>,
</span><span id="13402" class="l"><a class="l" href="#13402">13402: </a>        <span class="php-quote">'jueves'</span> =&gt; <span class="php-num">4</span>,
</span><span id="13403" class="l"><a class="l" href="#13403">13403: </a>        <span class="php-quote">'viernes'</span> =&gt; <span class="php-num">5</span>,
</span><span id="13404" class="l"><a class="l" href="#13404">13404: </a>        <span class="php-quote">'sbado'</span> =&gt; <span class="php-num">6</span>,
</span><span id="13405" class="l"><a class="l" href="#13405">13405: </a>        <span class="php-quote">'domingo'</span> =&gt; <span class="php-num">7</span>,
</span><span id="13406" class="l"><a class="l" href="#13406">13406: </a>        <span class="php-comment">// Finnish</span>
</span><span id="13407" class="l"><a class="l" href="#13407">13407: </a>        <span class="php-quote">'maanantai'</span> =&gt; <span class="php-num">1</span>,
</span><span id="13408" class="l"><a class="l" href="#13408">13408: </a>        <span class="php-quote">'tiistai'</span> =&gt; <span class="php-num">2</span>,
</span><span id="13409" class="l"><a class="l" href="#13409">13409: </a>        <span class="php-quote">'keskiviikko'</span> =&gt; <span class="php-num">3</span>,
</span><span id="13410" class="l"><a class="l" href="#13410">13410: </a>        <span class="php-quote">'torstai'</span> =&gt; <span class="php-num">4</span>,
</span><span id="13411" class="l"><a class="l" href="#13411">13411: </a>        <span class="php-quote">'perjantai'</span> =&gt; <span class="php-num">5</span>,
</span><span id="13412" class="l"><a class="l" href="#13412">13412: </a>        <span class="php-quote">'lauantai'</span> =&gt; <span class="php-num">6</span>,
</span><span id="13413" class="l"><a class="l" href="#13413">13413: </a>        <span class="php-quote">'sunnuntai'</span> =&gt; <span class="php-num">7</span>,
</span><span id="13414" class="l"><a class="l" href="#13414">13414: </a>        <span class="php-comment">// Hungarian</span>
</span><span id="13415" class="l"><a class="l" href="#13415">13415: </a>        <span class="php-quote">'htf'</span> =&gt; <span class="php-num">1</span>,
</span><span id="13416" class="l"><a class="l" href="#13416">13416: </a>        <span class="php-quote">'kedd'</span> =&gt; <span class="php-num">2</span>,
</span><span id="13417" class="l"><a class="l" href="#13417">13417: </a>        <span class="php-quote">'szerda'</span> =&gt; <span class="php-num">3</span>,
</span><span id="13418" class="l"><a class="l" href="#13418">13418: </a>        <span class="php-quote">'cstrtok'</span> =&gt; <span class="php-num">4</span>,
</span><span id="13419" class="l"><a class="l" href="#13419">13419: </a>        <span class="php-quote">'pntek'</span> =&gt; <span class="php-num">5</span>,
</span><span id="13420" class="l"><a class="l" href="#13420">13420: </a>        <span class="php-quote">'szombat'</span> =&gt; <span class="php-num">6</span>,
</span><span id="13421" class="l"><a class="l" href="#13421">13421: </a>        <span class="php-quote">'vasrnap'</span> =&gt; <span class="php-num">7</span>,
</span><span id="13422" class="l"><a class="l" href="#13422">13422: </a>        <span class="php-comment">// Greek</span>
</span><span id="13423" class="l"><a class="l" href="#13423">13423: </a>        <span class="php-quote">''</span> =&gt; <span class="php-num">1</span>,
</span><span id="13424" class="l"><a class="l" href="#13424">13424: </a>        <span class="php-quote">''</span> =&gt; <span class="php-num">2</span>,
</span><span id="13425" class="l"><a class="l" href="#13425">13425: </a>        <span class="php-quote">''</span> =&gt; <span class="php-num">3</span>,
</span><span id="13426" class="l"><a class="l" href="#13426">13426: </a>        <span class="php-quote">''</span> =&gt; <span class="php-num">4</span>,
</span><span id="13427" class="l"><a class="l" href="#13427">13427: </a>        <span class="php-quote">''</span> =&gt; <span class="php-num">5</span>,
</span><span id="13428" class="l"><a class="l" href="#13428">13428: </a>        <span class="php-quote">''</span> =&gt; <span class="php-num">6</span>,
</span><span id="13429" class="l"><a class="l" href="#13429">13429: </a>        <span class="php-quote">''</span> =&gt; <span class="php-num">7</span>,
</span><span id="13430" class="l"><a class="l" href="#13430">13430: </a>    );
</span><span id="13431" class="l"><a class="l" href="#13431">13431: </a>
</span><span id="13432" class="l"><a class="l" href="#13432">13432: </a>    <span class="php-comment">/**
</span></span><span id="13433" class="l"><a class="l" href="#13433">13433: </a><span class="php-comment">     * List of months, calendar month name =&gt; calendar month number
</span></span><span id="13434" class="l"><a class="l" href="#13434">13434: </a><span class="php-comment">     *
</span></span><span id="13435" class="l"><a class="l" href="#13435">13435: </a><span class="php-comment">     * @access protected
</span></span><span id="13436" class="l"><a class="l" href="#13436">13436: </a><span class="php-comment">     * @var array
</span></span><span id="13437" class="l"><a class="l" href="#13437">13437: </a><span class="php-comment">     */</span>
</span><span id="13438" class="l"><a class="l" href="#13438">13438: </a>    <span class="php-keyword1">var</span> <span class="php-var"><a id="$month" href="#$month">$month</a></span> = <span class="php-keyword1">array</span>(
</span><span id="13439" class="l"><a class="l" href="#13439">13439: </a>        <span class="php-comment">// English</span>
</span><span id="13440" class="l"><a class="l" href="#13440">13440: </a>        <span class="php-quote">'jan'</span> =&gt; <span class="php-num">1</span>,
</span><span id="13441" class="l"><a class="l" href="#13441">13441: </a>        <span class="php-quote">'january'</span> =&gt; <span class="php-num">1</span>,
</span><span id="13442" class="l"><a class="l" href="#13442">13442: </a>        <span class="php-quote">'feb'</span> =&gt; <span class="php-num">2</span>,
</span><span id="13443" class="l"><a class="l" href="#13443">13443: </a>        <span class="php-quote">'february'</span> =&gt; <span class="php-num">2</span>,
</span><span id="13444" class="l"><a class="l" href="#13444">13444: </a>        <span class="php-quote">'mar'</span> =&gt; <span class="php-num">3</span>,
</span><span id="13445" class="l"><a class="l" href="#13445">13445: </a>        <span class="php-quote">'march'</span> =&gt; <span class="php-num">3</span>,
</span><span id="13446" class="l"><a class="l" href="#13446">13446: </a>        <span class="php-quote">'apr'</span> =&gt; <span class="php-num">4</span>,
</span><span id="13447" class="l"><a class="l" href="#13447">13447: </a>        <span class="php-quote">'april'</span> =&gt; <span class="php-num">4</span>,
</span><span id="13448" class="l"><a class="l" href="#13448">13448: </a>        <span class="php-quote">'may'</span> =&gt; <span class="php-num">5</span>,
</span><span id="13449" class="l"><a class="l" href="#13449">13449: </a>        <span class="php-comment">// No long form of May</span>
</span><span id="13450" class="l"><a class="l" href="#13450">13450: </a>        <span class="php-quote">'jun'</span> =&gt; <span class="php-num">6</span>,
</span><span id="13451" class="l"><a class="l" href="#13451">13451: </a>        <span class="php-quote">'june'</span> =&gt; <span class="php-num">6</span>,
</span><span id="13452" class="l"><a class="l" href="#13452">13452: </a>        <span class="php-quote">'jul'</span> =&gt; <span class="php-num">7</span>,
</span><span id="13453" class="l"><a class="l" href="#13453">13453: </a>        <span class="php-quote">'july'</span> =&gt; <span class="php-num">7</span>,
</span><span id="13454" class="l"><a class="l" href="#13454">13454: </a>        <span class="php-quote">'aug'</span> =&gt; <span class="php-num">8</span>,
</span><span id="13455" class="l"><a class="l" href="#13455">13455: </a>        <span class="php-quote">'august'</span> =&gt; <span class="php-num">8</span>,
</span><span id="13456" class="l"><a class="l" href="#13456">13456: </a>        <span class="php-quote">'sep'</span> =&gt; <span class="php-num">9</span>,
</span><span id="13457" class="l"><a class="l" href="#13457">13457: </a>        <span class="php-quote">'september'</span> =&gt; <span class="php-num">8</span>,
</span><span id="13458" class="l"><a class="l" href="#13458">13458: </a>        <span class="php-quote">'oct'</span> =&gt; <span class="php-num">10</span>,
</span><span id="13459" class="l"><a class="l" href="#13459">13459: </a>        <span class="php-quote">'october'</span> =&gt; <span class="php-num">10</span>,
</span><span id="13460" class="l"><a class="l" href="#13460">13460: </a>        <span class="php-quote">'nov'</span> =&gt; <span class="php-num">11</span>,
</span><span id="13461" class="l"><a class="l" href="#13461">13461: </a>        <span class="php-quote">'november'</span> =&gt; <span class="php-num">11</span>,
</span><span id="13462" class="l"><a class="l" href="#13462">13462: </a>        <span class="php-quote">'dec'</span> =&gt; <span class="php-num">12</span>,
</span><span id="13463" class="l"><a class="l" href="#13463">13463: </a>        <span class="php-quote">'december'</span> =&gt; <span class="php-num">12</span>,
</span><span id="13464" class="l"><a class="l" href="#13464">13464: </a>        <span class="php-comment">// Dutch</span>
</span><span id="13465" class="l"><a class="l" href="#13465">13465: </a>        <span class="php-quote">'januari'</span> =&gt; <span class="php-num">1</span>,
</span><span id="13466" class="l"><a class="l" href="#13466">13466: </a>        <span class="php-quote">'februari'</span> =&gt; <span class="php-num">2</span>,
</span><span id="13467" class="l"><a class="l" href="#13467">13467: </a>        <span class="php-quote">'maart'</span> =&gt; <span class="php-num">3</span>,
</span><span id="13468" class="l"><a class="l" href="#13468">13468: </a>        <span class="php-quote">'april'</span> =&gt; <span class="php-num">4</span>,
</span><span id="13469" class="l"><a class="l" href="#13469">13469: </a>        <span class="php-quote">'mei'</span> =&gt; <span class="php-num">5</span>,
</span><span id="13470" class="l"><a class="l" href="#13470">13470: </a>        <span class="php-quote">'juni'</span> =&gt; <span class="php-num">6</span>,
</span><span id="13471" class="l"><a class="l" href="#13471">13471: </a>        <span class="php-quote">'juli'</span> =&gt; <span class="php-num">7</span>,
</span><span id="13472" class="l"><a class="l" href="#13472">13472: </a>        <span class="php-quote">'augustus'</span> =&gt; <span class="php-num">8</span>,
</span><span id="13473" class="l"><a class="l" href="#13473">13473: </a>        <span class="php-quote">'september'</span> =&gt; <span class="php-num">9</span>,
</span><span id="13474" class="l"><a class="l" href="#13474">13474: </a>        <span class="php-quote">'oktober'</span> =&gt; <span class="php-num">10</span>,
</span><span id="13475" class="l"><a class="l" href="#13475">13475: </a>        <span class="php-quote">'november'</span> =&gt; <span class="php-num">11</span>,
</span><span id="13476" class="l"><a class="l" href="#13476">13476: </a>        <span class="php-quote">'december'</span> =&gt; <span class="php-num">12</span>,
</span><span id="13477" class="l"><a class="l" href="#13477">13477: </a>        <span class="php-comment">// French</span>
</span><span id="13478" class="l"><a class="l" href="#13478">13478: </a>        <span class="php-quote">'janvier'</span> =&gt; <span class="php-num">1</span>,
</span><span id="13479" class="l"><a class="l" href="#13479">13479: </a>        <span class="php-quote">'fvrier'</span> =&gt; <span class="php-num">2</span>,
</span><span id="13480" class="l"><a class="l" href="#13480">13480: </a>        <span class="php-quote">'mars'</span> =&gt; <span class="php-num">3</span>,
</span><span id="13481" class="l"><a class="l" href="#13481">13481: </a>        <span class="php-quote">'avril'</span> =&gt; <span class="php-num">4</span>,
</span><span id="13482" class="l"><a class="l" href="#13482">13482: </a>        <span class="php-quote">'mai'</span> =&gt; <span class="php-num">5</span>,
</span><span id="13483" class="l"><a class="l" href="#13483">13483: </a>        <span class="php-quote">'juin'</span> =&gt; <span class="php-num">6</span>,
</span><span id="13484" class="l"><a class="l" href="#13484">13484: </a>        <span class="php-quote">'juillet'</span> =&gt; <span class="php-num">7</span>,
</span><span id="13485" class="l"><a class="l" href="#13485">13485: </a>        <span class="php-quote">'aot'</span> =&gt; <span class="php-num">8</span>,
</span><span id="13486" class="l"><a class="l" href="#13486">13486: </a>        <span class="php-quote">'septembre'</span> =&gt; <span class="php-num">9</span>,
</span><span id="13487" class="l"><a class="l" href="#13487">13487: </a>        <span class="php-quote">'octobre'</span> =&gt; <span class="php-num">10</span>,
</span><span id="13488" class="l"><a class="l" href="#13488">13488: </a>        <span class="php-quote">'novembre'</span> =&gt; <span class="php-num">11</span>,
</span><span id="13489" class="l"><a class="l" href="#13489">13489: </a>        <span class="php-quote">'dcembre'</span> =&gt; <span class="php-num">12</span>,
</span><span id="13490" class="l"><a class="l" href="#13490">13490: </a>        <span class="php-comment">// German</span>
</span><span id="13491" class="l"><a class="l" href="#13491">13491: </a>        <span class="php-quote">'januar'</span> =&gt; <span class="php-num">1</span>,
</span><span id="13492" class="l"><a class="l" href="#13492">13492: </a>        <span class="php-quote">'februar'</span> =&gt; <span class="php-num">2</span>,
</span><span id="13493" class="l"><a class="l" href="#13493">13493: </a>        <span class="php-quote">'mrz'</span> =&gt; <span class="php-num">3</span>,
</span><span id="13494" class="l"><a class="l" href="#13494">13494: </a>        <span class="php-quote">'april'</span> =&gt; <span class="php-num">4</span>,
</span><span id="13495" class="l"><a class="l" href="#13495">13495: </a>        <span class="php-quote">'mai'</span> =&gt; <span class="php-num">5</span>,
</span><span id="13496" class="l"><a class="l" href="#13496">13496: </a>        <span class="php-quote">'juni'</span> =&gt; <span class="php-num">6</span>,
</span><span id="13497" class="l"><a class="l" href="#13497">13497: </a>        <span class="php-quote">'juli'</span> =&gt; <span class="php-num">7</span>,
</span><span id="13498" class="l"><a class="l" href="#13498">13498: </a>        <span class="php-quote">'august'</span> =&gt; <span class="php-num">8</span>,
</span><span id="13499" class="l"><a class="l" href="#13499">13499: </a>        <span class="php-quote">'september'</span> =&gt; <span class="php-num">9</span>,
</span><span id="13500" class="l"><a class="l" href="#13500">13500: </a>        <span class="php-quote">'oktober'</span> =&gt; <span class="php-num">10</span>,
</span><span id="13501" class="l"><a class="l" href="#13501">13501: </a>        <span class="php-quote">'november'</span> =&gt; <span class="php-num">11</span>,
</span><span id="13502" class="l"><a class="l" href="#13502">13502: </a>        <span class="php-quote">'dezember'</span> =&gt; <span class="php-num">12</span>,
</span><span id="13503" class="l"><a class="l" href="#13503">13503: </a>        <span class="php-comment">// Italian</span>
</span><span id="13504" class="l"><a class="l" href="#13504">13504: </a>        <span class="php-quote">'gennaio'</span> =&gt; <span class="php-num">1</span>,
</span><span id="13505" class="l"><a class="l" href="#13505">13505: </a>        <span class="php-quote">'febbraio'</span> =&gt; <span class="php-num">2</span>,
</span><span id="13506" class="l"><a class="l" href="#13506">13506: </a>        <span class="php-quote">'marzo'</span> =&gt; <span class="php-num">3</span>,
</span><span id="13507" class="l"><a class="l" href="#13507">13507: </a>        <span class="php-quote">'aprile'</span> =&gt; <span class="php-num">4</span>,
</span><span id="13508" class="l"><a class="l" href="#13508">13508: </a>        <span class="php-quote">'maggio'</span> =&gt; <span class="php-num">5</span>,
</span><span id="13509" class="l"><a class="l" href="#13509">13509: </a>        <span class="php-quote">'giugno'</span> =&gt; <span class="php-num">6</span>,
</span><span id="13510" class="l"><a class="l" href="#13510">13510: </a>        <span class="php-quote">'luglio'</span> =&gt; <span class="php-num">7</span>,
</span><span id="13511" class="l"><a class="l" href="#13511">13511: </a>        <span class="php-quote">'agosto'</span> =&gt; <span class="php-num">8</span>,
</span><span id="13512" class="l"><a class="l" href="#13512">13512: </a>        <span class="php-quote">'settembre'</span> =&gt; <span class="php-num">9</span>,
</span><span id="13513" class="l"><a class="l" href="#13513">13513: </a>        <span class="php-quote">'ottobre'</span> =&gt; <span class="php-num">10</span>,
</span><span id="13514" class="l"><a class="l" href="#13514">13514: </a>        <span class="php-quote">'novembre'</span> =&gt; <span class="php-num">11</span>,
</span><span id="13515" class="l"><a class="l" href="#13515">13515: </a>        <span class="php-quote">'dicembre'</span> =&gt; <span class="php-num">12</span>,
</span><span id="13516" class="l"><a class="l" href="#13516">13516: </a>        <span class="php-comment">// Spanish</span>
</span><span id="13517" class="l"><a class="l" href="#13517">13517: </a>        <span class="php-quote">'enero'</span> =&gt; <span class="php-num">1</span>,
</span><span id="13518" class="l"><a class="l" href="#13518">13518: </a>        <span class="php-quote">'febrero'</span> =&gt; <span class="php-num">2</span>,
</span><span id="13519" class="l"><a class="l" href="#13519">13519: </a>        <span class="php-quote">'marzo'</span> =&gt; <span class="php-num">3</span>,
</span><span id="13520" class="l"><a class="l" href="#13520">13520: </a>        <span class="php-quote">'abril'</span> =&gt; <span class="php-num">4</span>,
</span><span id="13521" class="l"><a class="l" href="#13521">13521: </a>        <span class="php-quote">'mayo'</span> =&gt; <span class="php-num">5</span>,
</span><span id="13522" class="l"><a class="l" href="#13522">13522: </a>        <span class="php-quote">'junio'</span> =&gt; <span class="php-num">6</span>,
</span><span id="13523" class="l"><a class="l" href="#13523">13523: </a>        <span class="php-quote">'julio'</span> =&gt; <span class="php-num">7</span>,
</span><span id="13524" class="l"><a class="l" href="#13524">13524: </a>        <span class="php-quote">'agosto'</span> =&gt; <span class="php-num">8</span>,
</span><span id="13525" class="l"><a class="l" href="#13525">13525: </a>        <span class="php-quote">'septiembre'</span> =&gt; <span class="php-num">9</span>,
</span><span id="13526" class="l"><a class="l" href="#13526">13526: </a>        <span class="php-quote">'setiembre'</span> =&gt; <span class="php-num">9</span>,
</span><span id="13527" class="l"><a class="l" href="#13527">13527: </a>        <span class="php-quote">'octubre'</span> =&gt; <span class="php-num">10</span>,
</span><span id="13528" class="l"><a class="l" href="#13528">13528: </a>        <span class="php-quote">'noviembre'</span> =&gt; <span class="php-num">11</span>,
</span><span id="13529" class="l"><a class="l" href="#13529">13529: </a>        <span class="php-quote">'diciembre'</span> =&gt; <span class="php-num">12</span>,
</span><span id="13530" class="l"><a class="l" href="#13530">13530: </a>        <span class="php-comment">// Finnish</span>
</span><span id="13531" class="l"><a class="l" href="#13531">13531: </a>        <span class="php-quote">'tammikuu'</span> =&gt; <span class="php-num">1</span>,
</span><span id="13532" class="l"><a class="l" href="#13532">13532: </a>        <span class="php-quote">'helmikuu'</span> =&gt; <span class="php-num">2</span>,
</span><span id="13533" class="l"><a class="l" href="#13533">13533: </a>        <span class="php-quote">'maaliskuu'</span> =&gt; <span class="php-num">3</span>,
</span><span id="13534" class="l"><a class="l" href="#13534">13534: </a>        <span class="php-quote">'huhtikuu'</span> =&gt; <span class="php-num">4</span>,
</span><span id="13535" class="l"><a class="l" href="#13535">13535: </a>        <span class="php-quote">'toukokuu'</span> =&gt; <span class="php-num">5</span>,
</span><span id="13536" class="l"><a class="l" href="#13536">13536: </a>        <span class="php-quote">'keskuu'</span> =&gt; <span class="php-num">6</span>,
</span><span id="13537" class="l"><a class="l" href="#13537">13537: </a>        <span class="php-quote">'heinkuu'</span> =&gt; <span class="php-num">7</span>,
</span><span id="13538" class="l"><a class="l" href="#13538">13538: </a>        <span class="php-quote">'elokuu'</span> =&gt; <span class="php-num">8</span>,
</span><span id="13539" class="l"><a class="l" href="#13539">13539: </a>        <span class="php-quote">'suuskuu'</span> =&gt; <span class="php-num">9</span>,
</span><span id="13540" class="l"><a class="l" href="#13540">13540: </a>        <span class="php-quote">'lokakuu'</span> =&gt; <span class="php-num">10</span>,
</span><span id="13541" class="l"><a class="l" href="#13541">13541: </a>        <span class="php-quote">'marras'</span> =&gt; <span class="php-num">11</span>,
</span><span id="13542" class="l"><a class="l" href="#13542">13542: </a>        <span class="php-quote">'joulukuu'</span> =&gt; <span class="php-num">12</span>,
</span><span id="13543" class="l"><a class="l" href="#13543">13543: </a>        <span class="php-comment">// Hungarian</span>
</span><span id="13544" class="l"><a class="l" href="#13544">13544: </a>        <span class="php-quote">'janur'</span> =&gt; <span class="php-num">1</span>,
</span><span id="13545" class="l"><a class="l" href="#13545">13545: </a>        <span class="php-quote">'februr'</span> =&gt; <span class="php-num">2</span>,
</span><span id="13546" class="l"><a class="l" href="#13546">13546: </a>        <span class="php-quote">'mrcius'</span> =&gt; <span class="php-num">3</span>,
</span><span id="13547" class="l"><a class="l" href="#13547">13547: </a>        <span class="php-quote">'prilis'</span> =&gt; <span class="php-num">4</span>,
</span><span id="13548" class="l"><a class="l" href="#13548">13548: </a>        <span class="php-quote">'mjus'</span> =&gt; <span class="php-num">5</span>,
</span><span id="13549" class="l"><a class="l" href="#13549">13549: </a>        <span class="php-quote">'jnius'</span> =&gt; <span class="php-num">6</span>,
</span><span id="13550" class="l"><a class="l" href="#13550">13550: </a>        <span class="php-quote">'jlius'</span> =&gt; <span class="php-num">7</span>,
</span><span id="13551" class="l"><a class="l" href="#13551">13551: </a>        <span class="php-quote">'augusztus'</span> =&gt; <span class="php-num">8</span>,
</span><span id="13552" class="l"><a class="l" href="#13552">13552: </a>        <span class="php-quote">'szeptember'</span> =&gt; <span class="php-num">9</span>,
</span><span id="13553" class="l"><a class="l" href="#13553">13553: </a>        <span class="php-quote">'oktber'</span> =&gt; <span class="php-num">10</span>,
</span><span id="13554" class="l"><a class="l" href="#13554">13554: </a>        <span class="php-quote">'november'</span> =&gt; <span class="php-num">11</span>,
</span><span id="13555" class="l"><a class="l" href="#13555">13555: </a>        <span class="php-quote">'december'</span> =&gt; <span class="php-num">12</span>,
</span><span id="13556" class="l"><a class="l" href="#13556">13556: </a>        <span class="php-comment">// Greek</span>
</span><span id="13557" class="l"><a class="l" href="#13557">13557: </a>        <span class="php-quote">''</span> =&gt; <span class="php-num">1</span>,
</span><span id="13558" class="l"><a class="l" href="#13558">13558: </a>        <span class="php-quote">''</span> =&gt; <span class="php-num">2</span>,
</span><span id="13559" class="l"><a class="l" href="#13559">13559: </a>        <span class="php-quote">''</span> =&gt; <span class="php-num">3</span>,
</span><span id="13560" class="l"><a class="l" href="#13560">13560: </a>        <span class="php-quote">''</span> =&gt; <span class="php-num">3</span>,
</span><span id="13561" class="l"><a class="l" href="#13561">13561: </a>        <span class="php-quote">''</span> =&gt; <span class="php-num">4</span>,
</span><span id="13562" class="l"><a class="l" href="#13562">13562: </a>        <span class="php-quote">''</span> =&gt; <span class="php-num">5</span>,
</span><span id="13563" class="l"><a class="l" href="#13563">13563: </a>        <span class="php-quote">''</span> =&gt; <span class="php-num">5</span>,
</span><span id="13564" class="l"><a class="l" href="#13564">13564: </a>        <span class="php-quote">''</span> =&gt; <span class="php-num">5</span>,
</span><span id="13565" class="l"><a class="l" href="#13565">13565: </a>        <span class="php-quote">''</span> =&gt; <span class="php-num">6</span>,
</span><span id="13566" class="l"><a class="l" href="#13566">13566: </a>        <span class="php-quote">''</span> =&gt; <span class="php-num">6</span>,
</span><span id="13567" class="l"><a class="l" href="#13567">13567: </a>        <span class="php-quote">''</span> =&gt; <span class="php-num">7</span>,
</span><span id="13568" class="l"><a class="l" href="#13568">13568: </a>        <span class="php-quote">''</span> =&gt; <span class="php-num">7</span>,
</span><span id="13569" class="l"><a class="l" href="#13569">13569: </a>        <span class="php-quote">''</span> =&gt; <span class="php-num">8</span>,
</span><span id="13570" class="l"><a class="l" href="#13570">13570: </a>        <span class="php-quote">''</span> =&gt; <span class="php-num">8</span>,
</span><span id="13571" class="l"><a class="l" href="#13571">13571: </a>        <span class="php-quote">''</span> =&gt; <span class="php-num">9</span>,
</span><span id="13572" class="l"><a class="l" href="#13572">13572: </a>        <span class="php-quote">''</span> =&gt; <span class="php-num">10</span>,
</span><span id="13573" class="l"><a class="l" href="#13573">13573: </a>        <span class="php-quote">''</span> =&gt; <span class="php-num">11</span>,
</span><span id="13574" class="l"><a class="l" href="#13574">13574: </a>        <span class="php-quote">''</span> =&gt; <span class="php-num">12</span>,
</span><span id="13575" class="l"><a class="l" href="#13575">13575: </a>    );
</span><span id="13576" class="l"><a class="l" href="#13576">13576: </a>
</span><span id="13577" class="l"><a class="l" href="#13577">13577: </a>    <span class="php-comment">/**
</span></span><span id="13578" class="l"><a class="l" href="#13578">13578: </a><span class="php-comment">     * List of timezones, abbreviation =&gt; offset from UTC
</span></span><span id="13579" class="l"><a class="l" href="#13579">13579: </a><span class="php-comment">     *
</span></span><span id="13580" class="l"><a class="l" href="#13580">13580: </a><span class="php-comment">     * @access protected
</span></span><span id="13581" class="l"><a class="l" href="#13581">13581: </a><span class="php-comment">     * @var array
</span></span><span id="13582" class="l"><a class="l" href="#13582">13582: </a><span class="php-comment">     */</span>
</span><span id="13583" class="l"><a class="l" href="#13583">13583: </a>    <span class="php-keyword1">var</span> <span class="php-var"><a id="$timezone" href="#$timezone">$timezone</a></span> = <span class="php-keyword1">array</span>(
</span><span id="13584" class="l"><a class="l" href="#13584">13584: </a>        <span class="php-quote">'ACDT'</span> =&gt; <span class="php-num">37800</span>,
</span><span id="13585" class="l"><a class="l" href="#13585">13585: </a>        <span class="php-quote">'ACIT'</span> =&gt; <span class="php-num">28800</span>,
</span><span id="13586" class="l"><a class="l" href="#13586">13586: </a>        <span class="php-quote">'ACST'</span> =&gt; <span class="php-num">34200</span>,
</span><span id="13587" class="l"><a class="l" href="#13587">13587: </a>        <span class="php-quote">'ACT'</span> =&gt; -<span class="php-num">18000</span>,
</span><span id="13588" class="l"><a class="l" href="#13588">13588: </a>        <span class="php-quote">'ACWDT'</span> =&gt; <span class="php-num">35100</span>,
</span><span id="13589" class="l"><a class="l" href="#13589">13589: </a>        <span class="php-quote">'ACWST'</span> =&gt; <span class="php-num">31500</span>,
</span><span id="13590" class="l"><a class="l" href="#13590">13590: </a>        <span class="php-quote">'AEDT'</span> =&gt; <span class="php-num">39600</span>,
</span><span id="13591" class="l"><a class="l" href="#13591">13591: </a>        <span class="php-quote">'AEST'</span> =&gt; <span class="php-num">36000</span>,
</span><span id="13592" class="l"><a class="l" href="#13592">13592: </a>        <span class="php-quote">'AFT'</span> =&gt; <span class="php-num">16200</span>,
</span><span id="13593" class="l"><a class="l" href="#13593">13593: </a>        <span class="php-quote">'AKDT'</span> =&gt; -<span class="php-num">28800</span>,
</span><span id="13594" class="l"><a class="l" href="#13594">13594: </a>        <span class="php-quote">'AKST'</span> =&gt; -<span class="php-num">32400</span>,
</span><span id="13595" class="l"><a class="l" href="#13595">13595: </a>        <span class="php-quote">'AMDT'</span> =&gt; <span class="php-num">18000</span>,
</span><span id="13596" class="l"><a class="l" href="#13596">13596: </a>        <span class="php-quote">'AMT'</span> =&gt; -<span class="php-num">14400</span>,
</span><span id="13597" class="l"><a class="l" href="#13597">13597: </a>        <span class="php-quote">'ANAST'</span> =&gt; <span class="php-num">46800</span>,
</span><span id="13598" class="l"><a class="l" href="#13598">13598: </a>        <span class="php-quote">'ANAT'</span> =&gt; <span class="php-num">43200</span>,
</span><span id="13599" class="l"><a class="l" href="#13599">13599: </a>        <span class="php-quote">'ART'</span> =&gt; -<span class="php-num">10800</span>,
</span><span id="13600" class="l"><a class="l" href="#13600">13600: </a>        <span class="php-quote">'AZOST'</span> =&gt; -<span class="php-num">3600</span>,
</span><span id="13601" class="l"><a class="l" href="#13601">13601: </a>        <span class="php-quote">'AZST'</span> =&gt; <span class="php-num">18000</span>,
</span><span id="13602" class="l"><a class="l" href="#13602">13602: </a>        <span class="php-quote">'AZT'</span> =&gt; <span class="php-num">14400</span>,
</span><span id="13603" class="l"><a class="l" href="#13603">13603: </a>        <span class="php-quote">'BIOT'</span> =&gt; <span class="php-num">21600</span>,
</span><span id="13604" class="l"><a class="l" href="#13604">13604: </a>        <span class="php-quote">'BIT'</span> =&gt; -<span class="php-num">43200</span>,
</span><span id="13605" class="l"><a class="l" href="#13605">13605: </a>        <span class="php-quote">'BOT'</span> =&gt; -<span class="php-num">14400</span>,
</span><span id="13606" class="l"><a class="l" href="#13606">13606: </a>        <span class="php-quote">'BRST'</span> =&gt; -<span class="php-num">7200</span>,
</span><span id="13607" class="l"><a class="l" href="#13607">13607: </a>        <span class="php-quote">'BRT'</span> =&gt; -<span class="php-num">10800</span>,
</span><span id="13608" class="l"><a class="l" href="#13608">13608: </a>        <span class="php-quote">'BST'</span> =&gt; <span class="php-num">3600</span>,
</span><span id="13609" class="l"><a class="l" href="#13609">13609: </a>        <span class="php-quote">'BTT'</span> =&gt; <span class="php-num">21600</span>,
</span><span id="13610" class="l"><a class="l" href="#13610">13610: </a>        <span class="php-quote">'CAST'</span> =&gt; <span class="php-num">18000</span>,
</span><span id="13611" class="l"><a class="l" href="#13611">13611: </a>        <span class="php-quote">'CAT'</span> =&gt; <span class="php-num">7200</span>,
</span><span id="13612" class="l"><a class="l" href="#13612">13612: </a>        <span class="php-quote">'CCT'</span> =&gt; <span class="php-num">23400</span>,
</span><span id="13613" class="l"><a class="l" href="#13613">13613: </a>        <span class="php-quote">'CDT'</span> =&gt; -<span class="php-num">18000</span>,
</span><span id="13614" class="l"><a class="l" href="#13614">13614: </a>        <span class="php-quote">'CEDT'</span> =&gt; <span class="php-num">7200</span>,
</span><span id="13615" class="l"><a class="l" href="#13615">13615: </a>        <span class="php-quote">'CET'</span> =&gt; <span class="php-num">3600</span>,
</span><span id="13616" class="l"><a class="l" href="#13616">13616: </a>        <span class="php-quote">'CGST'</span> =&gt; -<span class="php-num">7200</span>,
</span><span id="13617" class="l"><a class="l" href="#13617">13617: </a>        <span class="php-quote">'CGT'</span> =&gt; -<span class="php-num">10800</span>,
</span><span id="13618" class="l"><a class="l" href="#13618">13618: </a>        <span class="php-quote">'CHADT'</span> =&gt; <span class="php-num">49500</span>,
</span><span id="13619" class="l"><a class="l" href="#13619">13619: </a>        <span class="php-quote">'CHAST'</span> =&gt; <span class="php-num">45900</span>,
</span><span id="13620" class="l"><a class="l" href="#13620">13620: </a>        <span class="php-quote">'CIST'</span> =&gt; -<span class="php-num">28800</span>,
</span><span id="13621" class="l"><a class="l" href="#13621">13621: </a>        <span class="php-quote">'CKT'</span> =&gt; -<span class="php-num">36000</span>,
</span><span id="13622" class="l"><a class="l" href="#13622">13622: </a>        <span class="php-quote">'CLDT'</span> =&gt; -<span class="php-num">10800</span>,
</span><span id="13623" class="l"><a class="l" href="#13623">13623: </a>        <span class="php-quote">'CLST'</span> =&gt; -<span class="php-num">14400</span>,
</span><span id="13624" class="l"><a class="l" href="#13624">13624: </a>        <span class="php-quote">'COT'</span> =&gt; -<span class="php-num">18000</span>,
</span><span id="13625" class="l"><a class="l" href="#13625">13625: </a>        <span class="php-quote">'CST'</span> =&gt; -<span class="php-num">21600</span>,
</span><span id="13626" class="l"><a class="l" href="#13626">13626: </a>        <span class="php-quote">'CVT'</span> =&gt; -<span class="php-num">3600</span>,
</span><span id="13627" class="l"><a class="l" href="#13627">13627: </a>        <span class="php-quote">'CXT'</span> =&gt; <span class="php-num">25200</span>,
</span><span id="13628" class="l"><a class="l" href="#13628">13628: </a>        <span class="php-quote">'DAVT'</span> =&gt; <span class="php-num">25200</span>,
</span><span id="13629" class="l"><a class="l" href="#13629">13629: </a>        <span class="php-quote">'DTAT'</span> =&gt; <span class="php-num">36000</span>,
</span><span id="13630" class="l"><a class="l" href="#13630">13630: </a>        <span class="php-quote">'EADT'</span> =&gt; -<span class="php-num">18000</span>,
</span><span id="13631" class="l"><a class="l" href="#13631">13631: </a>        <span class="php-quote">'EAST'</span> =&gt; -<span class="php-num">21600</span>,
</span><span id="13632" class="l"><a class="l" href="#13632">13632: </a>        <span class="php-quote">'EAT'</span> =&gt; <span class="php-num">10800</span>,
</span><span id="13633" class="l"><a class="l" href="#13633">13633: </a>        <span class="php-quote">'ECT'</span> =&gt; -<span class="php-num">18000</span>,
</span><span id="13634" class="l"><a class="l" href="#13634">13634: </a>        <span class="php-quote">'EDT'</span> =&gt; -<span class="php-num">14400</span>,
</span><span id="13635" class="l"><a class="l" href="#13635">13635: </a>        <span class="php-quote">'EEST'</span> =&gt; <span class="php-num">10800</span>,
</span><span id="13636" class="l"><a class="l" href="#13636">13636: </a>        <span class="php-quote">'EET'</span> =&gt; <span class="php-num">7200</span>,
</span><span id="13637" class="l"><a class="l" href="#13637">13637: </a>        <span class="php-quote">'EGT'</span> =&gt; -<span class="php-num">3600</span>,
</span><span id="13638" class="l"><a class="l" href="#13638">13638: </a>        <span class="php-quote">'EKST'</span> =&gt; <span class="php-num">21600</span>,
</span><span id="13639" class="l"><a class="l" href="#13639">13639: </a>        <span class="php-quote">'EST'</span> =&gt; -<span class="php-num">18000</span>,
</span><span id="13640" class="l"><a class="l" href="#13640">13640: </a>        <span class="php-quote">'FJT'</span> =&gt; <span class="php-num">43200</span>,
</span><span id="13641" class="l"><a class="l" href="#13641">13641: </a>        <span class="php-quote">'FKDT'</span> =&gt; -<span class="php-num">10800</span>,
</span><span id="13642" class="l"><a class="l" href="#13642">13642: </a>        <span class="php-quote">'FKST'</span> =&gt; -<span class="php-num">14400</span>,
</span><span id="13643" class="l"><a class="l" href="#13643">13643: </a>        <span class="php-quote">'FNT'</span> =&gt; -<span class="php-num">7200</span>,
</span><span id="13644" class="l"><a class="l" href="#13644">13644: </a>        <span class="php-quote">'GALT'</span> =&gt; -<span class="php-num">21600</span>,
</span><span id="13645" class="l"><a class="l" href="#13645">13645: </a>        <span class="php-quote">'GEDT'</span> =&gt; <span class="php-num">14400</span>,
</span><span id="13646" class="l"><a class="l" href="#13646">13646: </a>        <span class="php-quote">'GEST'</span> =&gt; <span class="php-num">10800</span>,
</span><span id="13647" class="l"><a class="l" href="#13647">13647: </a>        <span class="php-quote">'GFT'</span> =&gt; -<span class="php-num">10800</span>,
</span><span id="13648" class="l"><a class="l" href="#13648">13648: </a>        <span class="php-quote">'GILT'</span> =&gt; <span class="php-num">43200</span>,
</span><span id="13649" class="l"><a class="l" href="#13649">13649: </a>        <span class="php-quote">'GIT'</span> =&gt; -<span class="php-num">32400</span>,
</span><span id="13650" class="l"><a class="l" href="#13650">13650: </a>        <span class="php-quote">'GST'</span> =&gt; <span class="php-num">14400</span>,
</span><span id="13651" class="l"><a class="l" href="#13651">13651: </a>        <span class="php-quote">'GST'</span> =&gt; -<span class="php-num">7200</span>,
</span><span id="13652" class="l"><a class="l" href="#13652">13652: </a>        <span class="php-quote">'GYT'</span> =&gt; -<span class="php-num">14400</span>,
</span><span id="13653" class="l"><a class="l" href="#13653">13653: </a>        <span class="php-quote">'HAA'</span> =&gt; -<span class="php-num">10800</span>,
</span><span id="13654" class="l"><a class="l" href="#13654">13654: </a>        <span class="php-quote">'HAC'</span> =&gt; -<span class="php-num">18000</span>,
</span><span id="13655" class="l"><a class="l" href="#13655">13655: </a>        <span class="php-quote">'HADT'</span> =&gt; -<span class="php-num">32400</span>,
</span><span id="13656" class="l"><a class="l" href="#13656">13656: </a>        <span class="php-quote">'HAE'</span> =&gt; -<span class="php-num">14400</span>,
</span><span id="13657" class="l"><a class="l" href="#13657">13657: </a>        <span class="php-quote">'HAP'</span> =&gt; -<span class="php-num">25200</span>,
</span><span id="13658" class="l"><a class="l" href="#13658">13658: </a>        <span class="php-quote">'HAR'</span> =&gt; -<span class="php-num">21600</span>,
</span><span id="13659" class="l"><a class="l" href="#13659">13659: </a>        <span class="php-quote">'HAST'</span> =&gt; -<span class="php-num">36000</span>,
</span><span id="13660" class="l"><a class="l" href="#13660">13660: </a>        <span class="php-quote">'HAT'</span> =&gt; -<span class="php-num">9000</span>,
</span><span id="13661" class="l"><a class="l" href="#13661">13661: </a>        <span class="php-quote">'HAY'</span> =&gt; -<span class="php-num">28800</span>,
</span><span id="13662" class="l"><a class="l" href="#13662">13662: </a>        <span class="php-quote">'HKST'</span> =&gt; <span class="php-num">28800</span>,
</span><span id="13663" class="l"><a class="l" href="#13663">13663: </a>        <span class="php-quote">'HMT'</span> =&gt; <span class="php-num">18000</span>,
</span><span id="13664" class="l"><a class="l" href="#13664">13664: </a>        <span class="php-quote">'HNA'</span> =&gt; -<span class="php-num">14400</span>,
</span><span id="13665" class="l"><a class="l" href="#13665">13665: </a>        <span class="php-quote">'HNC'</span> =&gt; -<span class="php-num">21600</span>,
</span><span id="13666" class="l"><a class="l" href="#13666">13666: </a>        <span class="php-quote">'HNE'</span> =&gt; -<span class="php-num">18000</span>,
</span><span id="13667" class="l"><a class="l" href="#13667">13667: </a>        <span class="php-quote">'HNP'</span> =&gt; -<span class="php-num">28800</span>,
</span><span id="13668" class="l"><a class="l" href="#13668">13668: </a>        <span class="php-quote">'HNR'</span> =&gt; -<span class="php-num">25200</span>,
</span><span id="13669" class="l"><a class="l" href="#13669">13669: </a>        <span class="php-quote">'HNT'</span> =&gt; -<span class="php-num">12600</span>,
</span><span id="13670" class="l"><a class="l" href="#13670">13670: </a>        <span class="php-quote">'HNY'</span> =&gt; -<span class="php-num">32400</span>,
</span><span id="13671" class="l"><a class="l" href="#13671">13671: </a>        <span class="php-quote">'IRDT'</span> =&gt; <span class="php-num">16200</span>,
</span><span id="13672" class="l"><a class="l" href="#13672">13672: </a>        <span class="php-quote">'IRKST'</span> =&gt; <span class="php-num">32400</span>,
</span><span id="13673" class="l"><a class="l" href="#13673">13673: </a>        <span class="php-quote">'IRKT'</span> =&gt; <span class="php-num">28800</span>,
</span><span id="13674" class="l"><a class="l" href="#13674">13674: </a>        <span class="php-quote">'IRST'</span> =&gt; <span class="php-num">12600</span>,
</span><span id="13675" class="l"><a class="l" href="#13675">13675: </a>        <span class="php-quote">'JFDT'</span> =&gt; -<span class="php-num">10800</span>,
</span><span id="13676" class="l"><a class="l" href="#13676">13676: </a>        <span class="php-quote">'JFST'</span> =&gt; -<span class="php-num">14400</span>,
</span><span id="13677" class="l"><a class="l" href="#13677">13677: </a>        <span class="php-quote">'JST'</span> =&gt; <span class="php-num">32400</span>,
</span><span id="13678" class="l"><a class="l" href="#13678">13678: </a>        <span class="php-quote">'KGST'</span> =&gt; <span class="php-num">21600</span>,
</span><span id="13679" class="l"><a class="l" href="#13679">13679: </a>        <span class="php-quote">'KGT'</span> =&gt; <span class="php-num">18000</span>,
</span><span id="13680" class="l"><a class="l" href="#13680">13680: </a>        <span class="php-quote">'KOST'</span> =&gt; <span class="php-num">39600</span>,
</span><span id="13681" class="l"><a class="l" href="#13681">13681: </a>        <span class="php-quote">'KOVST'</span> =&gt; <span class="php-num">28800</span>,
</span><span id="13682" class="l"><a class="l" href="#13682">13682: </a>        <span class="php-quote">'KOVT'</span> =&gt; <span class="php-num">25200</span>,
</span><span id="13683" class="l"><a class="l" href="#13683">13683: </a>        <span class="php-quote">'KRAST'</span> =&gt; <span class="php-num">28800</span>,
</span><span id="13684" class="l"><a class="l" href="#13684">13684: </a>        <span class="php-quote">'KRAT'</span> =&gt; <span class="php-num">25200</span>,
</span><span id="13685" class="l"><a class="l" href="#13685">13685: </a>        <span class="php-quote">'KST'</span> =&gt; <span class="php-num">32400</span>,
</span><span id="13686" class="l"><a class="l" href="#13686">13686: </a>        <span class="php-quote">'LHDT'</span> =&gt; <span class="php-num">39600</span>,
</span><span id="13687" class="l"><a class="l" href="#13687">13687: </a>        <span class="php-quote">'LHST'</span> =&gt; <span class="php-num">37800</span>,
</span><span id="13688" class="l"><a class="l" href="#13688">13688: </a>        <span class="php-quote">'LINT'</span> =&gt; <span class="php-num">50400</span>,
</span><span id="13689" class="l"><a class="l" href="#13689">13689: </a>        <span class="php-quote">'LKT'</span> =&gt; <span class="php-num">21600</span>,
</span><span id="13690" class="l"><a class="l" href="#13690">13690: </a>        <span class="php-quote">'MAGST'</span> =&gt; <span class="php-num">43200</span>,
</span><span id="13691" class="l"><a class="l" href="#13691">13691: </a>        <span class="php-quote">'MAGT'</span> =&gt; <span class="php-num">39600</span>,
</span><span id="13692" class="l"><a class="l" href="#13692">13692: </a>        <span class="php-quote">'MAWT'</span> =&gt; <span class="php-num">21600</span>,
</span><span id="13693" class="l"><a class="l" href="#13693">13693: </a>        <span class="php-quote">'MDT'</span> =&gt; -<span class="php-num">21600</span>,
</span><span id="13694" class="l"><a class="l" href="#13694">13694: </a>        <span class="php-quote">'MESZ'</span> =&gt; <span class="php-num">7200</span>,
</span><span id="13695" class="l"><a class="l" href="#13695">13695: </a>        <span class="php-quote">'MEZ'</span> =&gt; <span class="php-num">3600</span>,
</span><span id="13696" class="l"><a class="l" href="#13696">13696: </a>        <span class="php-quote">'MHT'</span> =&gt; <span class="php-num">43200</span>,
</span><span id="13697" class="l"><a class="l" href="#13697">13697: </a>        <span class="php-quote">'MIT'</span> =&gt; -<span class="php-num">34200</span>,
</span><span id="13698" class="l"><a class="l" href="#13698">13698: </a>        <span class="php-quote">'MNST'</span> =&gt; <span class="php-num">32400</span>,
</span><span id="13699" class="l"><a class="l" href="#13699">13699: </a>        <span class="php-quote">'MSDT'</span> =&gt; <span class="php-num">14400</span>,
</span><span id="13700" class="l"><a class="l" href="#13700">13700: </a>        <span class="php-quote">'MSST'</span> =&gt; <span class="php-num">10800</span>,
</span><span id="13701" class="l"><a class="l" href="#13701">13701: </a>        <span class="php-quote">'MST'</span> =&gt; -<span class="php-num">25200</span>,
</span><span id="13702" class="l"><a class="l" href="#13702">13702: </a>        <span class="php-quote">'MUT'</span> =&gt; <span class="php-num">14400</span>,
</span><span id="13703" class="l"><a class="l" href="#13703">13703: </a>        <span class="php-quote">'MVT'</span> =&gt; <span class="php-num">18000</span>,
</span><span id="13704" class="l"><a class="l" href="#13704">13704: </a>        <span class="php-quote">'MYT'</span> =&gt; <span class="php-num">28800</span>,
</span><span id="13705" class="l"><a class="l" href="#13705">13705: </a>        <span class="php-quote">'NCT'</span> =&gt; <span class="php-num">39600</span>,
</span><span id="13706" class="l"><a class="l" href="#13706">13706: </a>        <span class="php-quote">'NDT'</span> =&gt; -<span class="php-num">9000</span>,
</span><span id="13707" class="l"><a class="l" href="#13707">13707: </a>        <span class="php-quote">'NFT'</span> =&gt; <span class="php-num">41400</span>,
</span><span id="13708" class="l"><a class="l" href="#13708">13708: </a>        <span class="php-quote">'NMIT'</span> =&gt; <span class="php-num">36000</span>,
</span><span id="13709" class="l"><a class="l" href="#13709">13709: </a>        <span class="php-quote">'NOVST'</span> =&gt; <span class="php-num">25200</span>,
</span><span id="13710" class="l"><a class="l" href="#13710">13710: </a>        <span class="php-quote">'NOVT'</span> =&gt; <span class="php-num">21600</span>,
</span><span id="13711" class="l"><a class="l" href="#13711">13711: </a>        <span class="php-quote">'NPT'</span> =&gt; <span class="php-num">20700</span>,
</span><span id="13712" class="l"><a class="l" href="#13712">13712: </a>        <span class="php-quote">'NRT'</span> =&gt; <span class="php-num">43200</span>,
</span><span id="13713" class="l"><a class="l" href="#13713">13713: </a>        <span class="php-quote">'NST'</span> =&gt; -<span class="php-num">12600</span>,
</span><span id="13714" class="l"><a class="l" href="#13714">13714: </a>        <span class="php-quote">'NUT'</span> =&gt; -<span class="php-num">39600</span>,
</span><span id="13715" class="l"><a class="l" href="#13715">13715: </a>        <span class="php-quote">'NZDT'</span> =&gt; <span class="php-num">46800</span>,
</span><span id="13716" class="l"><a class="l" href="#13716">13716: </a>        <span class="php-quote">'NZST'</span> =&gt; <span class="php-num">43200</span>,
</span><span id="13717" class="l"><a class="l" href="#13717">13717: </a>        <span class="php-quote">'OMSST'</span> =&gt; <span class="php-num">25200</span>,
</span><span id="13718" class="l"><a class="l" href="#13718">13718: </a>        <span class="php-quote">'OMST'</span> =&gt; <span class="php-num">21600</span>,
</span><span id="13719" class="l"><a class="l" href="#13719">13719: </a>        <span class="php-quote">'PDT'</span> =&gt; -<span class="php-num">25200</span>,
</span><span id="13720" class="l"><a class="l" href="#13720">13720: </a>        <span class="php-quote">'PET'</span> =&gt; -<span class="php-num">18000</span>,
</span><span id="13721" class="l"><a class="l" href="#13721">13721: </a>        <span class="php-quote">'PETST'</span> =&gt; <span class="php-num">46800</span>,
</span><span id="13722" class="l"><a class="l" href="#13722">13722: </a>        <span class="php-quote">'PETT'</span> =&gt; <span class="php-num">43200</span>,
</span><span id="13723" class="l"><a class="l" href="#13723">13723: </a>        <span class="php-quote">'PGT'</span> =&gt; <span class="php-num">36000</span>,
</span><span id="13724" class="l"><a class="l" href="#13724">13724: </a>        <span class="php-quote">'PHOT'</span> =&gt; <span class="php-num">46800</span>,
</span><span id="13725" class="l"><a class="l" href="#13725">13725: </a>        <span class="php-quote">'PHT'</span> =&gt; <span class="php-num">28800</span>,
</span><span id="13726" class="l"><a class="l" href="#13726">13726: </a>        <span class="php-quote">'PKT'</span> =&gt; <span class="php-num">18000</span>,
</span><span id="13727" class="l"><a class="l" href="#13727">13727: </a>        <span class="php-quote">'PMDT'</span> =&gt; -<span class="php-num">7200</span>,
</span><span id="13728" class="l"><a class="l" href="#13728">13728: </a>        <span class="php-quote">'PMST'</span> =&gt; -<span class="php-num">10800</span>,
</span><span id="13729" class="l"><a class="l" href="#13729">13729: </a>        <span class="php-quote">'PONT'</span> =&gt; <span class="php-num">39600</span>,
</span><span id="13730" class="l"><a class="l" href="#13730">13730: </a>        <span class="php-quote">'PST'</span> =&gt; -<span class="php-num">28800</span>,
</span><span id="13731" class="l"><a class="l" href="#13731">13731: </a>        <span class="php-quote">'PWT'</span> =&gt; <span class="php-num">32400</span>,
</span><span id="13732" class="l"><a class="l" href="#13732">13732: </a>        <span class="php-quote">'PYST'</span> =&gt; -<span class="php-num">10800</span>,
</span><span id="13733" class="l"><a class="l" href="#13733">13733: </a>        <span class="php-quote">'PYT'</span> =&gt; -<span class="php-num">14400</span>,
</span><span id="13734" class="l"><a class="l" href="#13734">13734: </a>        <span class="php-quote">'RET'</span> =&gt; <span class="php-num">14400</span>,
</span><span id="13735" class="l"><a class="l" href="#13735">13735: </a>        <span class="php-quote">'ROTT'</span> =&gt; -<span class="php-num">10800</span>,
</span><span id="13736" class="l"><a class="l" href="#13736">13736: </a>        <span class="php-quote">'SAMST'</span> =&gt; <span class="php-num">18000</span>,
</span><span id="13737" class="l"><a class="l" href="#13737">13737: </a>        <span class="php-quote">'SAMT'</span> =&gt; <span class="php-num">14400</span>,
</span><span id="13738" class="l"><a class="l" href="#13738">13738: </a>        <span class="php-quote">'SAST'</span> =&gt; <span class="php-num">7200</span>,
</span><span id="13739" class="l"><a class="l" href="#13739">13739: </a>        <span class="php-quote">'SBT'</span> =&gt; <span class="php-num">39600</span>,
</span><span id="13740" class="l"><a class="l" href="#13740">13740: </a>        <span class="php-quote">'SCDT'</span> =&gt; <span class="php-num">46800</span>,
</span><span id="13741" class="l"><a class="l" href="#13741">13741: </a>        <span class="php-quote">'SCST'</span> =&gt; <span class="php-num">43200</span>,
</span><span id="13742" class="l"><a class="l" href="#13742">13742: </a>        <span class="php-quote">'SCT'</span> =&gt; <span class="php-num">14400</span>,
</span><span id="13743" class="l"><a class="l" href="#13743">13743: </a>        <span class="php-quote">'SEST'</span> =&gt; <span class="php-num">3600</span>,
</span><span id="13744" class="l"><a class="l" href="#13744">13744: </a>        <span class="php-quote">'SGT'</span> =&gt; <span class="php-num">28800</span>,
</span><span id="13745" class="l"><a class="l" href="#13745">13745: </a>        <span class="php-quote">'SIT'</span> =&gt; <span class="php-num">28800</span>,
</span><span id="13746" class="l"><a class="l" href="#13746">13746: </a>        <span class="php-quote">'SRT'</span> =&gt; -<span class="php-num">10800</span>,
</span><span id="13747" class="l"><a class="l" href="#13747">13747: </a>        <span class="php-quote">'SST'</span> =&gt; -<span class="php-num">39600</span>,
</span><span id="13748" class="l"><a class="l" href="#13748">13748: </a>        <span class="php-quote">'SYST'</span> =&gt; <span class="php-num">10800</span>,
</span><span id="13749" class="l"><a class="l" href="#13749">13749: </a>        <span class="php-quote">'SYT'</span> =&gt; <span class="php-num">7200</span>,
</span><span id="13750" class="l"><a class="l" href="#13750">13750: </a>        <span class="php-quote">'TFT'</span> =&gt; <span class="php-num">18000</span>,
</span><span id="13751" class="l"><a class="l" href="#13751">13751: </a>        <span class="php-quote">'THAT'</span> =&gt; -<span class="php-num">36000</span>,
</span><span id="13752" class="l"><a class="l" href="#13752">13752: </a>        <span class="php-quote">'TJT'</span> =&gt; <span class="php-num">18000</span>,
</span><span id="13753" class="l"><a class="l" href="#13753">13753: </a>        <span class="php-quote">'TKT'</span> =&gt; -<span class="php-num">36000</span>,
</span><span id="13754" class="l"><a class="l" href="#13754">13754: </a>        <span class="php-quote">'TMT'</span> =&gt; <span class="php-num">18000</span>,
</span><span id="13755" class="l"><a class="l" href="#13755">13755: </a>        <span class="php-quote">'TOT'</span> =&gt; <span class="php-num">46800</span>,
</span><span id="13756" class="l"><a class="l" href="#13756">13756: </a>        <span class="php-quote">'TPT'</span> =&gt; <span class="php-num">32400</span>,
</span><span id="13757" class="l"><a class="l" href="#13757">13757: </a>        <span class="php-quote">'TRUT'</span> =&gt; <span class="php-num">36000</span>,
</span><span id="13758" class="l"><a class="l" href="#13758">13758: </a>        <span class="php-quote">'TVT'</span> =&gt; <span class="php-num">43200</span>,
</span><span id="13759" class="l"><a class="l" href="#13759">13759: </a>        <span class="php-quote">'TWT'</span> =&gt; <span class="php-num">28800</span>,
</span><span id="13760" class="l"><a class="l" href="#13760">13760: </a>        <span class="php-quote">'UYST'</span> =&gt; -<span class="php-num">7200</span>,
</span><span id="13761" class="l"><a class="l" href="#13761">13761: </a>        <span class="php-quote">'UYT'</span> =&gt; -<span class="php-num">10800</span>,
</span><span id="13762" class="l"><a class="l" href="#13762">13762: </a>        <span class="php-quote">'UZT'</span> =&gt; <span class="php-num">18000</span>,
</span><span id="13763" class="l"><a class="l" href="#13763">13763: </a>        <span class="php-quote">'VET'</span> =&gt; -<span class="php-num">14400</span>,
</span><span id="13764" class="l"><a class="l" href="#13764">13764: </a>        <span class="php-quote">'VLAST'</span> =&gt; <span class="php-num">39600</span>,
</span><span id="13765" class="l"><a class="l" href="#13765">13765: </a>        <span class="php-quote">'VLAT'</span> =&gt; <span class="php-num">36000</span>,
</span><span id="13766" class="l"><a class="l" href="#13766">13766: </a>        <span class="php-quote">'VOST'</span> =&gt; <span class="php-num">21600</span>,
</span><span id="13767" class="l"><a class="l" href="#13767">13767: </a>        <span class="php-quote">'VUT'</span> =&gt; <span class="php-num">39600</span>,
</span><span id="13768" class="l"><a class="l" href="#13768">13768: </a>        <span class="php-quote">'WAST'</span> =&gt; <span class="php-num">7200</span>,
</span><span id="13769" class="l"><a class="l" href="#13769">13769: </a>        <span class="php-quote">'WAT'</span> =&gt; <span class="php-num">3600</span>,
</span><span id="13770" class="l"><a class="l" href="#13770">13770: </a>        <span class="php-quote">'WDT'</span> =&gt; <span class="php-num">32400</span>,
</span><span id="13771" class="l"><a class="l" href="#13771">13771: </a>        <span class="php-quote">'WEST'</span> =&gt; <span class="php-num">3600</span>,
</span><span id="13772" class="l"><a class="l" href="#13772">13772: </a>        <span class="php-quote">'WFT'</span> =&gt; <span class="php-num">43200</span>,
</span><span id="13773" class="l"><a class="l" href="#13773">13773: </a>        <span class="php-quote">'WIB'</span> =&gt; <span class="php-num">25200</span>,
</span><span id="13774" class="l"><a class="l" href="#13774">13774: </a>        <span class="php-quote">'WIT'</span> =&gt; <span class="php-num">32400</span>,
</span><span id="13775" class="l"><a class="l" href="#13775">13775: </a>        <span class="php-quote">'WITA'</span> =&gt; <span class="php-num">28800</span>,
</span><span id="13776" class="l"><a class="l" href="#13776">13776: </a>        <span class="php-quote">'WKST'</span> =&gt; <span class="php-num">18000</span>,
</span><span id="13777" class="l"><a class="l" href="#13777">13777: </a>        <span class="php-quote">'WST'</span> =&gt; <span class="php-num">28800</span>,
</span><span id="13778" class="l"><a class="l" href="#13778">13778: </a>        <span class="php-quote">'YAKST'</span> =&gt; <span class="php-num">36000</span>,
</span><span id="13779" class="l"><a class="l" href="#13779">13779: </a>        <span class="php-quote">'YAKT'</span> =&gt; <span class="php-num">32400</span>,
</span><span id="13780" class="l"><a class="l" href="#13780">13780: </a>        <span class="php-quote">'YAPT'</span> =&gt; <span class="php-num">36000</span>,
</span><span id="13781" class="l"><a class="l" href="#13781">13781: </a>        <span class="php-quote">'YEKST'</span> =&gt; <span class="php-num">21600</span>,
</span><span id="13782" class="l"><a class="l" href="#13782">13782: </a>        <span class="php-quote">'YEKT'</span> =&gt; <span class="php-num">18000</span>,
</span><span id="13783" class="l"><a class="l" href="#13783">13783: </a>    );
</span><span id="13784" class="l"><a class="l" href="#13784">13784: </a>
</span><span id="13785" class="l"><a class="l" href="#13785">13785: </a>    <span class="php-comment">/**
</span></span><span id="13786" class="l"><a class="l" href="#13786">13786: </a><span class="php-comment">     * Cached PCRE for SimplePie_Parse_Date::$day
</span></span><span id="13787" class="l"><a class="l" href="#13787">13787: </a><span class="php-comment">     *
</span></span><span id="13788" class="l"><a class="l" href="#13788">13788: </a><span class="php-comment">     * @access protected
</span></span><span id="13789" class="l"><a class="l" href="#13789">13789: </a><span class="php-comment">     * @var string
</span></span><span id="13790" class="l"><a class="l" href="#13790">13790: </a><span class="php-comment">     */</span>
</span><span id="13791" class="l"><a class="l" href="#13791">13791: </a>    <span class="php-keyword1">var</span> <span class="php-var"><a id="$day_pcre" href="#$day_pcre">$day_pcre</a></span>;
</span><span id="13792" class="l"><a class="l" href="#13792">13792: </a>
</span><span id="13793" class="l"><a class="l" href="#13793">13793: </a>    <span class="php-comment">/**
</span></span><span id="13794" class="l"><a class="l" href="#13794">13794: </a><span class="php-comment">     * Cached PCRE for SimplePie_Parse_Date::$month
</span></span><span id="13795" class="l"><a class="l" href="#13795">13795: </a><span class="php-comment">     *
</span></span><span id="13796" class="l"><a class="l" href="#13796">13796: </a><span class="php-comment">     * @access protected
</span></span><span id="13797" class="l"><a class="l" href="#13797">13797: </a><span class="php-comment">     * @var string
</span></span><span id="13798" class="l"><a class="l" href="#13798">13798: </a><span class="php-comment">     */</span>
</span><span id="13799" class="l"><a class="l" href="#13799">13799: </a>    <span class="php-keyword1">var</span> <span class="php-var"><a id="$month_pcre" href="#$month_pcre">$month_pcre</a></span>;
</span><span id="13800" class="l"><a class="l" href="#13800">13800: </a>
</span><span id="13801" class="l"><a class="l" href="#13801">13801: </a>    <span class="php-comment">/**
</span></span><span id="13802" class="l"><a class="l" href="#13802">13802: </a><span class="php-comment">     * Array of user-added callback methods
</span></span><span id="13803" class="l"><a class="l" href="#13803">13803: </a><span class="php-comment">     *
</span></span><span id="13804" class="l"><a class="l" href="#13804">13804: </a><span class="php-comment">     * @access private
</span></span><span id="13805" class="l"><a class="l" href="#13805">13805: </a><span class="php-comment">     * @var array
</span></span><span id="13806" class="l"><a class="l" href="#13806">13806: </a><span class="php-comment">     */</span>
</span><span id="13807" class="l"><a class="l" href="#13807">13807: </a>    <span class="php-keyword1">var</span> <span class="php-var"><a id="$built_in" href="#$built_in">$built_in</a></span> = <span class="php-keyword1">array</span>();
</span><span id="13808" class="l"><a class="l" href="#13808">13808: </a>
</span><span id="13809" class="l"><a class="l" href="#13809">13809: </a>    <span class="php-comment">/**
</span></span><span id="13810" class="l"><a class="l" href="#13810">13810: </a><span class="php-comment">     * Array of user-added callback methods
</span></span><span id="13811" class="l"><a class="l" href="#13811">13811: </a><span class="php-comment">     *
</span></span><span id="13812" class="l"><a class="l" href="#13812">13812: </a><span class="php-comment">     * @access private
</span></span><span id="13813" class="l"><a class="l" href="#13813">13813: </a><span class="php-comment">     * @var array
</span></span><span id="13814" class="l"><a class="l" href="#13814">13814: </a><span class="php-comment">     */</span>
</span><span id="13815" class="l"><a class="l" href="#13815">13815: </a>    <span class="php-keyword1">var</span> <span class="php-var"><a id="$user" href="#$user">$user</a></span> = <span class="php-keyword1">array</span>();
</span><span id="13816" class="l"><a class="l" href="#13816">13816: </a>
</span><span id="13817" class="l"><a class="l" href="#13817">13817: </a>    <span class="php-comment">/**
</span></span><span id="13818" class="l"><a class="l" href="#13818">13818: </a><span class="php-comment">     * Create new SimplePie_Parse_Date object, and set self::day_pcre,
</span></span><span id="13819" class="l"><a class="l" href="#13819">13819: </a><span class="php-comment">     * self::month_pcre, and self::built_in
</span></span><span id="13820" class="l"><a class="l" href="#13820">13820: </a><span class="php-comment">     *
</span></span><span id="13821" class="l"><a class="l" href="#13821">13821: </a><span class="php-comment">     * @access private
</span></span><span id="13822" class="l"><a class="l" href="#13822">13822: </a><span class="php-comment">     */</span>
</span><span id="13823" class="l"><a class="l" href="#13823">13823: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="___construct" href="#___construct">__construct</a>()
</span><span id="13824" class="l"><a class="l" href="#13824">13824: </a>    {
</span><span id="13825" class="l"><a class="l" href="#13825">13825: </a>        <span class="php-var">$this</span>-&gt;day_pcre = <span class="php-quote">'('</span> . <span class="php-keyword2">implode</span>(<span class="php-keyword2">array_keys</span>(<span class="php-var">$this</span>-&gt;day), <span class="php-quote">'|'</span>) . <span class="php-quote">')'</span>;
</span><span id="13826" class="l"><a class="l" href="#13826">13826: </a>        <span class="php-var">$this</span>-&gt;month_pcre = <span class="php-quote">'('</span> . <span class="php-keyword2">implode</span>(<span class="php-keyword2">array_keys</span>(<span class="php-var">$this</span>-&gt;month), <span class="php-quote">'|'</span>) . <span class="php-quote">')'</span>;
</span><span id="13827" class="l"><a class="l" href="#13827">13827: </a>
</span><span id="13828" class="l"><a class="l" href="#13828">13828: </a>        <span class="php-keyword1">static</span> <span class="php-var"><a id="$cache" href="#$cache">$cache</a></span>;
</span><span id="13829" class="l"><a class="l" href="#13829">13829: </a>        <span class="php-keyword1">if</span> (!<span class="php-keyword1">isset</span>(<span class="php-var">$cache</span>[<span class="php-keyword2">get_class</span>(<span class="php-var">$this</span>)]))
</span><span id="13830" class="l"><a class="l" href="#13830">13830: </a>        {
</span><span id="13831" class="l"><a class="l" href="#13831">13831: </a>            <span class="php-var">$all_methods</span> = <span class="php-keyword2">get_class_methods</span>(<span class="php-var">$this</span>);
</span><span id="13832" class="l"><a class="l" href="#13832">13832: </a>
</span><span id="13833" class="l"><a class="l" href="#13833">13833: </a>            <span class="php-keyword1">foreach</span> (<span class="php-var">$all_methods</span> <span class="php-keyword1">as</span> <span class="php-var">$method</span>)
</span><span id="13834" class="l"><a class="l" href="#13834">13834: </a>            {
</span><span id="13835" class="l"><a class="l" href="#13835">13835: </a>                <span class="php-keyword1">if</span> (<span class="php-keyword2">strtolower</span>(<span class="php-keyword2">substr</span>(<span class="php-var">$method</span>, <span class="php-num">0</span>, <span class="php-num">5</span>)) === <span class="php-quote">'date_'</span>)
</span><span id="13836" class="l"><a class="l" href="#13836">13836: </a>                {
</span><span id="13837" class="l"><a class="l" href="#13837">13837: </a>                    <span class="php-var">$cache</span>[<span class="php-keyword2">get_class</span>(<span class="php-var">$this</span>)][] = <span class="php-var">$method</span>;
</span><span id="13838" class="l"><a class="l" href="#13838">13838: </a>                }
</span><span id="13839" class="l"><a class="l" href="#13839">13839: </a>            }
</span><span id="13840" class="l"><a class="l" href="#13840">13840: </a>        }
</span><span id="13841" class="l"><a class="l" href="#13841">13841: </a>
</span><span id="13842" class="l"><a class="l" href="#13842">13842: </a>        <span class="php-keyword1">foreach</span> (<span class="php-var">$cache</span>[<span class="php-keyword2">get_class</span>(<span class="php-var">$this</span>)] <span class="php-keyword1">as</span> <span class="php-var">$method</span>)
</span><span id="13843" class="l"><a class="l" href="#13843">13843: </a>        {
</span><span id="13844" class="l"><a class="l" href="#13844">13844: </a>            <span class="php-var">$this</span>-&gt;built_in[] = <span class="php-var">$method</span>;
</span><span id="13845" class="l"><a class="l" href="#13845">13845: </a>        }
</span><span id="13846" class="l"><a class="l" href="#13846">13846: </a>    }
</span><span id="13847" class="l"><a class="l" href="#13847">13847: </a>
</span><span id="13848" class="l"><a class="l" href="#13848">13848: </a>    <span class="php-comment">/**
</span></span><span id="13849" class="l"><a class="l" href="#13849">13849: </a><span class="php-comment">     * Get the object
</span></span><span id="13850" class="l"><a class="l" href="#13850">13850: </a><span class="php-comment">     *
</span></span><span id="13851" class="l"><a class="l" href="#13851">13851: </a><span class="php-comment">     * @access public
</span></span><span id="13852" class="l"><a class="l" href="#13852">13852: </a><span class="php-comment">     */</span>
</span><span id="13853" class="l"><a class="l" href="#13853">13853: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">static</span> <span class="php-keyword1">function</span> <a id="_get" href="#_get">get</a>()
</span><span id="13854" class="l"><a class="l" href="#13854">13854: </a>    {
</span><span id="13855" class="l"><a class="l" href="#13855">13855: </a>        <span class="php-keyword1">static</span> <span class="php-var"><a id="$object" href="#$object">$object</a></span>;
</span><span id="13856" class="l"><a class="l" href="#13856">13856: </a>        <span class="php-keyword1">if</span> (!<span class="php-var">$object</span>)
</span><span id="13857" class="l"><a class="l" href="#13857">13857: </a>        {
</span><span id="13858" class="l"><a class="l" href="#13858">13858: </a>            <span class="php-var">$object</span> = <span class="php-keyword1">new</span> SimplePie_Parse_Date;
</span><span id="13859" class="l"><a class="l" href="#13859">13859: </a>        }
</span><span id="13860" class="l"><a class="l" href="#13860">13860: </a>        <span class="php-keyword1">return</span> <span class="php-var">$object</span>;
</span><span id="13861" class="l"><a class="l" href="#13861">13861: </a>    }
</span><span id="13862" class="l"><a class="l" href="#13862">13862: </a>
</span><span id="13863" class="l"><a class="l" href="#13863">13863: </a>    <span class="php-comment">/**
</span></span><span id="13864" class="l"><a class="l" href="#13864">13864: </a><span class="php-comment">     * Parse a date
</span></span><span id="13865" class="l"><a class="l" href="#13865">13865: </a><span class="php-comment">     *
</span></span><span id="13866" class="l"><a class="l" href="#13866">13866: </a><span class="php-comment">     * @final
</span></span><span id="13867" class="l"><a class="l" href="#13867">13867: </a><span class="php-comment">     * @access public
</span></span><span id="13868" class="l"><a class="l" href="#13868">13868: </a><span class="php-comment">     * @param string $date Date to parse
</span></span><span id="13869" class="l"><a class="l" href="#13869">13869: </a><span class="php-comment">     * @return int Timestamp corresponding to date string, or false on failure
</span></span><span id="13870" class="l"><a class="l" href="#13870">13870: </a><span class="php-comment">     */</span>
</span><span id="13871" class="l"><a class="l" href="#13871">13871: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_parse" href="#_parse">parse</a>(<span class="php-var">$date</span>)
</span><span id="13872" class="l"><a class="l" href="#13872">13872: </a>    {
</span><span id="13873" class="l"><a class="l" href="#13873">13873: </a>        <span class="php-keyword1">foreach</span> (<span class="php-var">$this</span>-&gt;user <span class="php-keyword1">as</span> <span class="php-var">$method</span>)
</span><span id="13874" class="l"><a class="l" href="#13874">13874: </a>        {
</span><span id="13875" class="l"><a class="l" href="#13875">13875: </a>            <span class="php-keyword1">if</span> ((<span class="php-var">$returned</span> = <span class="php-keyword2">call_user_func</span>(<span class="php-var">$method</span>, <span class="php-var">$date</span>)) !== <span class="php-keyword1">false</span>)
</span><span id="13876" class="l"><a class="l" href="#13876">13876: </a>            {
</span><span id="13877" class="l"><a class="l" href="#13877">13877: </a>                <span class="php-keyword1">return</span> <span class="php-var">$returned</span>;
</span><span id="13878" class="l"><a class="l" href="#13878">13878: </a>            }
</span><span id="13879" class="l"><a class="l" href="#13879">13879: </a>        }
</span><span id="13880" class="l"><a class="l" href="#13880">13880: </a>
</span><span id="13881" class="l"><a class="l" href="#13881">13881: </a>        <span class="php-keyword1">foreach</span> (<span class="php-var">$this</span>-&gt;built_in <span class="php-keyword1">as</span> <span class="php-var">$method</span>)
</span><span id="13882" class="l"><a class="l" href="#13882">13882: </a>        {
</span><span id="13883" class="l"><a class="l" href="#13883">13883: </a>            <span class="php-keyword1">if</span> ((<span class="php-var">$returned</span> = <span class="php-keyword2">call_user_func</span>(<span class="php-keyword1">array</span>(&amp;<span class="php-var">$this</span>, <span class="php-var">$method</span>), <span class="php-var">$date</span>)) !== <span class="php-keyword1">false</span>)
</span><span id="13884" class="l"><a class="l" href="#13884">13884: </a>            {
</span><span id="13885" class="l"><a class="l" href="#13885">13885: </a>                <span class="php-keyword1">return</span> <span class="php-var">$returned</span>;
</span><span id="13886" class="l"><a class="l" href="#13886">13886: </a>            }
</span><span id="13887" class="l"><a class="l" href="#13887">13887: </a>        }
</span><span id="13888" class="l"><a class="l" href="#13888">13888: </a>
</span><span id="13889" class="l"><a class="l" href="#13889">13889: </a>        <span class="php-keyword1">return</span> <span class="php-keyword1">false</span>;
</span><span id="13890" class="l"><a class="l" href="#13890">13890: </a>    }
</span><span id="13891" class="l"><a class="l" href="#13891">13891: </a>
</span><span id="13892" class="l"><a class="l" href="#13892">13892: </a>    <span class="php-comment">/**
</span></span><span id="13893" class="l"><a class="l" href="#13893">13893: </a><span class="php-comment">     * Add a callback method to parse a date
</span></span><span id="13894" class="l"><a class="l" href="#13894">13894: </a><span class="php-comment">     *
</span></span><span id="13895" class="l"><a class="l" href="#13895">13895: </a><span class="php-comment">     * @final
</span></span><span id="13896" class="l"><a class="l" href="#13896">13896: </a><span class="php-comment">     * @access public
</span></span><span id="13897" class="l"><a class="l" href="#13897">13897: </a><span class="php-comment">     * @param callback $callback
</span></span><span id="13898" class="l"><a class="l" href="#13898">13898: </a><span class="php-comment">     */</span>
</span><span id="13899" class="l"><a class="l" href="#13899">13899: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_add_callback" href="#_add_callback">add_callback</a>(<span class="php-var">$callback</span>)
</span><span id="13900" class="l"><a class="l" href="#13900">13900: </a>    {
</span><span id="13901" class="l"><a class="l" href="#13901">13901: </a>        <span class="php-keyword1">if</span> (<span class="php-keyword2">is_callable</span>(<span class="php-var">$callback</span>))
</span><span id="13902" class="l"><a class="l" href="#13902">13902: </a>        {
</span><span id="13903" class="l"><a class="l" href="#13903">13903: </a>            <span class="php-var">$this</span>-&gt;user[] = <span class="php-var">$callback</span>;
</span><span id="13904" class="l"><a class="l" href="#13904">13904: </a>        }
</span><span id="13905" class="l"><a class="l" href="#13905">13905: </a>        <span class="php-keyword1">else</span>
</span><span id="13906" class="l"><a class="l" href="#13906">13906: </a>        {
</span><span id="13907" class="l"><a class="l" href="#13907">13907: </a>            <span class="php-keyword2">trigger_error</span>(<span class="php-quote">'User-supplied function must be a valid callback'</span>, E_USER_WARNING);
</span><span id="13908" class="l"><a class="l" href="#13908">13908: </a>        }
</span><span id="13909" class="l"><a class="l" href="#13909">13909: </a>    }
</span><span id="13910" class="l"><a class="l" href="#13910">13910: </a>
</span><span id="13911" class="l"><a class="l" href="#13911">13911: </a>    <span class="php-comment">/**
</span></span><span id="13912" class="l"><a class="l" href="#13912">13912: </a><span class="php-comment">     * Parse a superset of W3C-DTF (allows hyphens and colons to be omitted, as
</span></span><span id="13913" class="l"><a class="l" href="#13913">13913: </a><span class="php-comment">     * well as allowing any of upper or lower case &quot;T&quot;, horizontal tabs, or
</span></span><span id="13914" class="l"><a class="l" href="#13914">13914: </a><span class="php-comment">     * spaces to be used as the time seperator (including more than one))
</span></span><span id="13915" class="l"><a class="l" href="#13915">13915: </a><span class="php-comment">     *
</span></span><span id="13916" class="l"><a class="l" href="#13916">13916: </a><span class="php-comment">     * @access protected
</span></span><span id="13917" class="l"><a class="l" href="#13917">13917: </a><span class="php-comment">     * @return int Timestamp
</span></span><span id="13918" class="l"><a class="l" href="#13918">13918: </a><span class="php-comment">     */</span>
</span><span id="13919" class="l"><a class="l" href="#13919">13919: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_date_w3cdtf" href="#_date_w3cdtf">date_w3cdtf</a>(<span class="php-var">$date</span>)
</span><span id="13920" class="l"><a class="l" href="#13920">13920: </a>    {
</span><span id="13921" class="l"><a class="l" href="#13921">13921: </a>        <span class="php-keyword1">static</span> <span class="php-var"><a id="$pcre" href="#$pcre">$pcre</a></span>;
</span><span id="13922" class="l"><a class="l" href="#13922">13922: </a>        <span class="php-keyword1">if</span> (!<span class="php-var">$pcre</span>)
</span><span id="13923" class="l"><a class="l" href="#13923">13923: </a>        {
</span><span id="13924" class="l"><a class="l" href="#13924">13924: </a>            <span class="php-var">$year</span> = <span class="php-quote">'([0-9]{4})'</span>;
</span><span id="13925" class="l"><a class="l" href="#13925">13925: </a>            <span class="php-var">$month</span> = <span class="php-var">$day</span> = <span class="php-var">$hour</span> = <span class="php-var">$minute</span> = <span class="php-var">$second</span> = <span class="php-quote">'([0-9]{2})'</span>;
</span><span id="13926" class="l"><a class="l" href="#13926">13926: </a>            <span class="php-var">$decimal</span> = <span class="php-quote">'([0-9]*)'</span>;
</span><span id="13927" class="l"><a class="l" href="#13927">13927: </a>            <span class="php-var">$zone</span> = <span class="php-quote">'(?:(Z)|([+\-])([0-9]{1,2}):?([0-9]{1,2}))'</span>;
</span><span id="13928" class="l"><a class="l" href="#13928">13928: </a>            <span class="php-var">$pcre</span> = <span class="php-quote">'/^'</span> . <span class="php-var">$year</span> . <span class="php-quote">'(?:-?'</span> . <span class="php-var">$month</span> . <span class="php-quote">'(?:-?'</span> . <span class="php-var">$day</span> . <span class="php-quote">'(?:[Tt\x09\x20]+'</span> . <span class="php-var">$hour</span> . <span class="php-quote">'(?::?'</span> . <span class="php-var">$minute</span> . <span class="php-quote">'(?::?'</span> . <span class="php-var">$second</span> . <span class="php-quote">'(?:.'</span> . <span class="php-var">$decimal</span> . <span class="php-quote">')?)?)?'</span> . <span class="php-var">$zone</span> . <span class="php-quote">')?)?)?$/'</span>;
</span><span id="13929" class="l"><a class="l" href="#13929">13929: </a>        }
</span><span id="13930" class="l"><a class="l" href="#13930">13930: </a>        <span class="php-keyword1">if</span> (<span class="php-keyword2">preg_match</span>(<span class="php-var">$pcre</span>, <span class="php-var">$date</span>, <span class="php-var">$match</span>))
</span><span id="13931" class="l"><a class="l" href="#13931">13931: </a>        {
</span><span id="13932" class="l"><a class="l" href="#13932">13932: </a>            <span class="php-comment">/*
</span></span><span id="13933" class="l"><a class="l" href="#13933">13933: </a><span class="php-comment">            Capturing subpatterns:
</span></span><span id="13934" class="l"><a class="l" href="#13934">13934: </a><span class="php-comment">            1: Year
</span></span><span id="13935" class="l"><a class="l" href="#13935">13935: </a><span class="php-comment">            2: Month
</span></span><span id="13936" class="l"><a class="l" href="#13936">13936: </a><span class="php-comment">            3: Day
</span></span><span id="13937" class="l"><a class="l" href="#13937">13937: </a><span class="php-comment">            4: Hour
</span></span><span id="13938" class="l"><a class="l" href="#13938">13938: </a><span class="php-comment">            5: Minute
</span></span><span id="13939" class="l"><a class="l" href="#13939">13939: </a><span class="php-comment">            6: Second
</span></span><span id="13940" class="l"><a class="l" href="#13940">13940: </a><span class="php-comment">            7: Decimal fraction of a second
</span></span><span id="13941" class="l"><a class="l" href="#13941">13941: </a><span class="php-comment">            8: Zulu
</span></span><span id="13942" class="l"><a class="l" href="#13942">13942: </a><span class="php-comment">            9: Timezone 
</span></span><span id="13943" class="l"><a class="l" href="#13943">13943: </a><span class="php-comment">            10: Timezone hours
</span></span><span id="13944" class="l"><a class="l" href="#13944">13944: </a><span class="php-comment">            11: Timezone minutes
</span></span><span id="13945" class="l"><a class="l" href="#13945">13945: </a><span class="php-comment">            */</span>
</span><span id="13946" class="l"><a class="l" href="#13946">13946: </a>
</span><span id="13947" class="l"><a class="l" href="#13947">13947: </a>            <span class="php-comment">// Fill in empty matches</span>
</span><span id="13948" class="l"><a class="l" href="#13948">13948: </a>            <span class="php-keyword1">for</span> (<span class="php-var">$i</span> = <span class="php-keyword2">count</span>(<span class="php-var">$match</span>); <span class="php-var">$i</span> &lt;= <span class="php-num">3</span>; <span class="php-var">$i</span>++)
</span><span id="13949" class="l"><a class="l" href="#13949">13949: </a>            {
</span><span id="13950" class="l"><a class="l" href="#13950">13950: </a>                <span class="php-var">$match</span>[<span class="php-var">$i</span>] = <span class="php-quote">'1'</span>;
</span><span id="13951" class="l"><a class="l" href="#13951">13951: </a>            }
</span><span id="13952" class="l"><a class="l" href="#13952">13952: </a>
</span><span id="13953" class="l"><a class="l" href="#13953">13953: </a>            <span class="php-keyword1">for</span> (<span class="php-var">$i</span> = <span class="php-keyword2">count</span>(<span class="php-var">$match</span>); <span class="php-var">$i</span> &lt;= <span class="php-num">7</span>; <span class="php-var">$i</span>++)
</span><span id="13954" class="l"><a class="l" href="#13954">13954: </a>            {
</span><span id="13955" class="l"><a class="l" href="#13955">13955: </a>                <span class="php-var">$match</span>[<span class="php-var">$i</span>] = <span class="php-quote">'0'</span>;
</span><span id="13956" class="l"><a class="l" href="#13956">13956: </a>            }
</span><span id="13957" class="l"><a class="l" href="#13957">13957: </a>
</span><span id="13958" class="l"><a class="l" href="#13958">13958: </a>            <span class="php-comment">// Numeric timezone</span>
</span><span id="13959" class="l"><a class="l" href="#13959">13959: </a>            <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$match</span>[<span class="php-num">9</span>]) &amp;&amp; <span class="php-var">$match</span>[<span class="php-num">9</span>] !== <span class="php-quote">''</span>)
</span><span id="13960" class="l"><a class="l" href="#13960">13960: </a>            {
</span><span id="13961" class="l"><a class="l" href="#13961">13961: </a>                <span class="php-var">$timezone</span> = <span class="php-var">$match</span>[<span class="php-num">10</span>] * <span class="php-num">3600</span>;
</span><span id="13962" class="l"><a class="l" href="#13962">13962: </a>                <span class="php-var">$timezone</span> += <span class="php-var">$match</span>[<span class="php-num">11</span>] * <span class="php-num">60</span>;
</span><span id="13963" class="l"><a class="l" href="#13963">13963: </a>                <span class="php-keyword1">if</span> (<span class="php-var">$match</span>[<span class="php-num">9</span>] === <span class="php-quote">'-'</span>)
</span><span id="13964" class="l"><a class="l" href="#13964">13964: </a>                {
</span><span id="13965" class="l"><a class="l" href="#13965">13965: </a>                    <span class="php-var">$timezone</span> = <span class="php-num">0</span> - <span class="php-var">$timezone</span>;
</span><span id="13966" class="l"><a class="l" href="#13966">13966: </a>                }
</span><span id="13967" class="l"><a class="l" href="#13967">13967: </a>            }
</span><span id="13968" class="l"><a class="l" href="#13968">13968: </a>            <span class="php-keyword1">else</span>
</span><span id="13969" class="l"><a class="l" href="#13969">13969: </a>            {
</span><span id="13970" class="l"><a class="l" href="#13970">13970: </a>                <span class="php-var">$timezone</span> = <span class="php-num">0</span>;
</span><span id="13971" class="l"><a class="l" href="#13971">13971: </a>            }
</span><span id="13972" class="l"><a class="l" href="#13972">13972: </a>
</span><span id="13973" class="l"><a class="l" href="#13973">13973: </a>            <span class="php-comment">// Convert the number of seconds to an integer, taking decimals into account</span>
</span><span id="13974" class="l"><a class="l" href="#13974">13974: </a>            <span class="php-var">$second</span> = <span class="php-keyword2">round</span>(<span class="php-var">$match</span>[<span class="php-num">6</span>] + <span class="php-var">$match</span>[<span class="php-num">7</span>] / <span class="php-keyword2">pow</span>(<span class="php-num">10</span>, <span class="php-keyword2">strlen</span>(<span class="php-var">$match</span>[<span class="php-num">7</span>])));
</span><span id="13975" class="l"><a class="l" href="#13975">13975: </a>
</span><span id="13976" class="l"><a class="l" href="#13976">13976: </a>            <span class="php-keyword1">return</span> <span class="php-keyword2">gmmktime</span>(<span class="php-var">$match</span>[<span class="php-num">4</span>], <span class="php-var">$match</span>[<span class="php-num">5</span>], <span class="php-var">$second</span>, <span class="php-var">$match</span>[<span class="php-num">2</span>], <span class="php-var">$match</span>[<span class="php-num">3</span>], <span class="php-var">$match</span>[<span class="php-num">1</span>]) - <span class="php-var">$timezone</span>;
</span><span id="13977" class="l"><a class="l" href="#13977">13977: </a>        }
</span><span id="13978" class="l"><a class="l" href="#13978">13978: </a>        <span class="php-keyword1">else</span>
</span><span id="13979" class="l"><a class="l" href="#13979">13979: </a>        {
</span><span id="13980" class="l"><a class="l" href="#13980">13980: </a>            <span class="php-keyword1">return</span> <span class="php-keyword1">false</span>;
</span><span id="13981" class="l"><a class="l" href="#13981">13981: </a>        }
</span><span id="13982" class="l"><a class="l" href="#13982">13982: </a>    }
</span><span id="13983" class="l"><a class="l" href="#13983">13983: </a>
</span><span id="13984" class="l"><a class="l" href="#13984">13984: </a>    <span class="php-comment">/**
</span></span><span id="13985" class="l"><a class="l" href="#13985">13985: </a><span class="php-comment">     * Remove RFC822 comments
</span></span><span id="13986" class="l"><a class="l" href="#13986">13986: </a><span class="php-comment">     *
</span></span><span id="13987" class="l"><a class="l" href="#13987">13987: </a><span class="php-comment">     * @access protected
</span></span><span id="13988" class="l"><a class="l" href="#13988">13988: </a><span class="php-comment">     * @param string $data Data to strip comments from
</span></span><span id="13989" class="l"><a class="l" href="#13989">13989: </a><span class="php-comment">     * @return string Comment stripped string
</span></span><span id="13990" class="l"><a class="l" href="#13990">13990: </a><span class="php-comment">     */</span>
</span><span id="13991" class="l"><a class="l" href="#13991">13991: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_remove_rfc2822_comments" href="#_remove_rfc2822_comments">remove_rfc2822_comments</a>(<span class="php-var">$string</span>)
</span><span id="13992" class="l"><a class="l" href="#13992">13992: </a>    {
</span><span id="13993" class="l"><a class="l" href="#13993">13993: </a>        <span class="php-var">$string</span> = (string) <span class="php-var">$string</span>;
</span><span id="13994" class="l"><a class="l" href="#13994">13994: </a>        <span class="php-var">$position</span> = <span class="php-num">0</span>;
</span><span id="13995" class="l"><a class="l" href="#13995">13995: </a>        <span class="php-var">$length</span> = <span class="php-keyword2">strlen</span>(<span class="php-var">$string</span>);
</span><span id="13996" class="l"><a class="l" href="#13996">13996: </a>        <span class="php-var">$depth</span> = <span class="php-num">0</span>;
</span><span id="13997" class="l"><a class="l" href="#13997">13997: </a>
</span><span id="13998" class="l"><a class="l" href="#13998">13998: </a>        <span class="php-var">$output</span> = <span class="php-quote">''</span>;
</span><span id="13999" class="l"><a class="l" href="#13999">13999: </a>
</span><span id="14000" class="l"><a class="l" href="#14000">14000: </a>        <span class="php-keyword1">while</span> (<span class="php-var">$position</span> &lt; <span class="php-var">$length</span> &amp;&amp; (<span class="php-var">$pos</span> = <span class="php-keyword2">strpos</span>(<span class="php-var">$string</span>, <span class="php-quote">'('</span>, <span class="php-var">$position</span>)) !== <span class="php-keyword1">false</span>)
</span><span id="14001" class="l"><a class="l" href="#14001">14001: </a>        {
</span><span id="14002" class="l"><a class="l" href="#14002">14002: </a>            <span class="php-var">$output</span> .= <span class="php-keyword2">substr</span>(<span class="php-var">$string</span>, <span class="php-var">$position</span>, <span class="php-var">$pos</span> - <span class="php-var">$position</span>);
</span><span id="14003" class="l"><a class="l" href="#14003">14003: </a>            <span class="php-var">$position</span> = <span class="php-var">$pos</span> + <span class="php-num">1</span>;
</span><span id="14004" class="l"><a class="l" href="#14004">14004: </a>            <span class="php-keyword1">if</span> (<span class="php-var">$string</span>[<span class="php-var">$pos</span> - <span class="php-num">1</span>] !== <span class="php-quote">'\\'</span>)
</span><span id="14005" class="l"><a class="l" href="#14005">14005: </a>            {
</span><span id="14006" class="l"><a class="l" href="#14006">14006: </a>                <span class="php-var">$depth</span>++;
</span><span id="14007" class="l"><a class="l" href="#14007">14007: </a>                <span class="php-keyword1">while</span> (<span class="php-var">$depth</span> &amp;&amp; <span class="php-var">$position</span> &lt; <span class="php-var">$length</span>)
</span><span id="14008" class="l"><a class="l" href="#14008">14008: </a>                {
</span><span id="14009" class="l"><a class="l" href="#14009">14009: </a>                    <span class="php-var">$position</span> += <span class="php-keyword2">strcspn</span>(<span class="php-var">$string</span>, <span class="php-quote">'()'</span>, <span class="php-var">$position</span>);
</span><span id="14010" class="l"><a class="l" href="#14010">14010: </a>                    <span class="php-keyword1">if</span> (<span class="php-var">$string</span>[<span class="php-var">$position</span> - <span class="php-num">1</span>] === <span class="php-quote">'\\'</span>)
</span><span id="14011" class="l"><a class="l" href="#14011">14011: </a>                    {
</span><span id="14012" class="l"><a class="l" href="#14012">14012: </a>                        <span class="php-var">$position</span>++;
</span><span id="14013" class="l"><a class="l" href="#14013">14013: </a>                        <span class="php-keyword1">continue</span>;
</span><span id="14014" class="l"><a class="l" href="#14014">14014: </a>                    }
</span><span id="14015" class="l"><a class="l" href="#14015">14015: </a>                    <span class="php-keyword1">elseif</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$string</span>[<span class="php-var">$position</span>]))
</span><span id="14016" class="l"><a class="l" href="#14016">14016: </a>                    {
</span><span id="14017" class="l"><a class="l" href="#14017">14017: </a>                        <span class="php-keyword1">switch</span> (<span class="php-var">$string</span>[<span class="php-var">$position</span>])
</span><span id="14018" class="l"><a class="l" href="#14018">14018: </a>                        {
</span><span id="14019" class="l"><a class="l" href="#14019">14019: </a>                            <span class="php-keyword1">case</span> <span class="php-quote">'('</span>:
</span><span id="14020" class="l"><a class="l" href="#14020">14020: </a>                                <span class="php-var">$depth</span>++;
</span><span id="14021" class="l"><a class="l" href="#14021">14021: </a>                                <span class="php-keyword1">break</span>;
</span><span id="14022" class="l"><a class="l" href="#14022">14022: </a>
</span><span id="14023" class="l"><a class="l" href="#14023">14023: </a>                            <span class="php-keyword1">case</span> <span class="php-quote">')'</span>:
</span><span id="14024" class="l"><a class="l" href="#14024">14024: </a>                                <span class="php-var">$depth</span>--;
</span><span id="14025" class="l"><a class="l" href="#14025">14025: </a>                                <span class="php-keyword1">break</span>;
</span><span id="14026" class="l"><a class="l" href="#14026">14026: </a>                        }
</span><span id="14027" class="l"><a class="l" href="#14027">14027: </a>                        <span class="php-var">$position</span>++;
</span><span id="14028" class="l"><a class="l" href="#14028">14028: </a>                    }
</span><span id="14029" class="l"><a class="l" href="#14029">14029: </a>                    <span class="php-keyword1">else</span>
</span><span id="14030" class="l"><a class="l" href="#14030">14030: </a>                    {
</span><span id="14031" class="l"><a class="l" href="#14031">14031: </a>                        <span class="php-keyword1">break</span>;
</span><span id="14032" class="l"><a class="l" href="#14032">14032: </a>                    }
</span><span id="14033" class="l"><a class="l" href="#14033">14033: </a>                }
</span><span id="14034" class="l"><a class="l" href="#14034">14034: </a>            }
</span><span id="14035" class="l"><a class="l" href="#14035">14035: </a>            <span class="php-keyword1">else</span>
</span><span id="14036" class="l"><a class="l" href="#14036">14036: </a>            {
</span><span id="14037" class="l"><a class="l" href="#14037">14037: </a>                <span class="php-var">$output</span> .= <span class="php-quote">'('</span>;
</span><span id="14038" class="l"><a class="l" href="#14038">14038: </a>            }
</span><span id="14039" class="l"><a class="l" href="#14039">14039: </a>        }
</span><span id="14040" class="l"><a class="l" href="#14040">14040: </a>        <span class="php-var">$output</span> .= <span class="php-keyword2">substr</span>(<span class="php-var">$string</span>, <span class="php-var">$position</span>);
</span><span id="14041" class="l"><a class="l" href="#14041">14041: </a>
</span><span id="14042" class="l"><a class="l" href="#14042">14042: </a>        <span class="php-keyword1">return</span> <span class="php-var">$output</span>;
</span><span id="14043" class="l"><a class="l" href="#14043">14043: </a>    }
</span><span id="14044" class="l"><a class="l" href="#14044">14044: </a>
</span><span id="14045" class="l"><a class="l" href="#14045">14045: </a>    <span class="php-comment">/**
</span></span><span id="14046" class="l"><a class="l" href="#14046">14046: </a><span class="php-comment">     * Parse RFC2822's date format
</span></span><span id="14047" class="l"><a class="l" href="#14047">14047: </a><span class="php-comment">     *
</span></span><span id="14048" class="l"><a class="l" href="#14048">14048: </a><span class="php-comment">     * @access protected
</span></span><span id="14049" class="l"><a class="l" href="#14049">14049: </a><span class="php-comment">     * @return int Timestamp
</span></span><span id="14050" class="l"><a class="l" href="#14050">14050: </a><span class="php-comment">     */</span>
</span><span id="14051" class="l"><a class="l" href="#14051">14051: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_date_rfc2822" href="#_date_rfc2822">date_rfc2822</a>(<span class="php-var">$date</span>)
</span><span id="14052" class="l"><a class="l" href="#14052">14052: </a>    {
</span><span id="14053" class="l"><a class="l" href="#14053">14053: </a>        <span class="php-keyword1">static</span> <span class="php-var"><a id="$pcre" href="#$pcre">$pcre</a></span>;
</span><span id="14054" class="l"><a class="l" href="#14054">14054: </a>        <span class="php-keyword1">if</span> (!<span class="php-var">$pcre</span>)
</span><span id="14055" class="l"><a class="l" href="#14055">14055: </a>        {
</span><span id="14056" class="l"><a class="l" href="#14056">14056: </a>            <span class="php-var">$wsp</span> = <span class="php-quote">'[\x09\x20]'</span>;
</span><span id="14057" class="l"><a class="l" href="#14057">14057: </a>            <span class="php-var">$fws</span> = <span class="php-quote">'(?:'</span> . <span class="php-var">$wsp</span> . <span class="php-quote">'+|'</span> . <span class="php-var">$wsp</span> . <span class="php-quote">'*(?:\x0D\x0A'</span> . <span class="php-var">$wsp</span> . <span class="php-quote">'+)+)'</span>;
</span><span id="14058" class="l"><a class="l" href="#14058">14058: </a>            <span class="php-var">$optional_fws</span> = <span class="php-var">$fws</span> . <span class="php-quote">'?'</span>;
</span><span id="14059" class="l"><a class="l" href="#14059">14059: </a>            <span class="php-var">$day_name</span> = <span class="php-var">$this</span>-&gt;day_pcre;
</span><span id="14060" class="l"><a class="l" href="#14060">14060: </a>            <span class="php-var">$month</span> = <span class="php-var">$this</span>-&gt;month_pcre;
</span><span id="14061" class="l"><a class="l" href="#14061">14061: </a>            <span class="php-var">$day</span> = <span class="php-quote">'([0-9]{1,2})'</span>;
</span><span id="14062" class="l"><a class="l" href="#14062">14062: </a>            <span class="php-var">$hour</span> = <span class="php-var">$minute</span> = <span class="php-var">$second</span> = <span class="php-quote">'([0-9]{2})'</span>;
</span><span id="14063" class="l"><a class="l" href="#14063">14063: </a>            <span class="php-var">$year</span> = <span class="php-quote">'([0-9]{2,4})'</span>;
</span><span id="14064" class="l"><a class="l" href="#14064">14064: </a>            <span class="php-var">$num_zone</span> = <span class="php-quote">'([+\-])([0-9]{2})([0-9]{2})'</span>;
</span><span id="14065" class="l"><a class="l" href="#14065">14065: </a>            <span class="php-var">$character_zone</span> = <span class="php-quote">'([A-Z]{1,5})'</span>;
</span><span id="14066" class="l"><a class="l" href="#14066">14066: </a>            <span class="php-var">$zone</span> = <span class="php-quote">'(?:'</span> . <span class="php-var">$num_zone</span> . <span class="php-quote">'|'</span> . <span class="php-var">$character_zone</span> . <span class="php-quote">')'</span>;
</span><span id="14067" class="l"><a class="l" href="#14067">14067: </a>            <span class="php-var">$pcre</span> = <span class="php-quote">'/(?:'</span> . <span class="php-var">$optional_fws</span> . <span class="php-var">$day_name</span> . <span class="php-var">$optional_fws</span> . <span class="php-quote">',)?'</span> . <span class="php-var">$optional_fws</span> . <span class="php-var">$day</span> . <span class="php-var">$fws</span> . <span class="php-var">$month</span> . <span class="php-var">$fws</span> . <span class="php-var">$year</span> . <span class="php-var">$fws</span> . <span class="php-var">$hour</span> . <span class="php-var">$optional_fws</span> . <span class="php-quote">':'</span> . <span class="php-var">$optional_fws</span> . <span class="php-var">$minute</span> . <span class="php-quote">'(?:'</span> . <span class="php-var">$optional_fws</span> . <span class="php-quote">':'</span> . <span class="php-var">$optional_fws</span> . <span class="php-var">$second</span> . <span class="php-quote">')?'</span> . <span class="php-var">$fws</span> . <span class="php-var">$zone</span> . <span class="php-quote">'/i'</span>;
</span><span id="14068" class="l"><a class="l" href="#14068">14068: </a>        }
</span><span id="14069" class="l"><a class="l" href="#14069">14069: </a>        <span class="php-keyword1">if</span> (<span class="php-keyword2">preg_match</span>(<span class="php-var">$pcre</span>, <span class="php-var">$this</span>-&gt;remove_rfc2822_comments(<span class="php-var">$date</span>), <span class="php-var">$match</span>))
</span><span id="14070" class="l"><a class="l" href="#14070">14070: </a>        {
</span><span id="14071" class="l"><a class="l" href="#14071">14071: </a>            <span class="php-comment">/*
</span></span><span id="14072" class="l"><a class="l" href="#14072">14072: </a><span class="php-comment">            Capturing subpatterns:
</span></span><span id="14073" class="l"><a class="l" href="#14073">14073: </a><span class="php-comment">            1: Day name
</span></span><span id="14074" class="l"><a class="l" href="#14074">14074: </a><span class="php-comment">            2: Day
</span></span><span id="14075" class="l"><a class="l" href="#14075">14075: </a><span class="php-comment">            3: Month
</span></span><span id="14076" class="l"><a class="l" href="#14076">14076: </a><span class="php-comment">            4: Year
</span></span><span id="14077" class="l"><a class="l" href="#14077">14077: </a><span class="php-comment">            5: Hour
</span></span><span id="14078" class="l"><a class="l" href="#14078">14078: </a><span class="php-comment">            6: Minute
</span></span><span id="14079" class="l"><a class="l" href="#14079">14079: </a><span class="php-comment">            7: Second
</span></span><span id="14080" class="l"><a class="l" href="#14080">14080: </a><span class="php-comment">            8: Timezone 
</span></span><span id="14081" class="l"><a class="l" href="#14081">14081: </a><span class="php-comment">            9: Timezone hours
</span></span><span id="14082" class="l"><a class="l" href="#14082">14082: </a><span class="php-comment">            10: Timezone minutes
</span></span><span id="14083" class="l"><a class="l" href="#14083">14083: </a><span class="php-comment">            11: Alphabetic timezone
</span></span><span id="14084" class="l"><a class="l" href="#14084">14084: </a><span class="php-comment">            */</span>
</span><span id="14085" class="l"><a class="l" href="#14085">14085: </a>
</span><span id="14086" class="l"><a class="l" href="#14086">14086: </a>            <span class="php-comment">// Find the month number</span>
</span><span id="14087" class="l"><a class="l" href="#14087">14087: </a>            <span class="php-var">$month</span> = <span class="php-var">$this</span>-&gt;month[<span class="php-keyword2">strtolower</span>(<span class="php-var">$match</span>[<span class="php-num">3</span>])];
</span><span id="14088" class="l"><a class="l" href="#14088">14088: </a>
</span><span id="14089" class="l"><a class="l" href="#14089">14089: </a>            <span class="php-comment">// Numeric timezone</span>
</span><span id="14090" class="l"><a class="l" href="#14090">14090: </a>            <span class="php-keyword1">if</span> (<span class="php-var">$match</span>[<span class="php-num">8</span>] !== <span class="php-quote">''</span>)
</span><span id="14091" class="l"><a class="l" href="#14091">14091: </a>            {
</span><span id="14092" class="l"><a class="l" href="#14092">14092: </a>                <span class="php-var">$timezone</span> = <span class="php-var">$match</span>[<span class="php-num">9</span>] * <span class="php-num">3600</span>;
</span><span id="14093" class="l"><a class="l" href="#14093">14093: </a>                <span class="php-var">$timezone</span> += <span class="php-var">$match</span>[<span class="php-num">10</span>] * <span class="php-num">60</span>;
</span><span id="14094" class="l"><a class="l" href="#14094">14094: </a>                <span class="php-keyword1">if</span> (<span class="php-var">$match</span>[<span class="php-num">8</span>] === <span class="php-quote">'-'</span>)
</span><span id="14095" class="l"><a class="l" href="#14095">14095: </a>                {
</span><span id="14096" class="l"><a class="l" href="#14096">14096: </a>                    <span class="php-var">$timezone</span> = <span class="php-num">0</span> - <span class="php-var">$timezone</span>;
</span><span id="14097" class="l"><a class="l" href="#14097">14097: </a>                }
</span><span id="14098" class="l"><a class="l" href="#14098">14098: </a>            }
</span><span id="14099" class="l"><a class="l" href="#14099">14099: </a>            <span class="php-comment">// Character timezone</span>
</span><span id="14100" class="l"><a class="l" href="#14100">14100: </a>            <span class="php-keyword1">elseif</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$this</span>-&gt;timezone[<span class="php-keyword2">strtoupper</span>(<span class="php-var">$match</span>[<span class="php-num">11</span>])]))
</span><span id="14101" class="l"><a class="l" href="#14101">14101: </a>            {
</span><span id="14102" class="l"><a class="l" href="#14102">14102: </a>                <span class="php-var">$timezone</span> = <span class="php-var">$this</span>-&gt;timezone[<span class="php-keyword2">strtoupper</span>(<span class="php-var">$match</span>[<span class="php-num">11</span>])];
</span><span id="14103" class="l"><a class="l" href="#14103">14103: </a>            }
</span><span id="14104" class="l"><a class="l" href="#14104">14104: </a>            <span class="php-comment">// Assume everything else to be -0000</span>
</span><span id="14105" class="l"><a class="l" href="#14105">14105: </a>            <span class="php-keyword1">else</span>
</span><span id="14106" class="l"><a class="l" href="#14106">14106: </a>            {
</span><span id="14107" class="l"><a class="l" href="#14107">14107: </a>                <span class="php-var">$timezone</span> = <span class="php-num">0</span>;
</span><span id="14108" class="l"><a class="l" href="#14108">14108: </a>            }
</span><span id="14109" class="l"><a class="l" href="#14109">14109: </a>
</span><span id="14110" class="l"><a class="l" href="#14110">14110: </a>            <span class="php-comment">// Deal with 2/3 digit years</span>
</span><span id="14111" class="l"><a class="l" href="#14111">14111: </a>            <span class="php-keyword1">if</span> (<span class="php-var">$match</span>[<span class="php-num">4</span>] &lt; <span class="php-num">50</span>)
</span><span id="14112" class="l"><a class="l" href="#14112">14112: </a>            {
</span><span id="14113" class="l"><a class="l" href="#14113">14113: </a>                <span class="php-var">$match</span>[<span class="php-num">4</span>] += <span class="php-num">2000</span>;
</span><span id="14114" class="l"><a class="l" href="#14114">14114: </a>            }
</span><span id="14115" class="l"><a class="l" href="#14115">14115: </a>            <span class="php-keyword1">elseif</span> (<span class="php-var">$match</span>[<span class="php-num">4</span>] &lt; <span class="php-num">1000</span>)
</span><span id="14116" class="l"><a class="l" href="#14116">14116: </a>            {
</span><span id="14117" class="l"><a class="l" href="#14117">14117: </a>                <span class="php-var">$match</span>[<span class="php-num">4</span>] += <span class="php-num">1900</span>;
</span><span id="14118" class="l"><a class="l" href="#14118">14118: </a>            }
</span><span id="14119" class="l"><a class="l" href="#14119">14119: </a>
</span><span id="14120" class="l"><a class="l" href="#14120">14120: </a>            <span class="php-comment">// Second is optional, if it is empty set it to zero</span>
</span><span id="14121" class="l"><a class="l" href="#14121">14121: </a>            <span class="php-keyword1">if</span> (<span class="php-var">$match</span>[<span class="php-num">7</span>] !== <span class="php-quote">''</span>)
</span><span id="14122" class="l"><a class="l" href="#14122">14122: </a>            {
</span><span id="14123" class="l"><a class="l" href="#14123">14123: </a>                <span class="php-var">$second</span> = <span class="php-var">$match</span>[<span class="php-num">7</span>];
</span><span id="14124" class="l"><a class="l" href="#14124">14124: </a>            }
</span><span id="14125" class="l"><a class="l" href="#14125">14125: </a>            <span class="php-keyword1">else</span>
</span><span id="14126" class="l"><a class="l" href="#14126">14126: </a>            {
</span><span id="14127" class="l"><a class="l" href="#14127">14127: </a>                <span class="php-var">$second</span> = <span class="php-num">0</span>;
</span><span id="14128" class="l"><a class="l" href="#14128">14128: </a>            }
</span><span id="14129" class="l"><a class="l" href="#14129">14129: </a>
</span><span id="14130" class="l"><a class="l" href="#14130">14130: </a>            <span class="php-keyword1">return</span> <span class="php-keyword2">gmmktime</span>(<span class="php-var">$match</span>[<span class="php-num">5</span>], <span class="php-var">$match</span>[<span class="php-num">6</span>], <span class="php-var">$second</span>, <span class="php-var">$month</span>, <span class="php-var">$match</span>[<span class="php-num">2</span>], <span class="php-var">$match</span>[<span class="php-num">4</span>]) - <span class="php-var">$timezone</span>;
</span><span id="14131" class="l"><a class="l" href="#14131">14131: </a>        }
</span><span id="14132" class="l"><a class="l" href="#14132">14132: </a>        <span class="php-keyword1">else</span>
</span><span id="14133" class="l"><a class="l" href="#14133">14133: </a>        {
</span><span id="14134" class="l"><a class="l" href="#14134">14134: </a>            <span class="php-keyword1">return</span> <span class="php-keyword1">false</span>;
</span><span id="14135" class="l"><a class="l" href="#14135">14135: </a>        }
</span><span id="14136" class="l"><a class="l" href="#14136">14136: </a>    }
</span><span id="14137" class="l"><a class="l" href="#14137">14137: </a>
</span><span id="14138" class="l"><a class="l" href="#14138">14138: </a>    <span class="php-comment">/**
</span></span><span id="14139" class="l"><a class="l" href="#14139">14139: </a><span class="php-comment">     * Parse RFC850's date format
</span></span><span id="14140" class="l"><a class="l" href="#14140">14140: </a><span class="php-comment">     *
</span></span><span id="14141" class="l"><a class="l" href="#14141">14141: </a><span class="php-comment">     * @access protected
</span></span><span id="14142" class="l"><a class="l" href="#14142">14142: </a><span class="php-comment">     * @return int Timestamp
</span></span><span id="14143" class="l"><a class="l" href="#14143">14143: </a><span class="php-comment">     */</span>
</span><span id="14144" class="l"><a class="l" href="#14144">14144: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_date_rfc850" href="#_date_rfc850">date_rfc850</a>(<span class="php-var">$date</span>)
</span><span id="14145" class="l"><a class="l" href="#14145">14145: </a>    {
</span><span id="14146" class="l"><a class="l" href="#14146">14146: </a>        <span class="php-keyword1">static</span> <span class="php-var"><a id="$pcre" href="#$pcre">$pcre</a></span>;
</span><span id="14147" class="l"><a class="l" href="#14147">14147: </a>        <span class="php-keyword1">if</span> (!<span class="php-var">$pcre</span>)
</span><span id="14148" class="l"><a class="l" href="#14148">14148: </a>        {
</span><span id="14149" class="l"><a class="l" href="#14149">14149: </a>            <span class="php-var">$space</span> = <span class="php-quote">'[\x09\x20]+'</span>;
</span><span id="14150" class="l"><a class="l" href="#14150">14150: </a>            <span class="php-var">$day_name</span> = <span class="php-var">$this</span>-&gt;day_pcre;
</span><span id="14151" class="l"><a class="l" href="#14151">14151: </a>            <span class="php-var">$month</span> = <span class="php-var">$this</span>-&gt;month_pcre;
</span><span id="14152" class="l"><a class="l" href="#14152">14152: </a>            <span class="php-var">$day</span> = <span class="php-quote">'([0-9]{1,2})'</span>;
</span><span id="14153" class="l"><a class="l" href="#14153">14153: </a>            <span class="php-var">$year</span> = <span class="php-var">$hour</span> = <span class="php-var">$minute</span> = <span class="php-var">$second</span> = <span class="php-quote">'([0-9]{2})'</span>;
</span><span id="14154" class="l"><a class="l" href="#14154">14154: </a>            <span class="php-var">$zone</span> = <span class="php-quote">'([A-Z]{1,5})'</span>;
</span><span id="14155" class="l"><a class="l" href="#14155">14155: </a>            <span class="php-var">$pcre</span> = <span class="php-quote">'/^'</span> . <span class="php-var">$day_name</span> . <span class="php-quote">','</span> . <span class="php-var">$space</span> . <span class="php-var">$day</span> . <span class="php-quote">'-'</span> . <span class="php-var">$month</span> . <span class="php-quote">'-'</span> . <span class="php-var">$year</span> . <span class="php-var">$space</span> . <span class="php-var">$hour</span> . <span class="php-quote">':'</span> . <span class="php-var">$minute</span> . <span class="php-quote">':'</span> . <span class="php-var">$second</span> . <span class="php-var">$space</span> . <span class="php-var">$zone</span> . <span class="php-quote">'$/i'</span>;
</span><span id="14156" class="l"><a class="l" href="#14156">14156: </a>        }
</span><span id="14157" class="l"><a class="l" href="#14157">14157: </a>        <span class="php-keyword1">if</span> (<span class="php-keyword2">preg_match</span>(<span class="php-var">$pcre</span>, <span class="php-var">$date</span>, <span class="php-var">$match</span>))
</span><span id="14158" class="l"><a class="l" href="#14158">14158: </a>        {
</span><span id="14159" class="l"><a class="l" href="#14159">14159: </a>            <span class="php-comment">/*
</span></span><span id="14160" class="l"><a class="l" href="#14160">14160: </a><span class="php-comment">            Capturing subpatterns:
</span></span><span id="14161" class="l"><a class="l" href="#14161">14161: </a><span class="php-comment">            1: Day name
</span></span><span id="14162" class="l"><a class="l" href="#14162">14162: </a><span class="php-comment">            2: Day
</span></span><span id="14163" class="l"><a class="l" href="#14163">14163: </a><span class="php-comment">            3: Month
</span></span><span id="14164" class="l"><a class="l" href="#14164">14164: </a><span class="php-comment">            4: Year
</span></span><span id="14165" class="l"><a class="l" href="#14165">14165: </a><span class="php-comment">            5: Hour
</span></span><span id="14166" class="l"><a class="l" href="#14166">14166: </a><span class="php-comment">            6: Minute
</span></span><span id="14167" class="l"><a class="l" href="#14167">14167: </a><span class="php-comment">            7: Second
</span></span><span id="14168" class="l"><a class="l" href="#14168">14168: </a><span class="php-comment">            8: Timezone
</span></span><span id="14169" class="l"><a class="l" href="#14169">14169: </a><span class="php-comment">            */</span>
</span><span id="14170" class="l"><a class="l" href="#14170">14170: </a>
</span><span id="14171" class="l"><a class="l" href="#14171">14171: </a>            <span class="php-comment">// Month</span>
</span><span id="14172" class="l"><a class="l" href="#14172">14172: </a>            <span class="php-var">$month</span> = <span class="php-var">$this</span>-&gt;month[<span class="php-keyword2">strtolower</span>(<span class="php-var">$match</span>[<span class="php-num">3</span>])];
</span><span id="14173" class="l"><a class="l" href="#14173">14173: </a>
</span><span id="14174" class="l"><a class="l" href="#14174">14174: </a>            <span class="php-comment">// Character timezone</span>
</span><span id="14175" class="l"><a class="l" href="#14175">14175: </a>            <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$this</span>-&gt;timezone[<span class="php-keyword2">strtoupper</span>(<span class="php-var">$match</span>[<span class="php-num">8</span>])]))
</span><span id="14176" class="l"><a class="l" href="#14176">14176: </a>            {
</span><span id="14177" class="l"><a class="l" href="#14177">14177: </a>                <span class="php-var">$timezone</span> = <span class="php-var">$this</span>-&gt;timezone[<span class="php-keyword2">strtoupper</span>(<span class="php-var">$match</span>[<span class="php-num">8</span>])];
</span><span id="14178" class="l"><a class="l" href="#14178">14178: </a>            }
</span><span id="14179" class="l"><a class="l" href="#14179">14179: </a>            <span class="php-comment">// Assume everything else to be -0000</span>
</span><span id="14180" class="l"><a class="l" href="#14180">14180: </a>            <span class="php-keyword1">else</span>
</span><span id="14181" class="l"><a class="l" href="#14181">14181: </a>            {
</span><span id="14182" class="l"><a class="l" href="#14182">14182: </a>                <span class="php-var">$timezone</span> = <span class="php-num">0</span>;
</span><span id="14183" class="l"><a class="l" href="#14183">14183: </a>            }
</span><span id="14184" class="l"><a class="l" href="#14184">14184: </a>
</span><span id="14185" class="l"><a class="l" href="#14185">14185: </a>            <span class="php-comment">// Deal with 2 digit year</span>
</span><span id="14186" class="l"><a class="l" href="#14186">14186: </a>            <span class="php-keyword1">if</span> (<span class="php-var">$match</span>[<span class="php-num">4</span>] &lt; <span class="php-num">50</span>)
</span><span id="14187" class="l"><a class="l" href="#14187">14187: </a>            {
</span><span id="14188" class="l"><a class="l" href="#14188">14188: </a>                <span class="php-var">$match</span>[<span class="php-num">4</span>] += <span class="php-num">2000</span>;
</span><span id="14189" class="l"><a class="l" href="#14189">14189: </a>            }
</span><span id="14190" class="l"><a class="l" href="#14190">14190: </a>            <span class="php-keyword1">else</span>
</span><span id="14191" class="l"><a class="l" href="#14191">14191: </a>            {
</span><span id="14192" class="l"><a class="l" href="#14192">14192: </a>                <span class="php-var">$match</span>[<span class="php-num">4</span>] += <span class="php-num">1900</span>;
</span><span id="14193" class="l"><a class="l" href="#14193">14193: </a>            }
</span><span id="14194" class="l"><a class="l" href="#14194">14194: </a>
</span><span id="14195" class="l"><a class="l" href="#14195">14195: </a>            <span class="php-keyword1">return</span> <span class="php-keyword2">gmmktime</span>(<span class="php-var">$match</span>[<span class="php-num">5</span>], <span class="php-var">$match</span>[<span class="php-num">6</span>], <span class="php-var">$match</span>[<span class="php-num">7</span>], <span class="php-var">$month</span>, <span class="php-var">$match</span>[<span class="php-num">2</span>], <span class="php-var">$match</span>[<span class="php-num">4</span>]) - <span class="php-var">$timezone</span>;
</span><span id="14196" class="l"><a class="l" href="#14196">14196: </a>        }
</span><span id="14197" class="l"><a class="l" href="#14197">14197: </a>        <span class="php-keyword1">else</span>
</span><span id="14198" class="l"><a class="l" href="#14198">14198: </a>        {
</span><span id="14199" class="l"><a class="l" href="#14199">14199: </a>            <span class="php-keyword1">return</span> <span class="php-keyword1">false</span>;
</span><span id="14200" class="l"><a class="l" href="#14200">14200: </a>        }
</span><span id="14201" class="l"><a class="l" href="#14201">14201: </a>    }
</span><span id="14202" class="l"><a class="l" href="#14202">14202: </a>
</span><span id="14203" class="l"><a class="l" href="#14203">14203: </a>    <span class="php-comment">/**
</span></span><span id="14204" class="l"><a class="l" href="#14204">14204: </a><span class="php-comment">     * Parse C99's asctime()'s date format
</span></span><span id="14205" class="l"><a class="l" href="#14205">14205: </a><span class="php-comment">     *
</span></span><span id="14206" class="l"><a class="l" href="#14206">14206: </a><span class="php-comment">     * @access protected
</span></span><span id="14207" class="l"><a class="l" href="#14207">14207: </a><span class="php-comment">     * @return int Timestamp
</span></span><span id="14208" class="l"><a class="l" href="#14208">14208: </a><span class="php-comment">     */</span>
</span><span id="14209" class="l"><a class="l" href="#14209">14209: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_date_asctime" href="#_date_asctime">date_asctime</a>(<span class="php-var">$date</span>)
</span><span id="14210" class="l"><a class="l" href="#14210">14210: </a>    {
</span><span id="14211" class="l"><a class="l" href="#14211">14211: </a>        <span class="php-keyword1">static</span> <span class="php-var"><a id="$pcre" href="#$pcre">$pcre</a></span>;
</span><span id="14212" class="l"><a class="l" href="#14212">14212: </a>        <span class="php-keyword1">if</span> (!<span class="php-var">$pcre</span>)
</span><span id="14213" class="l"><a class="l" href="#14213">14213: </a>        {
</span><span id="14214" class="l"><a class="l" href="#14214">14214: </a>            <span class="php-var">$space</span> = <span class="php-quote">'[\x09\x20]+'</span>;
</span><span id="14215" class="l"><a class="l" href="#14215">14215: </a>            <span class="php-var">$wday_name</span> = <span class="php-var">$this</span>-&gt;day_pcre;
</span><span id="14216" class="l"><a class="l" href="#14216">14216: </a>            <span class="php-var">$mon_name</span> = <span class="php-var">$this</span>-&gt;month_pcre;
</span><span id="14217" class="l"><a class="l" href="#14217">14217: </a>            <span class="php-var">$day</span> = <span class="php-quote">'([0-9]{1,2})'</span>;
</span><span id="14218" class="l"><a class="l" href="#14218">14218: </a>            <span class="php-var">$hour</span> = <span class="php-var">$sec</span> = <span class="php-var">$min</span> = <span class="php-quote">'([0-9]{2})'</span>;
</span><span id="14219" class="l"><a class="l" href="#14219">14219: </a>            <span class="php-var">$year</span> = <span class="php-quote">'([0-9]{4})'</span>;
</span><span id="14220" class="l"><a class="l" href="#14220">14220: </a>            <span class="php-var">$terminator</span> = <span class="php-quote">'\x0A?\x00?'</span>;
</span><span id="14221" class="l"><a class="l" href="#14221">14221: </a>            <span class="php-var">$pcre</span> = <span class="php-quote">'/^'</span> . <span class="php-var">$wday_name</span> . <span class="php-var">$space</span> . <span class="php-var">$mon_name</span> . <span class="php-var">$space</span> . <span class="php-var">$day</span> . <span class="php-var">$space</span> . <span class="php-var">$hour</span> . <span class="php-quote">':'</span> . <span class="php-var">$min</span> . <span class="php-quote">':'</span> . <span class="php-var">$sec</span> . <span class="php-var">$space</span> . <span class="php-var">$year</span> . <span class="php-var">$terminator</span> . <span class="php-quote">'$/i'</span>;
</span><span id="14222" class="l"><a class="l" href="#14222">14222: </a>        }
</span><span id="14223" class="l"><a class="l" href="#14223">14223: </a>        <span class="php-keyword1">if</span> (<span class="php-keyword2">preg_match</span>(<span class="php-var">$pcre</span>, <span class="php-var">$date</span>, <span class="php-var">$match</span>))
</span><span id="14224" class="l"><a class="l" href="#14224">14224: </a>        {
</span><span id="14225" class="l"><a class="l" href="#14225">14225: </a>            <span class="php-comment">/*
</span></span><span id="14226" class="l"><a class="l" href="#14226">14226: </a><span class="php-comment">            Capturing subpatterns:
</span></span><span id="14227" class="l"><a class="l" href="#14227">14227: </a><span class="php-comment">            1: Day name
</span></span><span id="14228" class="l"><a class="l" href="#14228">14228: </a><span class="php-comment">            2: Month
</span></span><span id="14229" class="l"><a class="l" href="#14229">14229: </a><span class="php-comment">            3: Day
</span></span><span id="14230" class="l"><a class="l" href="#14230">14230: </a><span class="php-comment">            4: Hour
</span></span><span id="14231" class="l"><a class="l" href="#14231">14231: </a><span class="php-comment">            5: Minute
</span></span><span id="14232" class="l"><a class="l" href="#14232">14232: </a><span class="php-comment">            6: Second
</span></span><span id="14233" class="l"><a class="l" href="#14233">14233: </a><span class="php-comment">            7: Year
</span></span><span id="14234" class="l"><a class="l" href="#14234">14234: </a><span class="php-comment">            */</span>
</span><span id="14235" class="l"><a class="l" href="#14235">14235: </a>
</span><span id="14236" class="l"><a class="l" href="#14236">14236: </a>            <span class="php-var">$month</span> = <span class="php-var">$this</span>-&gt;month[<span class="php-keyword2">strtolower</span>(<span class="php-var">$match</span>[<span class="php-num">2</span>])];
</span><span id="14237" class="l"><a class="l" href="#14237">14237: </a>            <span class="php-keyword1">return</span> <span class="php-keyword2">gmmktime</span>(<span class="php-var">$match</span>[<span class="php-num">4</span>], <span class="php-var">$match</span>[<span class="php-num">5</span>], <span class="php-var">$match</span>[<span class="php-num">6</span>], <span class="php-var">$month</span>, <span class="php-var">$match</span>[<span class="php-num">3</span>], <span class="php-var">$match</span>[<span class="php-num">7</span>]);
</span><span id="14238" class="l"><a class="l" href="#14238">14238: </a>        }
</span><span id="14239" class="l"><a class="l" href="#14239">14239: </a>        <span class="php-keyword1">else</span>
</span><span id="14240" class="l"><a class="l" href="#14240">14240: </a>        {
</span><span id="14241" class="l"><a class="l" href="#14241">14241: </a>            <span class="php-keyword1">return</span> <span class="php-keyword1">false</span>;
</span><span id="14242" class="l"><a class="l" href="#14242">14242: </a>        }
</span><span id="14243" class="l"><a class="l" href="#14243">14243: </a>    }
</span><span id="14244" class="l"><a class="l" href="#14244">14244: </a>
</span><span id="14245" class="l"><a class="l" href="#14245">14245: </a>    <span class="php-comment">/**
</span></span><span id="14246" class="l"><a class="l" href="#14246">14246: </a><span class="php-comment">     * Parse dates using strtotime()
</span></span><span id="14247" class="l"><a class="l" href="#14247">14247: </a><span class="php-comment">     *
</span></span><span id="14248" class="l"><a class="l" href="#14248">14248: </a><span class="php-comment">     * @access protected
</span></span><span id="14249" class="l"><a class="l" href="#14249">14249: </a><span class="php-comment">     * @return int Timestamp
</span></span><span id="14250" class="l"><a class="l" href="#14250">14250: </a><span class="php-comment">     */</span>
</span><span id="14251" class="l"><a class="l" href="#14251">14251: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_date_strtotime" href="#_date_strtotime">date_strtotime</a>(<span class="php-var">$date</span>)
</span><span id="14252" class="l"><a class="l" href="#14252">14252: </a>    {
</span><span id="14253" class="l"><a class="l" href="#14253">14253: </a>        <span class="php-var">$strtotime</span> = <span class="php-keyword2">strtotime</span>(<span class="php-var">$date</span>);
</span><span id="14254" class="l"><a class="l" href="#14254">14254: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$strtotime</span> === -<span class="php-num">1</span> || <span class="php-var">$strtotime</span> === <span class="php-keyword1">false</span>)
</span><span id="14255" class="l"><a class="l" href="#14255">14255: </a>        {
</span><span id="14256" class="l"><a class="l" href="#14256">14256: </a>            <span class="php-keyword1">return</span> <span class="php-keyword1">false</span>;
</span><span id="14257" class="l"><a class="l" href="#14257">14257: </a>        }
</span><span id="14258" class="l"><a class="l" href="#14258">14258: </a>        <span class="php-keyword1">else</span>
</span><span id="14259" class="l"><a class="l" href="#14259">14259: </a>        {
</span><span id="14260" class="l"><a class="l" href="#14260">14260: </a>            <span class="php-keyword1">return</span> <span class="php-var">$strtotime</span>;
</span><span id="14261" class="l"><a class="l" href="#14261">14261: </a>        }
</span><span id="14262" class="l"><a class="l" href="#14262">14262: </a>    }
</span><span id="14263" class="l"><a class="l" href="#14263">14263: </a>}
</span><span id="14264" class="l"><a class="l" href="#14264">14264: </a>
</span><span id="14265" class="l"><a class="l" href="#14265">14265: </a><span class="php-comment">/**
</span></span><span id="14266" class="l"><a class="l" href="#14266">14266: </a><span class="php-comment"> * Parses XML into something sane
</span></span><span id="14267" class="l"><a class="l" href="#14267">14267: </a><span class="php-comment"> *
</span></span><span id="14268" class="l"><a class="l" href="#14268">14268: </a><span class="php-comment"> *
</span></span><span id="14269" class="l"><a class="l" href="#14269">14269: </a><span class="php-comment"> * This class can be overloaded with {@see SimplePie::set_parser_class()}
</span></span><span id="14270" class="l"><a class="l" href="#14270">14270: </a><span class="php-comment"> *
</span></span><span id="14271" class="l"><a class="l" href="#14271">14271: </a><span class="php-comment"> * @package SimplePie
</span></span><span id="14272" class="l"><a class="l" href="#14272">14272: </a><span class="php-comment"> */</span>
</span><span id="14273" class="l"><a class="l" href="#14273">14273: </a><span class="php-keyword1">class</span> <a id="SimplePie_Parser" href="#SimplePie_Parser">SimplePie_Parser</a>
</span><span id="14274" class="l"><a class="l" href="#14274">14274: </a>{
</span><span id="14275" class="l"><a class="l" href="#14275">14275: </a>    <span class="php-keyword1">var</span> <span class="php-var"><a id="$error_code" href="#$error_code">$error_code</a></span>;
</span><span id="14276" class="l"><a class="l" href="#14276">14276: </a>    <span class="php-keyword1">var</span> <span class="php-var"><a id="$error_string" href="#$error_string">$error_string</a></span>;
</span><span id="14277" class="l"><a class="l" href="#14277">14277: </a>    <span class="php-keyword1">var</span> <span class="php-var"><a id="$current_line" href="#$current_line">$current_line</a></span>;
</span><span id="14278" class="l"><a class="l" href="#14278">14278: </a>    <span class="php-keyword1">var</span> <span class="php-var"><a id="$current_column" href="#$current_column">$current_column</a></span>;
</span><span id="14279" class="l"><a class="l" href="#14279">14279: </a>    <span class="php-keyword1">var</span> <span class="php-var"><a id="$current_byte" href="#$current_byte">$current_byte</a></span>;
</span><span id="14280" class="l"><a class="l" href="#14280">14280: </a>    <span class="php-keyword1">var</span> <span class="php-var"><a id="$separator" href="#$separator">$separator</a></span> = <span class="php-quote">' '</span>;
</span><span id="14281" class="l"><a class="l" href="#14281">14281: </a>    <span class="php-keyword1">var</span> <span class="php-var"><a id="$namespace" href="#$namespace">$namespace</a></span> = <span class="php-keyword1">array</span>(<span class="php-quote">''</span>);
</span><span id="14282" class="l"><a class="l" href="#14282">14282: </a>    <span class="php-keyword1">var</span> <span class="php-var"><a id="$element" href="#$element">$element</a></span> = <span class="php-keyword1">array</span>(<span class="php-quote">''</span>);
</span><span id="14283" class="l"><a class="l" href="#14283">14283: </a>    <span class="php-keyword1">var</span> <span class="php-var"><a id="$xml_base" href="#$xml_base">$xml_base</a></span> = <span class="php-keyword1">array</span>(<span class="php-quote">''</span>);
</span><span id="14284" class="l"><a class="l" href="#14284">14284: </a>    <span class="php-keyword1">var</span> <span class="php-var"><a id="$xml_base_explicit" href="#$xml_base_explicit">$xml_base_explicit</a></span> = <span class="php-keyword1">array</span>(<span class="php-keyword1">false</span>);
</span><span id="14285" class="l"><a class="l" href="#14285">14285: </a>    <span class="php-keyword1">var</span> <span class="php-var"><a id="$xml_lang" href="#$xml_lang">$xml_lang</a></span> = <span class="php-keyword1">array</span>(<span class="php-quote">''</span>);
</span><span id="14286" class="l"><a class="l" href="#14286">14286: </a>    <span class="php-keyword1">var</span> <span class="php-var"><a id="$data" href="#$data">$data</a></span> = <span class="php-keyword1">array</span>();
</span><span id="14287" class="l"><a class="l" href="#14287">14287: </a>    <span class="php-keyword1">var</span> <span class="php-var"><a id="$datas" href="#$datas">$datas</a></span> = <span class="php-keyword1">array</span>(<span class="php-keyword1">array</span>());
</span><span id="14288" class="l"><a class="l" href="#14288">14288: </a>    <span class="php-keyword1">var</span> <span class="php-var"><a id="$current_xhtml_construct" href="#$current_xhtml_construct">$current_xhtml_construct</a></span> = -<span class="php-num">1</span>;
</span><span id="14289" class="l"><a class="l" href="#14289">14289: </a>    <span class="php-keyword1">var</span> <span class="php-var"><a id="$encoding" href="#$encoding">$encoding</a></span>;
</span><span id="14290" class="l"><a class="l" href="#14290">14290: </a>    <span class="php-keyword1">protected</span> <span class="php-var"><a id="$registry" href="#$registry">$registry</a></span>;
</span><span id="14291" class="l"><a class="l" href="#14291">14291: </a>
</span><span id="14292" class="l"><a class="l" href="#14292">14292: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_set_registry" href="#_set_registry">set_registry</a>(SimplePie_Registry &amp;<span class="php-var">$registry</span>)
</span><span id="14293" class="l"><a class="l" href="#14293">14293: </a>    {
</span><span id="14294" class="l"><a class="l" href="#14294">14294: </a>        <span class="php-var">$this</span>-&gt;registry = &amp;<span class="php-var">$registry</span>;
</span><span id="14295" class="l"><a class="l" href="#14295">14295: </a>    }
</span><span id="14296" class="l"><a class="l" href="#14296">14296: </a>
</span><span id="14297" class="l"><a class="l" href="#14297">14297: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_parse" href="#_parse">parse</a>(&amp;<span class="php-var">$data</span>, <span class="php-var">$encoding</span>)
</span><span id="14298" class="l"><a class="l" href="#14298">14298: </a>    {
</span><span id="14299" class="l"><a class="l" href="#14299">14299: </a>        <span class="php-comment">// Use UTF-8 if we get passed US-ASCII, as every US-ASCII character is a UTF-8 character</span>
</span><span id="14300" class="l"><a class="l" href="#14300">14300: </a>        <span class="php-keyword1">if</span> (<span class="php-keyword2">strtoupper</span>(<span class="php-var">$encoding</span>) === <span class="php-quote">'US-ASCII'</span>)
</span><span id="14301" class="l"><a class="l" href="#14301">14301: </a>        {
</span><span id="14302" class="l"><a class="l" href="#14302">14302: </a>            <span class="php-var">$this</span>-&gt;encoding = <span class="php-quote">'UTF-8'</span>;
</span><span id="14303" class="l"><a class="l" href="#14303">14303: </a>        }
</span><span id="14304" class="l"><a class="l" href="#14304">14304: </a>        <span class="php-keyword1">else</span>
</span><span id="14305" class="l"><a class="l" href="#14305">14305: </a>        {
</span><span id="14306" class="l"><a class="l" href="#14306">14306: </a>            <span class="php-var">$this</span>-&gt;encoding = <span class="php-var">$encoding</span>;
</span><span id="14307" class="l"><a class="l" href="#14307">14307: </a>        }
</span><span id="14308" class="l"><a class="l" href="#14308">14308: </a>
</span><span id="14309" class="l"><a class="l" href="#14309">14309: </a>        <span class="php-comment">// Strip BOM:</span>
</span><span id="14310" class="l"><a class="l" href="#14310">14310: </a>        <span class="php-comment">// UTF-32 Big Endian BOM</span>
</span><span id="14311" class="l"><a class="l" href="#14311">14311: </a>        <span class="php-keyword1">if</span> (<span class="php-keyword2">substr</span>(<span class="php-var">$data</span>, <span class="php-num">0</span>, <span class="php-num">4</span>) === <span class="php-quote">&quot;\x00\x00\xFE\xFF&quot;</span>)
</span><span id="14312" class="l"><a class="l" href="#14312">14312: </a>        {
</span><span id="14313" class="l"><a class="l" href="#14313">14313: </a>            <span class="php-var">$data</span> = <span class="php-keyword2">substr</span>(<span class="php-var">$data</span>, <span class="php-num">4</span>);
</span><span id="14314" class="l"><a class="l" href="#14314">14314: </a>        }
</span><span id="14315" class="l"><a class="l" href="#14315">14315: </a>        <span class="php-comment">// UTF-32 Little Endian BOM</span>
</span><span id="14316" class="l"><a class="l" href="#14316">14316: </a>        <span class="php-keyword1">elseif</span> (<span class="php-keyword2">substr</span>(<span class="php-var">$data</span>, <span class="php-num">0</span>, <span class="php-num">4</span>) === <span class="php-quote">&quot;\xFF\xFE\x00\x00&quot;</span>)
</span><span id="14317" class="l"><a class="l" href="#14317">14317: </a>        {
</span><span id="14318" class="l"><a class="l" href="#14318">14318: </a>            <span class="php-var">$data</span> = <span class="php-keyword2">substr</span>(<span class="php-var">$data</span>, <span class="php-num">4</span>);
</span><span id="14319" class="l"><a class="l" href="#14319">14319: </a>        }
</span><span id="14320" class="l"><a class="l" href="#14320">14320: </a>        <span class="php-comment">// UTF-16 Big Endian BOM</span>
</span><span id="14321" class="l"><a class="l" href="#14321">14321: </a>        <span class="php-keyword1">elseif</span> (<span class="php-keyword2">substr</span>(<span class="php-var">$data</span>, <span class="php-num">0</span>, <span class="php-num">2</span>) === <span class="php-quote">&quot;\xFE\xFF&quot;</span>)
</span><span id="14322" class="l"><a class="l" href="#14322">14322: </a>        {
</span><span id="14323" class="l"><a class="l" href="#14323">14323: </a>            <span class="php-var">$data</span> = <span class="php-keyword2">substr</span>(<span class="php-var">$data</span>, <span class="php-num">2</span>);
</span><span id="14324" class="l"><a class="l" href="#14324">14324: </a>        }
</span><span id="14325" class="l"><a class="l" href="#14325">14325: </a>        <span class="php-comment">// UTF-16 Little Endian BOM</span>
</span><span id="14326" class="l"><a class="l" href="#14326">14326: </a>        <span class="php-keyword1">elseif</span> (<span class="php-keyword2">substr</span>(<span class="php-var">$data</span>, <span class="php-num">0</span>, <span class="php-num">2</span>) === <span class="php-quote">&quot;\xFF\xFE&quot;</span>)
</span><span id="14327" class="l"><a class="l" href="#14327">14327: </a>        {
</span><span id="14328" class="l"><a class="l" href="#14328">14328: </a>            <span class="php-var">$data</span> = <span class="php-keyword2">substr</span>(<span class="php-var">$data</span>, <span class="php-num">2</span>);
</span><span id="14329" class="l"><a class="l" href="#14329">14329: </a>        }
</span><span id="14330" class="l"><a class="l" href="#14330">14330: </a>        <span class="php-comment">// UTF-8 BOM</span>
</span><span id="14331" class="l"><a class="l" href="#14331">14331: </a>        <span class="php-keyword1">elseif</span> (<span class="php-keyword2">substr</span>(<span class="php-var">$data</span>, <span class="php-num">0</span>, <span class="php-num">3</span>) === <span class="php-quote">&quot;\xEF\xBB\xBF&quot;</span>)
</span><span id="14332" class="l"><a class="l" href="#14332">14332: </a>        {
</span><span id="14333" class="l"><a class="l" href="#14333">14333: </a>            <span class="php-var">$data</span> = <span class="php-keyword2">substr</span>(<span class="php-var">$data</span>, <span class="php-num">3</span>);
</span><span id="14334" class="l"><a class="l" href="#14334">14334: </a>        }
</span><span id="14335" class="l"><a class="l" href="#14335">14335: </a>
</span><span id="14336" class="l"><a class="l" href="#14336">14336: </a>        <span class="php-keyword1">if</span> (<span class="php-keyword2">substr</span>(<span class="php-var">$data</span>, <span class="php-num">0</span>, <span class="php-num">5</span>) === <span class="php-quote">'&lt;?xml'</span> &amp;&amp; <span class="php-keyword2">strspn</span>(<span class="php-keyword2">substr</span>(<span class="php-var">$data</span>, <span class="php-num">5</span>, <span class="php-num">1</span>), <span class="php-quote">&quot;\x09\x0A\x0D\x20&quot;</span>) &amp;&amp; (<span class="php-var">$pos</span> = <span class="php-keyword2">strpos</span>(<span class="php-var">$data</span>, <span class="php-quote">'?&gt;'</span>)) !== <span class="php-keyword1">false</span>)
</span><span id="14337" class="l"><a class="l" href="#14337">14337: </a>        {
</span><span id="14338" class="l"><a class="l" href="#14338">14338: </a>            <span class="php-var">$declaration</span> = <span class="php-var">$this</span>-&gt;registry-&gt;create(<span class="php-quote">'XML_Declaration_Parser'</span>, <span class="php-keyword1">array</span>(<span class="php-keyword2">substr</span>(<span class="php-var">$data</span>, <span class="php-num">5</span>, <span class="php-var">$pos</span> - <span class="php-num">5</span>)));
</span><span id="14339" class="l"><a class="l" href="#14339">14339: </a>            <span class="php-keyword1">if</span> (<span class="php-var">$declaration</span>-&gt;parse())
</span><span id="14340" class="l"><a class="l" href="#14340">14340: </a>            {
</span><span id="14341" class="l"><a class="l" href="#14341">14341: </a>                <span class="php-var">$data</span> = <span class="php-keyword2">substr</span>(<span class="php-var">$data</span>, <span class="php-var">$pos</span> + <span class="php-num">2</span>);
</span><span id="14342" class="l"><a class="l" href="#14342">14342: </a>                <span class="php-var">$data</span> = <span class="php-quote">'&lt;?xml version=&quot;'</span> . <span class="php-var">$declaration</span>-&gt;version . <span class="php-quote">'&quot; encoding=&quot;'</span> . <span class="php-var">$encoding</span> . <span class="php-quote">'&quot; standalone=&quot;'</span> . ((<span class="php-var">$declaration</span>-&gt;standalone) ? <span class="php-quote">'yes'</span> : <span class="php-quote">'no'</span>) . <span class="php-quote">'&quot;?&gt;'</span> . <span class="php-var">$data</span>;
</span><span id="14343" class="l"><a class="l" href="#14343">14343: </a>            }
</span><span id="14344" class="l"><a class="l" href="#14344">14344: </a>            <span class="php-keyword1">else</span>
</span><span id="14345" class="l"><a class="l" href="#14345">14345: </a>            {
</span><span id="14346" class="l"><a class="l" href="#14346">14346: </a>                <span class="php-var">$this</span>-&gt;error_string = <span class="php-quote">'SimplePie bug! Please report this!'</span>;
</span><span id="14347" class="l"><a class="l" href="#14347">14347: </a>                <span class="php-keyword1">return</span> <span class="php-keyword1">false</span>;
</span><span id="14348" class="l"><a class="l" href="#14348">14348: </a>            }
</span><span id="14349" class="l"><a class="l" href="#14349">14349: </a>        }
</span><span id="14350" class="l"><a class="l" href="#14350">14350: </a>
</span><span id="14351" class="l"><a class="l" href="#14351">14351: </a>        <span class="php-var">$return</span> = <span class="php-keyword1">true</span>;
</span><span id="14352" class="l"><a class="l" href="#14352">14352: </a>
</span><span id="14353" class="l"><a class="l" href="#14353">14353: </a>        <span class="php-keyword1">static</span> <span class="php-var"><a id="$xml_is_sane" href="#$xml_is_sane">$xml_is_sane</a></span> = <span class="php-keyword1">null</span>;
</span><span id="14354" class="l"><a class="l" href="#14354">14354: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$xml_is_sane</span> === <span class="php-keyword1">null</span>)
</span><span id="14355" class="l"><a class="l" href="#14355">14355: </a>        {
</span><span id="14356" class="l"><a class="l" href="#14356">14356: </a>            <span class="php-var">$parser_check</span> = <span class="php-keyword2">xml_parser_create</span>();
</span><span id="14357" class="l"><a class="l" href="#14357">14357: </a>            <span class="php-keyword2">xml_parse_into_struct</span>(<span class="php-var">$parser_check</span>, <span class="php-quote">'&lt;foo&gt;&amp;amp;&lt;/foo&gt;'</span>, <span class="php-var">$values</span>);
</span><span id="14358" class="l"><a class="l" href="#14358">14358: </a>            <span class="php-keyword2">xml_parser_free</span>(<span class="php-var">$parser_check</span>);
</span><span id="14359" class="l"><a class="l" href="#14359">14359: </a>            <span class="php-var">$xml_is_sane</span> = <span class="php-keyword1">isset</span>(<span class="php-var">$values</span>[<span class="php-num">0</span>][<span class="php-quote">'value'</span>]);
</span><span id="14360" class="l"><a class="l" href="#14360">14360: </a>        }
</span><span id="14361" class="l"><a class="l" href="#14361">14361: </a>
</span><span id="14362" class="l"><a class="l" href="#14362">14362: </a>        <span class="php-comment">// Create the parser</span>
</span><span id="14363" class="l"><a class="l" href="#14363">14363: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$xml_is_sane</span>)
</span><span id="14364" class="l"><a class="l" href="#14364">14364: </a>        {
</span><span id="14365" class="l"><a class="l" href="#14365">14365: </a>            <span class="php-var">$xml</span> = <span class="php-keyword2">xml_parser_create_ns</span>(<span class="php-var">$this</span>-&gt;encoding, <span class="php-var">$this</span>-&gt;separator);
</span><span id="14366" class="l"><a class="l" href="#14366">14366: </a>            <span class="php-keyword2">xml_parser_set_option</span>(<span class="php-var">$xml</span>, XML_OPTION_SKIP_WHITE, <span class="php-num">1</span>);
</span><span id="14367" class="l"><a class="l" href="#14367">14367: </a>            <span class="php-keyword2">xml_parser_set_option</span>(<span class="php-var">$xml</span>, XML_OPTION_CASE_FOLDING, <span class="php-num">0</span>);
</span><span id="14368" class="l"><a class="l" href="#14368">14368: </a>            <span class="php-keyword2">xml_set_object</span>(<span class="php-var">$xml</span>, <span class="php-var">$this</span>);
</span><span id="14369" class="l"><a class="l" href="#14369">14369: </a>            <span class="php-keyword2">xml_set_character_data_handler</span>(<span class="php-var">$xml</span>, <span class="php-quote">'cdata'</span>);
</span><span id="14370" class="l"><a class="l" href="#14370">14370: </a>            <span class="php-keyword2">xml_set_element_handler</span>(<span class="php-var">$xml</span>, <span class="php-quote">'tag_open'</span>, <span class="php-quote">'tag_close'</span>);
</span><span id="14371" class="l"><a class="l" href="#14371">14371: </a>
</span><span id="14372" class="l"><a class="l" href="#14372">14372: </a>            <span class="php-comment">// Parse!</span>
</span><span id="14373" class="l"><a class="l" href="#14373">14373: </a>            <span class="php-keyword1">if</span> (!<span class="php-keyword2">xml_parse</span>(<span class="php-var">$xml</span>, <span class="php-var">$data</span>, <span class="php-keyword1">true</span>))
</span><span id="14374" class="l"><a class="l" href="#14374">14374: </a>            {
</span><span id="14375" class="l"><a class="l" href="#14375">14375: </a>                <span class="php-var">$this</span>-&gt;error_code = <span class="php-keyword2">xml_get_error_code</span>(<span class="php-var">$xml</span>);
</span><span id="14376" class="l"><a class="l" href="#14376">14376: </a>                <span class="php-var">$this</span>-&gt;error_string = <span class="php-keyword2">xml_error_string</span>(<span class="php-var">$this</span>-&gt;error_code);
</span><span id="14377" class="l"><a class="l" href="#14377">14377: </a>                <span class="php-var">$return</span> = <span class="php-keyword1">false</span>;
</span><span id="14378" class="l"><a class="l" href="#14378">14378: </a>            }
</span><span id="14379" class="l"><a class="l" href="#14379">14379: </a>            <span class="php-var">$this</span>-&gt;current_line = <span class="php-keyword2">xml_get_current_line_number</span>(<span class="php-var">$xml</span>);
</span><span id="14380" class="l"><a class="l" href="#14380">14380: </a>            <span class="php-var">$this</span>-&gt;current_column = <span class="php-keyword2">xml_get_current_column_number</span>(<span class="php-var">$xml</span>);
</span><span id="14381" class="l"><a class="l" href="#14381">14381: </a>            <span class="php-var">$this</span>-&gt;current_byte = <span class="php-keyword2">xml_get_current_byte_index</span>(<span class="php-var">$xml</span>);
</span><span id="14382" class="l"><a class="l" href="#14382">14382: </a>            <span class="php-keyword2">xml_parser_free</span>(<span class="php-var">$xml</span>);
</span><span id="14383" class="l"><a class="l" href="#14383">14383: </a>            <span class="php-keyword1">return</span> <span class="php-var">$return</span>;
</span><span id="14384" class="l"><a class="l" href="#14384">14384: </a>        }
</span><span id="14385" class="l"><a class="l" href="#14385">14385: </a>        <span class="php-keyword1">else</span>
</span><span id="14386" class="l"><a class="l" href="#14386">14386: </a>        {
</span><span id="14387" class="l"><a class="l" href="#14387">14387: </a>            <span class="php-keyword2">libxml_clear_errors</span>();
</span><span id="14388" class="l"><a class="l" href="#14388">14388: </a>            <span class="php-var">$xml</span> = <span class="php-keyword1">new</span> XMLReader();
</span><span id="14389" class="l"><a class="l" href="#14389">14389: </a>            <span class="php-var">$xml</span>-&gt;xml(<span class="php-var">$data</span>);
</span><span id="14390" class="l"><a class="l" href="#14390">14390: </a>            <span class="php-keyword1">while</span> (@<span class="php-var">$xml</span>-&gt;read())
</span><span id="14391" class="l"><a class="l" href="#14391">14391: </a>            {
</span><span id="14392" class="l"><a class="l" href="#14392">14392: </a>                <span class="php-keyword1">switch</span> (<span class="php-var">$xml</span>-&gt;nodeType)
</span><span id="14393" class="l"><a class="l" href="#14393">14393: </a>                {
</span><span id="14394" class="l"><a class="l" href="#14394">14394: </a>
</span><span id="14395" class="l"><a class="l" href="#14395">14395: </a>                    <span class="php-keyword1">case</span> <span class="php-keyword2">constant</span>(<span class="php-quote">'XMLReader::END_ELEMENT'</span>):
</span><span id="14396" class="l"><a class="l" href="#14396">14396: </a>                        <span class="php-keyword1">if</span> (<span class="php-var">$xml</span>-&gt;namespaceURI !== <span class="php-quote">''</span>)
</span><span id="14397" class="l"><a class="l" href="#14397">14397: </a>                        {
</span><span id="14398" class="l"><a class="l" href="#14398">14398: </a>                            <span class="php-var">$tagName</span> = <span class="php-var">$xml</span>-&gt;namespaceURI . <span class="php-var">$this</span>-&gt;separator . <span class="php-var">$xml</span>-&gt;localName;
</span><span id="14399" class="l"><a class="l" href="#14399">14399: </a>                        }
</span><span id="14400" class="l"><a class="l" href="#14400">14400: </a>                        <span class="php-keyword1">else</span>
</span><span id="14401" class="l"><a class="l" href="#14401">14401: </a>                        {
</span><span id="14402" class="l"><a class="l" href="#14402">14402: </a>                            <span class="php-var">$tagName</span> = <span class="php-var">$xml</span>-&gt;localName;
</span><span id="14403" class="l"><a class="l" href="#14403">14403: </a>                        }
</span><span id="14404" class="l"><a class="l" href="#14404">14404: </a>                        <span class="php-var">$this</span>-&gt;tag_close(<span class="php-keyword1">null</span>, <span class="php-var">$tagName</span>);
</span><span id="14405" class="l"><a class="l" href="#14405">14405: </a>                        <span class="php-keyword1">break</span>;
</span><span id="14406" class="l"><a class="l" href="#14406">14406: </a>                    <span class="php-keyword1">case</span> <span class="php-keyword2">constant</span>(<span class="php-quote">'XMLReader::ELEMENT'</span>):
</span><span id="14407" class="l"><a class="l" href="#14407">14407: </a>                        <span class="php-var">$empty</span> = <span class="php-var">$xml</span>-&gt;isEmptyElement;
</span><span id="14408" class="l"><a class="l" href="#14408">14408: </a>                        <span class="php-keyword1">if</span> (<span class="php-var">$xml</span>-&gt;namespaceURI !== <span class="php-quote">''</span>)
</span><span id="14409" class="l"><a class="l" href="#14409">14409: </a>                        {
</span><span id="14410" class="l"><a class="l" href="#14410">14410: </a>                            <span class="php-var">$tagName</span> = <span class="php-var">$xml</span>-&gt;namespaceURI . <span class="php-var">$this</span>-&gt;separator . <span class="php-var">$xml</span>-&gt;localName;
</span><span id="14411" class="l"><a class="l" href="#14411">14411: </a>                        }
</span><span id="14412" class="l"><a class="l" href="#14412">14412: </a>                        <span class="php-keyword1">else</span>
</span><span id="14413" class="l"><a class="l" href="#14413">14413: </a>                        {
</span><span id="14414" class="l"><a class="l" href="#14414">14414: </a>                            <span class="php-var">$tagName</span> = <span class="php-var">$xml</span>-&gt;localName;
</span><span id="14415" class="l"><a class="l" href="#14415">14415: </a>                        }
</span><span id="14416" class="l"><a class="l" href="#14416">14416: </a>                        <span class="php-var">$attributes</span> = <span class="php-keyword1">array</span>();
</span><span id="14417" class="l"><a class="l" href="#14417">14417: </a>                        <span class="php-keyword1">while</span> (<span class="php-var">$xml</span>-&gt;moveToNextAttribute())
</span><span id="14418" class="l"><a class="l" href="#14418">14418: </a>                        {
</span><span id="14419" class="l"><a class="l" href="#14419">14419: </a>                            <span class="php-keyword1">if</span> (<span class="php-var">$xml</span>-&gt;namespaceURI !== <span class="php-quote">''</span>)
</span><span id="14420" class="l"><a class="l" href="#14420">14420: </a>                            {
</span><span id="14421" class="l"><a class="l" href="#14421">14421: </a>                                <span class="php-var">$attrName</span> = <span class="php-var">$xml</span>-&gt;namespaceURI . <span class="php-var">$this</span>-&gt;separator . <span class="php-var">$xml</span>-&gt;localName;
</span><span id="14422" class="l"><a class="l" href="#14422">14422: </a>                            }
</span><span id="14423" class="l"><a class="l" href="#14423">14423: </a>                            <span class="php-keyword1">else</span>
</span><span id="14424" class="l"><a class="l" href="#14424">14424: </a>                            {
</span><span id="14425" class="l"><a class="l" href="#14425">14425: </a>                                <span class="php-var">$attrName</span> = <span class="php-var">$xml</span>-&gt;localName;
</span><span id="14426" class="l"><a class="l" href="#14426">14426: </a>                            }
</span><span id="14427" class="l"><a class="l" href="#14427">14427: </a>                            <span class="php-var">$attributes</span>[<span class="php-var">$attrName</span>] = <span class="php-var">$xml</span>-&gt;value;
</span><span id="14428" class="l"><a class="l" href="#14428">14428: </a>                        }
</span><span id="14429" class="l"><a class="l" href="#14429">14429: </a>                        <span class="php-var">$this</span>-&gt;tag_open(<span class="php-keyword1">null</span>, <span class="php-var">$tagName</span>, <span class="php-var">$attributes</span>);
</span><span id="14430" class="l"><a class="l" href="#14430">14430: </a>                        <span class="php-keyword1">if</span> (<span class="php-var">$empty</span>)
</span><span id="14431" class="l"><a class="l" href="#14431">14431: </a>                        {
</span><span id="14432" class="l"><a class="l" href="#14432">14432: </a>                            <span class="php-var">$this</span>-&gt;tag_close(<span class="php-keyword1">null</span>, <span class="php-var">$tagName</span>);
</span><span id="14433" class="l"><a class="l" href="#14433">14433: </a>                        }
</span><span id="14434" class="l"><a class="l" href="#14434">14434: </a>                        <span class="php-keyword1">break</span>;
</span><span id="14435" class="l"><a class="l" href="#14435">14435: </a>                    <span class="php-keyword1">case</span> <span class="php-keyword2">constant</span>(<span class="php-quote">'XMLReader::TEXT'</span>):
</span><span id="14436" class="l"><a class="l" href="#14436">14436: </a>
</span><span id="14437" class="l"><a class="l" href="#14437">14437: </a>                    <span class="php-keyword1">case</span> <span class="php-keyword2">constant</span>(<span class="php-quote">'XMLReader::CDATA'</span>):
</span><span id="14438" class="l"><a class="l" href="#14438">14438: </a>                        <span class="php-var">$this</span>-&gt;cdata(<span class="php-keyword1">null</span>, <span class="php-var">$xml</span>-&gt;value);
</span><span id="14439" class="l"><a class="l" href="#14439">14439: </a>                        <span class="php-keyword1">break</span>;
</span><span id="14440" class="l"><a class="l" href="#14440">14440: </a>                }
</span><span id="14441" class="l"><a class="l" href="#14441">14441: </a>            }
</span><span id="14442" class="l"><a class="l" href="#14442">14442: </a>            <span class="php-keyword1">if</span> (<span class="php-var">$error</span> = <span class="php-keyword2">libxml_get_last_error</span>())
</span><span id="14443" class="l"><a class="l" href="#14443">14443: </a>            {
</span><span id="14444" class="l"><a class="l" href="#14444">14444: </a>                <span class="php-var">$this</span>-&gt;error_code = <span class="php-var">$error</span>-&gt;code;
</span><span id="14445" class="l"><a class="l" href="#14445">14445: </a>                <span class="php-var">$this</span>-&gt;error_string = <span class="php-var">$error</span>-&gt;message;
</span><span id="14446" class="l"><a class="l" href="#14446">14446: </a>                <span class="php-var">$this</span>-&gt;current_line = <span class="php-var">$error</span>-&gt;line;
</span><span id="14447" class="l"><a class="l" href="#14447">14447: </a>                <span class="php-var">$this</span>-&gt;current_column = <span class="php-var">$error</span>-&gt;column;
</span><span id="14448" class="l"><a class="l" href="#14448">14448: </a>                <span class="php-keyword1">return</span> <span class="php-keyword1">false</span>;
</span><span id="14449" class="l"><a class="l" href="#14449">14449: </a>            }
</span><span id="14450" class="l"><a class="l" href="#14450">14450: </a>            <span class="php-keyword1">else</span>
</span><span id="14451" class="l"><a class="l" href="#14451">14451: </a>            {
</span><span id="14452" class="l"><a class="l" href="#14452">14452: </a>                <span class="php-keyword1">return</span> <span class="php-keyword1">true</span>;
</span><span id="14453" class="l"><a class="l" href="#14453">14453: </a>            }
</span><span id="14454" class="l"><a class="l" href="#14454">14454: </a>        }
</span><span id="14455" class="l"><a class="l" href="#14455">14455: </a>    }
</span><span id="14456" class="l"><a class="l" href="#14456">14456: </a>
</span><span id="14457" class="l"><a class="l" href="#14457">14457: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_get_error_code" href="#_get_error_code">get_error_code</a>()
</span><span id="14458" class="l"><a class="l" href="#14458">14458: </a>    {
</span><span id="14459" class="l"><a class="l" href="#14459">14459: </a>        <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;error_code;
</span><span id="14460" class="l"><a class="l" href="#14460">14460: </a>    }
</span><span id="14461" class="l"><a class="l" href="#14461">14461: </a>
</span><span id="14462" class="l"><a class="l" href="#14462">14462: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_get_error_string" href="#_get_error_string">get_error_string</a>()
</span><span id="14463" class="l"><a class="l" href="#14463">14463: </a>    {
</span><span id="14464" class="l"><a class="l" href="#14464">14464: </a>        <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;error_string;
</span><span id="14465" class="l"><a class="l" href="#14465">14465: </a>    }
</span><span id="14466" class="l"><a class="l" href="#14466">14466: </a>
</span><span id="14467" class="l"><a class="l" href="#14467">14467: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_get_current_line" href="#_get_current_line">get_current_line</a>()
</span><span id="14468" class="l"><a class="l" href="#14468">14468: </a>    {
</span><span id="14469" class="l"><a class="l" href="#14469">14469: </a>        <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;current_line;
</span><span id="14470" class="l"><a class="l" href="#14470">14470: </a>    }
</span><span id="14471" class="l"><a class="l" href="#14471">14471: </a>
</span><span id="14472" class="l"><a class="l" href="#14472">14472: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_get_current_column" href="#_get_current_column">get_current_column</a>()
</span><span id="14473" class="l"><a class="l" href="#14473">14473: </a>    {
</span><span id="14474" class="l"><a class="l" href="#14474">14474: </a>        <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;current_column;
</span><span id="14475" class="l"><a class="l" href="#14475">14475: </a>    }
</span><span id="14476" class="l"><a class="l" href="#14476">14476: </a>
</span><span id="14477" class="l"><a class="l" href="#14477">14477: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_get_current_byte" href="#_get_current_byte">get_current_byte</a>()
</span><span id="14478" class="l"><a class="l" href="#14478">14478: </a>    {
</span><span id="14479" class="l"><a class="l" href="#14479">14479: </a>        <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;current_byte;
</span><span id="14480" class="l"><a class="l" href="#14480">14480: </a>    }
</span><span id="14481" class="l"><a class="l" href="#14481">14481: </a>
</span><span id="14482" class="l"><a class="l" href="#14482">14482: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_get_data" href="#_get_data">get_data</a>()
</span><span id="14483" class="l"><a class="l" href="#14483">14483: </a>    {
</span><span id="14484" class="l"><a class="l" href="#14484">14484: </a>        <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;data;
</span><span id="14485" class="l"><a class="l" href="#14485">14485: </a>    }
</span><span id="14486" class="l"><a class="l" href="#14486">14486: </a>
</span><span id="14487" class="l"><a class="l" href="#14487">14487: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_tag_open" href="#_tag_open">tag_open</a>(<span class="php-var">$parser</span>, <span class="php-var">$tag</span>, <span class="php-var">$attributes</span>)
</span><span id="14488" class="l"><a class="l" href="#14488">14488: </a>    {
</span><span id="14489" class="l"><a class="l" href="#14489">14489: </a>        <span class="php-keyword1">list</span>(<span class="php-var">$this</span>-&gt;<span class="php-keyword1">namespace</span>[], <span class="php-var">$this</span>-&gt;element[]) = <span class="php-var">$this</span>-&gt;split_ns(<span class="php-var">$tag</span>);
</span><span id="14490" class="l"><a class="l" href="#14490">14490: </a>
</span><span id="14491" class="l"><a class="l" href="#14491">14491: </a>        <span class="php-var">$attribs</span> = <span class="php-keyword1">array</span>();
</span><span id="14492" class="l"><a class="l" href="#14492">14492: </a>        <span class="php-keyword1">foreach</span> (<span class="php-var">$attributes</span> <span class="php-keyword1">as</span> <span class="php-var">$name</span> =&gt; <span class="php-var">$value</span>)
</span><span id="14493" class="l"><a class="l" href="#14493">14493: </a>        {
</span><span id="14494" class="l"><a class="l" href="#14494">14494: </a>            <span class="php-keyword1">list</span>(<span class="php-var">$attrib_namespace</span>, <span class="php-var">$attribute</span>) = <span class="php-var">$this</span>-&gt;split_ns(<span class="php-var">$name</span>);
</span><span id="14495" class="l"><a class="l" href="#14495">14495: </a>            <span class="php-var">$attribs</span>[<span class="php-var">$attrib_namespace</span>][<span class="php-var">$attribute</span>] = <span class="php-var">$value</span>;
</span><span id="14496" class="l"><a class="l" href="#14496">14496: </a>        }
</span><span id="14497" class="l"><a class="l" href="#14497">14497: </a>
</span><span id="14498" class="l"><a class="l" href="#14498">14498: </a>        <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$attribs</span>[SIMPLEPIE_NAMESPACE_XML][<span class="php-quote">'base'</span>]))
</span><span id="14499" class="l"><a class="l" href="#14499">14499: </a>        {
</span><span id="14500" class="l"><a class="l" href="#14500">14500: </a>            <span class="php-var">$this</span>-&gt;xml_base[] = <span class="php-var">$this</span>-&gt;registry-&gt;call(<span class="php-quote">'Misc'</span>, <span class="php-quote">'absolutize_url'</span>, <span class="php-keyword1">array</span>(<span class="php-var">$attribs</span>[SIMPLEPIE_NAMESPACE_XML][<span class="php-quote">'base'</span>], <span class="php-keyword2">end</span>(<span class="php-var">$this</span>-&gt;xml_base)));
</span><span id="14501" class="l"><a class="l" href="#14501">14501: </a>            <span class="php-var">$this</span>-&gt;xml_base_explicit[] = <span class="php-keyword1">true</span>;
</span><span id="14502" class="l"><a class="l" href="#14502">14502: </a>        }
</span><span id="14503" class="l"><a class="l" href="#14503">14503: </a>        <span class="php-keyword1">else</span>
</span><span id="14504" class="l"><a class="l" href="#14504">14504: </a>        {
</span><span id="14505" class="l"><a class="l" href="#14505">14505: </a>            <span class="php-var">$this</span>-&gt;xml_base[] = <span class="php-keyword2">end</span>(<span class="php-var">$this</span>-&gt;xml_base);
</span><span id="14506" class="l"><a class="l" href="#14506">14506: </a>            <span class="php-var">$this</span>-&gt;xml_base_explicit[] = <span class="php-keyword2">end</span>(<span class="php-var">$this</span>-&gt;xml_base_explicit);
</span><span id="14507" class="l"><a class="l" href="#14507">14507: </a>        }
</span><span id="14508" class="l"><a class="l" href="#14508">14508: </a>
</span><span id="14509" class="l"><a class="l" href="#14509">14509: </a>        <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$attribs</span>[SIMPLEPIE_NAMESPACE_XML][<span class="php-quote">'lang'</span>]))
</span><span id="14510" class="l"><a class="l" href="#14510">14510: </a>        {
</span><span id="14511" class="l"><a class="l" href="#14511">14511: </a>            <span class="php-var">$this</span>-&gt;xml_lang[] = <span class="php-var">$attribs</span>[SIMPLEPIE_NAMESPACE_XML][<span class="php-quote">'lang'</span>];
</span><span id="14512" class="l"><a class="l" href="#14512">14512: </a>        }
</span><span id="14513" class="l"><a class="l" href="#14513">14513: </a>        <span class="php-keyword1">else</span>
</span><span id="14514" class="l"><a class="l" href="#14514">14514: </a>        {
</span><span id="14515" class="l"><a class="l" href="#14515">14515: </a>            <span class="php-var">$this</span>-&gt;xml_lang[] = <span class="php-keyword2">end</span>(<span class="php-var">$this</span>-&gt;xml_lang);
</span><span id="14516" class="l"><a class="l" href="#14516">14516: </a>        }
</span><span id="14517" class="l"><a class="l" href="#14517">14517: </a>
</span><span id="14518" class="l"><a class="l" href="#14518">14518: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$this</span>-&gt;current_xhtml_construct &gt;= <span class="php-num">0</span>)
</span><span id="14519" class="l"><a class="l" href="#14519">14519: </a>        {
</span><span id="14520" class="l"><a class="l" href="#14520">14520: </a>            <span class="php-var">$this</span>-&gt;current_xhtml_construct++;
</span><span id="14521" class="l"><a class="l" href="#14521">14521: </a>            <span class="php-keyword1">if</span> (<span class="php-keyword2">end</span>(<span class="php-var">$this</span>-&gt;<span class="php-keyword1">namespace</span>) === SIMPLEPIE_NAMESPACE_XHTML)
</span><span id="14522" class="l"><a class="l" href="#14522">14522: </a>            {
</span><span id="14523" class="l"><a class="l" href="#14523">14523: </a>                <span class="php-var">$this</span>-&gt;data[<span class="php-quote">'data'</span>] .= <span class="php-quote">'&lt;'</span> . <span class="php-keyword2">end</span>(<span class="php-var">$this</span>-&gt;element);
</span><span id="14524" class="l"><a class="l" href="#14524">14524: </a>                <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$attribs</span>[<span class="php-quote">''</span>]))
</span><span id="14525" class="l"><a class="l" href="#14525">14525: </a>                {
</span><span id="14526" class="l"><a class="l" href="#14526">14526: </a>                    <span class="php-keyword1">foreach</span> (<span class="php-var">$attribs</span>[<span class="php-quote">''</span>] <span class="php-keyword1">as</span> <span class="php-var">$name</span> =&gt; <span class="php-var">$value</span>)
</span><span id="14527" class="l"><a class="l" href="#14527">14527: </a>                    {
</span><span id="14528" class="l"><a class="l" href="#14528">14528: </a>                        <span class="php-var">$this</span>-&gt;data[<span class="php-quote">'data'</span>] .= <span class="php-quote">' '</span> . <span class="php-var">$name</span> . <span class="php-quote">'=&quot;'</span> . <span class="php-keyword2">htmlspecialchars</span>(<span class="php-var">$value</span>, ENT_COMPAT, <span class="php-var">$this</span>-&gt;encoding) . <span class="php-quote">'&quot;'</span>;
</span><span id="14529" class="l"><a class="l" href="#14529">14529: </a>                    }
</span><span id="14530" class="l"><a class="l" href="#14530">14530: </a>                }
</span><span id="14531" class="l"><a class="l" href="#14531">14531: </a>                <span class="php-var">$this</span>-&gt;data[<span class="php-quote">'data'</span>] .= <span class="php-quote">'&gt;'</span>;
</span><span id="14532" class="l"><a class="l" href="#14532">14532: </a>            }
</span><span id="14533" class="l"><a class="l" href="#14533">14533: </a>        }
</span><span id="14534" class="l"><a class="l" href="#14534">14534: </a>        <span class="php-keyword1">else</span>
</span><span id="14535" class="l"><a class="l" href="#14535">14535: </a>        {
</span><span id="14536" class="l"><a class="l" href="#14536">14536: </a>            <span class="php-var">$this</span>-&gt;datas[] =&amp; <span class="php-var">$this</span>-&gt;data;
</span><span id="14537" class="l"><a class="l" href="#14537">14537: </a>            <span class="php-var">$this</span>-&gt;data =&amp; <span class="php-var">$this</span>-&gt;data[<span class="php-quote">'child'</span>][<span class="php-keyword2">end</span>(<span class="php-var">$this</span>-&gt;<span class="php-keyword1">namespace</span>)][<span class="php-keyword2">end</span>(<span class="php-var">$this</span>-&gt;element)][];
</span><span id="14538" class="l"><a class="l" href="#14538">14538: </a>            <span class="php-var">$this</span>-&gt;data = <span class="php-keyword1">array</span>(<span class="php-quote">'data'</span> =&gt; <span class="php-quote">''</span>, <span class="php-quote">'attribs'</span> =&gt; <span class="php-var">$attribs</span>, <span class="php-quote">'xml_base'</span> =&gt; <span class="php-keyword2">end</span>(<span class="php-var">$this</span>-&gt;xml_base), <span class="php-quote">'xml_base_explicit'</span> =&gt; <span class="php-keyword2">end</span>(<span class="php-var">$this</span>-&gt;xml_base_explicit), <span class="php-quote">'xml_lang'</span> =&gt; <span class="php-keyword2">end</span>(<span class="php-var">$this</span>-&gt;xml_lang));
</span><span id="14539" class="l"><a class="l" href="#14539">14539: </a>            <span class="php-keyword1">if</span> ((<span class="php-keyword2">end</span>(<span class="php-var">$this</span>-&gt;<span class="php-keyword1">namespace</span>) === SIMPLEPIE_NAMESPACE_ATOM_03 &amp;&amp; <span class="php-keyword2">in_array</span>(<span class="php-keyword2">end</span>(<span class="php-var">$this</span>-&gt;element), <span class="php-keyword1">array</span>(<span class="php-quote">'title'</span>, <span class="php-quote">'tagline'</span>, <span class="php-quote">'copyright'</span>, <span class="php-quote">'info'</span>, <span class="php-quote">'summary'</span>, <span class="php-quote">'content'</span>)) &amp;&amp; <span class="php-keyword1">isset</span>(<span class="php-var">$attribs</span>[<span class="php-quote">''</span>][<span class="php-quote">'mode'</span>]) &amp;&amp; <span class="php-var">$attribs</span>[<span class="php-quote">''</span>][<span class="php-quote">'mode'</span>] === <span class="php-quote">'xml'</span>)
</span><span id="14540" class="l"><a class="l" href="#14540">14540: </a>            || (<span class="php-keyword2">end</span>(<span class="php-var">$this</span>-&gt;<span class="php-keyword1">namespace</span>) === SIMPLEPIE_NAMESPACE_ATOM_10 &amp;&amp; <span class="php-keyword2">in_array</span>(<span class="php-keyword2">end</span>(<span class="php-var">$this</span>-&gt;element), <span class="php-keyword1">array</span>(<span class="php-quote">'rights'</span>, <span class="php-quote">'subtitle'</span>, <span class="php-quote">'summary'</span>, <span class="php-quote">'info'</span>, <span class="php-quote">'title'</span>, <span class="php-quote">'content'</span>)) &amp;&amp; <span class="php-keyword1">isset</span>(<span class="php-var">$attribs</span>[<span class="php-quote">''</span>][<span class="php-quote">'type'</span>]) &amp;&amp; <span class="php-var">$attribs</span>[<span class="php-quote">''</span>][<span class="php-quote">'type'</span>] === <span class="php-quote">'xhtml'</span>))
</span><span id="14541" class="l"><a class="l" href="#14541">14541: </a>            {
</span><span id="14542" class="l"><a class="l" href="#14542">14542: </a>                <span class="php-var">$this</span>-&gt;current_xhtml_construct = <span class="php-num">0</span>;
</span><span id="14543" class="l"><a class="l" href="#14543">14543: </a>            }
</span><span id="14544" class="l"><a class="l" href="#14544">14544: </a>        }
</span><span id="14545" class="l"><a class="l" href="#14545">14545: </a>    }
</span><span id="14546" class="l"><a class="l" href="#14546">14546: </a>
</span><span id="14547" class="l"><a class="l" href="#14547">14547: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_cdata" href="#_cdata">cdata</a>(<span class="php-var">$parser</span>, <span class="php-var">$cdata</span>)
</span><span id="14548" class="l"><a class="l" href="#14548">14548: </a>    {
</span><span id="14549" class="l"><a class="l" href="#14549">14549: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$this</span>-&gt;current_xhtml_construct &gt;= <span class="php-num">0</span>)
</span><span id="14550" class="l"><a class="l" href="#14550">14550: </a>        {
</span><span id="14551" class="l"><a class="l" href="#14551">14551: </a>            <span class="php-var">$this</span>-&gt;data[<span class="php-quote">'data'</span>] .= <span class="php-keyword2">htmlspecialchars</span>(<span class="php-var">$cdata</span>, ENT_QUOTES, <span class="php-var">$this</span>-&gt;encoding);
</span><span id="14552" class="l"><a class="l" href="#14552">14552: </a>        }
</span><span id="14553" class="l"><a class="l" href="#14553">14553: </a>        <span class="php-keyword1">else</span>
</span><span id="14554" class="l"><a class="l" href="#14554">14554: </a>        {
</span><span id="14555" class="l"><a class="l" href="#14555">14555: </a>            <span class="php-var">$this</span>-&gt;data[<span class="php-quote">'data'</span>] .= <span class="php-var">$cdata</span>;
</span><span id="14556" class="l"><a class="l" href="#14556">14556: </a>        }
</span><span id="14557" class="l"><a class="l" href="#14557">14557: </a>    }
</span><span id="14558" class="l"><a class="l" href="#14558">14558: </a>
</span><span id="14559" class="l"><a class="l" href="#14559">14559: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_tag_close" href="#_tag_close">tag_close</a>(<span class="php-var">$parser</span>, <span class="php-var">$tag</span>)
</span><span id="14560" class="l"><a class="l" href="#14560">14560: </a>    {
</span><span id="14561" class="l"><a class="l" href="#14561">14561: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$this</span>-&gt;current_xhtml_construct &gt;= <span class="php-num">0</span>)
</span><span id="14562" class="l"><a class="l" href="#14562">14562: </a>        {
</span><span id="14563" class="l"><a class="l" href="#14563">14563: </a>            <span class="php-var">$this</span>-&gt;current_xhtml_construct--;
</span><span id="14564" class="l"><a class="l" href="#14564">14564: </a>            <span class="php-keyword1">if</span> (<span class="php-keyword2">end</span>(<span class="php-var">$this</span>-&gt;<span class="php-keyword1">namespace</span>) === SIMPLEPIE_NAMESPACE_XHTML &amp;&amp; !<span class="php-keyword2">in_array</span>(<span class="php-keyword2">end</span>(<span class="php-var">$this</span>-&gt;element), <span class="php-keyword1">array</span>(<span class="php-quote">'area'</span>, <span class="php-quote">'base'</span>, <span class="php-quote">'basefont'</span>, <span class="php-quote">'br'</span>, <span class="php-quote">'col'</span>, <span class="php-quote">'frame'</span>, <span class="php-quote">'hr'</span>, <span class="php-quote">'img'</span>, <span class="php-quote">'input'</span>, <span class="php-quote">'isindex'</span>, <span class="php-quote">'link'</span>, <span class="php-quote">'meta'</span>, <span class="php-quote">'param'</span>)))
</span><span id="14565" class="l"><a class="l" href="#14565">14565: </a>            {
</span><span id="14566" class="l"><a class="l" href="#14566">14566: </a>                <span class="php-var">$this</span>-&gt;data[<span class="php-quote">'data'</span>] .= <span class="php-quote">'&lt;/'</span> . <span class="php-keyword2">end</span>(<span class="php-var">$this</span>-&gt;element) . <span class="php-quote">'&gt;'</span>;
</span><span id="14567" class="l"><a class="l" href="#14567">14567: </a>            }
</span><span id="14568" class="l"><a class="l" href="#14568">14568: </a>        }
</span><span id="14569" class="l"><a class="l" href="#14569">14569: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$this</span>-&gt;current_xhtml_construct === -<span class="php-num">1</span>)
</span><span id="14570" class="l"><a class="l" href="#14570">14570: </a>        {
</span><span id="14571" class="l"><a class="l" href="#14571">14571: </a>            <span class="php-var">$this</span>-&gt;data =&amp; <span class="php-var">$this</span>-&gt;datas[<span class="php-keyword2">count</span>(<span class="php-var">$this</span>-&gt;datas) - <span class="php-num">1</span>];
</span><span id="14572" class="l"><a class="l" href="#14572">14572: </a>            <span class="php-keyword2">array_pop</span>(<span class="php-var">$this</span>-&gt;datas);
</span><span id="14573" class="l"><a class="l" href="#14573">14573: </a>        }
</span><span id="14574" class="l"><a class="l" href="#14574">14574: </a>
</span><span id="14575" class="l"><a class="l" href="#14575">14575: </a>        <span class="php-keyword2">array_pop</span>(<span class="php-var">$this</span>-&gt;element);
</span><span id="14576" class="l"><a class="l" href="#14576">14576: </a>        <span class="php-keyword2">array_pop</span>(<span class="php-var">$this</span>-&gt;<span class="php-keyword1">namespace</span>);
</span><span id="14577" class="l"><a class="l" href="#14577">14577: </a>        <span class="php-keyword2">array_pop</span>(<span class="php-var">$this</span>-&gt;xml_base);
</span><span id="14578" class="l"><a class="l" href="#14578">14578: </a>        <span class="php-keyword2">array_pop</span>(<span class="php-var">$this</span>-&gt;xml_base_explicit);
</span><span id="14579" class="l"><a class="l" href="#14579">14579: </a>        <span class="php-keyword2">array_pop</span>(<span class="php-var">$this</span>-&gt;xml_lang);
</span><span id="14580" class="l"><a class="l" href="#14580">14580: </a>    }
</span><span id="14581" class="l"><a class="l" href="#14581">14581: </a>
</span><span id="14582" class="l"><a class="l" href="#14582">14582: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_split_ns" href="#_split_ns">split_ns</a>(<span class="php-var">$string</span>)
</span><span id="14583" class="l"><a class="l" href="#14583">14583: </a>    {
</span><span id="14584" class="l"><a class="l" href="#14584">14584: </a>        <span class="php-keyword1">static</span> <span class="php-var"><a id="$cache" href="#$cache">$cache</a></span> = <span class="php-keyword1">array</span>();
</span><span id="14585" class="l"><a class="l" href="#14585">14585: </a>        <span class="php-keyword1">if</span> (!<span class="php-keyword1">isset</span>(<span class="php-var">$cache</span>[<span class="php-var">$string</span>]))
</span><span id="14586" class="l"><a class="l" href="#14586">14586: </a>        {
</span><span id="14587" class="l"><a class="l" href="#14587">14587: </a>            <span class="php-keyword1">if</span> (<span class="php-var">$pos</span> = <span class="php-keyword2">strpos</span>(<span class="php-var">$string</span>, <span class="php-var">$this</span>-&gt;separator))
</span><span id="14588" class="l"><a class="l" href="#14588">14588: </a>            {
</span><span id="14589" class="l"><a class="l" href="#14589">14589: </a>                <span class="php-keyword1">static</span> <span class="php-var"><a id="$separator_length" href="#$separator_length">$separator_length</a></span>;
</span><span id="14590" class="l"><a class="l" href="#14590">14590: </a>                <span class="php-keyword1">if</span> (!<span class="php-var">$separator_length</span>)
</span><span id="14591" class="l"><a class="l" href="#14591">14591: </a>                {
</span><span id="14592" class="l"><a class="l" href="#14592">14592: </a>                    <span class="php-var">$separator_length</span> = <span class="php-keyword2">strlen</span>(<span class="php-var">$this</span>-&gt;separator);
</span><span id="14593" class="l"><a class="l" href="#14593">14593: </a>                }
</span><span id="14594" class="l"><a class="l" href="#14594">14594: </a>                <span class="php-var">$namespace</span> = <span class="php-keyword2">substr</span>(<span class="php-var">$string</span>, <span class="php-num">0</span>, <span class="php-var">$pos</span>);
</span><span id="14595" class="l"><a class="l" href="#14595">14595: </a>                <span class="php-var">$local_name</span> = <span class="php-keyword2">substr</span>(<span class="php-var">$string</span>, <span class="php-var">$pos</span> + <span class="php-var">$separator_length</span>);
</span><span id="14596" class="l"><a class="l" href="#14596">14596: </a>                <span class="php-keyword1">if</span> (<span class="php-keyword2">strtolower</span>(<span class="php-var">$namespace</span>) === SIMPLEPIE_NAMESPACE_ITUNES)
</span><span id="14597" class="l"><a class="l" href="#14597">14597: </a>                {
</span><span id="14598" class="l"><a class="l" href="#14598">14598: </a>                    <span class="php-var">$namespace</span> = SIMPLEPIE_NAMESPACE_ITUNES;
</span><span id="14599" class="l"><a class="l" href="#14599">14599: </a>                }
</span><span id="14600" class="l"><a class="l" href="#14600">14600: </a>
</span><span id="14601" class="l"><a class="l" href="#14601">14601: </a>                <span class="php-comment">// Normalize the Media RSS namespaces</span>
</span><span id="14602" class="l"><a class="l" href="#14602">14602: </a>                <span class="php-keyword1">if</span> (<span class="php-var">$namespace</span> === SIMPLEPIE_NAMESPACE_MEDIARSS_WRONG ||
</span><span id="14603" class="l"><a class="l" href="#14603">14603: </a>                    <span class="php-var">$namespace</span> === SIMPLEPIE_NAMESPACE_MEDIARSS_WRONG2 ||
</span><span id="14604" class="l"><a class="l" href="#14604">14604: </a>                    <span class="php-var">$namespace</span> === SIMPLEPIE_NAMESPACE_MEDIARSS_WRONG3 ||
</span><span id="14605" class="l"><a class="l" href="#14605">14605: </a>                    <span class="php-var">$namespace</span> === SIMPLEPIE_NAMESPACE_MEDIARSS_WRONG4 ||
</span><span id="14606" class="l"><a class="l" href="#14606">14606: </a>                    <span class="php-var">$namespace</span> === SIMPLEPIE_NAMESPACE_MEDIARSS_WRONG5 )
</span><span id="14607" class="l"><a class="l" href="#14607">14607: </a>                {
</span><span id="14608" class="l"><a class="l" href="#14608">14608: </a>                    <span class="php-var">$namespace</span> = SIMPLEPIE_NAMESPACE_MEDIARSS;
</span><span id="14609" class="l"><a class="l" href="#14609">14609: </a>                }
</span><span id="14610" class="l"><a class="l" href="#14610">14610: </a>                <span class="php-var">$cache</span>[<span class="php-var">$string</span>] = <span class="php-keyword1">array</span>(<span class="php-var">$namespace</span>, <span class="php-var">$local_name</span>);
</span><span id="14611" class="l"><a class="l" href="#14611">14611: </a>            }
</span><span id="14612" class="l"><a class="l" href="#14612">14612: </a>            <span class="php-keyword1">else</span>
</span><span id="14613" class="l"><a class="l" href="#14613">14613: </a>            {
</span><span id="14614" class="l"><a class="l" href="#14614">14614: </a>                <span class="php-var">$cache</span>[<span class="php-var">$string</span>] = <span class="php-keyword1">array</span>(<span class="php-quote">''</span>, <span class="php-var">$string</span>);
</span><span id="14615" class="l"><a class="l" href="#14615">14615: </a>            }
</span><span id="14616" class="l"><a class="l" href="#14616">14616: </a>        }
</span><span id="14617" class="l"><a class="l" href="#14617">14617: </a>        <span class="php-keyword1">return</span> <span class="php-var">$cache</span>[<span class="php-var">$string</span>];
</span><span id="14618" class="l"><a class="l" href="#14618">14618: </a>    }
</span><span id="14619" class="l"><a class="l" href="#14619">14619: </a>}
</span><span id="14620" class="l"><a class="l" href="#14620">14620: </a>
</span><span id="14621" class="l"><a class="l" href="#14621">14621: </a><span class="php-comment">/**
</span></span><span id="14622" class="l"><a class="l" href="#14622">14622: </a><span class="php-comment"> * Handles `&lt;media:rating&gt;` or `&lt;itunes:explicit&gt;` tags as defined in Media RSS and iTunes RSS respectively
</span></span><span id="14623" class="l"><a class="l" href="#14623">14623: </a><span class="php-comment"> *
</span></span><span id="14624" class="l"><a class="l" href="#14624">14624: </a><span class="php-comment"> * Used by {@see SimplePie_Enclosure::get_rating()} and {@see SimplePie_Enclosure::get_ratings()}
</span></span><span id="14625" class="l"><a class="l" href="#14625">14625: </a><span class="php-comment"> *
</span></span><span id="14626" class="l"><a class="l" href="#14626">14626: </a><span class="php-comment"> * This class can be overloaded with {@see SimplePie::set_rating_class()}
</span></span><span id="14627" class="l"><a class="l" href="#14627">14627: </a><span class="php-comment"> *
</span></span><span id="14628" class="l"><a class="l" href="#14628">14628: </a><span class="php-comment"> * @package SimplePie
</span></span><span id="14629" class="l"><a class="l" href="#14629">14629: </a><span class="php-comment"> */</span>
</span><span id="14630" class="l"><a class="l" href="#14630">14630: </a><span class="php-keyword1">class</span> <a id="SimplePie_Rating" href="#SimplePie_Rating">SimplePie_Rating</a>
</span><span id="14631" class="l"><a class="l" href="#14631">14631: </a>{
</span><span id="14632" class="l"><a class="l" href="#14632">14632: </a>    <span class="php-comment">/**
</span></span><span id="14633" class="l"><a class="l" href="#14633">14633: </a><span class="php-comment">     * Rating scheme
</span></span><span id="14634" class="l"><a class="l" href="#14634">14634: </a><span class="php-comment">     *
</span></span><span id="14635" class="l"><a class="l" href="#14635">14635: </a><span class="php-comment">     * @var string
</span></span><span id="14636" class="l"><a class="l" href="#14636">14636: </a><span class="php-comment">     * @see get_scheme()
</span></span><span id="14637" class="l"><a class="l" href="#14637">14637: </a><span class="php-comment">     */</span>
</span><span id="14638" class="l"><a class="l" href="#14638">14638: </a>    <span class="php-keyword1">var</span> <span class="php-var"><a id="$scheme" href="#$scheme">$scheme</a></span>;
</span><span id="14639" class="l"><a class="l" href="#14639">14639: </a>
</span><span id="14640" class="l"><a class="l" href="#14640">14640: </a>    <span class="php-comment">/**
</span></span><span id="14641" class="l"><a class="l" href="#14641">14641: </a><span class="php-comment">     * Rating value
</span></span><span id="14642" class="l"><a class="l" href="#14642">14642: </a><span class="php-comment">     *
</span></span><span id="14643" class="l"><a class="l" href="#14643">14643: </a><span class="php-comment">     * @var string
</span></span><span id="14644" class="l"><a class="l" href="#14644">14644: </a><span class="php-comment">     * @see get_value()
</span></span><span id="14645" class="l"><a class="l" href="#14645">14645: </a><span class="php-comment">     */</span>
</span><span id="14646" class="l"><a class="l" href="#14646">14646: </a>    <span class="php-keyword1">var</span> <span class="php-var"><a id="$value" href="#$value">$value</a></span>;
</span><span id="14647" class="l"><a class="l" href="#14647">14647: </a>
</span><span id="14648" class="l"><a class="l" href="#14648">14648: </a>    <span class="php-comment">/**
</span></span><span id="14649" class="l"><a class="l" href="#14649">14649: </a><span class="php-comment">     * Constructor, used to input the data
</span></span><span id="14650" class="l"><a class="l" href="#14650">14650: </a><span class="php-comment">     *
</span></span><span id="14651" class="l"><a class="l" href="#14651">14651: </a><span class="php-comment">     * For documentation on all the parameters, see the corresponding
</span></span><span id="14652" class="l"><a class="l" href="#14652">14652: </a><span class="php-comment">     * properties and their accessors
</span></span><span id="14653" class="l"><a class="l" href="#14653">14653: </a><span class="php-comment">     */</span>
</span><span id="14654" class="l"><a class="l" href="#14654">14654: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="___construct" href="#___construct">__construct</a>(<span class="php-var">$scheme</span> = <span class="php-keyword1">null</span>, <span class="php-var">$value</span> = <span class="php-keyword1">null</span>)
</span><span id="14655" class="l"><a class="l" href="#14655">14655: </a>    {
</span><span id="14656" class="l"><a class="l" href="#14656">14656: </a>        <span class="php-var">$this</span>-&gt;scheme = <span class="php-var">$scheme</span>;
</span><span id="14657" class="l"><a class="l" href="#14657">14657: </a>        <span class="php-var">$this</span>-&gt;value = <span class="php-var">$value</span>;
</span><span id="14658" class="l"><a class="l" href="#14658">14658: </a>    }
</span><span id="14659" class="l"><a class="l" href="#14659">14659: </a>
</span><span id="14660" class="l"><a class="l" href="#14660">14660: </a>    <span class="php-comment">/**
</span></span><span id="14661" class="l"><a class="l" href="#14661">14661: </a><span class="php-comment">     * String-ified version
</span></span><span id="14662" class="l"><a class="l" href="#14662">14662: </a><span class="php-comment">     *
</span></span><span id="14663" class="l"><a class="l" href="#14663">14663: </a><span class="php-comment">     * @return string
</span></span><span id="14664" class="l"><a class="l" href="#14664">14664: </a><span class="php-comment">     */</span>
</span><span id="14665" class="l"><a class="l" href="#14665">14665: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="___toString" href="#___toString">__toString</a>()
</span><span id="14666" class="l"><a class="l" href="#14666">14666: </a>    {
</span><span id="14667" class="l"><a class="l" href="#14667">14667: </a>        <span class="php-comment">// There is no $this-&gt;data here</span>
</span><span id="14668" class="l"><a class="l" href="#14668">14668: </a>        <span class="php-keyword1">return</span> <span class="php-keyword2">md5</span>(<span class="php-keyword2">serialize</span>(<span class="php-var">$this</span>));
</span><span id="14669" class="l"><a class="l" href="#14669">14669: </a>    }
</span><span id="14670" class="l"><a class="l" href="#14670">14670: </a>
</span><span id="14671" class="l"><a class="l" href="#14671">14671: </a>    <span class="php-comment">/**
</span></span><span id="14672" class="l"><a class="l" href="#14672">14672: </a><span class="php-comment">     * Get the organizational scheme for the rating
</span></span><span id="14673" class="l"><a class="l" href="#14673">14673: </a><span class="php-comment">     *
</span></span><span id="14674" class="l"><a class="l" href="#14674">14674: </a><span class="php-comment">     * @return string|null
</span></span><span id="14675" class="l"><a class="l" href="#14675">14675: </a><span class="php-comment">     */</span>
</span><span id="14676" class="l"><a class="l" href="#14676">14676: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_get_scheme" href="#_get_scheme">get_scheme</a>()
</span><span id="14677" class="l"><a class="l" href="#14677">14677: </a>    {
</span><span id="14678" class="l"><a class="l" href="#14678">14678: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$this</span>-&gt;scheme !== <span class="php-keyword1">null</span>)
</span><span id="14679" class="l"><a class="l" href="#14679">14679: </a>        {
</span><span id="14680" class="l"><a class="l" href="#14680">14680: </a>            <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;scheme;
</span><span id="14681" class="l"><a class="l" href="#14681">14681: </a>        }
</span><span id="14682" class="l"><a class="l" href="#14682">14682: </a>        <span class="php-keyword1">else</span>
</span><span id="14683" class="l"><a class="l" href="#14683">14683: </a>        {
</span><span id="14684" class="l"><a class="l" href="#14684">14684: </a>            <span class="php-keyword1">return</span> <span class="php-keyword1">null</span>;
</span><span id="14685" class="l"><a class="l" href="#14685">14685: </a>        }
</span><span id="14686" class="l"><a class="l" href="#14686">14686: </a>    }
</span><span id="14687" class="l"><a class="l" href="#14687">14687: </a>
</span><span id="14688" class="l"><a class="l" href="#14688">14688: </a>    <span class="php-comment">/**
</span></span><span id="14689" class="l"><a class="l" href="#14689">14689: </a><span class="php-comment">     * Get the value of the rating
</span></span><span id="14690" class="l"><a class="l" href="#14690">14690: </a><span class="php-comment">     *
</span></span><span id="14691" class="l"><a class="l" href="#14691">14691: </a><span class="php-comment">     * @return string|null
</span></span><span id="14692" class="l"><a class="l" href="#14692">14692: </a><span class="php-comment">     */</span>
</span><span id="14693" class="l"><a class="l" href="#14693">14693: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_get_value" href="#_get_value">get_value</a>()
</span><span id="14694" class="l"><a class="l" href="#14694">14694: </a>    {
</span><span id="14695" class="l"><a class="l" href="#14695">14695: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$this</span>-&gt;value !== <span class="php-keyword1">null</span>)
</span><span id="14696" class="l"><a class="l" href="#14696">14696: </a>        {
</span><span id="14697" class="l"><a class="l" href="#14697">14697: </a>            <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;value;
</span><span id="14698" class="l"><a class="l" href="#14698">14698: </a>        }
</span><span id="14699" class="l"><a class="l" href="#14699">14699: </a>        <span class="php-keyword1">else</span>
</span><span id="14700" class="l"><a class="l" href="#14700">14700: </a>        {
</span><span id="14701" class="l"><a class="l" href="#14701">14701: </a>            <span class="php-keyword1">return</span> <span class="php-keyword1">null</span>;
</span><span id="14702" class="l"><a class="l" href="#14702">14702: </a>        }
</span><span id="14703" class="l"><a class="l" href="#14703">14703: </a>    }
</span><span id="14704" class="l"><a class="l" href="#14704">14704: </a>}
</span><span id="14705" class="l"><a class="l" href="#14705">14705: </a>
</span><span id="14706" class="l"><a class="l" href="#14706">14706: </a><span class="php-comment">/**
</span></span><span id="14707" class="l"><a class="l" href="#14707">14707: </a><span class="php-comment"> * Handles creating objects and calling methods
</span></span><span id="14708" class="l"><a class="l" href="#14708">14708: </a><span class="php-comment"> *
</span></span><span id="14709" class="l"><a class="l" href="#14709">14709: </a><span class="php-comment"> * Access this via {@see SimplePie::get_registry()}
</span></span><span id="14710" class="l"><a class="l" href="#14710">14710: </a><span class="php-comment"> *
</span></span><span id="14711" class="l"><a class="l" href="#14711">14711: </a><span class="php-comment"> * @package SimplePie
</span></span><span id="14712" class="l"><a class="l" href="#14712">14712: </a><span class="php-comment"> */</span>
</span><span id="14713" class="l"><a class="l" href="#14713">14713: </a><span class="php-keyword1">class</span> <a id="SimplePie_Registry" href="#SimplePie_Registry">SimplePie_Registry</a>
</span><span id="14714" class="l"><a class="l" href="#14714">14714: </a>{
</span><span id="14715" class="l"><a class="l" href="#14715">14715: </a>    <span class="php-comment">/**
</span></span><span id="14716" class="l"><a class="l" href="#14716">14716: </a><span class="php-comment">     * Default class mapping
</span></span><span id="14717" class="l"><a class="l" href="#14717">14717: </a><span class="php-comment">     *
</span></span><span id="14718" class="l"><a class="l" href="#14718">14718: </a><span class="php-comment">     * Overriding classes *must* subclass these.
</span></span><span id="14719" class="l"><a class="l" href="#14719">14719: </a><span class="php-comment">     *
</span></span><span id="14720" class="l"><a class="l" href="#14720">14720: </a><span class="php-comment">     * @var array
</span></span><span id="14721" class="l"><a class="l" href="#14721">14721: </a><span class="php-comment">     */</span>
</span><span id="14722" class="l"><a class="l" href="#14722">14722: </a>    <span class="php-keyword1">protected</span> <span class="php-var"><a id="$default" href="#$default">$default</a></span> = <span class="php-keyword1">array</span>(
</span><span id="14723" class="l"><a class="l" href="#14723">14723: </a>        <span class="php-quote">'Cache'</span> =&gt; <span class="php-quote">'SimplePie_Cache'</span>,
</span><span id="14724" class="l"><a class="l" href="#14724">14724: </a>        <span class="php-quote">'Locator'</span> =&gt; <span class="php-quote">'SimplePie_Locator'</span>,
</span><span id="14725" class="l"><a class="l" href="#14725">14725: </a>        <span class="php-quote">'Parser'</span> =&gt; <span class="php-quote">'SimplePie_Parser'</span>,
</span><span id="14726" class="l"><a class="l" href="#14726">14726: </a>        <span class="php-quote">'File'</span> =&gt; <span class="php-quote">'SimplePie_File'</span>,
</span><span id="14727" class="l"><a class="l" href="#14727">14727: </a>        <span class="php-quote">'Sanitize'</span> =&gt; <span class="php-quote">'SimplePie_Sanitize'</span>,
</span><span id="14728" class="l"><a class="l" href="#14728">14728: </a>        <span class="php-quote">'Item'</span> =&gt; <span class="php-quote">'SimplePie_Item'</span>,
</span><span id="14729" class="l"><a class="l" href="#14729">14729: </a>        <span class="php-quote">'Author'</span> =&gt; <span class="php-quote">'SimplePie_Author'</span>,
</span><span id="14730" class="l"><a class="l" href="#14730">14730: </a>        <span class="php-quote">'Category'</span> =&gt; <span class="php-quote">'SimplePie_Category'</span>,
</span><span id="14731" class="l"><a class="l" href="#14731">14731: </a>        <span class="php-quote">'Enclosure'</span> =&gt; <span class="php-quote">'SimplePie_Enclosure'</span>,
</span><span id="14732" class="l"><a class="l" href="#14732">14732: </a>        <span class="php-quote">'Caption'</span> =&gt; <span class="php-quote">'SimplePie_Caption'</span>,
</span><span id="14733" class="l"><a class="l" href="#14733">14733: </a>        <span class="php-quote">'Copyright'</span> =&gt; <span class="php-quote">'SimplePie_Copyright'</span>,
</span><span id="14734" class="l"><a class="l" href="#14734">14734: </a>        <span class="php-quote">'Credit'</span> =&gt; <span class="php-quote">'SimplePie_Credit'</span>,
</span><span id="14735" class="l"><a class="l" href="#14735">14735: </a>        <span class="php-quote">'Rating'</span> =&gt; <span class="php-quote">'SimplePie_Rating'</span>,
</span><span id="14736" class="l"><a class="l" href="#14736">14736: </a>        <span class="php-quote">'Restriction'</span> =&gt; <span class="php-quote">'SimplePie_Restriction'</span>,
</span><span id="14737" class="l"><a class="l" href="#14737">14737: </a>        <span class="php-quote">'Content_Type_Sniffer'</span> =&gt; <span class="php-quote">'SimplePie_Content_Type_Sniffer'</span>,
</span><span id="14738" class="l"><a class="l" href="#14738">14738: </a>        <span class="php-quote">'Source'</span> =&gt; <span class="php-quote">'SimplePie_Source'</span>,
</span><span id="14739" class="l"><a class="l" href="#14739">14739: </a>        <span class="php-quote">'Misc'</span> =&gt; <span class="php-quote">'SimplePie_Misc'</span>,
</span><span id="14740" class="l"><a class="l" href="#14740">14740: </a>        <span class="php-quote">'XML_Declaration_Parser'</span> =&gt; <span class="php-quote">'SimplePie_XML_Declaration_Parser'</span>,
</span><span id="14741" class="l"><a class="l" href="#14741">14741: </a>        <span class="php-quote">'Parse_Date'</span> =&gt; <span class="php-quote">'SimplePie_Parse_Date'</span>,
</span><span id="14742" class="l"><a class="l" href="#14742">14742: </a>    );
</span><span id="14743" class="l"><a class="l" href="#14743">14743: </a>
</span><span id="14744" class="l"><a class="l" href="#14744">14744: </a>    <span class="php-comment">/**
</span></span><span id="14745" class="l"><a class="l" href="#14745">14745: </a><span class="php-comment">     * Class mapping
</span></span><span id="14746" class="l"><a class="l" href="#14746">14746: </a><span class="php-comment">     *
</span></span><span id="14747" class="l"><a class="l" href="#14747">14747: </a><span class="php-comment">     * @see register()
</span></span><span id="14748" class="l"><a class="l" href="#14748">14748: </a><span class="php-comment">     * @var array
</span></span><span id="14749" class="l"><a class="l" href="#14749">14749: </a><span class="php-comment">     */</span>
</span><span id="14750" class="l"><a class="l" href="#14750">14750: </a>    <span class="php-keyword1">protected</span> <span class="php-var"><a id="$classes" href="#$classes">$classes</a></span> = <span class="php-keyword1">array</span>();
</span><span id="14751" class="l"><a class="l" href="#14751">14751: </a>
</span><span id="14752" class="l"><a class="l" href="#14752">14752: </a>    <span class="php-comment">/**
</span></span><span id="14753" class="l"><a class="l" href="#14753">14753: </a><span class="php-comment">     * Legacy classes
</span></span><span id="14754" class="l"><a class="l" href="#14754">14754: </a><span class="php-comment">     *
</span></span><span id="14755" class="l"><a class="l" href="#14755">14755: </a><span class="php-comment">     * @see register()
</span></span><span id="14756" class="l"><a class="l" href="#14756">14756: </a><span class="php-comment">     * @var array
</span></span><span id="14757" class="l"><a class="l" href="#14757">14757: </a><span class="php-comment">     */</span>
</span><span id="14758" class="l"><a class="l" href="#14758">14758: </a>    <span class="php-keyword1">protected</span> <span class="php-var"><a id="$legacy" href="#$legacy">$legacy</a></span> = <span class="php-keyword1">array</span>();
</span><span id="14759" class="l"><a class="l" href="#14759">14759: </a>
</span><span id="14760" class="l"><a class="l" href="#14760">14760: </a>    <span class="php-comment">/**
</span></span><span id="14761" class="l"><a class="l" href="#14761">14761: </a><span class="php-comment">     * Constructor
</span></span><span id="14762" class="l"><a class="l" href="#14762">14762: </a><span class="php-comment">     *
</span></span><span id="14763" class="l"><a class="l" href="#14763">14763: </a><span class="php-comment">     * No-op
</span></span><span id="14764" class="l"><a class="l" href="#14764">14764: </a><span class="php-comment">     */</span>
</span><span id="14765" class="l"><a class="l" href="#14765">14765: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="___construct" href="#___construct">__construct</a>() { }
</span><span id="14766" class="l"><a class="l" href="#14766">14766: </a>
</span><span id="14767" class="l"><a class="l" href="#14767">14767: </a>    <span class="php-comment">/**
</span></span><span id="14768" class="l"><a class="l" href="#14768">14768: </a><span class="php-comment">     * Register a class
</span></span><span id="14769" class="l"><a class="l" href="#14769">14769: </a><span class="php-comment">     *
</span></span><span id="14770" class="l"><a class="l" href="#14770">14770: </a><span class="php-comment">     * @param string $type See {@see $default} for names
</span></span><span id="14771" class="l"><a class="l" href="#14771">14771: </a><span class="php-comment">     * @param string $class Class name, must subclass the corresponding default
</span></span><span id="14772" class="l"><a class="l" href="#14772">14772: </a><span class="php-comment">     * @param bool $legacy Whether to enable legacy support for this class
</span></span><span id="14773" class="l"><a class="l" href="#14773">14773: </a><span class="php-comment">     * @return bool Successfulness
</span></span><span id="14774" class="l"><a class="l" href="#14774">14774: </a><span class="php-comment">     */</span>
</span><span id="14775" class="l"><a class="l" href="#14775">14775: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_register" href="#_register">register</a>(<span class="php-var">$type</span>, <span class="php-var">$class</span>, <span class="php-var">$legacy</span> = <span class="php-keyword1">false</span>)
</span><span id="14776" class="l"><a class="l" href="#14776">14776: </a>    {
</span><span id="14777" class="l"><a class="l" href="#14777">14777: </a>        <span class="php-keyword1">if</span> (!<span class="php-var">$this</span>-&gt;call(<span class="php-quote">'Misc'</span>, <span class="php-quote">'is_subclass_of'</span>, <span class="php-keyword1">array</span>(<span class="php-var">$class</span>, <span class="php-var">$this</span>-&gt;<span class="php-keyword1">default</span>[<span class="php-var">$type</span>])))
</span><span id="14778" class="l"><a class="l" href="#14778">14778: </a>        {
</span><span id="14779" class="l"><a class="l" href="#14779">14779: </a>            <span class="php-keyword1">return</span> <span class="php-keyword1">false</span>;
</span><span id="14780" class="l"><a class="l" href="#14780">14780: </a>        }
</span><span id="14781" class="l"><a class="l" href="#14781">14781: </a>
</span><span id="14782" class="l"><a class="l" href="#14782">14782: </a>        <span class="php-var">$this</span>-&gt;classes[<span class="php-var">$type</span>] = <span class="php-var">$class</span>;
</span><span id="14783" class="l"><a class="l" href="#14783">14783: </a>
</span><span id="14784" class="l"><a class="l" href="#14784">14784: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$legacy</span>)
</span><span id="14785" class="l"><a class="l" href="#14785">14785: </a>        {
</span><span id="14786" class="l"><a class="l" href="#14786">14786: </a>            <span class="php-var">$this</span>-&gt;legacy[] = <span class="php-var">$class</span>;
</span><span id="14787" class="l"><a class="l" href="#14787">14787: </a>        }
</span><span id="14788" class="l"><a class="l" href="#14788">14788: </a>
</span><span id="14789" class="l"><a class="l" href="#14789">14789: </a>        <span class="php-keyword1">return</span> <span class="php-keyword1">true</span>;
</span><span id="14790" class="l"><a class="l" href="#14790">14790: </a>    }
</span><span id="14791" class="l"><a class="l" href="#14791">14791: </a>
</span><span id="14792" class="l"><a class="l" href="#14792">14792: </a>    <span class="php-comment">/**
</span></span><span id="14793" class="l"><a class="l" href="#14793">14793: </a><span class="php-comment">     * Get the class registered for a type
</span></span><span id="14794" class="l"><a class="l" href="#14794">14794: </a><span class="php-comment">     *
</span></span><span id="14795" class="l"><a class="l" href="#14795">14795: </a><span class="php-comment">     * Where possible, use {@see create()} or {@see call()} instead
</span></span><span id="14796" class="l"><a class="l" href="#14796">14796: </a><span class="php-comment">     *
</span></span><span id="14797" class="l"><a class="l" href="#14797">14797: </a><span class="php-comment">     * @param string $type
</span></span><span id="14798" class="l"><a class="l" href="#14798">14798: </a><span class="php-comment">     * @return string|null
</span></span><span id="14799" class="l"><a class="l" href="#14799">14799: </a><span class="php-comment">     */</span>
</span><span id="14800" class="l"><a class="l" href="#14800">14800: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <span class="php-keyword2">get_class</span>(<span class="php-var">$type</span>)
</span><span id="14801" class="l"><a class="l" href="#14801">14801: </a>    {
</span><span id="14802" class="l"><a class="l" href="#14802">14802: </a>        <span class="php-keyword1">if</span> (!<span class="php-keyword1">empty</span>(<span class="php-var">$this</span>-&gt;classes[<span class="php-var">$type</span>]))
</span><span id="14803" class="l"><a class="l" href="#14803">14803: </a>        {
</span><span id="14804" class="l"><a class="l" href="#14804">14804: </a>            <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;classes[<span class="php-var">$type</span>];
</span><span id="14805" class="l"><a class="l" href="#14805">14805: </a>        }
</span><span id="14806" class="l"><a class="l" href="#14806">14806: </a>        <span class="php-keyword1">if</span> (!<span class="php-keyword1">empty</span>(<span class="php-var">$this</span>-&gt;<span class="php-keyword1">default</span>[<span class="php-var">$type</span>]))
</span><span id="14807" class="l"><a class="l" href="#14807">14807: </a>        {
</span><span id="14808" class="l"><a class="l" href="#14808">14808: </a>            <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;<span class="php-keyword1">default</span>[<span class="php-var">$type</span>];
</span><span id="14809" class="l"><a class="l" href="#14809">14809: </a>        }
</span><span id="14810" class="l"><a class="l" href="#14810">14810: </a>
</span><span id="14811" class="l"><a class="l" href="#14811">14811: </a>        <span class="php-keyword1">return</span> <span class="php-keyword1">null</span>;
</span><span id="14812" class="l"><a class="l" href="#14812">14812: </a>    }
</span><span id="14813" class="l"><a class="l" href="#14813">14813: </a>
</span><span id="14814" class="l"><a class="l" href="#14814">14814: </a>    <span class="php-comment">/**
</span></span><span id="14815" class="l"><a class="l" href="#14815">14815: </a><span class="php-comment">     * Create a new instance of a given type
</span></span><span id="14816" class="l"><a class="l" href="#14816">14816: </a><span class="php-comment">     *
</span></span><span id="14817" class="l"><a class="l" href="#14817">14817: </a><span class="php-comment">     * @param string $type
</span></span><span id="14818" class="l"><a class="l" href="#14818">14818: </a><span class="php-comment">     * @param array $parameters Parameters to pass to the constructor
</span></span><span id="14819" class="l"><a class="l" href="#14819">14819: </a><span class="php-comment">     * @return object Instance of class
</span></span><span id="14820" class="l"><a class="l" href="#14820">14820: </a><span class="php-comment">     */</span>
</span><span id="14821" class="l"><a class="l" href="#14821">14821: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> &amp;create(<span class="php-var">$type</span>, <span class="php-var">$parameters</span> = <span class="php-keyword1">array</span>())
</span><span id="14822" class="l"><a class="l" href="#14822">14822: </a>    {
</span><span id="14823" class="l"><a class="l" href="#14823">14823: </a>        <span class="php-var">$class</span> = <span class="php-var">$this</span>-&gt;<span class="php-keyword2">get_class</span>(<span class="php-var">$type</span>);
</span><span id="14824" class="l"><a class="l" href="#14824">14824: </a>
</span><span id="14825" class="l"><a class="l" href="#14825">14825: </a>        <span class="php-keyword1">if</span> (<span class="php-keyword2">in_array</span>(<span class="php-var">$class</span>, <span class="php-var">$this</span>-&gt;legacy))
</span><span id="14826" class="l"><a class="l" href="#14826">14826: </a>        {
</span><span id="14827" class="l"><a class="l" href="#14827">14827: </a>            <span class="php-keyword1">switch</span> (<span class="php-var">$type</span>)
</span><span id="14828" class="l"><a class="l" href="#14828">14828: </a>            {
</span><span id="14829" class="l"><a class="l" href="#14829">14829: </a>                <span class="php-keyword1">case</span> <span class="php-quote">'locator'</span>:
</span><span id="14830" class="l"><a class="l" href="#14830">14830: </a>                    <span class="php-comment">// Legacy: file, timeout, useragent, file_class, max_checked_feeds, content_type_sniffer_class</span>
</span><span id="14831" class="l"><a class="l" href="#14831">14831: </a>                    <span class="php-comment">// Specified: file, timeout, useragent, max_checked_feeds</span>
</span><span id="14832" class="l"><a class="l" href="#14832">14832: </a>                    <span class="php-var">$replacement</span> = <span class="php-keyword1">array</span>(<span class="php-var">$this</span>-&gt;<span class="php-keyword2">get_class</span>(<span class="php-quote">'file'</span>), <span class="php-var">$parameters</span>[<span class="php-num">3</span>], <span class="php-var">$this</span>-&gt;<span class="php-keyword2">get_class</span>(<span class="php-quote">'content_type_sniffer'</span>));
</span><span id="14833" class="l"><a class="l" href="#14833">14833: </a>                    <span class="php-keyword2">array_splice</span>(<span class="php-var">$parameters</span>, <span class="php-num">3</span>, <span class="php-num">1</span>, <span class="php-var">$replacement</span>);
</span><span id="14834" class="l"><a class="l" href="#14834">14834: </a>                    <span class="php-keyword1">break</span>;
</span><span id="14835" class="l"><a class="l" href="#14835">14835: </a>            }
</span><span id="14836" class="l"><a class="l" href="#14836">14836: </a>        }
</span><span id="14837" class="l"><a class="l" href="#14837">14837: </a>
</span><span id="14838" class="l"><a class="l" href="#14838">14838: </a>        <span class="php-keyword1">if</span> (!<span class="php-keyword2">method_exists</span>(<span class="php-var">$class</span>, <span class="php-quote">'__construct'</span>))
</span><span id="14839" class="l"><a class="l" href="#14839">14839: </a>        {
</span><span id="14840" class="l"><a class="l" href="#14840">14840: </a>            <span class="php-var">$instance</span> = <span class="php-keyword1">new</span> <span class="php-var">$class</span>;
</span><span id="14841" class="l"><a class="l" href="#14841">14841: </a>        }
</span><span id="14842" class="l"><a class="l" href="#14842">14842: </a>        <span class="php-keyword1">else</span>
</span><span id="14843" class="l"><a class="l" href="#14843">14843: </a>        {
</span><span id="14844" class="l"><a class="l" href="#14844">14844: </a>            <span class="php-var">$reflector</span> = <span class="php-keyword1">new</span> ReflectionClass(<span class="php-var">$class</span>);
</span><span id="14845" class="l"><a class="l" href="#14845">14845: </a>            <span class="php-var">$instance</span> = <span class="php-var">$reflector</span>-&gt;newInstanceArgs(<span class="php-var">$parameters</span>);
</span><span id="14846" class="l"><a class="l" href="#14846">14846: </a>        }
</span><span id="14847" class="l"><a class="l" href="#14847">14847: </a>
</span><span id="14848" class="l"><a class="l" href="#14848">14848: </a>        <span class="php-keyword1">if</span> (<span class="php-keyword2">method_exists</span>(<span class="php-var">$instance</span>, <span class="php-quote">'set_registry'</span>))
</span><span id="14849" class="l"><a class="l" href="#14849">14849: </a>        {
</span><span id="14850" class="l"><a class="l" href="#14850">14850: </a>            <span class="php-var">$instance</span>-&gt;set_registry(<span class="php-var">$this</span>);
</span><span id="14851" class="l"><a class="l" href="#14851">14851: </a>        }
</span><span id="14852" class="l"><a class="l" href="#14852">14852: </a>        <span class="php-keyword1">return</span> <span class="php-var">$instance</span>;
</span><span id="14853" class="l"><a class="l" href="#14853">14853: </a>    }
</span><span id="14854" class="l"><a class="l" href="#14854">14854: </a>
</span><span id="14855" class="l"><a class="l" href="#14855">14855: </a>    <span class="php-comment">/**
</span></span><span id="14856" class="l"><a class="l" href="#14856">14856: </a><span class="php-comment">     * Call a static method for a type
</span></span><span id="14857" class="l"><a class="l" href="#14857">14857: </a><span class="php-comment">     *
</span></span><span id="14858" class="l"><a class="l" href="#14858">14858: </a><span class="php-comment">     * @param string $type
</span></span><span id="14859" class="l"><a class="l" href="#14859">14859: </a><span class="php-comment">     * @param string $method
</span></span><span id="14860" class="l"><a class="l" href="#14860">14860: </a><span class="php-comment">     * @param array $parameters
</span></span><span id="14861" class="l"><a class="l" href="#14861">14861: </a><span class="php-comment">     * @return mixed
</span></span><span id="14862" class="l"><a class="l" href="#14862">14862: </a><span class="php-comment">     */</span>
</span><span id="14863" class="l"><a class="l" href="#14863">14863: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> &amp;call(<span class="php-var">$type</span>, <span class="php-var">$method</span>, <span class="php-var">$parameters</span> = <span class="php-keyword1">array</span>())
</span><span id="14864" class="l"><a class="l" href="#14864">14864: </a>    {
</span><span id="14865" class="l"><a class="l" href="#14865">14865: </a>        <span class="php-var">$class</span> = <span class="php-var">$this</span>-&gt;<span class="php-keyword2">get_class</span>(<span class="php-var">$type</span>);
</span><span id="14866" class="l"><a class="l" href="#14866">14866: </a>
</span><span id="14867" class="l"><a class="l" href="#14867">14867: </a>        <span class="php-var">$result</span> = <span class="php-keyword2">call_user_func_array</span>(<span class="php-keyword1">array</span>(<span class="php-var">$class</span>, <span class="php-var">$method</span>), <span class="php-var">$parameters</span>);
</span><span id="14868" class="l"><a class="l" href="#14868">14868: </a>        <span class="php-keyword1">return</span> <span class="php-var">$result</span>;
</span><span id="14869" class="l"><a class="l" href="#14869">14869: </a>    }
</span><span id="14870" class="l"><a class="l" href="#14870">14870: </a>}
</span><span id="14871" class="l"><a class="l" href="#14871">14871: </a>
</span><span id="14872" class="l"><a class="l" href="#14872">14872: </a><span class="php-comment">/**
</span></span><span id="14873" class="l"><a class="l" href="#14873">14873: </a><span class="php-comment"> * Handles `&lt;media:restriction&gt;` as defined in Media RSS
</span></span><span id="14874" class="l"><a class="l" href="#14874">14874: </a><span class="php-comment"> *
</span></span><span id="14875" class="l"><a class="l" href="#14875">14875: </a><span class="php-comment"> * Used by {@see SimplePie_Enclosure::get_restriction()} and {@see SimplePie_Enclosure::get_restrictions()}
</span></span><span id="14876" class="l"><a class="l" href="#14876">14876: </a><span class="php-comment"> *
</span></span><span id="14877" class="l"><a class="l" href="#14877">14877: </a><span class="php-comment"> * This class can be overloaded with {@see SimplePie::set_restriction_class()}
</span></span><span id="14878" class="l"><a class="l" href="#14878">14878: </a><span class="php-comment"> *
</span></span><span id="14879" class="l"><a class="l" href="#14879">14879: </a><span class="php-comment"> * @package SimplePie
</span></span><span id="14880" class="l"><a class="l" href="#14880">14880: </a><span class="php-comment"> */</span>
</span><span id="14881" class="l"><a class="l" href="#14881">14881: </a><span class="php-keyword1">class</span> <a id="SimplePie_Restriction" href="#SimplePie_Restriction">SimplePie_Restriction</a>
</span><span id="14882" class="l"><a class="l" href="#14882">14882: </a>{
</span><span id="14883" class="l"><a class="l" href="#14883">14883: </a>    <span class="php-comment">/**
</span></span><span id="14884" class="l"><a class="l" href="#14884">14884: </a><span class="php-comment">     * Relationship ('allow'/'deny')
</span></span><span id="14885" class="l"><a class="l" href="#14885">14885: </a><span class="php-comment">     *
</span></span><span id="14886" class="l"><a class="l" href="#14886">14886: </a><span class="php-comment">     * @var string
</span></span><span id="14887" class="l"><a class="l" href="#14887">14887: </a><span class="php-comment">     * @see get_relationship()
</span></span><span id="14888" class="l"><a class="l" href="#14888">14888: </a><span class="php-comment">     */</span>
</span><span id="14889" class="l"><a class="l" href="#14889">14889: </a>    <span class="php-keyword1">var</span> <span class="php-var"><a id="$relationship" href="#$relationship">$relationship</a></span>;
</span><span id="14890" class="l"><a class="l" href="#14890">14890: </a>
</span><span id="14891" class="l"><a class="l" href="#14891">14891: </a>    <span class="php-comment">/**
</span></span><span id="14892" class="l"><a class="l" href="#14892">14892: </a><span class="php-comment">     * Type of restriction
</span></span><span id="14893" class="l"><a class="l" href="#14893">14893: </a><span class="php-comment">     *
</span></span><span id="14894" class="l"><a class="l" href="#14894">14894: </a><span class="php-comment">     * @var string
</span></span><span id="14895" class="l"><a class="l" href="#14895">14895: </a><span class="php-comment">     * @see get_type()
</span></span><span id="14896" class="l"><a class="l" href="#14896">14896: </a><span class="php-comment">     */</span>
</span><span id="14897" class="l"><a class="l" href="#14897">14897: </a>    <span class="php-keyword1">var</span> <span class="php-var"><a id="$type" href="#$type">$type</a></span>;
</span><span id="14898" class="l"><a class="l" href="#14898">14898: </a>
</span><span id="14899" class="l"><a class="l" href="#14899">14899: </a>    <span class="php-comment">/**
</span></span><span id="14900" class="l"><a class="l" href="#14900">14900: </a><span class="php-comment">     * Restricted values
</span></span><span id="14901" class="l"><a class="l" href="#14901">14901: </a><span class="php-comment">     *
</span></span><span id="14902" class="l"><a class="l" href="#14902">14902: </a><span class="php-comment">     * @var string
</span></span><span id="14903" class="l"><a class="l" href="#14903">14903: </a><span class="php-comment">     * @see get_value()
</span></span><span id="14904" class="l"><a class="l" href="#14904">14904: </a><span class="php-comment">     */</span>
</span><span id="14905" class="l"><a class="l" href="#14905">14905: </a>    <span class="php-keyword1">var</span> <span class="php-var"><a id="$value" href="#$value">$value</a></span>;
</span><span id="14906" class="l"><a class="l" href="#14906">14906: </a>
</span><span id="14907" class="l"><a class="l" href="#14907">14907: </a>    <span class="php-comment">/**
</span></span><span id="14908" class="l"><a class="l" href="#14908">14908: </a><span class="php-comment">     * Constructor, used to input the data
</span></span><span id="14909" class="l"><a class="l" href="#14909">14909: </a><span class="php-comment">     *
</span></span><span id="14910" class="l"><a class="l" href="#14910">14910: </a><span class="php-comment">     * For documentation on all the parameters, see the corresponding
</span></span><span id="14911" class="l"><a class="l" href="#14911">14911: </a><span class="php-comment">     * properties and their accessors
</span></span><span id="14912" class="l"><a class="l" href="#14912">14912: </a><span class="php-comment">     */</span>
</span><span id="14913" class="l"><a class="l" href="#14913">14913: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="___construct" href="#___construct">__construct</a>(<span class="php-var">$relationship</span> = <span class="php-keyword1">null</span>, <span class="php-var">$type</span> = <span class="php-keyword1">null</span>, <span class="php-var">$value</span> = <span class="php-keyword1">null</span>)
</span><span id="14914" class="l"><a class="l" href="#14914">14914: </a>    {
</span><span id="14915" class="l"><a class="l" href="#14915">14915: </a>        <span class="php-var">$this</span>-&gt;relationship = <span class="php-var">$relationship</span>;
</span><span id="14916" class="l"><a class="l" href="#14916">14916: </a>        <span class="php-var">$this</span>-&gt;type = <span class="php-var">$type</span>;
</span><span id="14917" class="l"><a class="l" href="#14917">14917: </a>        <span class="php-var">$this</span>-&gt;value = <span class="php-var">$value</span>;
</span><span id="14918" class="l"><a class="l" href="#14918">14918: </a>    }
</span><span id="14919" class="l"><a class="l" href="#14919">14919: </a>
</span><span id="14920" class="l"><a class="l" href="#14920">14920: </a>    <span class="php-comment">/**
</span></span><span id="14921" class="l"><a class="l" href="#14921">14921: </a><span class="php-comment">     * String-ified version
</span></span><span id="14922" class="l"><a class="l" href="#14922">14922: </a><span class="php-comment">     *
</span></span><span id="14923" class="l"><a class="l" href="#14923">14923: </a><span class="php-comment">     * @return string
</span></span><span id="14924" class="l"><a class="l" href="#14924">14924: </a><span class="php-comment">     */</span>
</span><span id="14925" class="l"><a class="l" href="#14925">14925: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="___toString" href="#___toString">__toString</a>()
</span><span id="14926" class="l"><a class="l" href="#14926">14926: </a>    {
</span><span id="14927" class="l"><a class="l" href="#14927">14927: </a>        <span class="php-comment">// There is no $this-&gt;data here</span>
</span><span id="14928" class="l"><a class="l" href="#14928">14928: </a>        <span class="php-keyword1">return</span> <span class="php-keyword2">md5</span>(<span class="php-keyword2">serialize</span>(<span class="php-var">$this</span>));
</span><span id="14929" class="l"><a class="l" href="#14929">14929: </a>    }
</span><span id="14930" class="l"><a class="l" href="#14930">14930: </a>
</span><span id="14931" class="l"><a class="l" href="#14931">14931: </a>    <span class="php-comment">/**
</span></span><span id="14932" class="l"><a class="l" href="#14932">14932: </a><span class="php-comment">     * Get the relationship
</span></span><span id="14933" class="l"><a class="l" href="#14933">14933: </a><span class="php-comment">     *
</span></span><span id="14934" class="l"><a class="l" href="#14934">14934: </a><span class="php-comment">     * @return string|null Either 'allow' or 'deny'
</span></span><span id="14935" class="l"><a class="l" href="#14935">14935: </a><span class="php-comment">     */</span>
</span><span id="14936" class="l"><a class="l" href="#14936">14936: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_get_relationship" href="#_get_relationship">get_relationship</a>()
</span><span id="14937" class="l"><a class="l" href="#14937">14937: </a>    {
</span><span id="14938" class="l"><a class="l" href="#14938">14938: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$this</span>-&gt;relationship !== <span class="php-keyword1">null</span>)
</span><span id="14939" class="l"><a class="l" href="#14939">14939: </a>        {
</span><span id="14940" class="l"><a class="l" href="#14940">14940: </a>            <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;relationship;
</span><span id="14941" class="l"><a class="l" href="#14941">14941: </a>        }
</span><span id="14942" class="l"><a class="l" href="#14942">14942: </a>        <span class="php-keyword1">else</span>
</span><span id="14943" class="l"><a class="l" href="#14943">14943: </a>        {
</span><span id="14944" class="l"><a class="l" href="#14944">14944: </a>            <span class="php-keyword1">return</span> <span class="php-keyword1">null</span>;
</span><span id="14945" class="l"><a class="l" href="#14945">14945: </a>        }
</span><span id="14946" class="l"><a class="l" href="#14946">14946: </a>    }
</span><span id="14947" class="l"><a class="l" href="#14947">14947: </a>
</span><span id="14948" class="l"><a class="l" href="#14948">14948: </a>    <span class="php-comment">/**
</span></span><span id="14949" class="l"><a class="l" href="#14949">14949: </a><span class="php-comment">     * Get the type
</span></span><span id="14950" class="l"><a class="l" href="#14950">14950: </a><span class="php-comment">     *
</span></span><span id="14951" class="l"><a class="l" href="#14951">14951: </a><span class="php-comment">     * @return string|null
</span></span><span id="14952" class="l"><a class="l" href="#14952">14952: </a><span class="php-comment">     */</span>
</span><span id="14953" class="l"><a class="l" href="#14953">14953: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_get_type" href="#_get_type">get_type</a>()
</span><span id="14954" class="l"><a class="l" href="#14954">14954: </a>    {
</span><span id="14955" class="l"><a class="l" href="#14955">14955: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$this</span>-&gt;type !== <span class="php-keyword1">null</span>)
</span><span id="14956" class="l"><a class="l" href="#14956">14956: </a>        {
</span><span id="14957" class="l"><a class="l" href="#14957">14957: </a>            <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;type;
</span><span id="14958" class="l"><a class="l" href="#14958">14958: </a>        }
</span><span id="14959" class="l"><a class="l" href="#14959">14959: </a>        <span class="php-keyword1">else</span>
</span><span id="14960" class="l"><a class="l" href="#14960">14960: </a>        {
</span><span id="14961" class="l"><a class="l" href="#14961">14961: </a>            <span class="php-keyword1">return</span> <span class="php-keyword1">null</span>;
</span><span id="14962" class="l"><a class="l" href="#14962">14962: </a>        }
</span><span id="14963" class="l"><a class="l" href="#14963">14963: </a>    }
</span><span id="14964" class="l"><a class="l" href="#14964">14964: </a>
</span><span id="14965" class="l"><a class="l" href="#14965">14965: </a>    <span class="php-comment">/**
</span></span><span id="14966" class="l"><a class="l" href="#14966">14966: </a><span class="php-comment">     * Get the list of restricted things
</span></span><span id="14967" class="l"><a class="l" href="#14967">14967: </a><span class="php-comment">     *
</span></span><span id="14968" class="l"><a class="l" href="#14968">14968: </a><span class="php-comment">     * @return string|null
</span></span><span id="14969" class="l"><a class="l" href="#14969">14969: </a><span class="php-comment">     */</span>
</span><span id="14970" class="l"><a class="l" href="#14970">14970: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_get_value" href="#_get_value">get_value</a>()
</span><span id="14971" class="l"><a class="l" href="#14971">14971: </a>    {
</span><span id="14972" class="l"><a class="l" href="#14972">14972: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$this</span>-&gt;value !== <span class="php-keyword1">null</span>)
</span><span id="14973" class="l"><a class="l" href="#14973">14973: </a>        {
</span><span id="14974" class="l"><a class="l" href="#14974">14974: </a>            <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;value;
</span><span id="14975" class="l"><a class="l" href="#14975">14975: </a>        }
</span><span id="14976" class="l"><a class="l" href="#14976">14976: </a>        <span class="php-keyword1">else</span>
</span><span id="14977" class="l"><a class="l" href="#14977">14977: </a>        {
</span><span id="14978" class="l"><a class="l" href="#14978">14978: </a>            <span class="php-keyword1">return</span> <span class="php-keyword1">null</span>;
</span><span id="14979" class="l"><a class="l" href="#14979">14979: </a>        }
</span><span id="14980" class="l"><a class="l" href="#14980">14980: </a>    }
</span><span id="14981" class="l"><a class="l" href="#14981">14981: </a>}
</span><span id="14982" class="l"><a class="l" href="#14982">14982: </a>
</span><span id="14983" class="l"><a class="l" href="#14983">14983: </a><span class="php-comment">/**
</span></span><span id="14984" class="l"><a class="l" href="#14984">14984: </a><span class="php-comment"> * Used for data cleanup and post-processing
</span></span><span id="14985" class="l"><a class="l" href="#14985">14985: </a><span class="php-comment"> *
</span></span><span id="14986" class="l"><a class="l" href="#14986">14986: </a><span class="php-comment"> *
</span></span><span id="14987" class="l"><a class="l" href="#14987">14987: </a><span class="php-comment"> * This class can be overloaded with {@see SimplePie::set_sanitize_class()}
</span></span><span id="14988" class="l"><a class="l" href="#14988">14988: </a><span class="php-comment"> *
</span></span><span id="14989" class="l"><a class="l" href="#14989">14989: </a><span class="php-comment"> * @package SimplePie
</span></span><span id="14990" class="l"><a class="l" href="#14990">14990: </a><span class="php-comment"> * @todo Move to using an actual HTML parser (this will allow tags to be properly stripped, and to switch between HTML and XHTML), this will also make it easier to shorten a string while preserving HTML tags
</span></span><span id="14991" class="l"><a class="l" href="#14991">14991: </a><span class="php-comment"> */</span>
</span><span id="14992" class="l"><a class="l" href="#14992">14992: </a><span class="php-keyword1">class</span> <a id="SimplePie_Sanitize" href="#SimplePie_Sanitize">SimplePie_Sanitize</a>
</span><span id="14993" class="l"><a class="l" href="#14993">14993: </a>{
</span><span id="14994" class="l"><a class="l" href="#14994">14994: </a>    <span class="php-comment">// Private vars</span>
</span><span id="14995" class="l"><a class="l" href="#14995">14995: </a>    <span class="php-keyword1">var</span> <span class="php-var"><a id="$base" href="#$base">$base</a></span>;
</span><span id="14996" class="l"><a class="l" href="#14996">14996: </a>
</span><span id="14997" class="l"><a class="l" href="#14997">14997: </a>    <span class="php-comment">// Options</span>
</span><span id="14998" class="l"><a class="l" href="#14998">14998: </a>    <span class="php-keyword1">var</span> <span class="php-var"><a id="$remove_div" href="#$remove_div">$remove_div</a></span> = <span class="php-keyword1">true</span>;
</span><span id="14999" class="l"><a class="l" href="#14999">14999: </a>    <span class="php-keyword1">var</span> <span class="php-var"><a id="$image_handler" href="#$image_handler">$image_handler</a></span> = <span class="php-quote">''</span>;
</span><span id="15000" class="l"><a class="l" href="#15000">15000: </a>    <span class="php-keyword1">var</span> <span class="php-var"><a id="$strip_htmltags" href="#$strip_htmltags">$strip_htmltags</a></span> = <span class="php-keyword1">array</span>(<span class="php-quote">'base'</span>, <span class="php-quote">'blink'</span>, <span class="php-quote">'body'</span>, <span class="php-quote">'doctype'</span>, <span class="php-quote">'embed'</span>, <span class="php-quote">'font'</span>, <span class="php-quote">'form'</span>, <span class="php-quote">'frame'</span>, <span class="php-quote">'frameset'</span>, <span class="php-quote">'html'</span>, <span class="php-quote">'iframe'</span>, <span class="php-quote">'input'</span>, <span class="php-quote">'marquee'</span>, <span class="php-quote">'meta'</span>, <span class="php-quote">'noscript'</span>, <span class="php-quote">'object'</span>, <span class="php-quote">'param'</span>, <span class="php-quote">'script'</span>, <span class="php-quote">'style'</span>);
</span><span id="15001" class="l"><a class="l" href="#15001">15001: </a>    <span class="php-keyword1">var</span> <span class="php-var"><a id="$encode_instead_of_strip" href="#$encode_instead_of_strip">$encode_instead_of_strip</a></span> = <span class="php-keyword1">false</span>;
</span><span id="15002" class="l"><a class="l" href="#15002">15002: </a>    <span class="php-keyword1">var</span> <span class="php-var"><a id="$strip_attributes" href="#$strip_attributes">$strip_attributes</a></span> = <span class="php-keyword1">array</span>(<span class="php-quote">'bgsound'</span>, <span class="php-quote">'class'</span>, <span class="php-quote">'expr'</span>, <span class="php-quote">'id'</span>, <span class="php-quote">'style'</span>, <span class="php-quote">'onclick'</span>, <span class="php-quote">'onerror'</span>, <span class="php-quote">'onfinish'</span>, <span class="php-quote">'onmouseover'</span>, <span class="php-quote">'onmouseout'</span>, <span class="php-quote">'onfocus'</span>, <span class="php-quote">'onblur'</span>, <span class="php-quote">'lowsrc'</span>, <span class="php-quote">'dynsrc'</span>);
</span><span id="15003" class="l"><a class="l" href="#15003">15003: </a>    <span class="php-keyword1">var</span> <span class="php-var"><a id="$strip_comments" href="#$strip_comments">$strip_comments</a></span> = <span class="php-keyword1">false</span>;
</span><span id="15004" class="l"><a class="l" href="#15004">15004: </a>    <span class="php-keyword1">var</span> <span class="php-var"><a id="$output_encoding" href="#$output_encoding">$output_encoding</a></span> = <span class="php-quote">'UTF-8'</span>;
</span><span id="15005" class="l"><a class="l" href="#15005">15005: </a>    <span class="php-keyword1">var</span> <span class="php-var"><a id="$enable_cache" href="#$enable_cache">$enable_cache</a></span> = <span class="php-keyword1">true</span>;
</span><span id="15006" class="l"><a class="l" href="#15006">15006: </a>    <span class="php-keyword1">var</span> <span class="php-var"><a id="$cache_location" href="#$cache_location">$cache_location</a></span> = <span class="php-quote">'./cache'</span>;
</span><span id="15007" class="l"><a class="l" href="#15007">15007: </a>    <span class="php-keyword1">var</span> <span class="php-var"><a id="$cache_name_function" href="#$cache_name_function">$cache_name_function</a></span> = <span class="php-quote">'md5'</span>;
</span><span id="15008" class="l"><a class="l" href="#15008">15008: </a>    <span class="php-keyword1">var</span> <span class="php-var"><a id="$timeout" href="#$timeout">$timeout</a></span> = <span class="php-num">10</span>;
</span><span id="15009" class="l"><a class="l" href="#15009">15009: </a>    <span class="php-keyword1">var</span> <span class="php-var"><a id="$useragent" href="#$useragent">$useragent</a></span> = <span class="php-quote">''</span>;
</span><span id="15010" class="l"><a class="l" href="#15010">15010: </a>    <span class="php-keyword1">var</span> <span class="php-var"><a id="$force_fsockopen" href="#$force_fsockopen">$force_fsockopen</a></span> = <span class="php-keyword1">false</span>;
</span><span id="15011" class="l"><a class="l" href="#15011">15011: </a>
</span><span id="15012" class="l"><a class="l" href="#15012">15012: </a>    <span class="php-keyword1">var</span> <span class="php-var"><a id="$replace_url_attributes" href="#$replace_url_attributes">$replace_url_attributes</a></span> = <span class="php-keyword1">array</span>(
</span><span id="15013" class="l"><a class="l" href="#15013">15013: </a>        <span class="php-quote">'a'</span> =&gt; <span class="php-quote">'href'</span>,
</span><span id="15014" class="l"><a class="l" href="#15014">15014: </a>        <span class="php-quote">'area'</span> =&gt; <span class="php-quote">'href'</span>,
</span><span id="15015" class="l"><a class="l" href="#15015">15015: </a>        <span class="php-quote">'blockquote'</span> =&gt; <span class="php-quote">'cite'</span>,
</span><span id="15016" class="l"><a class="l" href="#15016">15016: </a>        <span class="php-quote">'del'</span> =&gt; <span class="php-quote">'cite'</span>,
</span><span id="15017" class="l"><a class="l" href="#15017">15017: </a>        <span class="php-quote">'form'</span> =&gt; <span class="php-quote">'action'</span>,
</span><span id="15018" class="l"><a class="l" href="#15018">15018: </a>        <span class="php-quote">'img'</span> =&gt; <span class="php-keyword1">array</span>(<span class="php-quote">'longdesc'</span>, <span class="php-quote">'src'</span>),
</span><span id="15019" class="l"><a class="l" href="#15019">15019: </a>        <span class="php-quote">'input'</span> =&gt; <span class="php-quote">'src'</span>,
</span><span id="15020" class="l"><a class="l" href="#15020">15020: </a>        <span class="php-quote">'ins'</span> =&gt; <span class="php-quote">'cite'</span>,
</span><span id="15021" class="l"><a class="l" href="#15021">15021: </a>        <span class="php-quote">'q'</span> =&gt; <span class="php-quote">'cite'</span>
</span><span id="15022" class="l"><a class="l" href="#15022">15022: </a>    );
</span><span id="15023" class="l"><a class="l" href="#15023">15023: </a>
</span><span id="15024" class="l"><a class="l" href="#15024">15024: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_remove_div" href="#_remove_div">remove_div</a>(<span class="php-var">$enable</span> = <span class="php-keyword1">true</span>)
</span><span id="15025" class="l"><a class="l" href="#15025">15025: </a>    {
</span><span id="15026" class="l"><a class="l" href="#15026">15026: </a>        <span class="php-var">$this</span>-&gt;remove_div = (bool) <span class="php-var">$enable</span>;
</span><span id="15027" class="l"><a class="l" href="#15027">15027: </a>    }
</span><span id="15028" class="l"><a class="l" href="#15028">15028: </a>
</span><span id="15029" class="l"><a class="l" href="#15029">15029: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_set_image_handler" href="#_set_image_handler">set_image_handler</a>(<span class="php-var">$page</span> = <span class="php-keyword1">false</span>)
</span><span id="15030" class="l"><a class="l" href="#15030">15030: </a>    {
</span><span id="15031" class="l"><a class="l" href="#15031">15031: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$page</span>)
</span><span id="15032" class="l"><a class="l" href="#15032">15032: </a>        {
</span><span id="15033" class="l"><a class="l" href="#15033">15033: </a>            <span class="php-var">$this</span>-&gt;image_handler = (string) <span class="php-var">$page</span>;
</span><span id="15034" class="l"><a class="l" href="#15034">15034: </a>        }
</span><span id="15035" class="l"><a class="l" href="#15035">15035: </a>        <span class="php-keyword1">else</span>
</span><span id="15036" class="l"><a class="l" href="#15036">15036: </a>        {
</span><span id="15037" class="l"><a class="l" href="#15037">15037: </a>            <span class="php-var">$this</span>-&gt;image_handler = <span class="php-keyword1">false</span>;
</span><span id="15038" class="l"><a class="l" href="#15038">15038: </a>        }
</span><span id="15039" class="l"><a class="l" href="#15039">15039: </a>    }
</span><span id="15040" class="l"><a class="l" href="#15040">15040: </a>
</span><span id="15041" class="l"><a class="l" href="#15041">15041: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_set_registry" href="#_set_registry">set_registry</a>(SimplePie_Registry &amp;<span class="php-var">$registry</span>)
</span><span id="15042" class="l"><a class="l" href="#15042">15042: </a>    {
</span><span id="15043" class="l"><a class="l" href="#15043">15043: </a>        <span class="php-var">$this</span>-&gt;registry = <span class="php-var">$registry</span>;
</span><span id="15044" class="l"><a class="l" href="#15044">15044: </a>    }
</span><span id="15045" class="l"><a class="l" href="#15045">15045: </a>
</span><span id="15046" class="l"><a class="l" href="#15046">15046: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_pass_cache_data" href="#_pass_cache_data">pass_cache_data</a>(<span class="php-var">$enable_cache</span> = <span class="php-keyword1">true</span>, <span class="php-var">$cache_location</span> = <span class="php-quote">'./cache'</span>, <span class="php-var">$cache_name_function</span> = <span class="php-quote">'md5'</span>, <span class="php-var">$cache_class</span> = <span class="php-quote">'SimplePie_Cache'</span>)
</span><span id="15047" class="l"><a class="l" href="#15047">15047: </a>    {
</span><span id="15048" class="l"><a class="l" href="#15048">15048: </a>        <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$enable_cache</span>))
</span><span id="15049" class="l"><a class="l" href="#15049">15049: </a>        {
</span><span id="15050" class="l"><a class="l" href="#15050">15050: </a>            <span class="php-var">$this</span>-&gt;enable_cache = (bool) <span class="php-var">$enable_cache</span>;
</span><span id="15051" class="l"><a class="l" href="#15051">15051: </a>        }
</span><span id="15052" class="l"><a class="l" href="#15052">15052: </a>
</span><span id="15053" class="l"><a class="l" href="#15053">15053: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$cache_location</span>)
</span><span id="15054" class="l"><a class="l" href="#15054">15054: </a>        {
</span><span id="15055" class="l"><a class="l" href="#15055">15055: </a>            <span class="php-var">$this</span>-&gt;cache_location = (string) <span class="php-var">$cache_location</span>;
</span><span id="15056" class="l"><a class="l" href="#15056">15056: </a>        }
</span><span id="15057" class="l"><a class="l" href="#15057">15057: </a>
</span><span id="15058" class="l"><a class="l" href="#15058">15058: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$cache_name_function</span>)
</span><span id="15059" class="l"><a class="l" href="#15059">15059: </a>        {
</span><span id="15060" class="l"><a class="l" href="#15060">15060: </a>            <span class="php-var">$this</span>-&gt;cache_name_function = (string) <span class="php-var">$cache_name_function</span>;
</span><span id="15061" class="l"><a class="l" href="#15061">15061: </a>        }
</span><span id="15062" class="l"><a class="l" href="#15062">15062: </a>    }
</span><span id="15063" class="l"><a class="l" href="#15063">15063: </a>
</span><span id="15064" class="l"><a class="l" href="#15064">15064: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_pass_file_data" href="#_pass_file_data">pass_file_data</a>(<span class="php-var">$file_class</span> = <span class="php-quote">'SimplePie_File'</span>, <span class="php-var">$timeout</span> = <span class="php-num">10</span>, <span class="php-var">$useragent</span> = <span class="php-quote">''</span>, <span class="php-var">$force_fsockopen</span> = <span class="php-keyword1">false</span>)
</span><span id="15065" class="l"><a class="l" href="#15065">15065: </a>    {
</span><span id="15066" class="l"><a class="l" href="#15066">15066: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$timeout</span>)
</span><span id="15067" class="l"><a class="l" href="#15067">15067: </a>        {
</span><span id="15068" class="l"><a class="l" href="#15068">15068: </a>            <span class="php-var">$this</span>-&gt;timeout = (string) <span class="php-var">$timeout</span>;
</span><span id="15069" class="l"><a class="l" href="#15069">15069: </a>        }
</span><span id="15070" class="l"><a class="l" href="#15070">15070: </a>
</span><span id="15071" class="l"><a class="l" href="#15071">15071: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$useragent</span>)
</span><span id="15072" class="l"><a class="l" href="#15072">15072: </a>        {
</span><span id="15073" class="l"><a class="l" href="#15073">15073: </a>            <span class="php-var">$this</span>-&gt;useragent = (string) <span class="php-var">$useragent</span>;
</span><span id="15074" class="l"><a class="l" href="#15074">15074: </a>        }
</span><span id="15075" class="l"><a class="l" href="#15075">15075: </a>
</span><span id="15076" class="l"><a class="l" href="#15076">15076: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$force_fsockopen</span>)
</span><span id="15077" class="l"><a class="l" href="#15077">15077: </a>        {
</span><span id="15078" class="l"><a class="l" href="#15078">15078: </a>            <span class="php-var">$this</span>-&gt;force_fsockopen = (string) <span class="php-var">$force_fsockopen</span>;
</span><span id="15079" class="l"><a class="l" href="#15079">15079: </a>        }
</span><span id="15080" class="l"><a class="l" href="#15080">15080: </a>    }
</span><span id="15081" class="l"><a class="l" href="#15081">15081: </a>
</span><span id="15082" class="l"><a class="l" href="#15082">15082: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_strip_htmltags" href="#_strip_htmltags">strip_htmltags</a>(<span class="php-var">$tags</span> = <span class="php-keyword1">array</span>(<span class="php-quote">'base'</span>, <span class="php-quote">'blink'</span>, <span class="php-quote">'body'</span>, <span class="php-quote">'doctype'</span>, <span class="php-quote">'embed'</span>, <span class="php-quote">'font'</span>, <span class="php-quote">'form'</span>, <span class="php-quote">'frame'</span>, <span class="php-quote">'frameset'</span>, <span class="php-quote">'html'</span>, <span class="php-quote">'iframe'</span>, <span class="php-quote">'input'</span>, <span class="php-quote">'marquee'</span>, <span class="php-quote">'meta'</span>, <span class="php-quote">'noscript'</span>, <span class="php-quote">'object'</span>, <span class="php-quote">'param'</span>, <span class="php-quote">'script'</span>, <span class="php-quote">'style'</span>))
</span><span id="15083" class="l"><a class="l" href="#15083">15083: </a>    {
</span><span id="15084" class="l"><a class="l" href="#15084">15084: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$tags</span>)
</span><span id="15085" class="l"><a class="l" href="#15085">15085: </a>        {
</span><span id="15086" class="l"><a class="l" href="#15086">15086: </a>            <span class="php-keyword1">if</span> (<span class="php-keyword2">is_array</span>(<span class="php-var">$tags</span>))
</span><span id="15087" class="l"><a class="l" href="#15087">15087: </a>            {
</span><span id="15088" class="l"><a class="l" href="#15088">15088: </a>                <span class="php-var">$this</span>-&gt;strip_htmltags = <span class="php-var">$tags</span>;
</span><span id="15089" class="l"><a class="l" href="#15089">15089: </a>            }
</span><span id="15090" class="l"><a class="l" href="#15090">15090: </a>            <span class="php-keyword1">else</span>
</span><span id="15091" class="l"><a class="l" href="#15091">15091: </a>            {
</span><span id="15092" class="l"><a class="l" href="#15092">15092: </a>                <span class="php-var">$this</span>-&gt;strip_htmltags = <span class="php-keyword2">explode</span>(<span class="php-quote">','</span>, <span class="php-var">$tags</span>);
</span><span id="15093" class="l"><a class="l" href="#15093">15093: </a>            }
</span><span id="15094" class="l"><a class="l" href="#15094">15094: </a>        }
</span><span id="15095" class="l"><a class="l" href="#15095">15095: </a>        <span class="php-keyword1">else</span>
</span><span id="15096" class="l"><a class="l" href="#15096">15096: </a>        {
</span><span id="15097" class="l"><a class="l" href="#15097">15097: </a>            <span class="php-var">$this</span>-&gt;strip_htmltags = <span class="php-keyword1">false</span>;
</span><span id="15098" class="l"><a class="l" href="#15098">15098: </a>        }
</span><span id="15099" class="l"><a class="l" href="#15099">15099: </a>    }
</span><span id="15100" class="l"><a class="l" href="#15100">15100: </a>
</span><span id="15101" class="l"><a class="l" href="#15101">15101: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_encode_instead_of_strip" href="#_encode_instead_of_strip">encode_instead_of_strip</a>(<span class="php-var">$encode</span> = <span class="php-keyword1">false</span>)
</span><span id="15102" class="l"><a class="l" href="#15102">15102: </a>    {
</span><span id="15103" class="l"><a class="l" href="#15103">15103: </a>        <span class="php-var">$this</span>-&gt;encode_instead_of_strip = (bool) <span class="php-var">$encode</span>;
</span><span id="15104" class="l"><a class="l" href="#15104">15104: </a>    }
</span><span id="15105" class="l"><a class="l" href="#15105">15105: </a>
</span><span id="15106" class="l"><a class="l" href="#15106">15106: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_strip_attributes" href="#_strip_attributes">strip_attributes</a>(<span class="php-var">$attribs</span> = <span class="php-keyword1">array</span>(<span class="php-quote">'bgsound'</span>, <span class="php-quote">'class'</span>, <span class="php-quote">'expr'</span>, <span class="php-quote">'id'</span>, <span class="php-quote">'style'</span>, <span class="php-quote">'onclick'</span>, <span class="php-quote">'onerror'</span>, <span class="php-quote">'onfinish'</span>, <span class="php-quote">'onmouseover'</span>, <span class="php-quote">'onmouseout'</span>, <span class="php-quote">'onfocus'</span>, <span class="php-quote">'onblur'</span>, <span class="php-quote">'lowsrc'</span>, <span class="php-quote">'dynsrc'</span>))
</span><span id="15107" class="l"><a class="l" href="#15107">15107: </a>    {
</span><span id="15108" class="l"><a class="l" href="#15108">15108: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$attribs</span>)
</span><span id="15109" class="l"><a class="l" href="#15109">15109: </a>        {
</span><span id="15110" class="l"><a class="l" href="#15110">15110: </a>            <span class="php-keyword1">if</span> (<span class="php-keyword2">is_array</span>(<span class="php-var">$attribs</span>))
</span><span id="15111" class="l"><a class="l" href="#15111">15111: </a>            {
</span><span id="15112" class="l"><a class="l" href="#15112">15112: </a>                <span class="php-var">$this</span>-&gt;strip_attributes = <span class="php-var">$attribs</span>;
</span><span id="15113" class="l"><a class="l" href="#15113">15113: </a>            }
</span><span id="15114" class="l"><a class="l" href="#15114">15114: </a>            <span class="php-keyword1">else</span>
</span><span id="15115" class="l"><a class="l" href="#15115">15115: </a>            {
</span><span id="15116" class="l"><a class="l" href="#15116">15116: </a>                <span class="php-var">$this</span>-&gt;strip_attributes = <span class="php-keyword2">explode</span>(<span class="php-quote">','</span>, <span class="php-var">$attribs</span>);
</span><span id="15117" class="l"><a class="l" href="#15117">15117: </a>            }
</span><span id="15118" class="l"><a class="l" href="#15118">15118: </a>        }
</span><span id="15119" class="l"><a class="l" href="#15119">15119: </a>        <span class="php-keyword1">else</span>
</span><span id="15120" class="l"><a class="l" href="#15120">15120: </a>        {
</span><span id="15121" class="l"><a class="l" href="#15121">15121: </a>            <span class="php-var">$this</span>-&gt;strip_attributes = <span class="php-keyword1">false</span>;
</span><span id="15122" class="l"><a class="l" href="#15122">15122: </a>        }
</span><span id="15123" class="l"><a class="l" href="#15123">15123: </a>    }
</span><span id="15124" class="l"><a class="l" href="#15124">15124: </a>
</span><span id="15125" class="l"><a class="l" href="#15125">15125: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_strip_comments" href="#_strip_comments">strip_comments</a>(<span class="php-var">$strip</span> = <span class="php-keyword1">false</span>)
</span><span id="15126" class="l"><a class="l" href="#15126">15126: </a>    {
</span><span id="15127" class="l"><a class="l" href="#15127">15127: </a>        <span class="php-var">$this</span>-&gt;strip_comments = (bool) <span class="php-var">$strip</span>;
</span><span id="15128" class="l"><a class="l" href="#15128">15128: </a>    }
</span><span id="15129" class="l"><a class="l" href="#15129">15129: </a>
</span><span id="15130" class="l"><a class="l" href="#15130">15130: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_set_output_encoding" href="#_set_output_encoding">set_output_encoding</a>(<span class="php-var">$encoding</span> = <span class="php-quote">'UTF-8'</span>)
</span><span id="15131" class="l"><a class="l" href="#15131">15131: </a>    {
</span><span id="15132" class="l"><a class="l" href="#15132">15132: </a>        <span class="php-var">$this</span>-&gt;output_encoding = (string) <span class="php-var">$encoding</span>;
</span><span id="15133" class="l"><a class="l" href="#15133">15133: </a>    }
</span><span id="15134" class="l"><a class="l" href="#15134">15134: </a>
</span><span id="15135" class="l"><a class="l" href="#15135">15135: </a>    <span class="php-comment">/**
</span></span><span id="15136" class="l"><a class="l" href="#15136">15136: </a><span class="php-comment">     * Set element/attribute key/value pairs of HTML attributes
</span></span><span id="15137" class="l"><a class="l" href="#15137">15137: </a><span class="php-comment">     * containing URLs that need to be resolved relative to the feed
</span></span><span id="15138" class="l"><a class="l" href="#15138">15138: </a><span class="php-comment">     *
</span></span><span id="15139" class="l"><a class="l" href="#15139">15139: </a><span class="php-comment">     * @access public
</span></span><span id="15140" class="l"><a class="l" href="#15140">15140: </a><span class="php-comment">     * @since 1.0
</span></span><span id="15141" class="l"><a class="l" href="#15141">15141: </a><span class="php-comment">     * @param array $element_attribute Element/attribute key/value pairs
</span></span><span id="15142" class="l"><a class="l" href="#15142">15142: </a><span class="php-comment">     */</span>
</span><span id="15143" class="l"><a class="l" href="#15143">15143: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_set_url_replacements" href="#_set_url_replacements">set_url_replacements</a>(<span class="php-var">$element_attribute</span> = <span class="php-keyword1">array</span>(<span class="php-quote">'a'</span> =&gt; <span class="php-quote">'href'</span>, <span class="php-quote">'area'</span> =&gt; <span class="php-quote">'href'</span>, <span class="php-quote">'blockquote'</span> =&gt; <span class="php-quote">'cite'</span>, <span class="php-quote">'del'</span> =&gt; <span class="php-quote">'cite'</span>, <span class="php-quote">'form'</span> =&gt; <span class="php-quote">'action'</span>, <span class="php-quote">'img'</span> =&gt; <span class="php-keyword1">array</span>(<span class="php-quote">'longdesc'</span>, <span class="php-quote">'src'</span>), <span class="php-quote">'input'</span> =&gt; <span class="php-quote">'src'</span>, <span class="php-quote">'ins'</span> =&gt; <span class="php-quote">'cite'</span>, <span class="php-quote">'q'</span> =&gt; <span class="php-quote">'cite'</span>))
</span><span id="15144" class="l"><a class="l" href="#15144">15144: </a>    {
</span><span id="15145" class="l"><a class="l" href="#15145">15145: </a>        <span class="php-var">$this</span>-&gt;replace_url_attributes = (<span class="php-keyword1">array</span>) <span class="php-var">$element_attribute</span>;
</span><span id="15146" class="l"><a class="l" href="#15146">15146: </a>    }
</span><span id="15147" class="l"><a class="l" href="#15147">15147: </a>
</span><span id="15148" class="l"><a class="l" href="#15148">15148: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_sanitize" href="#_sanitize">sanitize</a>(<span class="php-var">$data</span>, <span class="php-var">$type</span>, <span class="php-var">$base</span> = <span class="php-quote">''</span>)
</span><span id="15149" class="l"><a class="l" href="#15149">15149: </a>    {
</span><span id="15150" class="l"><a class="l" href="#15150">15150: </a>        <span class="php-var">$data</span> = <span class="php-keyword2">trim</span>(<span class="php-var">$data</span>);
</span><span id="15151" class="l"><a class="l" href="#15151">15151: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$data</span> !== <span class="php-quote">''</span> || <span class="php-var">$type</span> &amp; SIMPLEPIE_CONSTRUCT_IRI)
</span><span id="15152" class="l"><a class="l" href="#15152">15152: </a>        {
</span><span id="15153" class="l"><a class="l" href="#15153">15153: </a>            <span class="php-keyword1">if</span> (<span class="php-var">$type</span> &amp; SIMPLEPIE_CONSTRUCT_MAYBE_HTML)
</span><span id="15154" class="l"><a class="l" href="#15154">15154: </a>            {
</span><span id="15155" class="l"><a class="l" href="#15155">15155: </a>                <span class="php-keyword1">if</span> (<span class="php-keyword2">preg_match</span>(<span class="php-quote">'/(&amp;(#(x[0-9a-fA-F]+|[0-9]+)|[a-zA-Z0-9]+)|&lt;\/[A-Za-z][^\x09\x0A\x0B\x0C\x0D\x20\x2F\x3E]*'</span> . SIMPLEPIE_PCRE_HTML_ATTRIBUTE . <span class="php-quote">'&gt;)/'</span>, <span class="php-var">$data</span>))
</span><span id="15156" class="l"><a class="l" href="#15156">15156: </a>                {
</span><span id="15157" class="l"><a class="l" href="#15157">15157: </a>                    <span class="php-var">$type</span> |= SIMPLEPIE_CONSTRUCT_HTML;
</span><span id="15158" class="l"><a class="l" href="#15158">15158: </a>                }
</span><span id="15159" class="l"><a class="l" href="#15159">15159: </a>                <span class="php-keyword1">else</span>
</span><span id="15160" class="l"><a class="l" href="#15160">15160: </a>                {
</span><span id="15161" class="l"><a class="l" href="#15161">15161: </a>                    <span class="php-var">$type</span> |= SIMPLEPIE_CONSTRUCT_TEXT;
</span><span id="15162" class="l"><a class="l" href="#15162">15162: </a>                }
</span><span id="15163" class="l"><a class="l" href="#15163">15163: </a>            }
</span><span id="15164" class="l"><a class="l" href="#15164">15164: </a>
</span><span id="15165" class="l"><a class="l" href="#15165">15165: </a>            <span class="php-keyword1">if</span> (<span class="php-var">$type</span> &amp; SIMPLEPIE_CONSTRUCT_BASE64)
</span><span id="15166" class="l"><a class="l" href="#15166">15166: </a>            {
</span><span id="15167" class="l"><a class="l" href="#15167">15167: </a>                <span class="php-var">$data</span> = <span class="php-keyword2">base64_decode</span>(<span class="php-var">$data</span>);
</span><span id="15168" class="l"><a class="l" href="#15168">15168: </a>            }
</span><span id="15169" class="l"><a class="l" href="#15169">15169: </a>
</span><span id="15170" class="l"><a class="l" href="#15170">15170: </a>            <span class="php-keyword1">if</span> (<span class="php-var">$type</span> &amp; (SIMPLEPIE_CONSTRUCT_HTML | SIMPLEPIE_CONSTRUCT_XHTML))
</span><span id="15171" class="l"><a class="l" href="#15171">15171: </a>            {
</span><span id="15172" class="l"><a class="l" href="#15172">15172: </a>
</span><span id="15173" class="l"><a class="l" href="#15173">15173: </a>                <span class="php-var">$document</span> = <span class="php-keyword1">new</span> DOMDocument();
</span><span id="15174" class="l"><a class="l" href="#15174">15174: </a>                <span class="php-var">$document</span>-&gt;encoding = <span class="php-quote">'UTF-8'</span>;
</span><span id="15175" class="l"><a class="l" href="#15175">15175: </a>                <span class="php-var">$data</span> = <span class="php-var">$this</span>-&gt;preprocess(<span class="php-var">$data</span>, <span class="php-var">$type</span>);
</span><span id="15176" class="l"><a class="l" href="#15176">15176: </a>
</span><span id="15177" class="l"><a class="l" href="#15177">15177: </a>                <span class="php-keyword2">set_error_handler</span>(<span class="php-keyword1">array</span>(<span class="php-quote">'SimplePie_Misc'</span>, <span class="php-quote">'silence_errors'</span>));
</span><span id="15178" class="l"><a class="l" href="#15178">15178: </a>                <span class="php-var">$document</span>-&gt;loadHTML(<span class="php-var">$data</span>);
</span><span id="15179" class="l"><a class="l" href="#15179">15179: </a>                <span class="php-keyword2">restore_error_handler</span>();
</span><span id="15180" class="l"><a class="l" href="#15180">15180: </a>
</span><span id="15181" class="l"><a class="l" href="#15181">15181: </a>                <span class="php-comment">// Strip comments</span>
</span><span id="15182" class="l"><a class="l" href="#15182">15182: </a>                <span class="php-keyword1">if</span> (<span class="php-var">$this</span>-&gt;strip_comments)
</span><span id="15183" class="l"><a class="l" href="#15183">15183: </a>                {
</span><span id="15184" class="l"><a class="l" href="#15184">15184: </a>                    <span class="php-var">$xpath</span> = <span class="php-keyword1">new</span> DOMXPath(<span class="php-var">$document</span>);
</span><span id="15185" class="l"><a class="l" href="#15185">15185: </a>                    <span class="php-var">$comments</span> = <span class="php-var">$xpath</span>-&gt;query(<span class="php-quote">'//comment()'</span>);
</span><span id="15186" class="l"><a class="l" href="#15186">15186: </a>
</span><span id="15187" class="l"><a class="l" href="#15187">15187: </a>                    <span class="php-keyword1">foreach</span> (<span class="php-var">$comments</span> <span class="php-keyword1">as</span> <span class="php-var">$comment</span>)
</span><span id="15188" class="l"><a class="l" href="#15188">15188: </a>                    {
</span><span id="15189" class="l"><a class="l" href="#15189">15189: </a>                        <span class="php-var">$comment</span>-&gt;parentNode-&gt;removeChild(<span class="php-var">$comment</span>);
</span><span id="15190" class="l"><a class="l" href="#15190">15190: </a>                    }
</span><span id="15191" class="l"><a class="l" href="#15191">15191: </a>                }
</span><span id="15192" class="l"><a class="l" href="#15192">15192: </a>
</span><span id="15193" class="l"><a class="l" href="#15193">15193: </a>                <span class="php-comment">// Strip out HTML tags and attributes that might cause various security problems.</span>
</span><span id="15194" class="l"><a class="l" href="#15194">15194: </a>                <span class="php-comment">// Based on recommendations by Mark Pilgrim at:</span>
</span><span id="15195" class="l"><a class="l" href="#15195">15195: </a>                <span class="php-comment">// http://diveintomark.org/archives/2003/06/12/how_to_consume_rss_safely</span>
</span><span id="15196" class="l"><a class="l" href="#15196">15196: </a>                <span class="php-keyword1">if</span> (<span class="php-var">$this</span>-&gt;strip_htmltags)
</span><span id="15197" class="l"><a class="l" href="#15197">15197: </a>                {
</span><span id="15198" class="l"><a class="l" href="#15198">15198: </a>                    <span class="php-keyword1">foreach</span> (<span class="php-var">$this</span>-&gt;strip_htmltags <span class="php-keyword1">as</span> <span class="php-var">$tag</span>)
</span><span id="15199" class="l"><a class="l" href="#15199">15199: </a>                    {
</span><span id="15200" class="l"><a class="l" href="#15200">15200: </a>                        <span class="php-var">$this</span>-&gt;strip_tag(<span class="php-var">$tag</span>, <span class="php-var">$document</span>, <span class="php-var">$type</span>);
</span><span id="15201" class="l"><a class="l" href="#15201">15201: </a>                    }
</span><span id="15202" class="l"><a class="l" href="#15202">15202: </a>                }
</span><span id="15203" class="l"><a class="l" href="#15203">15203: </a>
</span><span id="15204" class="l"><a class="l" href="#15204">15204: </a>                <span class="php-keyword1">if</span> (<span class="php-var">$this</span>-&gt;strip_attributes)
</span><span id="15205" class="l"><a class="l" href="#15205">15205: </a>                {
</span><span id="15206" class="l"><a class="l" href="#15206">15206: </a>                    <span class="php-keyword1">foreach</span> (<span class="php-var">$this</span>-&gt;strip_attributes <span class="php-keyword1">as</span> <span class="php-var">$attrib</span>)
</span><span id="15207" class="l"><a class="l" href="#15207">15207: </a>                    {
</span><span id="15208" class="l"><a class="l" href="#15208">15208: </a>                        <span class="php-var">$this</span>-&gt;strip_attr(<span class="php-var">$attrib</span>, <span class="php-var">$document</span>);
</span><span id="15209" class="l"><a class="l" href="#15209">15209: </a>                    }
</span><span id="15210" class="l"><a class="l" href="#15210">15210: </a>                }
</span><span id="15211" class="l"><a class="l" href="#15211">15211: </a>
</span><span id="15212" class="l"><a class="l" href="#15212">15212: </a>                <span class="php-comment">// Replace relative URLs</span>
</span><span id="15213" class="l"><a class="l" href="#15213">15213: </a>                <span class="php-var">$this</span>-&gt;base = <span class="php-var">$base</span>;
</span><span id="15214" class="l"><a class="l" href="#15214">15214: </a>                <span class="php-keyword1">foreach</span> (<span class="php-var">$this</span>-&gt;replace_url_attributes <span class="php-keyword1">as</span> <span class="php-var">$element</span> =&gt; <span class="php-var">$attributes</span>)
</span><span id="15215" class="l"><a class="l" href="#15215">15215: </a>                {
</span><span id="15216" class="l"><a class="l" href="#15216">15216: </a>                    <span class="php-var">$this</span>-&gt;replace_urls(<span class="php-var">$document</span>, <span class="php-var">$element</span>, <span class="php-var">$attributes</span>);
</span><span id="15217" class="l"><a class="l" href="#15217">15217: </a>                }
</span><span id="15218" class="l"><a class="l" href="#15218">15218: </a>
</span><span id="15219" class="l"><a class="l" href="#15219">15219: </a>                <span class="php-comment">// If image handling (caching, etc.) is enabled, cache and rewrite all the image tags.</span>
</span><span id="15220" class="l"><a class="l" href="#15220">15220: </a>                <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$this</span>-&gt;image_handler) &amp;&amp; ((string) <span class="php-var">$this</span>-&gt;image_handler) !== <span class="php-quote">''</span> &amp;&amp; <span class="php-var">$this</span>-&gt;enable_cache)
</span><span id="15221" class="l"><a class="l" href="#15221">15221: </a>                {
</span><span id="15222" class="l"><a class="l" href="#15222">15222: </a>                    <span class="php-var">$images</span> = <span class="php-var">$document</span>-&gt;getElementsByTagName(<span class="php-quote">'img'</span>);
</span><span id="15223" class="l"><a class="l" href="#15223">15223: </a>                    <span class="php-keyword1">foreach</span> (<span class="php-var">$images</span> <span class="php-keyword1">as</span> <span class="php-var">$img</span>)
</span><span id="15224" class="l"><a class="l" href="#15224">15224: </a>                    {
</span><span id="15225" class="l"><a class="l" href="#15225">15225: </a>                        <span class="php-keyword1">if</span> (<span class="php-var">$img</span>-&gt;hasAttribute(<span class="php-quote">'src'</span>))
</span><span id="15226" class="l"><a class="l" href="#15226">15226: </a>                        {
</span><span id="15227" class="l"><a class="l" href="#15227">15227: </a>                            <span class="php-var">$image_url</span> = <span class="php-keyword2">call_user_func</span>(<span class="php-var">$this</span>-&gt;cache_name_function, <span class="php-var">$img</span>-&gt;getAttribute(<span class="php-quote">'src'</span>));
</span><span id="15228" class="l"><a class="l" href="#15228">15228: </a>                            <span class="php-var">$cache</span> = <span class="php-var">$this</span>-&gt;registry-&gt;call(<span class="php-quote">'Cache'</span>, <span class="php-quote">'create'</span>, <span class="php-keyword1">array</span>(<span class="php-var">$this</span>-&gt;cache_location, <span class="php-var">$image_url</span>, <span class="php-quote">'spi'</span>));
</span><span id="15229" class="l"><a class="l" href="#15229">15229: </a>
</span><span id="15230" class="l"><a class="l" href="#15230">15230: </a>                            <span class="php-keyword1">if</span> (<span class="php-var">$cache</span>-&gt;load())
</span><span id="15231" class="l"><a class="l" href="#15231">15231: </a>                            {
</span><span id="15232" class="l"><a class="l" href="#15232">15232: </a>                                <span class="php-var">$img</span>-&gt;setAttribute(<span class="php-quote">'src'</span>, <span class="php-var">$this</span>-&gt;image_handler . <span class="php-var">$image_url</span>);
</span><span id="15233" class="l"><a class="l" href="#15233">15233: </a>                            }
</span><span id="15234" class="l"><a class="l" href="#15234">15234: </a>                            <span class="php-keyword1">else</span>
</span><span id="15235" class="l"><a class="l" href="#15235">15235: </a>                            {
</span><span id="15236" class="l"><a class="l" href="#15236">15236: </a>                                <span class="php-var">$file</span> = <span class="php-var">$this</span>-&gt;registry-&gt;create(<span class="php-quote">'File'</span>, <span class="php-keyword1">array</span>(<span class="php-var">$img</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">'src'</span>][<span class="php-quote">'data'</span>], <span class="php-var">$this</span>-&gt;timeout, <span class="php-num">5</span>, <span class="php-keyword1">array</span>(<span class="php-quote">'X-FORWARDED-FOR'</span> =&gt; <span class="php-var">$_SERVER</span>[<span class="php-quote">'REMOTE_ADDR'</span>]), <span class="php-var">$this</span>-&gt;useragent, <span class="php-var">$this</span>-&gt;force_fsockopen));
</span><span id="15237" class="l"><a class="l" href="#15237">15237: </a>                                <span class="php-var">$headers</span> = <span class="php-var">$file</span>-&gt;headers;
</span><span id="15238" class="l"><a class="l" href="#15238">15238: </a>
</span><span id="15239" class="l"><a class="l" href="#15239">15239: </a>                                <span class="php-keyword1">if</span> (<span class="php-var">$file</span>-&gt;success &amp;&amp; (<span class="php-var">$file</span>-&gt;method &amp; SIMPLEPIE_FILE_SOURCE_REMOTE === <span class="php-num">0</span> || (<span class="php-var">$file</span>-&gt;status_code === <span class="php-num">200</span> || <span class="php-var">$file</span>-&gt;status_code &gt; <span class="php-num">206</span> &amp;&amp; <span class="php-var">$file</span>-&gt;status_code &lt; <span class="php-num">300</span>)))
</span><span id="15240" class="l"><a class="l" href="#15240">15240: </a>                                {
</span><span id="15241" class="l"><a class="l" href="#15241">15241: </a>                                    <span class="php-keyword1">if</span> (<span class="php-var">$cache</span>-&gt;save(<span class="php-keyword1">array</span>(<span class="php-quote">'headers'</span> =&gt; <span class="php-var">$file</span>-&gt;headers, <span class="php-quote">'body'</span> =&gt; <span class="php-var">$file</span>-&gt;body)))
</span><span id="15242" class="l"><a class="l" href="#15242">15242: </a>                                    {
</span><span id="15243" class="l"><a class="l" href="#15243">15243: </a>                                        <span class="php-var">$img</span>-&gt;setAttribute(<span class="php-quote">'src'</span>, <span class="php-var">$this</span>-&gt;image_handler . <span class="php-var">$image_url</span>);
</span><span id="15244" class="l"><a class="l" href="#15244">15244: </a>                                    }
</span><span id="15245" class="l"><a class="l" href="#15245">15245: </a>                                    <span class="php-keyword1">else</span>
</span><span id="15246" class="l"><a class="l" href="#15246">15246: </a>                                    {
</span><span id="15247" class="l"><a class="l" href="#15247">15247: </a>                                        <span class="php-keyword2">trigger_error</span>(<span class="php-quote">&quot;</span><span class="php-var">$this</span><span class="php-quote">-&gt;cache_location is not writeable. Make sure you've set the correct relative or absolute path, and that the location is server-writable.&quot;</span>, E_USER_WARNING);
</span><span id="15248" class="l"><a class="l" href="#15248">15248: </a>                                    }
</span><span id="15249" class="l"><a class="l" href="#15249">15249: </a>                                }
</span><span id="15250" class="l"><a class="l" href="#15250">15250: </a>                            }
</span><span id="15251" class="l"><a class="l" href="#15251">15251: </a>                        }
</span><span id="15252" class="l"><a class="l" href="#15252">15252: </a>                    }
</span><span id="15253" class="l"><a class="l" href="#15253">15253: </a>                }
</span><span id="15254" class="l"><a class="l" href="#15254">15254: </a>
</span><span id="15255" class="l"><a class="l" href="#15255">15255: </a>                <span class="php-comment">// Remove the DOCTYPE</span>
</span><span id="15256" class="l"><a class="l" href="#15256">15256: </a>                <span class="php-comment">// Seems to cause segfaulting if we don't do this</span>
</span><span id="15257" class="l"><a class="l" href="#15257">15257: </a>                <span class="php-keyword1">if</span> (<span class="php-var">$document</span>-&gt;firstChild <span class="php-keyword1">instanceof</span> DOMDocumentType)
</span><span id="15258" class="l"><a class="l" href="#15258">15258: </a>                {
</span><span id="15259" class="l"><a class="l" href="#15259">15259: </a>                    <span class="php-var">$document</span>-&gt;removeChild(<span class="php-var">$document</span>-&gt;firstChild);
</span><span id="15260" class="l"><a class="l" href="#15260">15260: </a>                }
</span><span id="15261" class="l"><a class="l" href="#15261">15261: </a>
</span><span id="15262" class="l"><a class="l" href="#15262">15262: </a>                <span class="php-comment">// Move everything from the body to the root</span>
</span><span id="15263" class="l"><a class="l" href="#15263">15263: </a>                <span class="php-var">$real_body</span> = <span class="php-var">$document</span>-&gt;getElementsByTagName(<span class="php-quote">'body'</span>)-&gt;item(<span class="php-num">0</span>)-&gt;childNodes-&gt;item(<span class="php-num">0</span>);
</span><span id="15264" class="l"><a class="l" href="#15264">15264: </a>                <span class="php-var">$document</span>-&gt;replaceChild(<span class="php-var">$real_body</span>, <span class="php-var">$document</span>-&gt;firstChild);
</span><span id="15265" class="l"><a class="l" href="#15265">15265: </a>
</span><span id="15266" class="l"><a class="l" href="#15266">15266: </a>                <span class="php-comment">// Finally, convert to a HTML string</span>
</span><span id="15267" class="l"><a class="l" href="#15267">15267: </a>                <span class="php-var">$data</span> = <span class="php-keyword2">trim</span>(<span class="php-var">$document</span>-&gt;saveHTML());
</span><span id="15268" class="l"><a class="l" href="#15268">15268: </a>
</span><span id="15269" class="l"><a class="l" href="#15269">15269: </a>                <span class="php-keyword1">if</span> (<span class="php-var">$type</span> &amp; SIMPLEPIE_CONSTRUCT_XHTML)
</span><span id="15270" class="l"><a class="l" href="#15270">15270: </a>                {
</span><span id="15271" class="l"><a class="l" href="#15271">15271: </a>                    <span class="php-keyword1">if</span> (<span class="php-var">$this</span>-&gt;remove_div)
</span><span id="15272" class="l"><a class="l" href="#15272">15272: </a>                    {
</span><span id="15273" class="l"><a class="l" href="#15273">15273: </a>                        <span class="php-var">$data</span> = <span class="php-keyword2">preg_replace</span>(<span class="php-quote">'/^&lt;div'</span> . SIMPLEPIE_PCRE_XML_ATTRIBUTE . <span class="php-quote">'&gt;/'</span>, <span class="php-quote">''</span>, <span class="php-var">$data</span>);
</span><span id="15274" class="l"><a class="l" href="#15274">15274: </a>                        <span class="php-var">$data</span> = <span class="php-keyword2">preg_replace</span>(<span class="php-quote">'/&lt;\/div&gt;$/'</span>, <span class="php-quote">''</span>, <span class="php-var">$data</span>);
</span><span id="15275" class="l"><a class="l" href="#15275">15275: </a>                    }
</span><span id="15276" class="l"><a class="l" href="#15276">15276: </a>                    <span class="php-keyword1">else</span>
</span><span id="15277" class="l"><a class="l" href="#15277">15277: </a>                    {
</span><span id="15278" class="l"><a class="l" href="#15278">15278: </a>                        <span class="php-var">$data</span> = <span class="php-keyword2">preg_replace</span>(<span class="php-quote">'/^&lt;div'</span> . SIMPLEPIE_PCRE_XML_ATTRIBUTE . <span class="php-quote">'&gt;/'</span>, <span class="php-quote">'&lt;div&gt;'</span>, <span class="php-var">$data</span>);
</span><span id="15279" class="l"><a class="l" href="#15279">15279: </a>                    }
</span><span id="15280" class="l"><a class="l" href="#15280">15280: </a>                }
</span><span id="15281" class="l"><a class="l" href="#15281">15281: </a>            }
</span><span id="15282" class="l"><a class="l" href="#15282">15282: </a>
</span><span id="15283" class="l"><a class="l" href="#15283">15283: </a>            <span class="php-keyword1">if</span> (<span class="php-var">$type</span> &amp; SIMPLEPIE_CONSTRUCT_IRI)
</span><span id="15284" class="l"><a class="l" href="#15284">15284: </a>            {
</span><span id="15285" class="l"><a class="l" href="#15285">15285: </a>                <span class="php-var">$data</span> = <span class="php-var">$this</span>-&gt;registry-&gt;call(<span class="php-quote">'Misc'</span>, <span class="php-quote">'absolutize_url'</span>, <span class="php-keyword1">array</span>(<span class="php-var">$data</span>, <span class="php-var">$base</span>));
</span><span id="15286" class="l"><a class="l" href="#15286">15286: </a>            }
</span><span id="15287" class="l"><a class="l" href="#15287">15287: </a>
</span><span id="15288" class="l"><a class="l" href="#15288">15288: </a>            <span class="php-keyword1">if</span> (<span class="php-var">$type</span> &amp; (SIMPLEPIE_CONSTRUCT_TEXT | SIMPLEPIE_CONSTRUCT_IRI))
</span><span id="15289" class="l"><a class="l" href="#15289">15289: </a>            {
</span><span id="15290" class="l"><a class="l" href="#15290">15290: </a>                <span class="php-var">$data</span> = <span class="php-keyword2">htmlspecialchars</span>(<span class="php-var">$data</span>, ENT_COMPAT, <span class="php-quote">'UTF-8'</span>);
</span><span id="15291" class="l"><a class="l" href="#15291">15291: </a>            }
</span><span id="15292" class="l"><a class="l" href="#15292">15292: </a>
</span><span id="15293" class="l"><a class="l" href="#15293">15293: </a>            <span class="php-keyword1">if</span> (<span class="php-var">$this</span>-&gt;output_encoding !== <span class="php-quote">'UTF-8'</span>)
</span><span id="15294" class="l"><a class="l" href="#15294">15294: </a>            {
</span><span id="15295" class="l"><a class="l" href="#15295">15295: </a>                <span class="php-var">$data</span> = <span class="php-var">$this</span>-&gt;registry-&gt;call(<span class="php-quote">'Misc'</span>, <span class="php-quote">'change_encoding'</span>, <span class="php-keyword1">array</span>(<span class="php-var">$data</span>, <span class="php-quote">'UTF-8'</span>, <span class="php-var">$this</span>-&gt;output_encoding));
</span><span id="15296" class="l"><a class="l" href="#15296">15296: </a>            }
</span><span id="15297" class="l"><a class="l" href="#15297">15297: </a>        }
</span><span id="15298" class="l"><a class="l" href="#15298">15298: </a>        <span class="php-keyword1">return</span> <span class="php-var">$data</span>;
</span><span id="15299" class="l"><a class="l" href="#15299">15299: </a>    }
</span><span id="15300" class="l"><a class="l" href="#15300">15300: </a>
</span><span id="15301" class="l"><a class="l" href="#15301">15301: </a>    <span class="php-keyword1">protected</span> <span class="php-keyword1">function</span> <a id="_preprocess" href="#_preprocess">preprocess</a>(<span class="php-var">$html</span>, <span class="php-var">$type</span>)
</span><span id="15302" class="l"><a class="l" href="#15302">15302: </a>    {
</span><span id="15303" class="l"><a class="l" href="#15303">15303: </a>        <span class="php-var">$ret</span> = <span class="php-quote">''</span>;
</span><span id="15304" class="l"><a class="l" href="#15304">15304: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$type</span> &amp; ~SIMPLEPIE_CONSTRUCT_XHTML)
</span><span id="15305" class="l"><a class="l" href="#15305">15305: </a>        {
</span><span id="15306" class="l"><a class="l" href="#15306">15306: </a>            <span class="php-comment">// Atom XHTML constructs are wrapped with a div by default</span>
</span><span id="15307" class="l"><a class="l" href="#15307">15307: </a>            <span class="php-comment">// Note: No protection if $html contains a stray &lt;/div&gt;!</span>
</span><span id="15308" class="l"><a class="l" href="#15308">15308: </a>            <span class="php-var">$html</span> = <span class="php-quote">'&lt;div&gt;'</span> . <span class="php-var">$html</span> . <span class="php-quote">'&lt;/div&gt;'</span>;
</span><span id="15309" class="l"><a class="l" href="#15309">15309: </a>            <span class="php-var">$ret</span> .= <span class="php-quote">'&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Strict//EN&quot; &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd&quot;&gt;'</span>;
</span><span id="15310" class="l"><a class="l" href="#15310">15310: </a>            <span class="php-var">$content_type</span> = <span class="php-quote">'application/xhtml+xml'</span>;
</span><span id="15311" class="l"><a class="l" href="#15311">15311: </a>        }
</span><span id="15312" class="l"><a class="l" href="#15312">15312: </a>        <span class="php-keyword1">else</span>
</span><span id="15313" class="l"><a class="l" href="#15313">15313: </a>        {
</span><span id="15314" class="l"><a class="l" href="#15314">15314: </a>            <span class="php-var">$ret</span> .= <span class="php-quote">'&lt;!DOCTYPE html&gt;'</span>;
</span><span id="15315" class="l"><a class="l" href="#15315">15315: </a>            <span class="php-var">$content_type</span> = <span class="php-quote">'text/html'</span>;
</span><span id="15316" class="l"><a class="l" href="#15316">15316: </a>        }
</span><span id="15317" class="l"><a class="l" href="#15317">15317: </a>
</span><span id="15318" class="l"><a class="l" href="#15318">15318: </a>        <span class="php-var">$ret</span> .= <span class="php-quote">'&lt;html&gt;&lt;head&gt;'</span>;
</span><span id="15319" class="l"><a class="l" href="#15319">15319: </a>        <span class="php-var">$ret</span> .= <span class="php-quote">'&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;'</span> . <span class="php-var">$content_type</span> . <span class="php-quote">'; charset=utf-8&quot; /&gt;'</span>;
</span><span id="15320" class="l"><a class="l" href="#15320">15320: </a>        <span class="php-var">$ret</span> .= <span class="php-quote">'&lt;/head&gt;&lt;body&gt;'</span> . <span class="php-var">$html</span> . <span class="php-quote">'&lt;/body&gt;&lt;/html&gt;'</span>;
</span><span id="15321" class="l"><a class="l" href="#15321">15321: </a>        <span class="php-keyword1">return</span> <span class="php-var">$ret</span>;
</span><span id="15322" class="l"><a class="l" href="#15322">15322: </a>    }
</span><span id="15323" class="l"><a class="l" href="#15323">15323: </a>
</span><span id="15324" class="l"><a class="l" href="#15324">15324: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_replace_urls" href="#_replace_urls">replace_urls</a>(&amp;<span class="php-var">$document</span>, <span class="php-var">$tag</span>, <span class="php-var">$attributes</span>)
</span><span id="15325" class="l"><a class="l" href="#15325">15325: </a>    {
</span><span id="15326" class="l"><a class="l" href="#15326">15326: </a>        <span class="php-keyword1">if</span> (!<span class="php-keyword2">is_array</span>(<span class="php-var">$attributes</span>))
</span><span id="15327" class="l"><a class="l" href="#15327">15327: </a>        {
</span><span id="15328" class="l"><a class="l" href="#15328">15328: </a>            <span class="php-var">$attributes</span> = <span class="php-keyword1">array</span>(<span class="php-var">$attributes</span>);
</span><span id="15329" class="l"><a class="l" href="#15329">15329: </a>        }
</span><span id="15330" class="l"><a class="l" href="#15330">15330: </a>
</span><span id="15331" class="l"><a class="l" href="#15331">15331: </a>        <span class="php-keyword1">if</span> (!<span class="php-keyword2">is_array</span>(<span class="php-var">$this</span>-&gt;strip_htmltags) || !<span class="php-keyword2">in_array</span>(<span class="php-var">$tag</span>, <span class="php-var">$this</span>-&gt;strip_htmltags))
</span><span id="15332" class="l"><a class="l" href="#15332">15332: </a>        {
</span><span id="15333" class="l"><a class="l" href="#15333">15333: </a>            <span class="php-var">$elements</span> = <span class="php-var">$document</span>-&gt;getElementsByTagName(<span class="php-var">$tag</span>);
</span><span id="15334" class="l"><a class="l" href="#15334">15334: </a>            <span class="php-keyword1">foreach</span> (<span class="php-var">$elements</span> <span class="php-keyword1">as</span> <span class="php-var">$element</span>)
</span><span id="15335" class="l"><a class="l" href="#15335">15335: </a>            {
</span><span id="15336" class="l"><a class="l" href="#15336">15336: </a>                <span class="php-keyword1">foreach</span> (<span class="php-var">$attributes</span> <span class="php-keyword1">as</span> <span class="php-var">$attribute</span>)
</span><span id="15337" class="l"><a class="l" href="#15337">15337: </a>                {
</span><span id="15338" class="l"><a class="l" href="#15338">15338: </a>                    <span class="php-keyword1">if</span> (<span class="php-var">$element</span>-&gt;hasAttribute(<span class="php-var">$attribute</span>))
</span><span id="15339" class="l"><a class="l" href="#15339">15339: </a>                    {
</span><span id="15340" class="l"><a class="l" href="#15340">15340: </a>                        <span class="php-var">$value</span> = <span class="php-var">$this</span>-&gt;registry-&gt;call(<span class="php-quote">'Misc'</span>, <span class="php-quote">'absolutize_url'</span>, <span class="php-keyword1">array</span>(<span class="php-var">$element</span>-&gt;getAttribute(<span class="php-var">$attribute</span>), <span class="php-var">$this</span>-&gt;base));
</span><span id="15341" class="l"><a class="l" href="#15341">15341: </a>                        <span class="php-var">$element</span>-&gt;setAttribute(<span class="php-var">$attribute</span>, <span class="php-var">$value</span>);
</span><span id="15342" class="l"><a class="l" href="#15342">15342: </a>                    }
</span><span id="15343" class="l"><a class="l" href="#15343">15343: </a>                }
</span><span id="15344" class="l"><a class="l" href="#15344">15344: </a>            }
</span><span id="15345" class="l"><a class="l" href="#15345">15345: </a>        }
</span><span id="15346" class="l"><a class="l" href="#15346">15346: </a>    }
</span><span id="15347" class="l"><a class="l" href="#15347">15347: </a>
</span><span id="15348" class="l"><a class="l" href="#15348">15348: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_do_strip_htmltags" href="#_do_strip_htmltags">do_strip_htmltags</a>(<span class="php-var">$match</span>)
</span><span id="15349" class="l"><a class="l" href="#15349">15349: </a>    {
</span><span id="15350" class="l"><a class="l" href="#15350">15350: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$this</span>-&gt;encode_instead_of_strip)
</span><span id="15351" class="l"><a class="l" href="#15351">15351: </a>        {
</span><span id="15352" class="l"><a class="l" href="#15352">15352: </a>            <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$match</span>[<span class="php-num">4</span>]) &amp;&amp; !<span class="php-keyword2">in_array</span>(<span class="php-keyword2">strtolower</span>(<span class="php-var">$match</span>[<span class="php-num">1</span>]), <span class="php-keyword1">array</span>(<span class="php-quote">'script'</span>, <span class="php-quote">'style'</span>)))
</span><span id="15353" class="l"><a class="l" href="#15353">15353: </a>            {
</span><span id="15354" class="l"><a class="l" href="#15354">15354: </a>                <span class="php-var">$match</span>[<span class="php-num">1</span>] = <span class="php-keyword2">htmlspecialchars</span>(<span class="php-var">$match</span>[<span class="php-num">1</span>], ENT_COMPAT, <span class="php-quote">'UTF-8'</span>);
</span><span id="15355" class="l"><a class="l" href="#15355">15355: </a>                <span class="php-var">$match</span>[<span class="php-num">2</span>] = <span class="php-keyword2">htmlspecialchars</span>(<span class="php-var">$match</span>[<span class="php-num">2</span>], ENT_COMPAT, <span class="php-quote">'UTF-8'</span>);
</span><span id="15356" class="l"><a class="l" href="#15356">15356: </a>                <span class="php-keyword1">return</span> <span class="php-quote">&quot;&amp;lt;</span><span class="php-var">$match</span><span class="php-quote">[1]</span><span class="php-var">$match</span><span class="php-quote">[2]&amp;gt;</span><span class="php-var">$match</span><span class="php-quote">[3]&amp;lt;/</span><span class="php-var">$match</span><span class="php-quote">[1]&amp;gt;&quot;</span>;
</span><span id="15357" class="l"><a class="l" href="#15357">15357: </a>            }
</span><span id="15358" class="l"><a class="l" href="#15358">15358: </a>            <span class="php-keyword1">else</span>
</span><span id="15359" class="l"><a class="l" href="#15359">15359: </a>            {
</span><span id="15360" class="l"><a class="l" href="#15360">15360: </a>                <span class="php-keyword1">return</span> <span class="php-keyword2">htmlspecialchars</span>(<span class="php-var">$match</span>[<span class="php-num">0</span>], ENT_COMPAT, <span class="php-quote">'UTF-8'</span>);
</span><span id="15361" class="l"><a class="l" href="#15361">15361: </a>            }
</span><span id="15362" class="l"><a class="l" href="#15362">15362: </a>        }
</span><span id="15363" class="l"><a class="l" href="#15363">15363: </a>        <span class="php-keyword1">elseif</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$match</span>[<span class="php-num">4</span>]) &amp;&amp; !<span class="php-keyword2">in_array</span>(<span class="php-keyword2">strtolower</span>(<span class="php-var">$match</span>[<span class="php-num">1</span>]), <span class="php-keyword1">array</span>(<span class="php-quote">'script'</span>, <span class="php-quote">'style'</span>)))
</span><span id="15364" class="l"><a class="l" href="#15364">15364: </a>        {
</span><span id="15365" class="l"><a class="l" href="#15365">15365: </a>            <span class="php-keyword1">return</span> <span class="php-var">$match</span>[<span class="php-num">4</span>];
</span><span id="15366" class="l"><a class="l" href="#15366">15366: </a>        }
</span><span id="15367" class="l"><a class="l" href="#15367">15367: </a>        <span class="php-keyword1">else</span>
</span><span id="15368" class="l"><a class="l" href="#15368">15368: </a>        {
</span><span id="15369" class="l"><a class="l" href="#15369">15369: </a>            <span class="php-keyword1">return</span> <span class="php-quote">''</span>;
</span><span id="15370" class="l"><a class="l" href="#15370">15370: </a>        }
</span><span id="15371" class="l"><a class="l" href="#15371">15371: </a>    }
</span><span id="15372" class="l"><a class="l" href="#15372">15372: </a>
</span><span id="15373" class="l"><a class="l" href="#15373">15373: </a>    <span class="php-keyword1">protected</span> <span class="php-keyword1">function</span> <a id="_strip_tag" href="#_strip_tag">strip_tag</a>(<span class="php-var">$tag</span>, &amp;<span class="php-var">$document</span>, <span class="php-var">$type</span>)
</span><span id="15374" class="l"><a class="l" href="#15374">15374: </a>    {
</span><span id="15375" class="l"><a class="l" href="#15375">15375: </a>        <span class="php-var">$xpath</span> = <span class="php-keyword1">new</span> DOMXPath(<span class="php-var">$document</span>);
</span><span id="15376" class="l"><a class="l" href="#15376">15376: </a>        <span class="php-var">$elements</span> = <span class="php-var">$xpath</span>-&gt;query(<span class="php-quote">'body//'</span> . <span class="php-var">$tag</span>);
</span><span id="15377" class="l"><a class="l" href="#15377">15377: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$this</span>-&gt;encode_instead_of_strip)
</span><span id="15378" class="l"><a class="l" href="#15378">15378: </a>        {
</span><span id="15379" class="l"><a class="l" href="#15379">15379: </a>            <span class="php-keyword1">foreach</span> (<span class="php-var">$elements</span> <span class="php-keyword1">as</span> <span class="php-var">$element</span>)
</span><span id="15380" class="l"><a class="l" href="#15380">15380: </a>            {
</span><span id="15381" class="l"><a class="l" href="#15381">15381: </a>                <span class="php-var">$fragment</span> = <span class="php-var">$document</span>-&gt;createDocumentFragment();
</span><span id="15382" class="l"><a class="l" href="#15382">15382: </a>
</span><span id="15383" class="l"><a class="l" href="#15383">15383: </a>                <span class="php-comment">// For elements which aren't script or style, include the tag itself</span>
</span><span id="15384" class="l"><a class="l" href="#15384">15384: </a>                <span class="php-keyword1">if</span> (!<span class="php-keyword2">in_array</span>(<span class="php-var">$tag</span>, <span class="php-keyword1">array</span>(<span class="php-quote">'script'</span>, <span class="php-quote">'style'</span>)))
</span><span id="15385" class="l"><a class="l" href="#15385">15385: </a>                {
</span><span id="15386" class="l"><a class="l" href="#15386">15386: </a>                    <span class="php-var">$text</span> = <span class="php-quote">'&lt;'</span> . <span class="php-var">$tag</span>;
</span><span id="15387" class="l"><a class="l" href="#15387">15387: </a>                    <span class="php-keyword1">if</span> (<span class="php-var">$element</span>-&gt;hasAttributes())
</span><span id="15388" class="l"><a class="l" href="#15388">15388: </a>                    {
</span><span id="15389" class="l"><a class="l" href="#15389">15389: </a>                        <span class="php-var">$attrs</span> = <span class="php-keyword1">array</span>();
</span><span id="15390" class="l"><a class="l" href="#15390">15390: </a>                        <span class="php-keyword1">foreach</span> (<span class="php-var">$element</span>-&gt;attributes <span class="php-keyword1">as</span> <span class="php-var">$name</span> =&gt; <span class="php-var">$attr</span>)
</span><span id="15391" class="l"><a class="l" href="#15391">15391: </a>                        {
</span><span id="15392" class="l"><a class="l" href="#15392">15392: </a>                            <span class="php-var">$value</span> = <span class="php-var">$attr</span>-&gt;value;
</span><span id="15393" class="l"><a class="l" href="#15393">15393: </a>
</span><span id="15394" class="l"><a class="l" href="#15394">15394: </a>                            <span class="php-comment">// In XHTML, empty values should never exist, so we repeat the value</span>
</span><span id="15395" class="l"><a class="l" href="#15395">15395: </a>                            <span class="php-keyword1">if</span> (<span class="php-keyword1">empty</span>(<span class="php-var">$value</span>) &amp;&amp; (<span class="php-var">$type</span> &amp; SIMPLEPIE_CONSTRUCT_XHTML))
</span><span id="15396" class="l"><a class="l" href="#15396">15396: </a>                            {
</span><span id="15397" class="l"><a class="l" href="#15397">15397: </a>                                <span class="php-var">$value</span> = <span class="php-var">$name</span>;
</span><span id="15398" class="l"><a class="l" href="#15398">15398: </a>                            }
</span><span id="15399" class="l"><a class="l" href="#15399">15399: </a>                            <span class="php-comment">// For HTML, empty is fine</span>
</span><span id="15400" class="l"><a class="l" href="#15400">15400: </a>                            <span class="php-keyword1">elseif</span> (<span class="php-keyword1">empty</span>(<span class="php-var">$value</span>) &amp;&amp; (<span class="php-var">$type</span> &amp; SIMPLEPIE_CONSTRUCT_HTML))
</span><span id="15401" class="l"><a class="l" href="#15401">15401: </a>                            {
</span><span id="15402" class="l"><a class="l" href="#15402">15402: </a>                                <span class="php-var">$attrs</span>[] = <span class="php-var">$name</span>;
</span><span id="15403" class="l"><a class="l" href="#15403">15403: </a>                                <span class="php-keyword1">continue</span>;
</span><span id="15404" class="l"><a class="l" href="#15404">15404: </a>                            }
</span><span id="15405" class="l"><a class="l" href="#15405">15405: </a>
</span><span id="15406" class="l"><a class="l" href="#15406">15406: </a>                            <span class="php-comment">// Standard attribute text</span>
</span><span id="15407" class="l"><a class="l" href="#15407">15407: </a>                            <span class="php-var">$attrs</span>[] = <span class="php-var">$name</span> . <span class="php-quote">'=&quot;'</span> . <span class="php-var">$attr</span>-&gt;value . <span class="php-quote">'&quot;'</span>;
</span><span id="15408" class="l"><a class="l" href="#15408">15408: </a>                        }
</span><span id="15409" class="l"><a class="l" href="#15409">15409: </a>                        <span class="php-var">$text</span> .= <span class="php-quote">' '</span> . <span class="php-keyword2">implode</span>(<span class="php-quote">' '</span>, <span class="php-var">$attrs</span>);
</span><span id="15410" class="l"><a class="l" href="#15410">15410: </a>                    }
</span><span id="15411" class="l"><a class="l" href="#15411">15411: </a>                    <span class="php-var">$text</span> .= <span class="php-quote">'&gt;'</span>;
</span><span id="15412" class="l"><a class="l" href="#15412">15412: </a>                    <span class="php-var">$fragment</span>-&gt;appendChild(<span class="php-keyword1">new</span> DOMText(<span class="php-var">$text</span>));
</span><span id="15413" class="l"><a class="l" href="#15413">15413: </a>                }
</span><span id="15414" class="l"><a class="l" href="#15414">15414: </a>                <span class="php-keyword1">foreach</span> (<span class="php-var">$element</span>-&gt;childNodes <span class="php-keyword1">as</span> <span class="php-var">$child</span>)
</span><span id="15415" class="l"><a class="l" href="#15415">15415: </a>                {
</span><span id="15416" class="l"><a class="l" href="#15416">15416: </a>                    <span class="php-var">$fragment</span>-&gt;appendChild(<span class="php-var">$child</span>);
</span><span id="15417" class="l"><a class="l" href="#15417">15417: </a>                }
</span><span id="15418" class="l"><a class="l" href="#15418">15418: </a>                <span class="php-keyword1">if</span> (!<span class="php-keyword2">in_array</span>(<span class="php-var">$tag</span>, <span class="php-keyword1">array</span>(<span class="php-quote">'script'</span>, <span class="php-quote">'style'</span>)))
</span><span id="15419" class="l"><a class="l" href="#15419">15419: </a>                {
</span><span id="15420" class="l"><a class="l" href="#15420">15420: </a>                    <span class="php-var">$fragment</span>-&gt;appendChild(<span class="php-keyword1">new</span> DOMText(<span class="php-quote">'&lt;/'</span> . <span class="php-var">$tag</span> . <span class="php-quote">'&gt;'</span>));
</span><span id="15421" class="l"><a class="l" href="#15421">15421: </a>                }
</span><span id="15422" class="l"><a class="l" href="#15422">15422: </a>
</span><span id="15423" class="l"><a class="l" href="#15423">15423: </a>                <span class="php-var">$element</span>-&gt;parentNode-&gt;replaceChild(<span class="php-var">$fragment</span>, <span class="php-var">$element</span>);
</span><span id="15424" class="l"><a class="l" href="#15424">15424: </a>            }
</span><span id="15425" class="l"><a class="l" href="#15425">15425: </a>
</span><span id="15426" class="l"><a class="l" href="#15426">15426: </a>            <span class="php-keyword1">return</span>;
</span><span id="15427" class="l"><a class="l" href="#15427">15427: </a>        }
</span><span id="15428" class="l"><a class="l" href="#15428">15428: </a>        <span class="php-keyword1">elseif</span> (<span class="php-keyword2">in_array</span>(<span class="php-var">$tag</span>, <span class="php-keyword1">array</span>(<span class="php-quote">'script'</span>, <span class="php-quote">'style'</span>)))
</span><span id="15429" class="l"><a class="l" href="#15429">15429: </a>        {
</span><span id="15430" class="l"><a class="l" href="#15430">15430: </a>            <span class="php-keyword1">foreach</span> (<span class="php-var">$elements</span> <span class="php-keyword1">as</span> <span class="php-var">$element</span>)
</span><span id="15431" class="l"><a class="l" href="#15431">15431: </a>            {
</span><span id="15432" class="l"><a class="l" href="#15432">15432: </a>                <span class="php-var">$element</span>-&gt;parentNode-&gt;removeChild(<span class="php-var">$element</span>);
</span><span id="15433" class="l"><a class="l" href="#15433">15433: </a>            }
</span><span id="15434" class="l"><a class="l" href="#15434">15434: </a>
</span><span id="15435" class="l"><a class="l" href="#15435">15435: </a>            <span class="php-keyword1">return</span>;
</span><span id="15436" class="l"><a class="l" href="#15436">15436: </a>        }
</span><span id="15437" class="l"><a class="l" href="#15437">15437: </a>        <span class="php-keyword1">else</span>
</span><span id="15438" class="l"><a class="l" href="#15438">15438: </a>        {
</span><span id="15439" class="l"><a class="l" href="#15439">15439: </a>            <span class="php-keyword1">foreach</span> (<span class="php-var">$elements</span> <span class="php-keyword1">as</span> <span class="php-var">$element</span>)
</span><span id="15440" class="l"><a class="l" href="#15440">15440: </a>            {
</span><span id="15441" class="l"><a class="l" href="#15441">15441: </a>                <span class="php-var">$fragment</span> = <span class="php-var">$document</span>-&gt;createDocumentFragment();
</span><span id="15442" class="l"><a class="l" href="#15442">15442: </a>                <span class="php-keyword1">foreach</span> (<span class="php-var">$element</span>-&gt;childNodes <span class="php-keyword1">as</span> <span class="php-var">$child</span>)
</span><span id="15443" class="l"><a class="l" href="#15443">15443: </a>                {
</span><span id="15444" class="l"><a class="l" href="#15444">15444: </a>                    <span class="php-var">$fragment</span>-&gt;appendChild(<span class="php-var">$child</span>);
</span><span id="15445" class="l"><a class="l" href="#15445">15445: </a>                }
</span><span id="15446" class="l"><a class="l" href="#15446">15446: </a>
</span><span id="15447" class="l"><a class="l" href="#15447">15447: </a>                <span class="php-var">$element</span>-&gt;parentNode-&gt;replaceChild(<span class="php-var">$fragment</span>, <span class="php-var">$element</span>);
</span><span id="15448" class="l"><a class="l" href="#15448">15448: </a>            }
</span><span id="15449" class="l"><a class="l" href="#15449">15449: </a>        }
</span><span id="15450" class="l"><a class="l" href="#15450">15450: </a>    }
</span><span id="15451" class="l"><a class="l" href="#15451">15451: </a>
</span><span id="15452" class="l"><a class="l" href="#15452">15452: </a>    <span class="php-keyword1">protected</span> <span class="php-keyword1">function</span> <a id="_strip_attr" href="#_strip_attr">strip_attr</a>(<span class="php-var">$attrib</span>, &amp;<span class="php-var">$document</span>)
</span><span id="15453" class="l"><a class="l" href="#15453">15453: </a>    {
</span><span id="15454" class="l"><a class="l" href="#15454">15454: </a>        <span class="php-var">$xpath</span> = <span class="php-keyword1">new</span> DOMXPath(<span class="php-var">$document</span>);
</span><span id="15455" class="l"><a class="l" href="#15455">15455: </a>        <span class="php-var">$elements</span> = <span class="php-var">$xpath</span>-&gt;query(<span class="php-quote">'//*[@'</span> . <span class="php-var">$attrib</span> . <span class="php-quote">']'</span>);
</span><span id="15456" class="l"><a class="l" href="#15456">15456: </a>
</span><span id="15457" class="l"><a class="l" href="#15457">15457: </a>        <span class="php-keyword1">foreach</span> (<span class="php-var">$elements</span> <span class="php-keyword1">as</span> <span class="php-var">$element</span>)
</span><span id="15458" class="l"><a class="l" href="#15458">15458: </a>        {
</span><span id="15459" class="l"><a class="l" href="#15459">15459: </a>            <span class="php-var">$element</span>-&gt;removeAttribute(<span class="php-var">$attrib</span>);
</span><span id="15460" class="l"><a class="l" href="#15460">15460: </a>        }
</span><span id="15461" class="l"><a class="l" href="#15461">15461: </a>    }
</span><span id="15462" class="l"><a class="l" href="#15462">15462: </a>}
</span><span id="15463" class="l"><a class="l" href="#15463">15463: </a>
</span><span id="15464" class="l"><a class="l" href="#15464">15464: </a><span class="php-comment">/**
</span></span><span id="15465" class="l"><a class="l" href="#15465">15465: </a><span class="php-comment"> * Handles `&lt;atom:source&gt;`
</span></span><span id="15466" class="l"><a class="l" href="#15466">15466: </a><span class="php-comment"> *
</span></span><span id="15467" class="l"><a class="l" href="#15467">15467: </a><span class="php-comment"> * Used by {@see SimplePie_Item::get_source()}
</span></span><span id="15468" class="l"><a class="l" href="#15468">15468: </a><span class="php-comment"> *
</span></span><span id="15469" class="l"><a class="l" href="#15469">15469: </a><span class="php-comment"> * This class can be overloaded with {@see SimplePie::set_source_class()}
</span></span><span id="15470" class="l"><a class="l" href="#15470">15470: </a><span class="php-comment"> *
</span></span><span id="15471" class="l"><a class="l" href="#15471">15471: </a><span class="php-comment"> * @package SimplePie
</span></span><span id="15472" class="l"><a class="l" href="#15472">15472: </a><span class="php-comment"> */</span>
</span><span id="15473" class="l"><a class="l" href="#15473">15473: </a><span class="php-keyword1">class</span> <a id="SimplePie_Source" href="#SimplePie_Source">SimplePie_Source</a>
</span><span id="15474" class="l"><a class="l" href="#15474">15474: </a>{
</span><span id="15475" class="l"><a class="l" href="#15475">15475: </a>    <span class="php-keyword1">var</span> <span class="php-var"><a id="$item" href="#$item">$item</a></span>;
</span><span id="15476" class="l"><a class="l" href="#15476">15476: </a>    <span class="php-keyword1">var</span> <span class="php-var"><a id="$data" href="#$data">$data</a></span> = <span class="php-keyword1">array</span>();
</span><span id="15477" class="l"><a class="l" href="#15477">15477: </a>    <span class="php-keyword1">protected</span> <span class="php-var"><a id="$registry" href="#$registry">$registry</a></span>;
</span><span id="15478" class="l"><a class="l" href="#15478">15478: </a>
</span><span id="15479" class="l"><a class="l" href="#15479">15479: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="___construct" href="#___construct">__construct</a>(<span class="php-var">$item</span>, <span class="php-var">$data</span>)
</span><span id="15480" class="l"><a class="l" href="#15480">15480: </a>    {
</span><span id="15481" class="l"><a class="l" href="#15481">15481: </a>        <span class="php-var">$this</span>-&gt;item = <span class="php-var">$item</span>;
</span><span id="15482" class="l"><a class="l" href="#15482">15482: </a>        <span class="php-var">$this</span>-&gt;data = <span class="php-var">$data</span>;
</span><span id="15483" class="l"><a class="l" href="#15483">15483: </a>    }
</span><span id="15484" class="l"><a class="l" href="#15484">15484: </a>
</span><span id="15485" class="l"><a class="l" href="#15485">15485: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_set_registry" href="#_set_registry">set_registry</a>(SimplePie_Registry &amp;<span class="php-var">$registry</span>)
</span><span id="15486" class="l"><a class="l" href="#15486">15486: </a>    {
</span><span id="15487" class="l"><a class="l" href="#15487">15487: </a>        <span class="php-var">$this</span>-&gt;registry = &amp;<span class="php-var">$registry</span>;
</span><span id="15488" class="l"><a class="l" href="#15488">15488: </a>    }
</span><span id="15489" class="l"><a class="l" href="#15489">15489: </a>
</span><span id="15490" class="l"><a class="l" href="#15490">15490: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="___toString" href="#___toString">__toString</a>()
</span><span id="15491" class="l"><a class="l" href="#15491">15491: </a>    {
</span><span id="15492" class="l"><a class="l" href="#15492">15492: </a>        <span class="php-keyword1">return</span> <span class="php-keyword2">md5</span>(<span class="php-keyword2">serialize</span>(<span class="php-var">$this</span>-&gt;data));
</span><span id="15493" class="l"><a class="l" href="#15493">15493: </a>    }
</span><span id="15494" class="l"><a class="l" href="#15494">15494: </a>
</span><span id="15495" class="l"><a class="l" href="#15495">15495: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_get_source_tags" href="#_get_source_tags">get_source_tags</a>(<span class="php-var">$namespace</span>, <span class="php-var">$tag</span>)
</span><span id="15496" class="l"><a class="l" href="#15496">15496: </a>    {
</span><span id="15497" class="l"><a class="l" href="#15497">15497: </a>        <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$this</span>-&gt;data[<span class="php-quote">'child'</span>][<span class="php-var">$namespace</span>][<span class="php-var">$tag</span>]))
</span><span id="15498" class="l"><a class="l" href="#15498">15498: </a>        {
</span><span id="15499" class="l"><a class="l" href="#15499">15499: </a>            <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;data[<span class="php-quote">'child'</span>][<span class="php-var">$namespace</span>][<span class="php-var">$tag</span>];
</span><span id="15500" class="l"><a class="l" href="#15500">15500: </a>        }
</span><span id="15501" class="l"><a class="l" href="#15501">15501: </a>        <span class="php-keyword1">else</span>
</span><span id="15502" class="l"><a class="l" href="#15502">15502: </a>        {
</span><span id="15503" class="l"><a class="l" href="#15503">15503: </a>            <span class="php-keyword1">return</span> <span class="php-keyword1">null</span>;
</span><span id="15504" class="l"><a class="l" href="#15504">15504: </a>        }
</span><span id="15505" class="l"><a class="l" href="#15505">15505: </a>    }
</span><span id="15506" class="l"><a class="l" href="#15506">15506: </a>
</span><span id="15507" class="l"><a class="l" href="#15507">15507: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_get_base" href="#_get_base">get_base</a>(<span class="php-var">$element</span> = <span class="php-keyword1">array</span>())
</span><span id="15508" class="l"><a class="l" href="#15508">15508: </a>    {
</span><span id="15509" class="l"><a class="l" href="#15509">15509: </a>        <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;item-&gt;get_base(<span class="php-var">$element</span>);
</span><span id="15510" class="l"><a class="l" href="#15510">15510: </a>    }
</span><span id="15511" class="l"><a class="l" href="#15511">15511: </a>
</span><span id="15512" class="l"><a class="l" href="#15512">15512: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_sanitize" href="#_sanitize">sanitize</a>(<span class="php-var">$data</span>, <span class="php-var">$type</span>, <span class="php-var">$base</span> = <span class="php-quote">''</span>)
</span><span id="15513" class="l"><a class="l" href="#15513">15513: </a>    {
</span><span id="15514" class="l"><a class="l" href="#15514">15514: </a>        <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;item-&gt;sanitize(<span class="php-var">$data</span>, <span class="php-var">$type</span>, <span class="php-var">$base</span>);
</span><span id="15515" class="l"><a class="l" href="#15515">15515: </a>    }
</span><span id="15516" class="l"><a class="l" href="#15516">15516: </a>
</span><span id="15517" class="l"><a class="l" href="#15517">15517: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_get_item" href="#_get_item">get_item</a>()
</span><span id="15518" class="l"><a class="l" href="#15518">15518: </a>    {
</span><span id="15519" class="l"><a class="l" href="#15519">15519: </a>        <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;item;
</span><span id="15520" class="l"><a class="l" href="#15520">15520: </a>    }
</span><span id="15521" class="l"><a class="l" href="#15521">15521: </a>
</span><span id="15522" class="l"><a class="l" href="#15522">15522: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_get_title" href="#_get_title">get_title</a>()
</span><span id="15523" class="l"><a class="l" href="#15523">15523: </a>    {
</span><span id="15524" class="l"><a class="l" href="#15524">15524: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$return</span> = <span class="php-var">$this</span>-&gt;get_source_tags(SIMPLEPIE_NAMESPACE_ATOM_10, <span class="php-quote">'title'</span>))
</span><span id="15525" class="l"><a class="l" href="#15525">15525: </a>        {
</span><span id="15526" class="l"><a class="l" href="#15526">15526: </a>            <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$return</span>[<span class="php-num">0</span>][<span class="php-quote">'data'</span>], <span class="php-var">$this</span>-&gt;registry-&gt;call(<span class="php-quote">'Misc'</span>, <span class="php-quote">'atom_10_construct_type'</span>, <span class="php-keyword1">array</span>(<span class="php-var">$return</span>[<span class="php-num">0</span>][<span class="php-quote">'attribs'</span>])), <span class="php-var">$this</span>-&gt;get_base(<span class="php-var">$return</span>[<span class="php-num">0</span>]));
</span><span id="15527" class="l"><a class="l" href="#15527">15527: </a>        }
</span><span id="15528" class="l"><a class="l" href="#15528">15528: </a>        <span class="php-keyword1">elseif</span> (<span class="php-var">$return</span> = <span class="php-var">$this</span>-&gt;get_source_tags(SIMPLEPIE_NAMESPACE_ATOM_03, <span class="php-quote">'title'</span>))
</span><span id="15529" class="l"><a class="l" href="#15529">15529: </a>        {
</span><span id="15530" class="l"><a class="l" href="#15530">15530: </a>            <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$return</span>[<span class="php-num">0</span>][<span class="php-quote">'data'</span>], <span class="php-var">$this</span>-&gt;registry-&gt;call(<span class="php-quote">'Misc'</span>, <span class="php-quote">'atom_03_construct_type'</span>, <span class="php-keyword1">array</span>(<span class="php-var">$return</span>[<span class="php-num">0</span>][<span class="php-quote">'attribs'</span>])), <span class="php-var">$this</span>-&gt;get_base(<span class="php-var">$return</span>[<span class="php-num">0</span>]));
</span><span id="15531" class="l"><a class="l" href="#15531">15531: </a>        }
</span><span id="15532" class="l"><a class="l" href="#15532">15532: </a>        <span class="php-keyword1">elseif</span> (<span class="php-var">$return</span> = <span class="php-var">$this</span>-&gt;get_source_tags(SIMPLEPIE_NAMESPACE_RSS_10, <span class="php-quote">'title'</span>))
</span><span id="15533" class="l"><a class="l" href="#15533">15533: </a>        {
</span><span id="15534" class="l"><a class="l" href="#15534">15534: </a>            <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$return</span>[<span class="php-num">0</span>][<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_MAYBE_HTML, <span class="php-var">$this</span>-&gt;get_base(<span class="php-var">$return</span>[<span class="php-num">0</span>]));
</span><span id="15535" class="l"><a class="l" href="#15535">15535: </a>        }
</span><span id="15536" class="l"><a class="l" href="#15536">15536: </a>        <span class="php-keyword1">elseif</span> (<span class="php-var">$return</span> = <span class="php-var">$this</span>-&gt;get_source_tags(SIMPLEPIE_NAMESPACE_RSS_090, <span class="php-quote">'title'</span>))
</span><span id="15537" class="l"><a class="l" href="#15537">15537: </a>        {
</span><span id="15538" class="l"><a class="l" href="#15538">15538: </a>            <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$return</span>[<span class="php-num">0</span>][<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_MAYBE_HTML, <span class="php-var">$this</span>-&gt;get_base(<span class="php-var">$return</span>[<span class="php-num">0</span>]));
</span><span id="15539" class="l"><a class="l" href="#15539">15539: </a>        }
</span><span id="15540" class="l"><a class="l" href="#15540">15540: </a>        <span class="php-keyword1">elseif</span> (<span class="php-var">$return</span> = <span class="php-var">$this</span>-&gt;get_source_tags(SIMPLEPIE_NAMESPACE_RSS_20, <span class="php-quote">'title'</span>))
</span><span id="15541" class="l"><a class="l" href="#15541">15541: </a>        {
</span><span id="15542" class="l"><a class="l" href="#15542">15542: </a>            <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$return</span>[<span class="php-num">0</span>][<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_MAYBE_HTML, <span class="php-var">$this</span>-&gt;get_base(<span class="php-var">$return</span>[<span class="php-num">0</span>]));
</span><span id="15543" class="l"><a class="l" href="#15543">15543: </a>        }
</span><span id="15544" class="l"><a class="l" href="#15544">15544: </a>        <span class="php-keyword1">elseif</span> (<span class="php-var">$return</span> = <span class="php-var">$this</span>-&gt;get_source_tags(SIMPLEPIE_NAMESPACE_DC_11, <span class="php-quote">'title'</span>))
</span><span id="15545" class="l"><a class="l" href="#15545">15545: </a>        {
</span><span id="15546" class="l"><a class="l" href="#15546">15546: </a>            <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$return</span>[<span class="php-num">0</span>][<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="15547" class="l"><a class="l" href="#15547">15547: </a>        }
</span><span id="15548" class="l"><a class="l" href="#15548">15548: </a>        <span class="php-keyword1">elseif</span> (<span class="php-var">$return</span> = <span class="php-var">$this</span>-&gt;get_source_tags(SIMPLEPIE_NAMESPACE_DC_10, <span class="php-quote">'title'</span>))
</span><span id="15549" class="l"><a class="l" href="#15549">15549: </a>        {
</span><span id="15550" class="l"><a class="l" href="#15550">15550: </a>            <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$return</span>[<span class="php-num">0</span>][<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="15551" class="l"><a class="l" href="#15551">15551: </a>        }
</span><span id="15552" class="l"><a class="l" href="#15552">15552: </a>        <span class="php-keyword1">else</span>
</span><span id="15553" class="l"><a class="l" href="#15553">15553: </a>        {
</span><span id="15554" class="l"><a class="l" href="#15554">15554: </a>            <span class="php-keyword1">return</span> <span class="php-keyword1">null</span>;
</span><span id="15555" class="l"><a class="l" href="#15555">15555: </a>        }
</span><span id="15556" class="l"><a class="l" href="#15556">15556: </a>    }
</span><span id="15557" class="l"><a class="l" href="#15557">15557: </a>
</span><span id="15558" class="l"><a class="l" href="#15558">15558: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_get_category" href="#_get_category">get_category</a>(<span class="php-var">$key</span> = <span class="php-num">0</span>)
</span><span id="15559" class="l"><a class="l" href="#15559">15559: </a>    {
</span><span id="15560" class="l"><a class="l" href="#15560">15560: </a>        <span class="php-var">$categories</span> = <span class="php-var">$this</span>-&gt;get_categories();
</span><span id="15561" class="l"><a class="l" href="#15561">15561: </a>        <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$categories</span>[<span class="php-var">$key</span>]))
</span><span id="15562" class="l"><a class="l" href="#15562">15562: </a>        {
</span><span id="15563" class="l"><a class="l" href="#15563">15563: </a>            <span class="php-keyword1">return</span> <span class="php-var">$categories</span>[<span class="php-var">$key</span>];
</span><span id="15564" class="l"><a class="l" href="#15564">15564: </a>        }
</span><span id="15565" class="l"><a class="l" href="#15565">15565: </a>        <span class="php-keyword1">else</span>
</span><span id="15566" class="l"><a class="l" href="#15566">15566: </a>        {
</span><span id="15567" class="l"><a class="l" href="#15567">15567: </a>            <span class="php-keyword1">return</span> <span class="php-keyword1">null</span>;
</span><span id="15568" class="l"><a class="l" href="#15568">15568: </a>        }
</span><span id="15569" class="l"><a class="l" href="#15569">15569: </a>    }
</span><span id="15570" class="l"><a class="l" href="#15570">15570: </a>
</span><span id="15571" class="l"><a class="l" href="#15571">15571: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_get_categories" href="#_get_categories">get_categories</a>()
</span><span id="15572" class="l"><a class="l" href="#15572">15572: </a>    {
</span><span id="15573" class="l"><a class="l" href="#15573">15573: </a>        <span class="php-var">$categories</span> = <span class="php-keyword1">array</span>();
</span><span id="15574" class="l"><a class="l" href="#15574">15574: </a>
</span><span id="15575" class="l"><a class="l" href="#15575">15575: </a>        <span class="php-keyword1">foreach</span> ((<span class="php-keyword1">array</span>) <span class="php-var">$this</span>-&gt;get_source_tags(SIMPLEPIE_NAMESPACE_ATOM_10, <span class="php-quote">'category'</span>) <span class="php-keyword1">as</span> <span class="php-var">$category</span>)
</span><span id="15576" class="l"><a class="l" href="#15576">15576: </a>        {
</span><span id="15577" class="l"><a class="l" href="#15577">15577: </a>            <span class="php-var">$term</span> = <span class="php-keyword1">null</span>;
</span><span id="15578" class="l"><a class="l" href="#15578">15578: </a>            <span class="php-var">$scheme</span> = <span class="php-keyword1">null</span>;
</span><span id="15579" class="l"><a class="l" href="#15579">15579: </a>            <span class="php-var">$label</span> = <span class="php-keyword1">null</span>;
</span><span id="15580" class="l"><a class="l" href="#15580">15580: </a>            <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$category</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'term'</span>]))
</span><span id="15581" class="l"><a class="l" href="#15581">15581: </a>            {
</span><span id="15582" class="l"><a class="l" href="#15582">15582: </a>                <span class="php-var">$term</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$category</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'term'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="15583" class="l"><a class="l" href="#15583">15583: </a>            }
</span><span id="15584" class="l"><a class="l" href="#15584">15584: </a>            <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$category</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'scheme'</span>]))
</span><span id="15585" class="l"><a class="l" href="#15585">15585: </a>            {
</span><span id="15586" class="l"><a class="l" href="#15586">15586: </a>                <span class="php-var">$scheme</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$category</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'scheme'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="15587" class="l"><a class="l" href="#15587">15587: </a>            }
</span><span id="15588" class="l"><a class="l" href="#15588">15588: </a>            <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$category</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'label'</span>]))
</span><span id="15589" class="l"><a class="l" href="#15589">15589: </a>            {
</span><span id="15590" class="l"><a class="l" href="#15590">15590: </a>                <span class="php-var">$label</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$category</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'label'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="15591" class="l"><a class="l" href="#15591">15591: </a>            }
</span><span id="15592" class="l"><a class="l" href="#15592">15592: </a>            <span class="php-var">$categories</span>[] = <span class="php-var">$this</span>-&gt;registry-&gt;create(<span class="php-quote">'Category'</span>, <span class="php-keyword1">array</span>(<span class="php-var">$term</span>, <span class="php-var">$scheme</span>, <span class="php-var">$label</span>));
</span><span id="15593" class="l"><a class="l" href="#15593">15593: </a>        }
</span><span id="15594" class="l"><a class="l" href="#15594">15594: </a>        <span class="php-keyword1">foreach</span> ((<span class="php-keyword1">array</span>) <span class="php-var">$this</span>-&gt;get_source_tags(SIMPLEPIE_NAMESPACE_RSS_20, <span class="php-quote">'category'</span>) <span class="php-keyword1">as</span> <span class="php-var">$category</span>)
</span><span id="15595" class="l"><a class="l" href="#15595">15595: </a>        {
</span><span id="15596" class="l"><a class="l" href="#15596">15596: </a>            <span class="php-comment">// This is really the label, but keep this as the term also for BC.</span>
</span><span id="15597" class="l"><a class="l" href="#15597">15597: </a>            <span class="php-comment">// Label will also work on retrieving because that falls back to term.</span>
</span><span id="15598" class="l"><a class="l" href="#15598">15598: </a>            <span class="php-var">$term</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$category</span>[<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="15599" class="l"><a class="l" href="#15599">15599: </a>            <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$category</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'domain'</span>]))
</span><span id="15600" class="l"><a class="l" href="#15600">15600: </a>            {
</span><span id="15601" class="l"><a class="l" href="#15601">15601: </a>                <span class="php-var">$scheme</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$category</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'domain'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="15602" class="l"><a class="l" href="#15602">15602: </a>            }
</span><span id="15603" class="l"><a class="l" href="#15603">15603: </a>            <span class="php-keyword1">else</span>
</span><span id="15604" class="l"><a class="l" href="#15604">15604: </a>            {
</span><span id="15605" class="l"><a class="l" href="#15605">15605: </a>                <span class="php-var">$scheme</span> = <span class="php-keyword1">null</span>;
</span><span id="15606" class="l"><a class="l" href="#15606">15606: </a>            }
</span><span id="15607" class="l"><a class="l" href="#15607">15607: </a>            <span class="php-var">$categories</span>[] = <span class="php-var">$this</span>-&gt;registry-&gt;create(<span class="php-quote">'Category'</span>, <span class="php-keyword1">array</span>(<span class="php-var">$term</span>, <span class="php-var">$scheme</span>, <span class="php-keyword1">null</span>));
</span><span id="15608" class="l"><a class="l" href="#15608">15608: </a>        }
</span><span id="15609" class="l"><a class="l" href="#15609">15609: </a>        <span class="php-keyword1">foreach</span> ((<span class="php-keyword1">array</span>) <span class="php-var">$this</span>-&gt;get_source_tags(SIMPLEPIE_NAMESPACE_DC_11, <span class="php-quote">'subject'</span>) <span class="php-keyword1">as</span> <span class="php-var">$category</span>)
</span><span id="15610" class="l"><a class="l" href="#15610">15610: </a>        {
</span><span id="15611" class="l"><a class="l" href="#15611">15611: </a>            <span class="php-var">$categories</span>[] = <span class="php-var">$this</span>-&gt;registry-&gt;create(<span class="php-quote">'Category'</span>, <span class="php-keyword1">array</span>(<span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$category</span>[<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_TEXT), <span class="php-keyword1">null</span>, <span class="php-keyword1">null</span>));
</span><span id="15612" class="l"><a class="l" href="#15612">15612: </a>        }
</span><span id="15613" class="l"><a class="l" href="#15613">15613: </a>        <span class="php-keyword1">foreach</span> ((<span class="php-keyword1">array</span>) <span class="php-var">$this</span>-&gt;get_source_tags(SIMPLEPIE_NAMESPACE_DC_10, <span class="php-quote">'subject'</span>) <span class="php-keyword1">as</span> <span class="php-var">$category</span>)
</span><span id="15614" class="l"><a class="l" href="#15614">15614: </a>        {
</span><span id="15615" class="l"><a class="l" href="#15615">15615: </a>            <span class="php-var">$categories</span>[] = <span class="php-var">$this</span>-&gt;registry-&gt;create(<span class="php-quote">'Category'</span>, <span class="php-keyword1">array</span>(<span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$category</span>[<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_TEXT), <span class="php-keyword1">null</span>, <span class="php-keyword1">null</span>));
</span><span id="15616" class="l"><a class="l" href="#15616">15616: </a>        }
</span><span id="15617" class="l"><a class="l" href="#15617">15617: </a>
</span><span id="15618" class="l"><a class="l" href="#15618">15618: </a>        <span class="php-keyword1">if</span> (!<span class="php-keyword1">empty</span>(<span class="php-var">$categories</span>))
</span><span id="15619" class="l"><a class="l" href="#15619">15619: </a>        {
</span><span id="15620" class="l"><a class="l" href="#15620">15620: </a>            <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;registry-&gt;call(<span class="php-quote">'Misc'</span>, <span class="php-quote">'array_unique'</span>, <span class="php-keyword1">array</span>(<span class="php-var">$categories</span>));
</span><span id="15621" class="l"><a class="l" href="#15621">15621: </a>        }
</span><span id="15622" class="l"><a class="l" href="#15622">15622: </a>        <span class="php-keyword1">else</span>
</span><span id="15623" class="l"><a class="l" href="#15623">15623: </a>        {
</span><span id="15624" class="l"><a class="l" href="#15624">15624: </a>            <span class="php-keyword1">return</span> <span class="php-keyword1">null</span>;
</span><span id="15625" class="l"><a class="l" href="#15625">15625: </a>        }
</span><span id="15626" class="l"><a class="l" href="#15626">15626: </a>    }
</span><span id="15627" class="l"><a class="l" href="#15627">15627: </a>
</span><span id="15628" class="l"><a class="l" href="#15628">15628: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_get_author" href="#_get_author">get_author</a>(<span class="php-var">$key</span> = <span class="php-num">0</span>)
</span><span id="15629" class="l"><a class="l" href="#15629">15629: </a>    {
</span><span id="15630" class="l"><a class="l" href="#15630">15630: </a>        <span class="php-var">$authors</span> = <span class="php-var">$this</span>-&gt;get_authors();
</span><span id="15631" class="l"><a class="l" href="#15631">15631: </a>        <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$authors</span>[<span class="php-var">$key</span>]))
</span><span id="15632" class="l"><a class="l" href="#15632">15632: </a>        {
</span><span id="15633" class="l"><a class="l" href="#15633">15633: </a>            <span class="php-keyword1">return</span> <span class="php-var">$authors</span>[<span class="php-var">$key</span>];
</span><span id="15634" class="l"><a class="l" href="#15634">15634: </a>        }
</span><span id="15635" class="l"><a class="l" href="#15635">15635: </a>        <span class="php-keyword1">else</span>
</span><span id="15636" class="l"><a class="l" href="#15636">15636: </a>        {
</span><span id="15637" class="l"><a class="l" href="#15637">15637: </a>            <span class="php-keyword1">return</span> <span class="php-keyword1">null</span>;
</span><span id="15638" class="l"><a class="l" href="#15638">15638: </a>        }
</span><span id="15639" class="l"><a class="l" href="#15639">15639: </a>    }
</span><span id="15640" class="l"><a class="l" href="#15640">15640: </a>
</span><span id="15641" class="l"><a class="l" href="#15641">15641: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_get_authors" href="#_get_authors">get_authors</a>()
</span><span id="15642" class="l"><a class="l" href="#15642">15642: </a>    {
</span><span id="15643" class="l"><a class="l" href="#15643">15643: </a>        <span class="php-var">$authors</span> = <span class="php-keyword1">array</span>();
</span><span id="15644" class="l"><a class="l" href="#15644">15644: </a>        <span class="php-keyword1">foreach</span> ((<span class="php-keyword1">array</span>) <span class="php-var">$this</span>-&gt;get_source_tags(SIMPLEPIE_NAMESPACE_ATOM_10, <span class="php-quote">'author'</span>) <span class="php-keyword1">as</span> <span class="php-var">$author</span>)
</span><span id="15645" class="l"><a class="l" href="#15645">15645: </a>        {
</span><span id="15646" class="l"><a class="l" href="#15646">15646: </a>            <span class="php-var">$name</span> = <span class="php-keyword1">null</span>;
</span><span id="15647" class="l"><a class="l" href="#15647">15647: </a>            <span class="php-var">$uri</span> = <span class="php-keyword1">null</span>;
</span><span id="15648" class="l"><a class="l" href="#15648">15648: </a>            <span class="php-var">$email</span> = <span class="php-keyword1">null</span>;
</span><span id="15649" class="l"><a class="l" href="#15649">15649: </a>            <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$author</span>[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_ATOM_10][<span class="php-quote">'name'</span>][<span class="php-num">0</span>][<span class="php-quote">'data'</span>]))
</span><span id="15650" class="l"><a class="l" href="#15650">15650: </a>            {
</span><span id="15651" class="l"><a class="l" href="#15651">15651: </a>                <span class="php-var">$name</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$author</span>[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_ATOM_10][<span class="php-quote">'name'</span>][<span class="php-num">0</span>][<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="15652" class="l"><a class="l" href="#15652">15652: </a>            }
</span><span id="15653" class="l"><a class="l" href="#15653">15653: </a>            <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$author</span>[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_ATOM_10][<span class="php-quote">'uri'</span>][<span class="php-num">0</span>][<span class="php-quote">'data'</span>]))
</span><span id="15654" class="l"><a class="l" href="#15654">15654: </a>            {
</span><span id="15655" class="l"><a class="l" href="#15655">15655: </a>                <span class="php-var">$uri</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$author</span>[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_ATOM_10][<span class="php-quote">'uri'</span>][<span class="php-num">0</span>][<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_IRI, <span class="php-var">$this</span>-&gt;get_base(<span class="php-var">$author</span>[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_ATOM_10][<span class="php-quote">'uri'</span>][<span class="php-num">0</span>]));
</span><span id="15656" class="l"><a class="l" href="#15656">15656: </a>            }
</span><span id="15657" class="l"><a class="l" href="#15657">15657: </a>            <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$author</span>[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_ATOM_10][<span class="php-quote">'email'</span>][<span class="php-num">0</span>][<span class="php-quote">'data'</span>]))
</span><span id="15658" class="l"><a class="l" href="#15658">15658: </a>            {
</span><span id="15659" class="l"><a class="l" href="#15659">15659: </a>                <span class="php-var">$email</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$author</span>[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_ATOM_10][<span class="php-quote">'email'</span>][<span class="php-num">0</span>][<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="15660" class="l"><a class="l" href="#15660">15660: </a>            }
</span><span id="15661" class="l"><a class="l" href="#15661">15661: </a>            <span class="php-keyword1">if</span> (<span class="php-var">$name</span> !== <span class="php-keyword1">null</span> || <span class="php-var">$email</span> !== <span class="php-keyword1">null</span> || <span class="php-var">$uri</span> !== <span class="php-keyword1">null</span>)
</span><span id="15662" class="l"><a class="l" href="#15662">15662: </a>            {
</span><span id="15663" class="l"><a class="l" href="#15663">15663: </a>                <span class="php-var">$authors</span>[] = <span class="php-var">$this</span>-&gt;registry-&gt;create(<span class="php-quote">'Author'</span>, <span class="php-keyword1">array</span>(<span class="php-var">$name</span>, <span class="php-var">$uri</span>, <span class="php-var">$email</span>));
</span><span id="15664" class="l"><a class="l" href="#15664">15664: </a>            }
</span><span id="15665" class="l"><a class="l" href="#15665">15665: </a>        }
</span><span id="15666" class="l"><a class="l" href="#15666">15666: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$author</span> = <span class="php-var">$this</span>-&gt;get_source_tags(SIMPLEPIE_NAMESPACE_ATOM_03, <span class="php-quote">'author'</span>))
</span><span id="15667" class="l"><a class="l" href="#15667">15667: </a>        {
</span><span id="15668" class="l"><a class="l" href="#15668">15668: </a>            <span class="php-var">$name</span> = <span class="php-keyword1">null</span>;
</span><span id="15669" class="l"><a class="l" href="#15669">15669: </a>            <span class="php-var">$url</span> = <span class="php-keyword1">null</span>;
</span><span id="15670" class="l"><a class="l" href="#15670">15670: </a>            <span class="php-var">$email</span> = <span class="php-keyword1">null</span>;
</span><span id="15671" class="l"><a class="l" href="#15671">15671: </a>            <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$author</span>[<span class="php-num">0</span>][<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_ATOM_03][<span class="php-quote">'name'</span>][<span class="php-num">0</span>][<span class="php-quote">'data'</span>]))
</span><span id="15672" class="l"><a class="l" href="#15672">15672: </a>            {
</span><span id="15673" class="l"><a class="l" href="#15673">15673: </a>                <span class="php-var">$name</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$author</span>[<span class="php-num">0</span>][<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_ATOM_03][<span class="php-quote">'name'</span>][<span class="php-num">0</span>][<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="15674" class="l"><a class="l" href="#15674">15674: </a>            }
</span><span id="15675" class="l"><a class="l" href="#15675">15675: </a>            <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$author</span>[<span class="php-num">0</span>][<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_ATOM_03][<span class="php-quote">'url'</span>][<span class="php-num">0</span>][<span class="php-quote">'data'</span>]))
</span><span id="15676" class="l"><a class="l" href="#15676">15676: </a>            {
</span><span id="15677" class="l"><a class="l" href="#15677">15677: </a>                <span class="php-var">$url</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$author</span>[<span class="php-num">0</span>][<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_ATOM_03][<span class="php-quote">'url'</span>][<span class="php-num">0</span>][<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_IRI, <span class="php-var">$this</span>-&gt;get_base(<span class="php-var">$author</span>[<span class="php-num">0</span>][<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_ATOM_03][<span class="php-quote">'url'</span>][<span class="php-num">0</span>]));
</span><span id="15678" class="l"><a class="l" href="#15678">15678: </a>            }
</span><span id="15679" class="l"><a class="l" href="#15679">15679: </a>            <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$author</span>[<span class="php-num">0</span>][<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_ATOM_03][<span class="php-quote">'email'</span>][<span class="php-num">0</span>][<span class="php-quote">'data'</span>]))
</span><span id="15680" class="l"><a class="l" href="#15680">15680: </a>            {
</span><span id="15681" class="l"><a class="l" href="#15681">15681: </a>                <span class="php-var">$email</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$author</span>[<span class="php-num">0</span>][<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_ATOM_03][<span class="php-quote">'email'</span>][<span class="php-num">0</span>][<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="15682" class="l"><a class="l" href="#15682">15682: </a>            }
</span><span id="15683" class="l"><a class="l" href="#15683">15683: </a>            <span class="php-keyword1">if</span> (<span class="php-var">$name</span> !== <span class="php-keyword1">null</span> || <span class="php-var">$email</span> !== <span class="php-keyword1">null</span> || <span class="php-var">$url</span> !== <span class="php-keyword1">null</span>)
</span><span id="15684" class="l"><a class="l" href="#15684">15684: </a>            {
</span><span id="15685" class="l"><a class="l" href="#15685">15685: </a>                <span class="php-var">$authors</span>[] = <span class="php-var">$this</span>-&gt;registry-&gt;create(<span class="php-quote">'Author'</span>, <span class="php-keyword1">array</span>(<span class="php-var">$name</span>, <span class="php-var">$url</span>, <span class="php-var">$email</span>));
</span><span id="15686" class="l"><a class="l" href="#15686">15686: </a>            }
</span><span id="15687" class="l"><a class="l" href="#15687">15687: </a>        }
</span><span id="15688" class="l"><a class="l" href="#15688">15688: </a>        <span class="php-keyword1">foreach</span> ((<span class="php-keyword1">array</span>) <span class="php-var">$this</span>-&gt;get_source_tags(SIMPLEPIE_NAMESPACE_DC_11, <span class="php-quote">'creator'</span>) <span class="php-keyword1">as</span> <span class="php-var">$author</span>)
</span><span id="15689" class="l"><a class="l" href="#15689">15689: </a>        {
</span><span id="15690" class="l"><a class="l" href="#15690">15690: </a>            <span class="php-var">$authors</span>[] = <span class="php-var">$this</span>-&gt;registry-&gt;create(<span class="php-quote">'Author'</span>, <span class="php-keyword1">array</span>(<span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$author</span>[<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_TEXT), <span class="php-keyword1">null</span>, <span class="php-keyword1">null</span>));
</span><span id="15691" class="l"><a class="l" href="#15691">15691: </a>        }
</span><span id="15692" class="l"><a class="l" href="#15692">15692: </a>        <span class="php-keyword1">foreach</span> ((<span class="php-keyword1">array</span>) <span class="php-var">$this</span>-&gt;get_source_tags(SIMPLEPIE_NAMESPACE_DC_10, <span class="php-quote">'creator'</span>) <span class="php-keyword1">as</span> <span class="php-var">$author</span>)
</span><span id="15693" class="l"><a class="l" href="#15693">15693: </a>        {
</span><span id="15694" class="l"><a class="l" href="#15694">15694: </a>            <span class="php-var">$authors</span>[] = <span class="php-var">$this</span>-&gt;registry-&gt;create(<span class="php-quote">'Author'</span>, <span class="php-keyword1">array</span>(<span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$author</span>[<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_TEXT), <span class="php-keyword1">null</span>, <span class="php-keyword1">null</span>));
</span><span id="15695" class="l"><a class="l" href="#15695">15695: </a>        }
</span><span id="15696" class="l"><a class="l" href="#15696">15696: </a>        <span class="php-keyword1">foreach</span> ((<span class="php-keyword1">array</span>) <span class="php-var">$this</span>-&gt;get_source_tags(SIMPLEPIE_NAMESPACE_ITUNES, <span class="php-quote">'author'</span>) <span class="php-keyword1">as</span> <span class="php-var">$author</span>)
</span><span id="15697" class="l"><a class="l" href="#15697">15697: </a>        {
</span><span id="15698" class="l"><a class="l" href="#15698">15698: </a>            <span class="php-var">$authors</span>[] = <span class="php-var">$this</span>-&gt;registry-&gt;create(<span class="php-quote">'Author'</span>, <span class="php-keyword1">array</span>(<span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$author</span>[<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_TEXT), <span class="php-keyword1">null</span>, <span class="php-keyword1">null</span>));
</span><span id="15699" class="l"><a class="l" href="#15699">15699: </a>        }
</span><span id="15700" class="l"><a class="l" href="#15700">15700: </a>
</span><span id="15701" class="l"><a class="l" href="#15701">15701: </a>        <span class="php-keyword1">if</span> (!<span class="php-keyword1">empty</span>(<span class="php-var">$authors</span>))
</span><span id="15702" class="l"><a class="l" href="#15702">15702: </a>        {
</span><span id="15703" class="l"><a class="l" href="#15703">15703: </a>            <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;registry-&gt;call(<span class="php-quote">'Misc'</span>, <span class="php-quote">'array_unique'</span>, <span class="php-keyword1">array</span>(<span class="php-var">$authors</span>));
</span><span id="15704" class="l"><a class="l" href="#15704">15704: </a>        }
</span><span id="15705" class="l"><a class="l" href="#15705">15705: </a>        <span class="php-keyword1">else</span>
</span><span id="15706" class="l"><a class="l" href="#15706">15706: </a>        {
</span><span id="15707" class="l"><a class="l" href="#15707">15707: </a>            <span class="php-keyword1">return</span> <span class="php-keyword1">null</span>;
</span><span id="15708" class="l"><a class="l" href="#15708">15708: </a>        }
</span><span id="15709" class="l"><a class="l" href="#15709">15709: </a>    }
</span><span id="15710" class="l"><a class="l" href="#15710">15710: </a>
</span><span id="15711" class="l"><a class="l" href="#15711">15711: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_get_contributor" href="#_get_contributor">get_contributor</a>(<span class="php-var">$key</span> = <span class="php-num">0</span>)
</span><span id="15712" class="l"><a class="l" href="#15712">15712: </a>    {
</span><span id="15713" class="l"><a class="l" href="#15713">15713: </a>        <span class="php-var">$contributors</span> = <span class="php-var">$this</span>-&gt;get_contributors();
</span><span id="15714" class="l"><a class="l" href="#15714">15714: </a>        <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$contributors</span>[<span class="php-var">$key</span>]))
</span><span id="15715" class="l"><a class="l" href="#15715">15715: </a>        {
</span><span id="15716" class="l"><a class="l" href="#15716">15716: </a>            <span class="php-keyword1">return</span> <span class="php-var">$contributors</span>[<span class="php-var">$key</span>];
</span><span id="15717" class="l"><a class="l" href="#15717">15717: </a>        }
</span><span id="15718" class="l"><a class="l" href="#15718">15718: </a>        <span class="php-keyword1">else</span>
</span><span id="15719" class="l"><a class="l" href="#15719">15719: </a>        {
</span><span id="15720" class="l"><a class="l" href="#15720">15720: </a>            <span class="php-keyword1">return</span> <span class="php-keyword1">null</span>;
</span><span id="15721" class="l"><a class="l" href="#15721">15721: </a>        }
</span><span id="15722" class="l"><a class="l" href="#15722">15722: </a>    }
</span><span id="15723" class="l"><a class="l" href="#15723">15723: </a>
</span><span id="15724" class="l"><a class="l" href="#15724">15724: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_get_contributors" href="#_get_contributors">get_contributors</a>()
</span><span id="15725" class="l"><a class="l" href="#15725">15725: </a>    {
</span><span id="15726" class="l"><a class="l" href="#15726">15726: </a>        <span class="php-var">$contributors</span> = <span class="php-keyword1">array</span>();
</span><span id="15727" class="l"><a class="l" href="#15727">15727: </a>        <span class="php-keyword1">foreach</span> ((<span class="php-keyword1">array</span>) <span class="php-var">$this</span>-&gt;get_source_tags(SIMPLEPIE_NAMESPACE_ATOM_10, <span class="php-quote">'contributor'</span>) <span class="php-keyword1">as</span> <span class="php-var">$contributor</span>)
</span><span id="15728" class="l"><a class="l" href="#15728">15728: </a>        {
</span><span id="15729" class="l"><a class="l" href="#15729">15729: </a>            <span class="php-var">$name</span> = <span class="php-keyword1">null</span>;
</span><span id="15730" class="l"><a class="l" href="#15730">15730: </a>            <span class="php-var">$uri</span> = <span class="php-keyword1">null</span>;
</span><span id="15731" class="l"><a class="l" href="#15731">15731: </a>            <span class="php-var">$email</span> = <span class="php-keyword1">null</span>;
</span><span id="15732" class="l"><a class="l" href="#15732">15732: </a>            <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$contributor</span>[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_ATOM_10][<span class="php-quote">'name'</span>][<span class="php-num">0</span>][<span class="php-quote">'data'</span>]))
</span><span id="15733" class="l"><a class="l" href="#15733">15733: </a>            {
</span><span id="15734" class="l"><a class="l" href="#15734">15734: </a>                <span class="php-var">$name</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$contributor</span>[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_ATOM_10][<span class="php-quote">'name'</span>][<span class="php-num">0</span>][<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="15735" class="l"><a class="l" href="#15735">15735: </a>            }
</span><span id="15736" class="l"><a class="l" href="#15736">15736: </a>            <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$contributor</span>[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_ATOM_10][<span class="php-quote">'uri'</span>][<span class="php-num">0</span>][<span class="php-quote">'data'</span>]))
</span><span id="15737" class="l"><a class="l" href="#15737">15737: </a>            {
</span><span id="15738" class="l"><a class="l" href="#15738">15738: </a>                <span class="php-var">$uri</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$contributor</span>[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_ATOM_10][<span class="php-quote">'uri'</span>][<span class="php-num">0</span>][<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_IRI, <span class="php-var">$this</span>-&gt;get_base(<span class="php-var">$contributor</span>[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_ATOM_10][<span class="php-quote">'uri'</span>][<span class="php-num">0</span>]));
</span><span id="15739" class="l"><a class="l" href="#15739">15739: </a>            }
</span><span id="15740" class="l"><a class="l" href="#15740">15740: </a>            <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$contributor</span>[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_ATOM_10][<span class="php-quote">'email'</span>][<span class="php-num">0</span>][<span class="php-quote">'data'</span>]))
</span><span id="15741" class="l"><a class="l" href="#15741">15741: </a>            {
</span><span id="15742" class="l"><a class="l" href="#15742">15742: </a>                <span class="php-var">$email</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$contributor</span>[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_ATOM_10][<span class="php-quote">'email'</span>][<span class="php-num">0</span>][<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="15743" class="l"><a class="l" href="#15743">15743: </a>            }
</span><span id="15744" class="l"><a class="l" href="#15744">15744: </a>            <span class="php-keyword1">if</span> (<span class="php-var">$name</span> !== <span class="php-keyword1">null</span> || <span class="php-var">$email</span> !== <span class="php-keyword1">null</span> || <span class="php-var">$uri</span> !== <span class="php-keyword1">null</span>)
</span><span id="15745" class="l"><a class="l" href="#15745">15745: </a>            {
</span><span id="15746" class="l"><a class="l" href="#15746">15746: </a>                <span class="php-var">$contributors</span>[] = <span class="php-var">$this</span>-&gt;registry-&gt;create(<span class="php-quote">'Author'</span>, <span class="php-keyword1">array</span>(<span class="php-var">$name</span>, <span class="php-var">$uri</span>, <span class="php-var">$email</span>));
</span><span id="15747" class="l"><a class="l" href="#15747">15747: </a>            }
</span><span id="15748" class="l"><a class="l" href="#15748">15748: </a>        }
</span><span id="15749" class="l"><a class="l" href="#15749">15749: </a>        <span class="php-keyword1">foreach</span> ((<span class="php-keyword1">array</span>) <span class="php-var">$this</span>-&gt;get_source_tags(SIMPLEPIE_NAMESPACE_ATOM_03, <span class="php-quote">'contributor'</span>) <span class="php-keyword1">as</span> <span class="php-var">$contributor</span>)
</span><span id="15750" class="l"><a class="l" href="#15750">15750: </a>        {
</span><span id="15751" class="l"><a class="l" href="#15751">15751: </a>            <span class="php-var">$name</span> = <span class="php-keyword1">null</span>;
</span><span id="15752" class="l"><a class="l" href="#15752">15752: </a>            <span class="php-var">$url</span> = <span class="php-keyword1">null</span>;
</span><span id="15753" class="l"><a class="l" href="#15753">15753: </a>            <span class="php-var">$email</span> = <span class="php-keyword1">null</span>;
</span><span id="15754" class="l"><a class="l" href="#15754">15754: </a>            <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$contributor</span>[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_ATOM_03][<span class="php-quote">'name'</span>][<span class="php-num">0</span>][<span class="php-quote">'data'</span>]))
</span><span id="15755" class="l"><a class="l" href="#15755">15755: </a>            {
</span><span id="15756" class="l"><a class="l" href="#15756">15756: </a>                <span class="php-var">$name</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$contributor</span>[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_ATOM_03][<span class="php-quote">'name'</span>][<span class="php-num">0</span>][<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="15757" class="l"><a class="l" href="#15757">15757: </a>            }
</span><span id="15758" class="l"><a class="l" href="#15758">15758: </a>            <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$contributor</span>[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_ATOM_03][<span class="php-quote">'url'</span>][<span class="php-num">0</span>][<span class="php-quote">'data'</span>]))
</span><span id="15759" class="l"><a class="l" href="#15759">15759: </a>            {
</span><span id="15760" class="l"><a class="l" href="#15760">15760: </a>                <span class="php-var">$url</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$contributor</span>[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_ATOM_03][<span class="php-quote">'url'</span>][<span class="php-num">0</span>][<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_IRI, <span class="php-var">$this</span>-&gt;get_base(<span class="php-var">$contributor</span>[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_ATOM_03][<span class="php-quote">'url'</span>][<span class="php-num">0</span>]));
</span><span id="15761" class="l"><a class="l" href="#15761">15761: </a>            }
</span><span id="15762" class="l"><a class="l" href="#15762">15762: </a>            <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$contributor</span>[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_ATOM_03][<span class="php-quote">'email'</span>][<span class="php-num">0</span>][<span class="php-quote">'data'</span>]))
</span><span id="15763" class="l"><a class="l" href="#15763">15763: </a>            {
</span><span id="15764" class="l"><a class="l" href="#15764">15764: </a>                <span class="php-var">$email</span> = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$contributor</span>[<span class="php-quote">'child'</span>][SIMPLEPIE_NAMESPACE_ATOM_03][<span class="php-quote">'email'</span>][<span class="php-num">0</span>][<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="15765" class="l"><a class="l" href="#15765">15765: </a>            }
</span><span id="15766" class="l"><a class="l" href="#15766">15766: </a>            <span class="php-keyword1">if</span> (<span class="php-var">$name</span> !== <span class="php-keyword1">null</span> || <span class="php-var">$email</span> !== <span class="php-keyword1">null</span> || <span class="php-var">$url</span> !== <span class="php-keyword1">null</span>)
</span><span id="15767" class="l"><a class="l" href="#15767">15767: </a>            {
</span><span id="15768" class="l"><a class="l" href="#15768">15768: </a>                <span class="php-var">$contributors</span>[] = <span class="php-var">$this</span>-&gt;registry-&gt;create(<span class="php-quote">'Author'</span>, <span class="php-keyword1">array</span>(<span class="php-var">$name</span>, <span class="php-var">$url</span>, <span class="php-var">$email</span>));
</span><span id="15769" class="l"><a class="l" href="#15769">15769: </a>            }
</span><span id="15770" class="l"><a class="l" href="#15770">15770: </a>        }
</span><span id="15771" class="l"><a class="l" href="#15771">15771: </a>
</span><span id="15772" class="l"><a class="l" href="#15772">15772: </a>        <span class="php-keyword1">if</span> (!<span class="php-keyword1">empty</span>(<span class="php-var">$contributors</span>))
</span><span id="15773" class="l"><a class="l" href="#15773">15773: </a>        {
</span><span id="15774" class="l"><a class="l" href="#15774">15774: </a>            <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;registry-&gt;call(<span class="php-quote">'Misc'</span>, <span class="php-quote">'array_unique'</span>, <span class="php-keyword1">array</span>(<span class="php-var">$contributors</span>));
</span><span id="15775" class="l"><a class="l" href="#15775">15775: </a>        }
</span><span id="15776" class="l"><a class="l" href="#15776">15776: </a>        <span class="php-keyword1">else</span>
</span><span id="15777" class="l"><a class="l" href="#15777">15777: </a>        {
</span><span id="15778" class="l"><a class="l" href="#15778">15778: </a>            <span class="php-keyword1">return</span> <span class="php-keyword1">null</span>;
</span><span id="15779" class="l"><a class="l" href="#15779">15779: </a>        }
</span><span id="15780" class="l"><a class="l" href="#15780">15780: </a>    }
</span><span id="15781" class="l"><a class="l" href="#15781">15781: </a>
</span><span id="15782" class="l"><a class="l" href="#15782">15782: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_get_link" href="#_get_link">get_link</a>(<span class="php-var">$key</span> = <span class="php-num">0</span>, <span class="php-var">$rel</span> = <span class="php-quote">'alternate'</span>)
</span><span id="15783" class="l"><a class="l" href="#15783">15783: </a>    {
</span><span id="15784" class="l"><a class="l" href="#15784">15784: </a>        <span class="php-var">$links</span> = <span class="php-var">$this</span>-&gt;get_links(<span class="php-var">$rel</span>);
</span><span id="15785" class="l"><a class="l" href="#15785">15785: </a>        <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$links</span>[<span class="php-var">$key</span>]))
</span><span id="15786" class="l"><a class="l" href="#15786">15786: </a>        {
</span><span id="15787" class="l"><a class="l" href="#15787">15787: </a>            <span class="php-keyword1">return</span> <span class="php-var">$links</span>[<span class="php-var">$key</span>];
</span><span id="15788" class="l"><a class="l" href="#15788">15788: </a>        }
</span><span id="15789" class="l"><a class="l" href="#15789">15789: </a>        <span class="php-keyword1">else</span>
</span><span id="15790" class="l"><a class="l" href="#15790">15790: </a>        {
</span><span id="15791" class="l"><a class="l" href="#15791">15791: </a>            <span class="php-keyword1">return</span> <span class="php-keyword1">null</span>;
</span><span id="15792" class="l"><a class="l" href="#15792">15792: </a>        }
</span><span id="15793" class="l"><a class="l" href="#15793">15793: </a>    }
</span><span id="15794" class="l"><a class="l" href="#15794">15794: </a>
</span><span id="15795" class="l"><a class="l" href="#15795">15795: </a>    <span class="php-comment">/**
</span></span><span id="15796" class="l"><a class="l" href="#15796">15796: </a><span class="php-comment">     * Added for parity between the parent-level and the item/entry-level.
</span></span><span id="15797" class="l"><a class="l" href="#15797">15797: </a><span class="php-comment">     */</span>
</span><span id="15798" class="l"><a class="l" href="#15798">15798: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_get_permalink" href="#_get_permalink">get_permalink</a>()
</span><span id="15799" class="l"><a class="l" href="#15799">15799: </a>    {
</span><span id="15800" class="l"><a class="l" href="#15800">15800: </a>        <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;get_link(<span class="php-num">0</span>);
</span><span id="15801" class="l"><a class="l" href="#15801">15801: </a>    }
</span><span id="15802" class="l"><a class="l" href="#15802">15802: </a>
</span><span id="15803" class="l"><a class="l" href="#15803">15803: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_get_links" href="#_get_links">get_links</a>(<span class="php-var">$rel</span> = <span class="php-quote">'alternate'</span>)
</span><span id="15804" class="l"><a class="l" href="#15804">15804: </a>    {
</span><span id="15805" class="l"><a class="l" href="#15805">15805: </a>        <span class="php-keyword1">if</span> (!<span class="php-keyword1">isset</span>(<span class="php-var">$this</span>-&gt;data[<span class="php-quote">'links'</span>]))
</span><span id="15806" class="l"><a class="l" href="#15806">15806: </a>        {
</span><span id="15807" class="l"><a class="l" href="#15807">15807: </a>            <span class="php-var">$this</span>-&gt;data[<span class="php-quote">'links'</span>] = <span class="php-keyword1">array</span>();
</span><span id="15808" class="l"><a class="l" href="#15808">15808: </a>            <span class="php-keyword1">if</span> (<span class="php-var">$links</span> = <span class="php-var">$this</span>-&gt;get_source_tags(SIMPLEPIE_NAMESPACE_ATOM_10, <span class="php-quote">'link'</span>))
</span><span id="15809" class="l"><a class="l" href="#15809">15809: </a>            {
</span><span id="15810" class="l"><a class="l" href="#15810">15810: </a>                <span class="php-keyword1">foreach</span> (<span class="php-var">$links</span> <span class="php-keyword1">as</span> <span class="php-var">$link</span>)
</span><span id="15811" class="l"><a class="l" href="#15811">15811: </a>                {
</span><span id="15812" class="l"><a class="l" href="#15812">15812: </a>                    <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$link</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'href'</span>]))
</span><span id="15813" class="l"><a class="l" href="#15813">15813: </a>                    {
</span><span id="15814" class="l"><a class="l" href="#15814">15814: </a>                        <span class="php-var">$link_rel</span> = (<span class="php-keyword1">isset</span>(<span class="php-var">$link</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'rel'</span>])) ? <span class="php-var">$link</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'rel'</span>] : <span class="php-quote">'alternate'</span>;
</span><span id="15815" class="l"><a class="l" href="#15815">15815: </a>                        <span class="php-var">$this</span>-&gt;data[<span class="php-quote">'links'</span>][<span class="php-var">$link_rel</span>][] = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$link</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'href'</span>], SIMPLEPIE_CONSTRUCT_IRI, <span class="php-var">$this</span>-&gt;get_base(<span class="php-var">$link</span>));
</span><span id="15816" class="l"><a class="l" href="#15816">15816: </a>                    }
</span><span id="15817" class="l"><a class="l" href="#15817">15817: </a>                }
</span><span id="15818" class="l"><a class="l" href="#15818">15818: </a>            }
</span><span id="15819" class="l"><a class="l" href="#15819">15819: </a>            <span class="php-keyword1">if</span> (<span class="php-var">$links</span> = <span class="php-var">$this</span>-&gt;get_source_tags(SIMPLEPIE_NAMESPACE_ATOM_03, <span class="php-quote">'link'</span>))
</span><span id="15820" class="l"><a class="l" href="#15820">15820: </a>            {
</span><span id="15821" class="l"><a class="l" href="#15821">15821: </a>                <span class="php-keyword1">foreach</span> (<span class="php-var">$links</span> <span class="php-keyword1">as</span> <span class="php-var">$link</span>)
</span><span id="15822" class="l"><a class="l" href="#15822">15822: </a>                {
</span><span id="15823" class="l"><a class="l" href="#15823">15823: </a>                    <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$link</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'href'</span>]))
</span><span id="15824" class="l"><a class="l" href="#15824">15824: </a>                    {
</span><span id="15825" class="l"><a class="l" href="#15825">15825: </a>                        <span class="php-var">$link_rel</span> = (<span class="php-keyword1">isset</span>(<span class="php-var">$link</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'rel'</span>])) ? <span class="php-var">$link</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'rel'</span>] : <span class="php-quote">'alternate'</span>;
</span><span id="15826" class="l"><a class="l" href="#15826">15826: </a>                        <span class="php-var">$this</span>-&gt;data[<span class="php-quote">'links'</span>][<span class="php-var">$link_rel</span>][] = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$link</span>[<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'href'</span>], SIMPLEPIE_CONSTRUCT_IRI, <span class="php-var">$this</span>-&gt;get_base(<span class="php-var">$link</span>));
</span><span id="15827" class="l"><a class="l" href="#15827">15827: </a>
</span><span id="15828" class="l"><a class="l" href="#15828">15828: </a>                    }
</span><span id="15829" class="l"><a class="l" href="#15829">15829: </a>                }
</span><span id="15830" class="l"><a class="l" href="#15830">15830: </a>            }
</span><span id="15831" class="l"><a class="l" href="#15831">15831: </a>            <span class="php-keyword1">if</span> (<span class="php-var">$links</span> = <span class="php-var">$this</span>-&gt;get_source_tags(SIMPLEPIE_NAMESPACE_RSS_10, <span class="php-quote">'link'</span>))
</span><span id="15832" class="l"><a class="l" href="#15832">15832: </a>            {
</span><span id="15833" class="l"><a class="l" href="#15833">15833: </a>                <span class="php-var">$this</span>-&gt;data[<span class="php-quote">'links'</span>][<span class="php-quote">'alternate'</span>][] = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$links</span>[<span class="php-num">0</span>][<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_IRI, <span class="php-var">$this</span>-&gt;get_base(<span class="php-var">$links</span>[<span class="php-num">0</span>]));
</span><span id="15834" class="l"><a class="l" href="#15834">15834: </a>            }
</span><span id="15835" class="l"><a class="l" href="#15835">15835: </a>            <span class="php-keyword1">if</span> (<span class="php-var">$links</span> = <span class="php-var">$this</span>-&gt;get_source_tags(SIMPLEPIE_NAMESPACE_RSS_090, <span class="php-quote">'link'</span>))
</span><span id="15836" class="l"><a class="l" href="#15836">15836: </a>            {
</span><span id="15837" class="l"><a class="l" href="#15837">15837: </a>                <span class="php-var">$this</span>-&gt;data[<span class="php-quote">'links'</span>][<span class="php-quote">'alternate'</span>][] = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$links</span>[<span class="php-num">0</span>][<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_IRI, <span class="php-var">$this</span>-&gt;get_base(<span class="php-var">$links</span>[<span class="php-num">0</span>]));
</span><span id="15838" class="l"><a class="l" href="#15838">15838: </a>            }
</span><span id="15839" class="l"><a class="l" href="#15839">15839: </a>            <span class="php-keyword1">if</span> (<span class="php-var">$links</span> = <span class="php-var">$this</span>-&gt;get_source_tags(SIMPLEPIE_NAMESPACE_RSS_20, <span class="php-quote">'link'</span>))
</span><span id="15840" class="l"><a class="l" href="#15840">15840: </a>            {
</span><span id="15841" class="l"><a class="l" href="#15841">15841: </a>                <span class="php-var">$this</span>-&gt;data[<span class="php-quote">'links'</span>][<span class="php-quote">'alternate'</span>][] = <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$links</span>[<span class="php-num">0</span>][<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_IRI, <span class="php-var">$this</span>-&gt;get_base(<span class="php-var">$links</span>[<span class="php-num">0</span>]));
</span><span id="15842" class="l"><a class="l" href="#15842">15842: </a>            }
</span><span id="15843" class="l"><a class="l" href="#15843">15843: </a>
</span><span id="15844" class="l"><a class="l" href="#15844">15844: </a>            <span class="php-var">$keys</span> = <span class="php-keyword2">array_keys</span>(<span class="php-var">$this</span>-&gt;data[<span class="php-quote">'links'</span>]);
</span><span id="15845" class="l"><a class="l" href="#15845">15845: </a>            <span class="php-keyword1">foreach</span> (<span class="php-var">$keys</span> <span class="php-keyword1">as</span> <span class="php-var">$key</span>)
</span><span id="15846" class="l"><a class="l" href="#15846">15846: </a>            {
</span><span id="15847" class="l"><a class="l" href="#15847">15847: </a>                <span class="php-keyword1">if</span> (<span class="php-var">$this</span>-&gt;registry-&gt;call(<span class="php-quote">'Misc'</span>, <span class="php-quote">'is_isegment_nz_nc'</span>, <span class="php-keyword1">array</span>(<span class="php-var">$key</span>)))
</span><span id="15848" class="l"><a class="l" href="#15848">15848: </a>                {
</span><span id="15849" class="l"><a class="l" href="#15849">15849: </a>                    <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$this</span>-&gt;data[<span class="php-quote">'links'</span>][SIMPLEPIE_IANA_LINK_RELATIONS_REGISTRY . <span class="php-var">$key</span>]))
</span><span id="15850" class="l"><a class="l" href="#15850">15850: </a>                    {
</span><span id="15851" class="l"><a class="l" href="#15851">15851: </a>                        <span class="php-var">$this</span>-&gt;data[<span class="php-quote">'links'</span>][SIMPLEPIE_IANA_LINK_RELATIONS_REGISTRY . <span class="php-var">$key</span>] = <span class="php-keyword2">array_merge</span>(<span class="php-var">$this</span>-&gt;data[<span class="php-quote">'links'</span>][<span class="php-var">$key</span>], <span class="php-var">$this</span>-&gt;data[<span class="php-quote">'links'</span>][SIMPLEPIE_IANA_LINK_RELATIONS_REGISTRY . <span class="php-var">$key</span>]);
</span><span id="15852" class="l"><a class="l" href="#15852">15852: </a>                        <span class="php-var">$this</span>-&gt;data[<span class="php-quote">'links'</span>][<span class="php-var">$key</span>] =&amp; <span class="php-var">$this</span>-&gt;data[<span class="php-quote">'links'</span>][SIMPLEPIE_IANA_LINK_RELATIONS_REGISTRY . <span class="php-var">$key</span>];
</span><span id="15853" class="l"><a class="l" href="#15853">15853: </a>                    }
</span><span id="15854" class="l"><a class="l" href="#15854">15854: </a>                    <span class="php-keyword1">else</span>
</span><span id="15855" class="l"><a class="l" href="#15855">15855: </a>                    {
</span><span id="15856" class="l"><a class="l" href="#15856">15856: </a>                        <span class="php-var">$this</span>-&gt;data[<span class="php-quote">'links'</span>][SIMPLEPIE_IANA_LINK_RELATIONS_REGISTRY . <span class="php-var">$key</span>] =&amp; <span class="php-var">$this</span>-&gt;data[<span class="php-quote">'links'</span>][<span class="php-var">$key</span>];
</span><span id="15857" class="l"><a class="l" href="#15857">15857: </a>                    }
</span><span id="15858" class="l"><a class="l" href="#15858">15858: </a>                }
</span><span id="15859" class="l"><a class="l" href="#15859">15859: </a>                <span class="php-keyword1">elseif</span> (<span class="php-keyword2">substr</span>(<span class="php-var">$key</span>, <span class="php-num">0</span>, <span class="php-num">41</span>) === SIMPLEPIE_IANA_LINK_RELATIONS_REGISTRY)
</span><span id="15860" class="l"><a class="l" href="#15860">15860: </a>                {
</span><span id="15861" class="l"><a class="l" href="#15861">15861: </a>                    <span class="php-var">$this</span>-&gt;data[<span class="php-quote">'links'</span>][<span class="php-keyword2">substr</span>(<span class="php-var">$key</span>, <span class="php-num">41</span>)] =&amp; <span class="php-var">$this</span>-&gt;data[<span class="php-quote">'links'</span>][<span class="php-var">$key</span>];
</span><span id="15862" class="l"><a class="l" href="#15862">15862: </a>                }
</span><span id="15863" class="l"><a class="l" href="#15863">15863: </a>                <span class="php-var">$this</span>-&gt;data[<span class="php-quote">'links'</span>][<span class="php-var">$key</span>] = <span class="php-keyword2">array_unique</span>(<span class="php-var">$this</span>-&gt;data[<span class="php-quote">'links'</span>][<span class="php-var">$key</span>]);
</span><span id="15864" class="l"><a class="l" href="#15864">15864: </a>            }
</span><span id="15865" class="l"><a class="l" href="#15865">15865: </a>        }
</span><span id="15866" class="l"><a class="l" href="#15866">15866: </a>
</span><span id="15867" class="l"><a class="l" href="#15867">15867: </a>        <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$this</span>-&gt;data[<span class="php-quote">'links'</span>][<span class="php-var">$rel</span>]))
</span><span id="15868" class="l"><a class="l" href="#15868">15868: </a>        {
</span><span id="15869" class="l"><a class="l" href="#15869">15869: </a>            <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;data[<span class="php-quote">'links'</span>][<span class="php-var">$rel</span>];
</span><span id="15870" class="l"><a class="l" href="#15870">15870: </a>        }
</span><span id="15871" class="l"><a class="l" href="#15871">15871: </a>        <span class="php-keyword1">else</span>
</span><span id="15872" class="l"><a class="l" href="#15872">15872: </a>        {
</span><span id="15873" class="l"><a class="l" href="#15873">15873: </a>            <span class="php-keyword1">return</span> <span class="php-keyword1">null</span>;
</span><span id="15874" class="l"><a class="l" href="#15874">15874: </a>        }
</span><span id="15875" class="l"><a class="l" href="#15875">15875: </a>    }
</span><span id="15876" class="l"><a class="l" href="#15876">15876: </a>
</span><span id="15877" class="l"><a class="l" href="#15877">15877: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_get_description" href="#_get_description">get_description</a>()
</span><span id="15878" class="l"><a class="l" href="#15878">15878: </a>    {
</span><span id="15879" class="l"><a class="l" href="#15879">15879: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$return</span> = <span class="php-var">$this</span>-&gt;get_source_tags(SIMPLEPIE_NAMESPACE_ATOM_10, <span class="php-quote">'subtitle'</span>))
</span><span id="15880" class="l"><a class="l" href="#15880">15880: </a>        {
</span><span id="15881" class="l"><a class="l" href="#15881">15881: </a>            <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$return</span>[<span class="php-num">0</span>][<span class="php-quote">'data'</span>], <span class="php-var">$this</span>-&gt;registry-&gt;call(<span class="php-quote">'Misc'</span>, <span class="php-quote">'atom_10_construct_type'</span>, <span class="php-keyword1">array</span>(<span class="php-var">$return</span>[<span class="php-num">0</span>][<span class="php-quote">'attribs'</span>])), <span class="php-var">$this</span>-&gt;get_base(<span class="php-var">$return</span>[<span class="php-num">0</span>]));
</span><span id="15882" class="l"><a class="l" href="#15882">15882: </a>        }
</span><span id="15883" class="l"><a class="l" href="#15883">15883: </a>        <span class="php-keyword1">elseif</span> (<span class="php-var">$return</span> = <span class="php-var">$this</span>-&gt;get_source_tags(SIMPLEPIE_NAMESPACE_ATOM_03, <span class="php-quote">'tagline'</span>))
</span><span id="15884" class="l"><a class="l" href="#15884">15884: </a>        {
</span><span id="15885" class="l"><a class="l" href="#15885">15885: </a>            <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$return</span>[<span class="php-num">0</span>][<span class="php-quote">'data'</span>], <span class="php-var">$this</span>-&gt;registry-&gt;call(<span class="php-quote">'Misc'</span>, <span class="php-quote">'atom_03_construct_type'</span>, <span class="php-keyword1">array</span>(<span class="php-var">$return</span>[<span class="php-num">0</span>][<span class="php-quote">'attribs'</span>])), <span class="php-var">$this</span>-&gt;get_base(<span class="php-var">$return</span>[<span class="php-num">0</span>]));
</span><span id="15886" class="l"><a class="l" href="#15886">15886: </a>        }
</span><span id="15887" class="l"><a class="l" href="#15887">15887: </a>        <span class="php-keyword1">elseif</span> (<span class="php-var">$return</span> = <span class="php-var">$this</span>-&gt;get_source_tags(SIMPLEPIE_NAMESPACE_RSS_10, <span class="php-quote">'description'</span>))
</span><span id="15888" class="l"><a class="l" href="#15888">15888: </a>        {
</span><span id="15889" class="l"><a class="l" href="#15889">15889: </a>            <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$return</span>[<span class="php-num">0</span>][<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_MAYBE_HTML, <span class="php-var">$this</span>-&gt;get_base(<span class="php-var">$return</span>[<span class="php-num">0</span>]));
</span><span id="15890" class="l"><a class="l" href="#15890">15890: </a>        }
</span><span id="15891" class="l"><a class="l" href="#15891">15891: </a>        <span class="php-keyword1">elseif</span> (<span class="php-var">$return</span> = <span class="php-var">$this</span>-&gt;get_source_tags(SIMPLEPIE_NAMESPACE_RSS_090, <span class="php-quote">'description'</span>))
</span><span id="15892" class="l"><a class="l" href="#15892">15892: </a>        {
</span><span id="15893" class="l"><a class="l" href="#15893">15893: </a>            <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$return</span>[<span class="php-num">0</span>][<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_MAYBE_HTML, <span class="php-var">$this</span>-&gt;get_base(<span class="php-var">$return</span>[<span class="php-num">0</span>]));
</span><span id="15894" class="l"><a class="l" href="#15894">15894: </a>        }
</span><span id="15895" class="l"><a class="l" href="#15895">15895: </a>        <span class="php-keyword1">elseif</span> (<span class="php-var">$return</span> = <span class="php-var">$this</span>-&gt;get_source_tags(SIMPLEPIE_NAMESPACE_RSS_20, <span class="php-quote">'description'</span>))
</span><span id="15896" class="l"><a class="l" href="#15896">15896: </a>        {
</span><span id="15897" class="l"><a class="l" href="#15897">15897: </a>            <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$return</span>[<span class="php-num">0</span>][<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_MAYBE_HTML, <span class="php-var">$this</span>-&gt;get_base(<span class="php-var">$return</span>[<span class="php-num">0</span>]));
</span><span id="15898" class="l"><a class="l" href="#15898">15898: </a>        }
</span><span id="15899" class="l"><a class="l" href="#15899">15899: </a>        <span class="php-keyword1">elseif</span> (<span class="php-var">$return</span> = <span class="php-var">$this</span>-&gt;get_source_tags(SIMPLEPIE_NAMESPACE_DC_11, <span class="php-quote">'description'</span>))
</span><span id="15900" class="l"><a class="l" href="#15900">15900: </a>        {
</span><span id="15901" class="l"><a class="l" href="#15901">15901: </a>            <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$return</span>[<span class="php-num">0</span>][<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="15902" class="l"><a class="l" href="#15902">15902: </a>        }
</span><span id="15903" class="l"><a class="l" href="#15903">15903: </a>        <span class="php-keyword1">elseif</span> (<span class="php-var">$return</span> = <span class="php-var">$this</span>-&gt;get_source_tags(SIMPLEPIE_NAMESPACE_DC_10, <span class="php-quote">'description'</span>))
</span><span id="15904" class="l"><a class="l" href="#15904">15904: </a>        {
</span><span id="15905" class="l"><a class="l" href="#15905">15905: </a>            <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$return</span>[<span class="php-num">0</span>][<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="15906" class="l"><a class="l" href="#15906">15906: </a>        }
</span><span id="15907" class="l"><a class="l" href="#15907">15907: </a>        <span class="php-keyword1">elseif</span> (<span class="php-var">$return</span> = <span class="php-var">$this</span>-&gt;get_source_tags(SIMPLEPIE_NAMESPACE_ITUNES, <span class="php-quote">'summary'</span>))
</span><span id="15908" class="l"><a class="l" href="#15908">15908: </a>        {
</span><span id="15909" class="l"><a class="l" href="#15909">15909: </a>            <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$return</span>[<span class="php-num">0</span>][<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_HTML, <span class="php-var">$this</span>-&gt;get_base(<span class="php-var">$return</span>[<span class="php-num">0</span>]));
</span><span id="15910" class="l"><a class="l" href="#15910">15910: </a>        }
</span><span id="15911" class="l"><a class="l" href="#15911">15911: </a>        <span class="php-keyword1">elseif</span> (<span class="php-var">$return</span> = <span class="php-var">$this</span>-&gt;get_source_tags(SIMPLEPIE_NAMESPACE_ITUNES, <span class="php-quote">'subtitle'</span>))
</span><span id="15912" class="l"><a class="l" href="#15912">15912: </a>        {
</span><span id="15913" class="l"><a class="l" href="#15913">15913: </a>            <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$return</span>[<span class="php-num">0</span>][<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_HTML, <span class="php-var">$this</span>-&gt;get_base(<span class="php-var">$return</span>[<span class="php-num">0</span>]));
</span><span id="15914" class="l"><a class="l" href="#15914">15914: </a>        }
</span><span id="15915" class="l"><a class="l" href="#15915">15915: </a>        <span class="php-keyword1">else</span>
</span><span id="15916" class="l"><a class="l" href="#15916">15916: </a>        {
</span><span id="15917" class="l"><a class="l" href="#15917">15917: </a>            <span class="php-keyword1">return</span> <span class="php-keyword1">null</span>;
</span><span id="15918" class="l"><a class="l" href="#15918">15918: </a>        }
</span><span id="15919" class="l"><a class="l" href="#15919">15919: </a>    }
</span><span id="15920" class="l"><a class="l" href="#15920">15920: </a>
</span><span id="15921" class="l"><a class="l" href="#15921">15921: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_get_copyright" href="#_get_copyright">get_copyright</a>()
</span><span id="15922" class="l"><a class="l" href="#15922">15922: </a>    {
</span><span id="15923" class="l"><a class="l" href="#15923">15923: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$return</span> = <span class="php-var">$this</span>-&gt;get_source_tags(SIMPLEPIE_NAMESPACE_ATOM_10, <span class="php-quote">'rights'</span>))
</span><span id="15924" class="l"><a class="l" href="#15924">15924: </a>        {
</span><span id="15925" class="l"><a class="l" href="#15925">15925: </a>            <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$return</span>[<span class="php-num">0</span>][<span class="php-quote">'data'</span>], <span class="php-var">$this</span>-&gt;registry-&gt;call(<span class="php-quote">'Misc'</span>, <span class="php-quote">'atom_10_construct_type'</span>, <span class="php-keyword1">array</span>(<span class="php-var">$return</span>[<span class="php-num">0</span>][<span class="php-quote">'attribs'</span>])), <span class="php-var">$this</span>-&gt;get_base(<span class="php-var">$return</span>[<span class="php-num">0</span>]));
</span><span id="15926" class="l"><a class="l" href="#15926">15926: </a>        }
</span><span id="15927" class="l"><a class="l" href="#15927">15927: </a>        <span class="php-keyword1">elseif</span> (<span class="php-var">$return</span> = <span class="php-var">$this</span>-&gt;get_source_tags(SIMPLEPIE_NAMESPACE_ATOM_03, <span class="php-quote">'copyright'</span>))
</span><span id="15928" class="l"><a class="l" href="#15928">15928: </a>        {
</span><span id="15929" class="l"><a class="l" href="#15929">15929: </a>            <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$return</span>[<span class="php-num">0</span>][<span class="php-quote">'data'</span>], <span class="php-var">$this</span>-&gt;registry-&gt;call(<span class="php-quote">'Misc'</span>, <span class="php-quote">'atom_03_construct_type'</span>, <span class="php-keyword1">array</span>(<span class="php-var">$return</span>[<span class="php-num">0</span>][<span class="php-quote">'attribs'</span>])), <span class="php-var">$this</span>-&gt;get_base(<span class="php-var">$return</span>[<span class="php-num">0</span>]));
</span><span id="15930" class="l"><a class="l" href="#15930">15930: </a>        }
</span><span id="15931" class="l"><a class="l" href="#15931">15931: </a>        <span class="php-keyword1">elseif</span> (<span class="php-var">$return</span> = <span class="php-var">$this</span>-&gt;get_source_tags(SIMPLEPIE_NAMESPACE_RSS_20, <span class="php-quote">'copyright'</span>))
</span><span id="15932" class="l"><a class="l" href="#15932">15932: </a>        {
</span><span id="15933" class="l"><a class="l" href="#15933">15933: </a>            <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$return</span>[<span class="php-num">0</span>][<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="15934" class="l"><a class="l" href="#15934">15934: </a>        }
</span><span id="15935" class="l"><a class="l" href="#15935">15935: </a>        <span class="php-keyword1">elseif</span> (<span class="php-var">$return</span> = <span class="php-var">$this</span>-&gt;get_source_tags(SIMPLEPIE_NAMESPACE_DC_11, <span class="php-quote">'rights'</span>))
</span><span id="15936" class="l"><a class="l" href="#15936">15936: </a>        {
</span><span id="15937" class="l"><a class="l" href="#15937">15937: </a>            <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$return</span>[<span class="php-num">0</span>][<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="15938" class="l"><a class="l" href="#15938">15938: </a>        }
</span><span id="15939" class="l"><a class="l" href="#15939">15939: </a>        <span class="php-keyword1">elseif</span> (<span class="php-var">$return</span> = <span class="php-var">$this</span>-&gt;get_source_tags(SIMPLEPIE_NAMESPACE_DC_10, <span class="php-quote">'rights'</span>))
</span><span id="15940" class="l"><a class="l" href="#15940">15940: </a>        {
</span><span id="15941" class="l"><a class="l" href="#15941">15941: </a>            <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$return</span>[<span class="php-num">0</span>][<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="15942" class="l"><a class="l" href="#15942">15942: </a>        }
</span><span id="15943" class="l"><a class="l" href="#15943">15943: </a>        <span class="php-keyword1">else</span>
</span><span id="15944" class="l"><a class="l" href="#15944">15944: </a>        {
</span><span id="15945" class="l"><a class="l" href="#15945">15945: </a>            <span class="php-keyword1">return</span> <span class="php-keyword1">null</span>;
</span><span id="15946" class="l"><a class="l" href="#15946">15946: </a>        }
</span><span id="15947" class="l"><a class="l" href="#15947">15947: </a>    }
</span><span id="15948" class="l"><a class="l" href="#15948">15948: </a>
</span><span id="15949" class="l"><a class="l" href="#15949">15949: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_get_language" href="#_get_language">get_language</a>()
</span><span id="15950" class="l"><a class="l" href="#15950">15950: </a>    {
</span><span id="15951" class="l"><a class="l" href="#15951">15951: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$return</span> = <span class="php-var">$this</span>-&gt;get_source_tags(SIMPLEPIE_NAMESPACE_RSS_20, <span class="php-quote">'language'</span>))
</span><span id="15952" class="l"><a class="l" href="#15952">15952: </a>        {
</span><span id="15953" class="l"><a class="l" href="#15953">15953: </a>            <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$return</span>[<span class="php-num">0</span>][<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="15954" class="l"><a class="l" href="#15954">15954: </a>        }
</span><span id="15955" class="l"><a class="l" href="#15955">15955: </a>        <span class="php-keyword1">elseif</span> (<span class="php-var">$return</span> = <span class="php-var">$this</span>-&gt;get_source_tags(SIMPLEPIE_NAMESPACE_DC_11, <span class="php-quote">'language'</span>))
</span><span id="15956" class="l"><a class="l" href="#15956">15956: </a>        {
</span><span id="15957" class="l"><a class="l" href="#15957">15957: </a>            <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$return</span>[<span class="php-num">0</span>][<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="15958" class="l"><a class="l" href="#15958">15958: </a>        }
</span><span id="15959" class="l"><a class="l" href="#15959">15959: </a>        <span class="php-keyword1">elseif</span> (<span class="php-var">$return</span> = <span class="php-var">$this</span>-&gt;get_source_tags(SIMPLEPIE_NAMESPACE_DC_10, <span class="php-quote">'language'</span>))
</span><span id="15960" class="l"><a class="l" href="#15960">15960: </a>        {
</span><span id="15961" class="l"><a class="l" href="#15961">15961: </a>            <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$return</span>[<span class="php-num">0</span>][<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="15962" class="l"><a class="l" href="#15962">15962: </a>        }
</span><span id="15963" class="l"><a class="l" href="#15963">15963: </a>        <span class="php-keyword1">elseif</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$this</span>-&gt;data[<span class="php-quote">'xml_lang'</span>]))
</span><span id="15964" class="l"><a class="l" href="#15964">15964: </a>        {
</span><span id="15965" class="l"><a class="l" href="#15965">15965: </a>            <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$this</span>-&gt;data[<span class="php-quote">'xml_lang'</span>], SIMPLEPIE_CONSTRUCT_TEXT);
</span><span id="15966" class="l"><a class="l" href="#15966">15966: </a>        }
</span><span id="15967" class="l"><a class="l" href="#15967">15967: </a>        <span class="php-keyword1">else</span>
</span><span id="15968" class="l"><a class="l" href="#15968">15968: </a>        {
</span><span id="15969" class="l"><a class="l" href="#15969">15969: </a>            <span class="php-keyword1">return</span> <span class="php-keyword1">null</span>;
</span><span id="15970" class="l"><a class="l" href="#15970">15970: </a>        }
</span><span id="15971" class="l"><a class="l" href="#15971">15971: </a>    }
</span><span id="15972" class="l"><a class="l" href="#15972">15972: </a>
</span><span id="15973" class="l"><a class="l" href="#15973">15973: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_get_latitude" href="#_get_latitude">get_latitude</a>()
</span><span id="15974" class="l"><a class="l" href="#15974">15974: </a>    {
</span><span id="15975" class="l"><a class="l" href="#15975">15975: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$return</span> = <span class="php-var">$this</span>-&gt;get_source_tags(SIMPLEPIE_NAMESPACE_W3C_BASIC_GEO, <span class="php-quote">'lat'</span>))
</span><span id="15976" class="l"><a class="l" href="#15976">15976: </a>        {
</span><span id="15977" class="l"><a class="l" href="#15977">15977: </a>            <span class="php-keyword1">return</span> (float) <span class="php-var">$return</span>[<span class="php-num">0</span>][<span class="php-quote">'data'</span>];
</span><span id="15978" class="l"><a class="l" href="#15978">15978: </a>        }
</span><span id="15979" class="l"><a class="l" href="#15979">15979: </a>        <span class="php-keyword1">elseif</span> ((<span class="php-var">$return</span> = <span class="php-var">$this</span>-&gt;get_source_tags(SIMPLEPIE_NAMESPACE_GEORSS, <span class="php-quote">'point'</span>)) &amp;&amp; <span class="php-keyword2">preg_match</span>(<span class="php-quote">'/^((?:-)?[0-9]+(?:\.[0-9]+)) ((?:-)?[0-9]+(?:\.[0-9]+))$/'</span>, <span class="php-keyword2">trim</span>(<span class="php-var">$return</span>[<span class="php-num">0</span>][<span class="php-quote">'data'</span>]), <span class="php-var">$match</span>))
</span><span id="15980" class="l"><a class="l" href="#15980">15980: </a>        {
</span><span id="15981" class="l"><a class="l" href="#15981">15981: </a>            <span class="php-keyword1">return</span> (float) <span class="php-var">$match</span>[<span class="php-num">1</span>];
</span><span id="15982" class="l"><a class="l" href="#15982">15982: </a>        }
</span><span id="15983" class="l"><a class="l" href="#15983">15983: </a>        <span class="php-keyword1">else</span>
</span><span id="15984" class="l"><a class="l" href="#15984">15984: </a>        {
</span><span id="15985" class="l"><a class="l" href="#15985">15985: </a>            <span class="php-keyword1">return</span> <span class="php-keyword1">null</span>;
</span><span id="15986" class="l"><a class="l" href="#15986">15986: </a>        }
</span><span id="15987" class="l"><a class="l" href="#15987">15987: </a>    }
</span><span id="15988" class="l"><a class="l" href="#15988">15988: </a>
</span><span id="15989" class="l"><a class="l" href="#15989">15989: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_get_longitude" href="#_get_longitude">get_longitude</a>()
</span><span id="15990" class="l"><a class="l" href="#15990">15990: </a>    {
</span><span id="15991" class="l"><a class="l" href="#15991">15991: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$return</span> = <span class="php-var">$this</span>-&gt;get_source_tags(SIMPLEPIE_NAMESPACE_W3C_BASIC_GEO, <span class="php-quote">'long'</span>))
</span><span id="15992" class="l"><a class="l" href="#15992">15992: </a>        {
</span><span id="15993" class="l"><a class="l" href="#15993">15993: </a>            <span class="php-keyword1">return</span> (float) <span class="php-var">$return</span>[<span class="php-num">0</span>][<span class="php-quote">'data'</span>];
</span><span id="15994" class="l"><a class="l" href="#15994">15994: </a>        }
</span><span id="15995" class="l"><a class="l" href="#15995">15995: </a>        <span class="php-keyword1">elseif</span> (<span class="php-var">$return</span> = <span class="php-var">$this</span>-&gt;get_source_tags(SIMPLEPIE_NAMESPACE_W3C_BASIC_GEO, <span class="php-quote">'lon'</span>))
</span><span id="15996" class="l"><a class="l" href="#15996">15996: </a>        {
</span><span id="15997" class="l"><a class="l" href="#15997">15997: </a>            <span class="php-keyword1">return</span> (float) <span class="php-var">$return</span>[<span class="php-num">0</span>][<span class="php-quote">'data'</span>];
</span><span id="15998" class="l"><a class="l" href="#15998">15998: </a>        }
</span><span id="15999" class="l"><a class="l" href="#15999">15999: </a>        <span class="php-keyword1">elseif</span> ((<span class="php-var">$return</span> = <span class="php-var">$this</span>-&gt;get_source_tags(SIMPLEPIE_NAMESPACE_GEORSS, <span class="php-quote">'point'</span>)) &amp;&amp; <span class="php-keyword2">preg_match</span>(<span class="php-quote">'/^((?:-)?[0-9]+(?:\.[0-9]+)) ((?:-)?[0-9]+(?:\.[0-9]+))$/'</span>, <span class="php-keyword2">trim</span>(<span class="php-var">$return</span>[<span class="php-num">0</span>][<span class="php-quote">'data'</span>]), <span class="php-var">$match</span>))
</span><span id="16000" class="l"><a class="l" href="#16000">16000: </a>        {
</span><span id="16001" class="l"><a class="l" href="#16001">16001: </a>            <span class="php-keyword1">return</span> (float) <span class="php-var">$match</span>[<span class="php-num">2</span>];
</span><span id="16002" class="l"><a class="l" href="#16002">16002: </a>        }
</span><span id="16003" class="l"><a class="l" href="#16003">16003: </a>        <span class="php-keyword1">else</span>
</span><span id="16004" class="l"><a class="l" href="#16004">16004: </a>        {
</span><span id="16005" class="l"><a class="l" href="#16005">16005: </a>            <span class="php-keyword1">return</span> <span class="php-keyword1">null</span>;
</span><span id="16006" class="l"><a class="l" href="#16006">16006: </a>        }
</span><span id="16007" class="l"><a class="l" href="#16007">16007: </a>    }
</span><span id="16008" class="l"><a class="l" href="#16008">16008: </a>
</span><span id="16009" class="l"><a class="l" href="#16009">16009: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_get_image_url" href="#_get_image_url">get_image_url</a>()
</span><span id="16010" class="l"><a class="l" href="#16010">16010: </a>    {
</span><span id="16011" class="l"><a class="l" href="#16011">16011: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$return</span> = <span class="php-var">$this</span>-&gt;get_source_tags(SIMPLEPIE_NAMESPACE_ITUNES, <span class="php-quote">'image'</span>))
</span><span id="16012" class="l"><a class="l" href="#16012">16012: </a>        {
</span><span id="16013" class="l"><a class="l" href="#16013">16013: </a>            <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$return</span>[<span class="php-num">0</span>][<span class="php-quote">'attribs'</span>][<span class="php-quote">''</span>][<span class="php-quote">'href'</span>], SIMPLEPIE_CONSTRUCT_IRI);
</span><span id="16014" class="l"><a class="l" href="#16014">16014: </a>        }
</span><span id="16015" class="l"><a class="l" href="#16015">16015: </a>        <span class="php-keyword1">elseif</span> (<span class="php-var">$return</span> = <span class="php-var">$this</span>-&gt;get_source_tags(SIMPLEPIE_NAMESPACE_ATOM_10, <span class="php-quote">'logo'</span>))
</span><span id="16016" class="l"><a class="l" href="#16016">16016: </a>        {
</span><span id="16017" class="l"><a class="l" href="#16017">16017: </a>            <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$return</span>[<span class="php-num">0</span>][<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_IRI, <span class="php-var">$this</span>-&gt;get_base(<span class="php-var">$return</span>[<span class="php-num">0</span>]));
</span><span id="16018" class="l"><a class="l" href="#16018">16018: </a>        }
</span><span id="16019" class="l"><a class="l" href="#16019">16019: </a>        <span class="php-keyword1">elseif</span> (<span class="php-var">$return</span> = <span class="php-var">$this</span>-&gt;get_source_tags(SIMPLEPIE_NAMESPACE_ATOM_10, <span class="php-quote">'icon'</span>))
</span><span id="16020" class="l"><a class="l" href="#16020">16020: </a>        {
</span><span id="16021" class="l"><a class="l" href="#16021">16021: </a>            <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;sanitize(<span class="php-var">$return</span>[<span class="php-num">0</span>][<span class="php-quote">'data'</span>], SIMPLEPIE_CONSTRUCT_IRI, <span class="php-var">$this</span>-&gt;get_base(<span class="php-var">$return</span>[<span class="php-num">0</span>]));
</span><span id="16022" class="l"><a class="l" href="#16022">16022: </a>        }
</span><span id="16023" class="l"><a class="l" href="#16023">16023: </a>        <span class="php-keyword1">else</span>
</span><span id="16024" class="l"><a class="l" href="#16024">16024: </a>        {
</span><span id="16025" class="l"><a class="l" href="#16025">16025: </a>            <span class="php-keyword1">return</span> <span class="php-keyword1">null</span>;
</span><span id="16026" class="l"><a class="l" href="#16026">16026: </a>        }
</span><span id="16027" class="l"><a class="l" href="#16027">16027: </a>    }
</span><span id="16028" class="l"><a class="l" href="#16028">16028: </a>}
</span><span id="16029" class="l"><a class="l" href="#16029">16029: </a>
</span><span id="16030" class="l"><a class="l" href="#16030">16030: </a><span class="php-comment">/**
</span></span><span id="16031" class="l"><a class="l" href="#16031">16031: </a><span class="php-comment"> * Parses the XML Declaration
</span></span><span id="16032" class="l"><a class="l" href="#16032">16032: </a><span class="php-comment"> *
</span></span><span id="16033" class="l"><a class="l" href="#16033">16033: </a><span class="php-comment"> * @package SimplePie
</span></span><span id="16034" class="l"><a class="l" href="#16034">16034: </a><span class="php-comment"> */</span>
</span><span id="16035" class="l"><a class="l" href="#16035">16035: </a><span class="php-keyword1">class</span> <a id="SimplePie_XML_Declaration_Parser" href="#SimplePie_XML_Declaration_Parser">SimplePie_XML_Declaration_Parser</a>
</span><span id="16036" class="l"><a class="l" href="#16036">16036: </a>{
</span><span id="16037" class="l"><a class="l" href="#16037">16037: </a>    <span class="php-comment">/**
</span></span><span id="16038" class="l"><a class="l" href="#16038">16038: </a><span class="php-comment">     * XML Version
</span></span><span id="16039" class="l"><a class="l" href="#16039">16039: </a><span class="php-comment">     *
</span></span><span id="16040" class="l"><a class="l" href="#16040">16040: </a><span class="php-comment">     * @access public
</span></span><span id="16041" class="l"><a class="l" href="#16041">16041: </a><span class="php-comment">     * @var string
</span></span><span id="16042" class="l"><a class="l" href="#16042">16042: </a><span class="php-comment">     */</span>
</span><span id="16043" class="l"><a class="l" href="#16043">16043: </a>    <span class="php-keyword1">var</span> <span class="php-var"><a id="$version" href="#$version">$version</a></span> = <span class="php-quote">'1.0'</span>;
</span><span id="16044" class="l"><a class="l" href="#16044">16044: </a>
</span><span id="16045" class="l"><a class="l" href="#16045">16045: </a>    <span class="php-comment">/**
</span></span><span id="16046" class="l"><a class="l" href="#16046">16046: </a><span class="php-comment">     * Encoding
</span></span><span id="16047" class="l"><a class="l" href="#16047">16047: </a><span class="php-comment">     *
</span></span><span id="16048" class="l"><a class="l" href="#16048">16048: </a><span class="php-comment">     * @access public
</span></span><span id="16049" class="l"><a class="l" href="#16049">16049: </a><span class="php-comment">     * @var string
</span></span><span id="16050" class="l"><a class="l" href="#16050">16050: </a><span class="php-comment">     */</span>
</span><span id="16051" class="l"><a class="l" href="#16051">16051: </a>    <span class="php-keyword1">var</span> <span class="php-var"><a id="$encoding" href="#$encoding">$encoding</a></span> = <span class="php-quote">'UTF-8'</span>;
</span><span id="16052" class="l"><a class="l" href="#16052">16052: </a>
</span><span id="16053" class="l"><a class="l" href="#16053">16053: </a>    <span class="php-comment">/**
</span></span><span id="16054" class="l"><a class="l" href="#16054">16054: </a><span class="php-comment">     * Standalone
</span></span><span id="16055" class="l"><a class="l" href="#16055">16055: </a><span class="php-comment">     *
</span></span><span id="16056" class="l"><a class="l" href="#16056">16056: </a><span class="php-comment">     * @access public
</span></span><span id="16057" class="l"><a class="l" href="#16057">16057: </a><span class="php-comment">     * @var bool
</span></span><span id="16058" class="l"><a class="l" href="#16058">16058: </a><span class="php-comment">     */</span>
</span><span id="16059" class="l"><a class="l" href="#16059">16059: </a>    <span class="php-keyword1">var</span> <span class="php-var"><a id="$standalone" href="#$standalone">$standalone</a></span> = <span class="php-keyword1">false</span>;
</span><span id="16060" class="l"><a class="l" href="#16060">16060: </a>
</span><span id="16061" class="l"><a class="l" href="#16061">16061: </a>    <span class="php-comment">/**
</span></span><span id="16062" class="l"><a class="l" href="#16062">16062: </a><span class="php-comment">     * Current state of the state machine
</span></span><span id="16063" class="l"><a class="l" href="#16063">16063: </a><span class="php-comment">     *
</span></span><span id="16064" class="l"><a class="l" href="#16064">16064: </a><span class="php-comment">     * @access private
</span></span><span id="16065" class="l"><a class="l" href="#16065">16065: </a><span class="php-comment">     * @var string
</span></span><span id="16066" class="l"><a class="l" href="#16066">16066: </a><span class="php-comment">     */</span>
</span><span id="16067" class="l"><a class="l" href="#16067">16067: </a>    <span class="php-keyword1">var</span> <span class="php-var"><a id="$state" href="#$state">$state</a></span> = <span class="php-quote">'before_version_name'</span>;
</span><span id="16068" class="l"><a class="l" href="#16068">16068: </a>
</span><span id="16069" class="l"><a class="l" href="#16069">16069: </a>    <span class="php-comment">/**
</span></span><span id="16070" class="l"><a class="l" href="#16070">16070: </a><span class="php-comment">     * Input data
</span></span><span id="16071" class="l"><a class="l" href="#16071">16071: </a><span class="php-comment">     *
</span></span><span id="16072" class="l"><a class="l" href="#16072">16072: </a><span class="php-comment">     * @access private
</span></span><span id="16073" class="l"><a class="l" href="#16073">16073: </a><span class="php-comment">     * @var string
</span></span><span id="16074" class="l"><a class="l" href="#16074">16074: </a><span class="php-comment">     */</span>
</span><span id="16075" class="l"><a class="l" href="#16075">16075: </a>    <span class="php-keyword1">var</span> <span class="php-var"><a id="$data" href="#$data">$data</a></span> = <span class="php-quote">''</span>;
</span><span id="16076" class="l"><a class="l" href="#16076">16076: </a>
</span><span id="16077" class="l"><a class="l" href="#16077">16077: </a>    <span class="php-comment">/**
</span></span><span id="16078" class="l"><a class="l" href="#16078">16078: </a><span class="php-comment">     * Input data length (to avoid calling strlen() everytime this is needed)
</span></span><span id="16079" class="l"><a class="l" href="#16079">16079: </a><span class="php-comment">     *
</span></span><span id="16080" class="l"><a class="l" href="#16080">16080: </a><span class="php-comment">     * @access private
</span></span><span id="16081" class="l"><a class="l" href="#16081">16081: </a><span class="php-comment">     * @var int
</span></span><span id="16082" class="l"><a class="l" href="#16082">16082: </a><span class="php-comment">     */</span>
</span><span id="16083" class="l"><a class="l" href="#16083">16083: </a>    <span class="php-keyword1">var</span> <span class="php-var"><a id="$data_length" href="#$data_length">$data_length</a></span> = <span class="php-num">0</span>;
</span><span id="16084" class="l"><a class="l" href="#16084">16084: </a>
</span><span id="16085" class="l"><a class="l" href="#16085">16085: </a>    <span class="php-comment">/**
</span></span><span id="16086" class="l"><a class="l" href="#16086">16086: </a><span class="php-comment">     * Current position of the pointer
</span></span><span id="16087" class="l"><a class="l" href="#16087">16087: </a><span class="php-comment">     *
</span></span><span id="16088" class="l"><a class="l" href="#16088">16088: </a><span class="php-comment">     * @var int
</span></span><span id="16089" class="l"><a class="l" href="#16089">16089: </a><span class="php-comment">     * @access private
</span></span><span id="16090" class="l"><a class="l" href="#16090">16090: </a><span class="php-comment">     */</span>
</span><span id="16091" class="l"><a class="l" href="#16091">16091: </a>    <span class="php-keyword1">var</span> <span class="php-var"><a id="$position" href="#$position">$position</a></span> = <span class="php-num">0</span>;
</span><span id="16092" class="l"><a class="l" href="#16092">16092: </a>
</span><span id="16093" class="l"><a class="l" href="#16093">16093: </a>    <span class="php-comment">/**
</span></span><span id="16094" class="l"><a class="l" href="#16094">16094: </a><span class="php-comment">     * Create an instance of the class with the input data
</span></span><span id="16095" class="l"><a class="l" href="#16095">16095: </a><span class="php-comment">     *
</span></span><span id="16096" class="l"><a class="l" href="#16096">16096: </a><span class="php-comment">     * @access public
</span></span><span id="16097" class="l"><a class="l" href="#16097">16097: </a><span class="php-comment">     * @param string $data Input data
</span></span><span id="16098" class="l"><a class="l" href="#16098">16098: </a><span class="php-comment">     */</span>
</span><span id="16099" class="l"><a class="l" href="#16099">16099: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="___construct" href="#___construct">__construct</a>(<span class="php-var">$data</span>)
</span><span id="16100" class="l"><a class="l" href="#16100">16100: </a>    {
</span><span id="16101" class="l"><a class="l" href="#16101">16101: </a>        <span class="php-var">$this</span>-&gt;data = <span class="php-var">$data</span>;
</span><span id="16102" class="l"><a class="l" href="#16102">16102: </a>        <span class="php-var">$this</span>-&gt;data_length = <span class="php-keyword2">strlen</span>(<span class="php-var">$this</span>-&gt;data);
</span><span id="16103" class="l"><a class="l" href="#16103">16103: </a>    }
</span><span id="16104" class="l"><a class="l" href="#16104">16104: </a>
</span><span id="16105" class="l"><a class="l" href="#16105">16105: </a>    <span class="php-comment">/**
</span></span><span id="16106" class="l"><a class="l" href="#16106">16106: </a><span class="php-comment">     * Parse the input data
</span></span><span id="16107" class="l"><a class="l" href="#16107">16107: </a><span class="php-comment">     *
</span></span><span id="16108" class="l"><a class="l" href="#16108">16108: </a><span class="php-comment">     * @access public
</span></span><span id="16109" class="l"><a class="l" href="#16109">16109: </a><span class="php-comment">     * @return bool true on success, false on failure
</span></span><span id="16110" class="l"><a class="l" href="#16110">16110: </a><span class="php-comment">     */</span>
</span><span id="16111" class="l"><a class="l" href="#16111">16111: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_parse" href="#_parse">parse</a>()
</span><span id="16112" class="l"><a class="l" href="#16112">16112: </a>    {
</span><span id="16113" class="l"><a class="l" href="#16113">16113: </a>        <span class="php-keyword1">while</span> (<span class="php-var">$this</span>-&gt;state &amp;&amp; <span class="php-var">$this</span>-&gt;state !== <span class="php-quote">'emit'</span> &amp;&amp; <span class="php-var">$this</span>-&gt;has_data())
</span><span id="16114" class="l"><a class="l" href="#16114">16114: </a>        {
</span><span id="16115" class="l"><a class="l" href="#16115">16115: </a>            <span class="php-var">$state</span> = <span class="php-var">$this</span>-&gt;state;
</span><span id="16116" class="l"><a class="l" href="#16116">16116: </a>            <span class="php-var">$this</span>-&gt;<span class="php-var">$state</span>();
</span><span id="16117" class="l"><a class="l" href="#16117">16117: </a>        }
</span><span id="16118" class="l"><a class="l" href="#16118">16118: </a>        <span class="php-var">$this</span>-&gt;data = <span class="php-quote">''</span>;
</span><span id="16119" class="l"><a class="l" href="#16119">16119: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$this</span>-&gt;state === <span class="php-quote">'emit'</span>)
</span><span id="16120" class="l"><a class="l" href="#16120">16120: </a>        {
</span><span id="16121" class="l"><a class="l" href="#16121">16121: </a>            <span class="php-keyword1">return</span> <span class="php-keyword1">true</span>;
</span><span id="16122" class="l"><a class="l" href="#16122">16122: </a>        }
</span><span id="16123" class="l"><a class="l" href="#16123">16123: </a>        <span class="php-keyword1">else</span>
</span><span id="16124" class="l"><a class="l" href="#16124">16124: </a>        {
</span><span id="16125" class="l"><a class="l" href="#16125">16125: </a>            <span class="php-var">$this</span>-&gt;version = <span class="php-quote">''</span>;
</span><span id="16126" class="l"><a class="l" href="#16126">16126: </a>            <span class="php-var">$this</span>-&gt;encoding = <span class="php-quote">''</span>;
</span><span id="16127" class="l"><a class="l" href="#16127">16127: </a>            <span class="php-var">$this</span>-&gt;standalone = <span class="php-quote">''</span>;
</span><span id="16128" class="l"><a class="l" href="#16128">16128: </a>            <span class="php-keyword1">return</span> <span class="php-keyword1">false</span>;
</span><span id="16129" class="l"><a class="l" href="#16129">16129: </a>        }
</span><span id="16130" class="l"><a class="l" href="#16130">16130: </a>    }
</span><span id="16131" class="l"><a class="l" href="#16131">16131: </a>
</span><span id="16132" class="l"><a class="l" href="#16132">16132: </a>    <span class="php-comment">/**
</span></span><span id="16133" class="l"><a class="l" href="#16133">16133: </a><span class="php-comment">     * Check whether there is data beyond the pointer
</span></span><span id="16134" class="l"><a class="l" href="#16134">16134: </a><span class="php-comment">     *
</span></span><span id="16135" class="l"><a class="l" href="#16135">16135: </a><span class="php-comment">     * @access private
</span></span><span id="16136" class="l"><a class="l" href="#16136">16136: </a><span class="php-comment">     * @return bool true if there is further data, false if not
</span></span><span id="16137" class="l"><a class="l" href="#16137">16137: </a><span class="php-comment">     */</span>
</span><span id="16138" class="l"><a class="l" href="#16138">16138: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_has_data" href="#_has_data">has_data</a>()
</span><span id="16139" class="l"><a class="l" href="#16139">16139: </a>    {
</span><span id="16140" class="l"><a class="l" href="#16140">16140: </a>        <span class="php-keyword1">return</span> (bool) (<span class="php-var">$this</span>-&gt;position &lt; <span class="php-var">$this</span>-&gt;data_length);
</span><span id="16141" class="l"><a class="l" href="#16141">16141: </a>    }
</span><span id="16142" class="l"><a class="l" href="#16142">16142: </a>
</span><span id="16143" class="l"><a class="l" href="#16143">16143: </a>    <span class="php-comment">/**
</span></span><span id="16144" class="l"><a class="l" href="#16144">16144: </a><span class="php-comment">     * Advance past any whitespace
</span></span><span id="16145" class="l"><a class="l" href="#16145">16145: </a><span class="php-comment">     *
</span></span><span id="16146" class="l"><a class="l" href="#16146">16146: </a><span class="php-comment">     * @return int Number of whitespace characters passed
</span></span><span id="16147" class="l"><a class="l" href="#16147">16147: </a><span class="php-comment">     */</span>
</span><span id="16148" class="l"><a class="l" href="#16148">16148: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_skip_whitespace" href="#_skip_whitespace">skip_whitespace</a>()
</span><span id="16149" class="l"><a class="l" href="#16149">16149: </a>    {
</span><span id="16150" class="l"><a class="l" href="#16150">16150: </a>        <span class="php-var">$whitespace</span> = <span class="php-keyword2">strspn</span>(<span class="php-var">$this</span>-&gt;data, <span class="php-quote">&quot;\x09\x0A\x0D\x20&quot;</span>, <span class="php-var">$this</span>-&gt;position);
</span><span id="16151" class="l"><a class="l" href="#16151">16151: </a>        <span class="php-var">$this</span>-&gt;position += <span class="php-var">$whitespace</span>;
</span><span id="16152" class="l"><a class="l" href="#16152">16152: </a>        <span class="php-keyword1">return</span> <span class="php-var">$whitespace</span>;
</span><span id="16153" class="l"><a class="l" href="#16153">16153: </a>    }
</span><span id="16154" class="l"><a class="l" href="#16154">16154: </a>
</span><span id="16155" class="l"><a class="l" href="#16155">16155: </a>    <span class="php-comment">/**
</span></span><span id="16156" class="l"><a class="l" href="#16156">16156: </a><span class="php-comment">     * Read value
</span></span><span id="16157" class="l"><a class="l" href="#16157">16157: </a><span class="php-comment">     */</span>
</span><span id="16158" class="l"><a class="l" href="#16158">16158: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_get_value" href="#_get_value">get_value</a>()
</span><span id="16159" class="l"><a class="l" href="#16159">16159: </a>    {
</span><span id="16160" class="l"><a class="l" href="#16160">16160: </a>        <span class="php-var">$quote</span> = <span class="php-keyword2">substr</span>(<span class="php-var">$this</span>-&gt;data, <span class="php-var">$this</span>-&gt;position, <span class="php-num">1</span>);
</span><span id="16161" class="l"><a class="l" href="#16161">16161: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$quote</span> === <span class="php-quote">'&quot;'</span> || <span class="php-var">$quote</span> === <span class="php-quote">&quot;'&quot;</span>)
</span><span id="16162" class="l"><a class="l" href="#16162">16162: </a>        {
</span><span id="16163" class="l"><a class="l" href="#16163">16163: </a>            <span class="php-var">$this</span>-&gt;position++;
</span><span id="16164" class="l"><a class="l" href="#16164">16164: </a>            <span class="php-var">$len</span> = <span class="php-keyword2">strcspn</span>(<span class="php-var">$this</span>-&gt;data, <span class="php-var">$quote</span>, <span class="php-var">$this</span>-&gt;position);
</span><span id="16165" class="l"><a class="l" href="#16165">16165: </a>            <span class="php-keyword1">if</span> (<span class="php-var">$this</span>-&gt;has_data())
</span><span id="16166" class="l"><a class="l" href="#16166">16166: </a>            {
</span><span id="16167" class="l"><a class="l" href="#16167">16167: </a>                <span class="php-var">$value</span> = <span class="php-keyword2">substr</span>(<span class="php-var">$this</span>-&gt;data, <span class="php-var">$this</span>-&gt;position, <span class="php-var">$len</span>);
</span><span id="16168" class="l"><a class="l" href="#16168">16168: </a>                <span class="php-var">$this</span>-&gt;position += <span class="php-var">$len</span> + <span class="php-num">1</span>;
</span><span id="16169" class="l"><a class="l" href="#16169">16169: </a>                <span class="php-keyword1">return</span> <span class="php-var">$value</span>;
</span><span id="16170" class="l"><a class="l" href="#16170">16170: </a>            }
</span><span id="16171" class="l"><a class="l" href="#16171">16171: </a>        }
</span><span id="16172" class="l"><a class="l" href="#16172">16172: </a>        <span class="php-keyword1">return</span> <span class="php-keyword1">false</span>;
</span><span id="16173" class="l"><a class="l" href="#16173">16173: </a>    }
</span><span id="16174" class="l"><a class="l" href="#16174">16174: </a>
</span><span id="16175" class="l"><a class="l" href="#16175">16175: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_before_version_name" href="#_before_version_name">before_version_name</a>()
</span><span id="16176" class="l"><a class="l" href="#16176">16176: </a>    {
</span><span id="16177" class="l"><a class="l" href="#16177">16177: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$this</span>-&gt;skip_whitespace())
</span><span id="16178" class="l"><a class="l" href="#16178">16178: </a>        {
</span><span id="16179" class="l"><a class="l" href="#16179">16179: </a>            <span class="php-var">$this</span>-&gt;state = <span class="php-quote">'version_name'</span>;
</span><span id="16180" class="l"><a class="l" href="#16180">16180: </a>        }
</span><span id="16181" class="l"><a class="l" href="#16181">16181: </a>        <span class="php-keyword1">else</span>
</span><span id="16182" class="l"><a class="l" href="#16182">16182: </a>        {
</span><span id="16183" class="l"><a class="l" href="#16183">16183: </a>            <span class="php-var">$this</span>-&gt;state = <span class="php-keyword1">false</span>;
</span><span id="16184" class="l"><a class="l" href="#16184">16184: </a>        }
</span><span id="16185" class="l"><a class="l" href="#16185">16185: </a>    }
</span><span id="16186" class="l"><a class="l" href="#16186">16186: </a>
</span><span id="16187" class="l"><a class="l" href="#16187">16187: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_version_name" href="#_version_name">version_name</a>()
</span><span id="16188" class="l"><a class="l" href="#16188">16188: </a>    {
</span><span id="16189" class="l"><a class="l" href="#16189">16189: </a>        <span class="php-keyword1">if</span> (<span class="php-keyword2">substr</span>(<span class="php-var">$this</span>-&gt;data, <span class="php-var">$this</span>-&gt;position, <span class="php-num">7</span>) === <span class="php-quote">'version'</span>)
</span><span id="16190" class="l"><a class="l" href="#16190">16190: </a>        {
</span><span id="16191" class="l"><a class="l" href="#16191">16191: </a>            <span class="php-var">$this</span>-&gt;position += <span class="php-num">7</span>;
</span><span id="16192" class="l"><a class="l" href="#16192">16192: </a>            <span class="php-var">$this</span>-&gt;skip_whitespace();
</span><span id="16193" class="l"><a class="l" href="#16193">16193: </a>            <span class="php-var">$this</span>-&gt;state = <span class="php-quote">'version_equals'</span>;
</span><span id="16194" class="l"><a class="l" href="#16194">16194: </a>        }
</span><span id="16195" class="l"><a class="l" href="#16195">16195: </a>        <span class="php-keyword1">else</span>
</span><span id="16196" class="l"><a class="l" href="#16196">16196: </a>        {
</span><span id="16197" class="l"><a class="l" href="#16197">16197: </a>            <span class="php-var">$this</span>-&gt;state = <span class="php-keyword1">false</span>;
</span><span id="16198" class="l"><a class="l" href="#16198">16198: </a>        }
</span><span id="16199" class="l"><a class="l" href="#16199">16199: </a>    }
</span><span id="16200" class="l"><a class="l" href="#16200">16200: </a>
</span><span id="16201" class="l"><a class="l" href="#16201">16201: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_version_equals" href="#_version_equals">version_equals</a>()
</span><span id="16202" class="l"><a class="l" href="#16202">16202: </a>    {
</span><span id="16203" class="l"><a class="l" href="#16203">16203: </a>        <span class="php-keyword1">if</span> (<span class="php-keyword2">substr</span>(<span class="php-var">$this</span>-&gt;data, <span class="php-var">$this</span>-&gt;position, <span class="php-num">1</span>) === <span class="php-quote">'='</span>)
</span><span id="16204" class="l"><a class="l" href="#16204">16204: </a>        {
</span><span id="16205" class="l"><a class="l" href="#16205">16205: </a>            <span class="php-var">$this</span>-&gt;position++;
</span><span id="16206" class="l"><a class="l" href="#16206">16206: </a>            <span class="php-var">$this</span>-&gt;skip_whitespace();
</span><span id="16207" class="l"><a class="l" href="#16207">16207: </a>            <span class="php-var">$this</span>-&gt;state = <span class="php-quote">'version_value'</span>;
</span><span id="16208" class="l"><a class="l" href="#16208">16208: </a>        }
</span><span id="16209" class="l"><a class="l" href="#16209">16209: </a>        <span class="php-keyword1">else</span>
</span><span id="16210" class="l"><a class="l" href="#16210">16210: </a>        {
</span><span id="16211" class="l"><a class="l" href="#16211">16211: </a>            <span class="php-var">$this</span>-&gt;state = <span class="php-keyword1">false</span>;
</span><span id="16212" class="l"><a class="l" href="#16212">16212: </a>        }
</span><span id="16213" class="l"><a class="l" href="#16213">16213: </a>    }
</span><span id="16214" class="l"><a class="l" href="#16214">16214: </a>
</span><span id="16215" class="l"><a class="l" href="#16215">16215: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_version_value" href="#_version_value">version_value</a>()
</span><span id="16216" class="l"><a class="l" href="#16216">16216: </a>    {
</span><span id="16217" class="l"><a class="l" href="#16217">16217: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$this</span>-&gt;version = <span class="php-var">$this</span>-&gt;get_value())
</span><span id="16218" class="l"><a class="l" href="#16218">16218: </a>        {
</span><span id="16219" class="l"><a class="l" href="#16219">16219: </a>            <span class="php-var">$this</span>-&gt;skip_whitespace();
</span><span id="16220" class="l"><a class="l" href="#16220">16220: </a>            <span class="php-keyword1">if</span> (<span class="php-var">$this</span>-&gt;has_data())
</span><span id="16221" class="l"><a class="l" href="#16221">16221: </a>            {
</span><span id="16222" class="l"><a class="l" href="#16222">16222: </a>                <span class="php-var">$this</span>-&gt;state = <span class="php-quote">'encoding_name'</span>;
</span><span id="16223" class="l"><a class="l" href="#16223">16223: </a>            }
</span><span id="16224" class="l"><a class="l" href="#16224">16224: </a>            <span class="php-keyword1">else</span>
</span><span id="16225" class="l"><a class="l" href="#16225">16225: </a>            {
</span><span id="16226" class="l"><a class="l" href="#16226">16226: </a>                <span class="php-var">$this</span>-&gt;state = <span class="php-quote">'emit'</span>;
</span><span id="16227" class="l"><a class="l" href="#16227">16227: </a>            }
</span><span id="16228" class="l"><a class="l" href="#16228">16228: </a>        }
</span><span id="16229" class="l"><a class="l" href="#16229">16229: </a>        <span class="php-keyword1">else</span>
</span><span id="16230" class="l"><a class="l" href="#16230">16230: </a>        {
</span><span id="16231" class="l"><a class="l" href="#16231">16231: </a>            <span class="php-var">$this</span>-&gt;state = <span class="php-keyword1">false</span>;
</span><span id="16232" class="l"><a class="l" href="#16232">16232: </a>        }
</span><span id="16233" class="l"><a class="l" href="#16233">16233: </a>    }
</span><span id="16234" class="l"><a class="l" href="#16234">16234: </a>
</span><span id="16235" class="l"><a class="l" href="#16235">16235: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_encoding_name" href="#_encoding_name">encoding_name</a>()
</span><span id="16236" class="l"><a class="l" href="#16236">16236: </a>    {
</span><span id="16237" class="l"><a class="l" href="#16237">16237: </a>        <span class="php-keyword1">if</span> (<span class="php-keyword2">substr</span>(<span class="php-var">$this</span>-&gt;data, <span class="php-var">$this</span>-&gt;position, <span class="php-num">8</span>) === <span class="php-quote">'encoding'</span>)
</span><span id="16238" class="l"><a class="l" href="#16238">16238: </a>        {
</span><span id="16239" class="l"><a class="l" href="#16239">16239: </a>            <span class="php-var">$this</span>-&gt;position += <span class="php-num">8</span>;
</span><span id="16240" class="l"><a class="l" href="#16240">16240: </a>            <span class="php-var">$this</span>-&gt;skip_whitespace();
</span><span id="16241" class="l"><a class="l" href="#16241">16241: </a>            <span class="php-var">$this</span>-&gt;state = <span class="php-quote">'encoding_equals'</span>;
</span><span id="16242" class="l"><a class="l" href="#16242">16242: </a>        }
</span><span id="16243" class="l"><a class="l" href="#16243">16243: </a>        <span class="php-keyword1">else</span>
</span><span id="16244" class="l"><a class="l" href="#16244">16244: </a>        {
</span><span id="16245" class="l"><a class="l" href="#16245">16245: </a>            <span class="php-var">$this</span>-&gt;state = <span class="php-quote">'standalone_name'</span>;
</span><span id="16246" class="l"><a class="l" href="#16246">16246: </a>        }
</span><span id="16247" class="l"><a class="l" href="#16247">16247: </a>    }
</span><span id="16248" class="l"><a class="l" href="#16248">16248: </a>
</span><span id="16249" class="l"><a class="l" href="#16249">16249: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_encoding_equals" href="#_encoding_equals">encoding_equals</a>()
</span><span id="16250" class="l"><a class="l" href="#16250">16250: </a>    {
</span><span id="16251" class="l"><a class="l" href="#16251">16251: </a>        <span class="php-keyword1">if</span> (<span class="php-keyword2">substr</span>(<span class="php-var">$this</span>-&gt;data, <span class="php-var">$this</span>-&gt;position, <span class="php-num">1</span>) === <span class="php-quote">'='</span>)
</span><span id="16252" class="l"><a class="l" href="#16252">16252: </a>        {
</span><span id="16253" class="l"><a class="l" href="#16253">16253: </a>            <span class="php-var">$this</span>-&gt;position++;
</span><span id="16254" class="l"><a class="l" href="#16254">16254: </a>            <span class="php-var">$this</span>-&gt;skip_whitespace();
</span><span id="16255" class="l"><a class="l" href="#16255">16255: </a>            <span class="php-var">$this</span>-&gt;state = <span class="php-quote">'encoding_value'</span>;
</span><span id="16256" class="l"><a class="l" href="#16256">16256: </a>        }
</span><span id="16257" class="l"><a class="l" href="#16257">16257: </a>        <span class="php-keyword1">else</span>
</span><span id="16258" class="l"><a class="l" href="#16258">16258: </a>        {
</span><span id="16259" class="l"><a class="l" href="#16259">16259: </a>            <span class="php-var">$this</span>-&gt;state = <span class="php-keyword1">false</span>;
</span><span id="16260" class="l"><a class="l" href="#16260">16260: </a>        }
</span><span id="16261" class="l"><a class="l" href="#16261">16261: </a>    }
</span><span id="16262" class="l"><a class="l" href="#16262">16262: </a>
</span><span id="16263" class="l"><a class="l" href="#16263">16263: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_encoding_value" href="#_encoding_value">encoding_value</a>()
</span><span id="16264" class="l"><a class="l" href="#16264">16264: </a>    {
</span><span id="16265" class="l"><a class="l" href="#16265">16265: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$this</span>-&gt;encoding = <span class="php-var">$this</span>-&gt;get_value())
</span><span id="16266" class="l"><a class="l" href="#16266">16266: </a>        {
</span><span id="16267" class="l"><a class="l" href="#16267">16267: </a>            <span class="php-var">$this</span>-&gt;skip_whitespace();
</span><span id="16268" class="l"><a class="l" href="#16268">16268: </a>            <span class="php-keyword1">if</span> (<span class="php-var">$this</span>-&gt;has_data())
</span><span id="16269" class="l"><a class="l" href="#16269">16269: </a>            {
</span><span id="16270" class="l"><a class="l" href="#16270">16270: </a>                <span class="php-var">$this</span>-&gt;state = <span class="php-quote">'standalone_name'</span>;
</span><span id="16271" class="l"><a class="l" href="#16271">16271: </a>            }
</span><span id="16272" class="l"><a class="l" href="#16272">16272: </a>            <span class="php-keyword1">else</span>
</span><span id="16273" class="l"><a class="l" href="#16273">16273: </a>            {
</span><span id="16274" class="l"><a class="l" href="#16274">16274: </a>                <span class="php-var">$this</span>-&gt;state = <span class="php-quote">'emit'</span>;
</span><span id="16275" class="l"><a class="l" href="#16275">16275: </a>            }
</span><span id="16276" class="l"><a class="l" href="#16276">16276: </a>        }
</span><span id="16277" class="l"><a class="l" href="#16277">16277: </a>        <span class="php-keyword1">else</span>
</span><span id="16278" class="l"><a class="l" href="#16278">16278: </a>        {
</span><span id="16279" class="l"><a class="l" href="#16279">16279: </a>            <span class="php-var">$this</span>-&gt;state = <span class="php-keyword1">false</span>;
</span><span id="16280" class="l"><a class="l" href="#16280">16280: </a>        }
</span><span id="16281" class="l"><a class="l" href="#16281">16281: </a>    }
</span><span id="16282" class="l"><a class="l" href="#16282">16282: </a>
</span><span id="16283" class="l"><a class="l" href="#16283">16283: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_standalone_name" href="#_standalone_name">standalone_name</a>()
</span><span id="16284" class="l"><a class="l" href="#16284">16284: </a>    {
</span><span id="16285" class="l"><a class="l" href="#16285">16285: </a>        <span class="php-keyword1">if</span> (<span class="php-keyword2">substr</span>(<span class="php-var">$this</span>-&gt;data, <span class="php-var">$this</span>-&gt;position, <span class="php-num">10</span>) === <span class="php-quote">'standalone'</span>)
</span><span id="16286" class="l"><a class="l" href="#16286">16286: </a>        {
</span><span id="16287" class="l"><a class="l" href="#16287">16287: </a>            <span class="php-var">$this</span>-&gt;position += <span class="php-num">10</span>;
</span><span id="16288" class="l"><a class="l" href="#16288">16288: </a>            <span class="php-var">$this</span>-&gt;skip_whitespace();
</span><span id="16289" class="l"><a class="l" href="#16289">16289: </a>            <span class="php-var">$this</span>-&gt;state = <span class="php-quote">'standalone_equals'</span>;
</span><span id="16290" class="l"><a class="l" href="#16290">16290: </a>        }
</span><span id="16291" class="l"><a class="l" href="#16291">16291: </a>        <span class="php-keyword1">else</span>
</span><span id="16292" class="l"><a class="l" href="#16292">16292: </a>        {
</span><span id="16293" class="l"><a class="l" href="#16293">16293: </a>            <span class="php-var">$this</span>-&gt;state = <span class="php-keyword1">false</span>;
</span><span id="16294" class="l"><a class="l" href="#16294">16294: </a>        }
</span><span id="16295" class="l"><a class="l" href="#16295">16295: </a>    }
</span><span id="16296" class="l"><a class="l" href="#16296">16296: </a>
</span><span id="16297" class="l"><a class="l" href="#16297">16297: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_standalone_equals" href="#_standalone_equals">standalone_equals</a>()
</span><span id="16298" class="l"><a class="l" href="#16298">16298: </a>    {
</span><span id="16299" class="l"><a class="l" href="#16299">16299: </a>        <span class="php-keyword1">if</span> (<span class="php-keyword2">substr</span>(<span class="php-var">$this</span>-&gt;data, <span class="php-var">$this</span>-&gt;position, <span class="php-num">1</span>) === <span class="php-quote">'='</span>)
</span><span id="16300" class="l"><a class="l" href="#16300">16300: </a>        {
</span><span id="16301" class="l"><a class="l" href="#16301">16301: </a>            <span class="php-var">$this</span>-&gt;position++;
</span><span id="16302" class="l"><a class="l" href="#16302">16302: </a>            <span class="php-var">$this</span>-&gt;skip_whitespace();
</span><span id="16303" class="l"><a class="l" href="#16303">16303: </a>            <span class="php-var">$this</span>-&gt;state = <span class="php-quote">'standalone_value'</span>;
</span><span id="16304" class="l"><a class="l" href="#16304">16304: </a>        }
</span><span id="16305" class="l"><a class="l" href="#16305">16305: </a>        <span class="php-keyword1">else</span>
</span><span id="16306" class="l"><a class="l" href="#16306">16306: </a>        {
</span><span id="16307" class="l"><a class="l" href="#16307">16307: </a>            <span class="php-var">$this</span>-&gt;state = <span class="php-keyword1">false</span>;
</span><span id="16308" class="l"><a class="l" href="#16308">16308: </a>        }
</span><span id="16309" class="l"><a class="l" href="#16309">16309: </a>    }
</span><span id="16310" class="l"><a class="l" href="#16310">16310: </a>
</span><span id="16311" class="l"><a class="l" href="#16311">16311: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_standalone_value" href="#_standalone_value">standalone_value</a>()
</span><span id="16312" class="l"><a class="l" href="#16312">16312: </a>    {
</span><span id="16313" class="l"><a class="l" href="#16313">16313: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$standalone</span> = <span class="php-var">$this</span>-&gt;get_value())
</span><span id="16314" class="l"><a class="l" href="#16314">16314: </a>        {
</span><span id="16315" class="l"><a class="l" href="#16315">16315: </a>            <span class="php-keyword1">switch</span> (<span class="php-var">$standalone</span>)
</span><span id="16316" class="l"><a class="l" href="#16316">16316: </a>            {
</span><span id="16317" class="l"><a class="l" href="#16317">16317: </a>                <span class="php-keyword1">case</span> <span class="php-quote">'yes'</span>:
</span><span id="16318" class="l"><a class="l" href="#16318">16318: </a>                    <span class="php-var">$this</span>-&gt;standalone = <span class="php-keyword1">true</span>;
</span><span id="16319" class="l"><a class="l" href="#16319">16319: </a>                    <span class="php-keyword1">break</span>;
</span><span id="16320" class="l"><a class="l" href="#16320">16320: </a>
</span><span id="16321" class="l"><a class="l" href="#16321">16321: </a>                <span class="php-keyword1">case</span> <span class="php-quote">'no'</span>:
</span><span id="16322" class="l"><a class="l" href="#16322">16322: </a>                    <span class="php-var">$this</span>-&gt;standalone = <span class="php-keyword1">false</span>;
</span><span id="16323" class="l"><a class="l" href="#16323">16323: </a>                    <span class="php-keyword1">break</span>;
</span><span id="16324" class="l"><a class="l" href="#16324">16324: </a>
</span><span id="16325" class="l"><a class="l" href="#16325">16325: </a>                <span class="php-keyword1">default</span>:
</span><span id="16326" class="l"><a class="l" href="#16326">16326: </a>                    <span class="php-var">$this</span>-&gt;state = <span class="php-keyword1">false</span>;
</span><span id="16327" class="l"><a class="l" href="#16327">16327: </a>                    <span class="php-keyword1">return</span>;
</span><span id="16328" class="l"><a class="l" href="#16328">16328: </a>            }
</span><span id="16329" class="l"><a class="l" href="#16329">16329: </a>
</span><span id="16330" class="l"><a class="l" href="#16330">16330: </a>            <span class="php-var">$this</span>-&gt;skip_whitespace();
</span><span id="16331" class="l"><a class="l" href="#16331">16331: </a>            <span class="php-keyword1">if</span> (<span class="php-var">$this</span>-&gt;has_data())
</span><span id="16332" class="l"><a class="l" href="#16332">16332: </a>            {
</span><span id="16333" class="l"><a class="l" href="#16333">16333: </a>                <span class="php-var">$this</span>-&gt;state = <span class="php-keyword1">false</span>;
</span><span id="16334" class="l"><a class="l" href="#16334">16334: </a>            }
</span><span id="16335" class="l"><a class="l" href="#16335">16335: </a>            <span class="php-keyword1">else</span>
</span><span id="16336" class="l"><a class="l" href="#16336">16336: </a>            {
</span><span id="16337" class="l"><a class="l" href="#16337">16337: </a>                <span class="php-var">$this</span>-&gt;state = <span class="php-quote">'emit'</span>;
</span><span id="16338" class="l"><a class="l" href="#16338">16338: </a>            }
</span><span id="16339" class="l"><a class="l" href="#16339">16339: </a>        }
</span><span id="16340" class="l"><a class="l" href="#16340">16340: </a>        <span class="php-keyword1">else</span>
</span><span id="16341" class="l"><a class="l" href="#16341">16341: </a>        {
</span><span id="16342" class="l"><a class="l" href="#16342">16342: </a>            <span class="php-var">$this</span>-&gt;state = <span class="php-keyword1">false</span>;
</span><span id="16343" class="l"><a class="l" href="#16343">16343: </a>        }
</span><span id="16344" class="l"><a class="l" href="#16344">16344: </a>    }
</span><span id="16345" class="l"><a class="l" href="#16345">16345: </a>}
</span><span id="16346" class="l"><a class="l" href="#16346">16346: </a>
</span><span id="16347" class="l"><a class="l" href="#16347">16347: </a></span></code></pre>

	<div id="footer">
		Native5 Client SDK API documentation generated by <a href="http://apigen.org">ApiGen 2.8.0</a>
	</div>
</div>
</div>
</body>
</html>
